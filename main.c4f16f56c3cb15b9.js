(self.webpackChunkKeep_Notes=self.webpackChunkKeep_Notes||[]).push([[179],{385:(bi,Xo,F_)=>{bi=F_.nmd(bi),function(Vt){const Ns=Vt.en=Vt.en||{};Ns.dictionary=Object.assign(Ns.dictionary||{},{"%0 of %1":"%0 of %1",Accept:"Accept","Align cell text to the bottom":"Align cell text to the bottom","Align cell text to the center":"Align cell text to the center","Align cell text to the left":"Align cell text to the left","Align cell text to the middle":"Align cell text to the middle","Align cell text to the right":"Align cell text to the right","Align cell text to the top":"Align cell text to the top","Align center":"Align center","Align left":"Align left","Align right":"Align right","Align table to the left":"Align table to the left","Align table to the right":"Align table to the right",Alignment:"Alignment",Aquamarine:"Aquamarine",Background:"Background",Big:"Big",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold",Border:"Border","Break text":"Break text","Bulleted List":"Bulleted List","Bulleted list styles toolbar":"Bulleted list styles toolbar",Cancel:"Cancel","Cannot access default workspace.":"Cannot access default workspace.","Cannot determine a category for the uploaded file.":"Cannot determine a category for the uploaded file.","Cannot upload file:":"Cannot upload file:","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Cell properties":"Cell properties","Center table":"Center table","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Circle:"Circle",Clear:"Clear","Click to edit block":"Click to edit block",Code:"Code",Color:"Color","Color picker":"Color picker",Column:"Column","Could not insert image at the current position.":"Could not insert image at the current position.","Could not obtain resized image URL.":"Could not obtain resized image URL.",Dashed:"Dashed",Decimal:"Decimal","Decimal with leading zero":"Decimal with leading zero","Decrease indent":"Decrease indent",Default:"Default","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey",Dimensions:"Dimensions",Disc:"Disc","Document colors":"Document colors",Dotted:"Dotted",Double:"Double",Downloadable:"Downloadable","Drag to move":"Drag to move","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit link":"Edit link","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor editing area: %0":"Editor editing area: %0","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Enter table caption":"Enter table caption","Font Background Color":"Font Background Color","Font Color":"Font Color","Font Family":"Font Family","Font Size":"Font Size","Full size image":"Full size image",Green:"Green",Grey:"Grey",Groove:"Groove","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6",Height:"Height",HEX:"HEX","Horizontal text alignment toolbar":"Horizontal text alignment toolbar",Huge:"Huge","Image resize list":"Image resize list","Image toolbar":"Image toolbar","image widget":"image widget","In line":"In line","Increase indent":"Increase indent",Insert:"Insert","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert image or file":"Insert image or file","Insert image via URL":"Insert image via URL","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table","Inserting image failed":"Inserting image failed",Inset:"Inset",Italic:"Italic",Justify:"Justify","Justify cell text":"Justify cell text","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link image":"Link image","Link URL":"Link URL","List properties":"List properties","Lower-latin":"Lower-latin","Lower\u2013roman":"Lower\u2013roman","Media toolbar":"Media toolbar","Media URL":"Media URL","media widget":"media widget","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells",Next:"Next","No results found":"No results found","No searchable items":"No searchable items",None:"None","Numbered List":"Numbered List","Numbered list styles toolbar":"Numbered list styles toolbar","Open file manager":"Open file manager","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","Open media in new tab":"Open media in new tab",Orange:"Orange",Original:"Original",Outset:"Outset",Padding:"Padding",Paragraph:"Paragraph","Paste the media URL in the input.":"Paste the media URL in the input.","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous",Purple:"Purple",Red:"Red",Redo:"Redo","Remove color":"Remove color","Resize image":"Resize image","Resize image to %0":"Resize image to %0","Resize image to the original size":"Resize image to the original size","Restore default":"Restore default","Reversed order":"Reversed order","Rich Text Editor":"Rich Text Editor","Rich Text Editor. Editing area: %0":"Rich Text Editor. Editing area: %0",Ridge:"Ridge","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Selecting resized image failed":"Selecting resized image failed","Show more items":"Show more items","Side image":"Side image",Small:"Small",Solid:"Solid","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically",Square:"Square","Start at":"Start at","Start index must be greater than 0.":"Start index must be greater than 0.",Strikethrough:"Strikethrough",Style:"Style",Subscript:"Subscript",Superscript:"Superscript","Table alignment toolbar":"Table alignment toolbar","Table cell text alignment":"Table cell text alignment","Table properties":"Table properties","Table toolbar":"Table toolbar","Text alignment":"Text alignment","Text alignment toolbar":"Text alignment toolbar","Text alternative":"Text alternative",'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".':'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".',"The URL must not be empty.":"The URL must not be empty.",'The value is invalid. Try "10px" or "2em" or simply "2".':'The value is invalid. Try "10px" or "2em" or simply "2".',"This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.",Tiny:"Tiny","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","To-do List":"To-do List","Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on","Toggle the circle list style":"Toggle the circle list style","Toggle the decimal list style":"Toggle the decimal list style","Toggle the decimal with leading zero list style":"Toggle the decimal with leading zero list style","Toggle the disc list style":"Toggle the disc list style","Toggle the lower\u2013latin list style":"Toggle the lower\u2013latin list style","Toggle the lower\u2013roman list style":"Toggle the lower\u2013roman list style","Toggle the square list style":"Toggle the square list style","Toggle the upper\u2013latin list style":"Toggle the upper\u2013latin list style","Toggle the upper\u2013roman list style":"Toggle the upper\u2013roman list style",Turquoise:"Turquoise","Type or paste your content here.":"Type or paste your content here.","Type your title":"Type your title",Underline:"Underline",Undo:"Undo",Unlink:"Unlink",Update:"Update","Update image URL":"Update image URL","Upload failed":"Upload failed","Upload in progress":"Upload in progress","Upper-latin":"Upper-latin","Upper-roman":"Upper-roman","Vertical text alignment toolbar":"Vertical text alignment toolbar",White:"White","Widget toolbar":"Widget toolbar",Width:"Width","Wrap text":"Wrap text",Yellow:"Yellow"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),self,bi.exports=(()=>{var Vt={4959:(G,W,T)=>{const F=T(1103),q={};for(const S of Object.keys(F))q[F[S]]=S;const L={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};G.exports=L;for(const S of Object.keys(L)){if(!("channels"in L[S]))throw new Error("missing channels property: "+S);if(!("labels"in L[S]))throw new Error("missing channel labels property: "+S);if(L[S].labels.length!==L[S].channels)throw new Error("channel and label counts mismatch: "+S);const{channels:R,labels:$}=L[S];delete L[S].channels,delete L[S].labels,Object.defineProperty(L[S],"channels",{value:R}),Object.defineProperty(L[S],"labels",{value:$})}L.rgb.hsl=function(S){const R=S[0]/255,$=S[1]/255,Q=S[2]/255,K=Math.min(R,$,Q),re=Math.max(R,$,Q),ce=re-K;let ye,We;re===K?ye=0:R===re?ye=($-Q)/ce:$===re?ye=2+(Q-R)/ce:Q===re&&(ye=4+(R-$)/ce),ye=Math.min(60*ye,360),ye<0&&(ye+=360);const vt=(K+re)/2;return We=re===K?0:vt<=.5?ce/(re+K):ce/(2-re-K),[ye,100*We,100*vt]},L.rgb.hsv=function(S){let R,$,Q,K,re;const ce=S[0]/255,ye=S[1]/255,We=S[2]/255,vt=Math.max(ce,ye,We),V=vt-Math.min(ce,ye,We),ke=function(ut){return(vt-ut)/6/V+.5};return 0===V?(K=0,re=0):(re=V/vt,R=ke(ce),$=ke(ye),Q=ke(We),ce===vt?K=Q-$:ye===vt?K=.3333333333333333+R-Q:We===vt&&(K=.6666666666666666+$-R),K<0?K+=1:K>1&&(K-=1)),[360*K,100*re,100*vt]},L.rgb.hwb=function(S){const R=S[0],$=S[1];let Q=S[2];const K=L.rgb.hsl(S)[0],re=1/255*Math.min(R,Math.min($,Q));return Q=1-.00392156862745098*Math.max(R,Math.max($,Q)),[K,100*re,100*Q]},L.rgb.cmyk=function(S){const R=S[0]/255,$=S[1]/255,Q=S[2]/255,K=Math.min(1-R,1-$,1-Q);return[100*((1-R-K)/(1-K)||0),100*((1-$-K)/(1-K)||0),100*((1-Q-K)/(1-K)||0),100*K]},L.rgb.keyword=function(S){const R=q[S];if(R)return R;let $,Q=1/0;for(const ce of Object.keys(F)){const We=((K=S)[0]-(re=F[ce])[0])**2+(K[1]-re[1])**2+(K[2]-re[2])**2;We<Q&&(Q=We,$=ce)}var K,re;return $},L.keyword.rgb=function(S){return F[S]},L.rgb.xyz=function(S){let R=S[0]/255,$=S[1]/255,Q=S[2]/255;return R=R>.04045?((R+.055)/1.055)**2.4:R/12.92,$=$>.04045?(($+.055)/1.055)**2.4:$/12.92,Q=Q>.04045?((Q+.055)/1.055)**2.4:Q/12.92,[100*(.4124*R+.3576*$+.1805*Q),100*(.2126*R+.7152*$+.0722*Q),100*(.0193*R+.1192*$+.9505*Q)]},L.rgb.lab=function(S){const R=L.rgb.xyz(S);let $=R[0],Q=R[1],K=R[2];return $/=95.047,Q/=100,K/=108.883,$=$>.008856?$**.3333333333333333:7.787*$+.13793103448275862,Q=Q>.008856?Q**.3333333333333333:7.787*Q+.13793103448275862,K=K>.008856?K**.3333333333333333:7.787*K+.13793103448275862,[116*Q-16,500*($-Q),200*(Q-K)]},L.hsl.rgb=function(S){const R=S[0]/360,$=S[1]/100,Q=S[2]/100;let K,re,ce;if(0===$)return ce=255*Q,[ce,ce,ce];K=Q<.5?Q*(1+$):Q+$-Q*$;const ye=2*Q-K,We=[0,0,0];for(let vt=0;vt<3;vt++)re=R+.3333333333333333*-(vt-1),re<0&&re++,re>1&&re--,ce=6*re<1?ye+6*(K-ye)*re:2*re<1?K:3*re<2?ye+(K-ye)*(.6666666666666666-re)*6:ye,We[vt]=255*ce;return We},L.hsl.hsv=function(S){const R=S[0];let $=S[1]/100,Q=S[2]/100,K=$;const re=Math.max(Q,.01);return Q*=2,$*=Q<=1?Q:2-Q,K*=re<=1?re:2-re,[R,100*(0===Q?2*K/(re+K):2*$/(Q+$)),(Q+$)/2*100]},L.hsv.rgb=function(S){const R=S[0]/60,$=S[1]/100;let Q=S[2]/100;const K=Math.floor(R)%6,re=R-Math.floor(R),ce=255*Q*(1-$),ye=255*Q*(1-$*re),We=255*Q*(1-$*(1-re));switch(Q*=255,K){case 0:return[Q,We,ce];case 1:return[ye,Q,ce];case 2:return[ce,Q,We];case 3:return[ce,ye,Q];case 4:return[We,ce,Q];case 5:return[Q,ce,ye]}},L.hsv.hsl=function(S){const R=S[0],$=S[1]/100,Q=S[2]/100,K=Math.max(Q,.01);let re,ce;ce=(2-$)*Q;const ye=(2-$)*K;return re=$*K,re/=ye<=1?ye:2-ye,re=re||0,ce/=2,[R,100*re,100*ce]},L.hwb.rgb=function(S){const R=S[0]/360;let $=S[1]/100,Q=S[2]/100;const K=$+Q;let re;K>1&&($/=K,Q/=K);const ce=Math.floor(6*R),ye=1-Q;re=6*R-ce,1&ce&&(re=1-re);const We=$+re*(ye-$);let vt,V,ke;switch(ce){default:case 6:case 0:vt=ye,V=We,ke=$;break;case 1:vt=We,V=ye,ke=$;break;case 2:vt=$,V=ye,ke=We;break;case 3:vt=$,V=We,ke=ye;break;case 4:vt=We,V=$,ke=ye;break;case 5:vt=ye,V=$,ke=We}return[255*vt,255*V,255*ke]},L.cmyk.rgb=function(S){const $=S[1]/100,Q=S[2]/100,K=S[3]/100;return[255*(1-Math.min(1,S[0]/100*(1-K)+K)),255*(1-Math.min(1,$*(1-K)+K)),255*(1-Math.min(1,Q*(1-K)+K))]},L.xyz.rgb=function(S){const R=S[0]/100,$=S[1]/100,Q=S[2]/100;let K,re,ce;return K=3.2406*R+-1.5372*$+-.4986*Q,re=-.9689*R+1.8758*$+.0415*Q,ce=.0557*R+-.204*$+1.057*Q,K=K>.0031308?1.055*K**.4166666666666667-.055:12.92*K,re=re>.0031308?1.055*re**.4166666666666667-.055:12.92*re,ce=ce>.0031308?1.055*ce**.4166666666666667-.055:12.92*ce,K=Math.min(Math.max(0,K),1),re=Math.min(Math.max(0,re),1),ce=Math.min(Math.max(0,ce),1),[255*K,255*re,255*ce]},L.xyz.lab=function(S){let R=S[0],$=S[1],Q=S[2];return R/=95.047,$/=100,Q/=108.883,R=R>.008856?R**.3333333333333333:7.787*R+.13793103448275862,$=$>.008856?$**.3333333333333333:7.787*$+.13793103448275862,Q=Q>.008856?Q**.3333333333333333:7.787*Q+.13793103448275862,[116*$-16,500*(R-$),200*($-Q)]},L.lab.xyz=function(S){let R,$,Q;$=(S[0]+16)/116,R=S[1]/500+$,Q=$-S[2]/200;const K=$**3,re=R**3,ce=Q**3;return $=K>.008856?K:($-.13793103448275862)/7.787,R=re>.008856?re:(R-.13793103448275862)/7.787,Q=ce>.008856?ce:(Q-.13793103448275862)/7.787,R*=95.047,$*=100,Q*=108.883,[R,$,Q]},L.lab.lch=function(S){const R=S[0],$=S[1],Q=S[2];let K;return K=360*Math.atan2(Q,$)/2/Math.PI,K<0&&(K+=360),[R,Math.sqrt($*$+Q*Q),K]},L.lch.lab=function(S){const $=S[1],Q=S[2]/360*2*Math.PI;return[S[0],$*Math.cos(Q),$*Math.sin(Q)]},L.rgb.ansi16=function(S,R=null){const[$,Q,K]=S;let re=null===R?L.rgb.hsv(S)[2]:R;if(re=Math.round(re/50),0===re)return 30;let ce=30+(Math.round(K/255)<<2|Math.round(Q/255)<<1|Math.round($/255));return 2===re&&(ce+=60),ce},L.hsv.ansi16=function(S){return L.rgb.ansi16(L.hsv.rgb(S),S[2])},L.rgb.ansi256=function(S){const R=S[0],$=S[1],Q=S[2];return R===$&&$===Q?R<8?16:R>248?231:Math.round((R-8)/247*24)+232:16+36*Math.round(R/255*5)+6*Math.round($/255*5)+Math.round(Q/255*5)},L.ansi16.rgb=function(S){let R=S%10;if(0===R||7===R)return S>50&&(R+=3.5),R=R/10.5*255,[R,R,R];const $=.5*(1+~~(S>50));return[(1&R)*$*255,(R>>1&1)*$*255,(R>>2&1)*$*255]},L.ansi256.rgb=function(S){if(S>=232){const $=10*(S-232)+8;return[$,$,$]}let R;return S-=16,[Math.floor(S/36)/5*255,Math.floor((R=S%36)/6)/5*255,R%6/5*255]},L.rgb.hex=function(S){const R=(((255&Math.round(S[0]))<<16)+((255&Math.round(S[1]))<<8)+(255&Math.round(S[2]))).toString(16).toUpperCase();return"000000".substring(R.length)+R},L.hex.rgb=function(S){const R=S.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!R)return[0,0,0];let $=R[0];3===R[0].length&&($=$.split("").map(K=>K+K).join(""));const Q=parseInt($,16);return[Q>>16&255,Q>>8&255,255&Q]},L.rgb.hcg=function(S){const R=S[0]/255,$=S[1]/255,Q=S[2]/255,K=Math.max(Math.max(R,$),Q),re=Math.min(Math.min(R,$),Q),ce=K-re;let ye,We;return ye=ce<1?re/(1-ce):0,We=ce<=0?0:K===R?($-Q)/ce%6:K===$?2+(Q-R)/ce:4+(R-$)/ce,We/=6,We%=1,[360*We,100*ce,100*ye]},L.hsl.hcg=function(S){const R=S[1]/100,$=S[2]/100,Q=$<.5?2*R*$:2*R*(1-$);let K=0;return Q<1&&(K=($-.5*Q)/(1-Q)),[S[0],100*Q,100*K]},L.hsv.hcg=function(S){const $=S[2]/100,Q=S[1]/100*$;let K=0;return Q<1&&(K=($-Q)/(1-Q)),[S[0],100*Q,100*K]},L.hcg.rgb=function(S){const $=S[1]/100,Q=S[2]/100;if(0===$)return[255*Q,255*Q,255*Q];const K=[0,0,0],re=S[0]/360%1*6,ce=re%1,ye=1-ce;let We=0;switch(Math.floor(re)){case 0:K[0]=1,K[1]=ce,K[2]=0;break;case 1:K[0]=ye,K[1]=1,K[2]=0;break;case 2:K[0]=0,K[1]=1,K[2]=ce;break;case 3:K[0]=0,K[1]=ye,K[2]=1;break;case 4:K[0]=ce,K[1]=0,K[2]=1;break;default:K[0]=1,K[1]=0,K[2]=ye}return We=(1-$)*Q,[255*($*K[0]+We),255*($*K[1]+We),255*($*K[2]+We)]},L.hcg.hsv=function(S){const R=S[1]/100,$=R+S[2]/100*(1-R);let Q=0;return $>0&&(Q=R/$),[S[0],100*Q,100*$]},L.hcg.hsl=function(S){const R=S[1]/100,$=S[2]/100*(1-R)+.5*R;let Q=0;return $>0&&$<.5?Q=R/(2*$):$>=.5&&$<1&&(Q=R/(2*(1-$))),[S[0],100*Q,100*$]},L.hcg.hwb=function(S){const R=S[1]/100,$=R+S[2]/100*(1-R);return[S[0],100*($-R),100*(1-$)]},L.hwb.hcg=function(S){const $=1-S[2]/100,Q=$-S[1]/100;let K=0;return Q<1&&(K=($-Q)/(1-Q)),[S[0],100*Q,100*K]},L.apple.rgb=function(S){return[S[0]/65535*255,S[1]/65535*255,S[2]/65535*255]},L.rgb.apple=function(S){return[S[0]/255*65535,S[1]/255*65535,S[2]/255*65535]},L.gray.rgb=function(S){return[S[0]/100*255,S[0]/100*255,S[0]/100*255]},L.gray.hsl=function(S){return[0,0,S[0]]},L.gray.hsv=L.gray.hsl,L.gray.hwb=function(S){return[0,100,S[0]]},L.gray.cmyk=function(S){return[0,0,0,S[0]]},L.gray.lab=function(S){return[S[0],0,0]},L.gray.hex=function(S){const R=255&Math.round(S[0]/100*255),$=((R<<16)+(R<<8)+R).toString(16).toUpperCase();return"000000".substring($.length)+$},L.rgb.gray=function(S){return[(S[0]+S[1]+S[2])/3/255*100]}},841:(G,W,T)=>{const F=T(4959),q=T(9325),L={};Object.keys(F).forEach(S=>{L[S]={},Object.defineProperty(L[S],"channels",{value:F[S].channels}),Object.defineProperty(L[S],"labels",{value:F[S].labels});const R=q(S);Object.keys(R).forEach($=>{const Q=R[$];L[S][$]=function(K){const re=function(...ce){const ye=ce[0];if(null==ye)return ye;ye.length>1&&(ce=ye);const We=K(ce);if("object"==typeof We)for(let vt=We.length,V=0;V<vt;V++)We[V]=Math.round(We[V]);return We};return"conversion"in K&&(re.conversion=K.conversion),re}(Q),L[S][$].raw=function(K){const re=function(...ce){const ye=ce[0];return null==ye?ye:(ye.length>1&&(ce=ye),K(ce))};return"conversion"in K&&(re.conversion=K.conversion),re}(Q)})}),G.exports=L},9325:(G,W,T)=>{const F=T(4959);function L(R,$){return function(Q){return $(R(Q))}}function S(R,$){const Q=[$[R].parent,R];let K=F[$[R].parent][R],re=$[R].parent;for(;$[re].parent;)Q.unshift($[re].parent),K=L(F[$[re].parent][re],K),re=$[re].parent;return K.conversion=Q,K}G.exports=function(R){const $=function q(R){const $=function(){const K={},re=Object.keys(F);for(let ce=re.length,ye=0;ye<ce;ye++)K[re[ye]]={distance:-1,parent:null};return K}(),Q=[R];for($[R].distance=0;Q.length;){const K=Q.pop(),re=Object.keys(F[K]);for(let ce=re.length,ye=0;ye<ce;ye++){const We=re[ye],vt=$[We];-1===vt.distance&&(vt.distance=$[K].distance+1,vt.parent=K,Q.unshift(We))}}return $}(R),Q={},K=Object.keys($);for(let re=K.length,ce=0;ce<re;ce++){const ye=K[ce];null!==$[ye].parent&&(Q[ye]=S(ye,$))}return Q}},1103:G=>{"use strict";G.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},8603:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-basic-styles/theme/code.css"],names:[],mappings:"AAKA,iBACC,kCAAuC,CAEvC,iBAAkB,CADlB,aAED,CAEA,0CACC,kCACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content code {\n\tbackground-color: hsla(0, 0%, 78%, 0.3);\n\tpadding: .15em;\n\tborder-radius: 2px;\n}\n\n.ck.ck-editor__editable .ck-code_selected  {\n\tbackground-color: hsla(0, 0%, 78%, 0.5);\n}\n"],sourceRoot:""}]);const R=S},3062:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./../ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content blockquote {\n\t/* See #12 */\n\toverflow: hidden;\n\n\t/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */\n\tpadding-right: 1.5em;\n\tpadding-left: 1.5em;\n\n\tmargin-left: 0;\n\tmargin-right: 0;\n\tfont-style: italic;\n\tborder-left: solid 5px hsl(0, 0%, 80%);\n}\n\n.ck-content[dir="rtl"] blockquote {\n\tborder-left: 0;\n\tborder-right: solid 5px hsl(0, 0%, 80%);\n}\n'],sourceRoot:""}]);const R=S},903:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}.ck.ck-clipboard-drop-target-line{pointer-events:none;position:absolute}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}.ck.ck-clipboard-drop-target-line{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);height:0;margin-top:-1px}.ck.ck-clipboard-drop-target-line:before{border-style:solid;content:"";height:0;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-width)*-.5);width:0}[dir=ltr] .ck.ck-clipboard-drop-target-line:before{border-color:transparent transparent transparent var(--ck-clipboard-drop-target-color);border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height);left:-1px}[dir=rtl] .ck.ck-clipboard-drop-target-line:before{border-color:transparent var(--ck-clipboard-drop-target-color) transparent transparent;border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0;right:-1px}',"",{version:3,sources:["webpack://./../ckeditor5-clipboard/theme/clipboard.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names:[],mappings:"AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CAIF,kCAEC,mBAAoB,CADpB,iBAED,CC9BA,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CAOF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD,CAGD,kCAGC,gDAAiD,CADjD,sDAAuD,CADvD,QAAS,CAGT,eAwBD,CAtBC,yCAMC,kBAAmB,CALnB,UAAW,CAIX,QAAS,CAHT,iBAAkB,CAClB,uDAA0D,CAC1D,OAiBD,CArBA,mDAYE,sFAAuF,CADvF,+JAAoK,CAFpK,SAYF,CArBA,mDAmBE,sFAAuF,CADvF,+JAAmK,CAFnK,UAKF",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor__editable {\n\t/*\n\t * Vertical drop target (in text).\n\t */\n\t& .ck.ck-clipboard-drop-target-position {\n\t\tdisplay: inline;\n\t\tposition: relative;\n\t\tpointer-events: none;\n\n\t\t& span {\n\t\t\tposition: absolute;\n\t\t\twidth: 0;\n\t\t}\n\t}\n\n\t/*\n\t * Styles of the widget being dragged (its preview).\n\t */\n\t& .ck-widget:-webkit-drag {\n\t\t& > .ck-widget__selection-handle {\n\t\t\tdisplay: none;\n\t\t}\n\n\t\t& > .ck-widget__type-around {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n\n.ck.ck-clipboard-drop-target-line {\n\tposition: absolute;\n\tpointer-events: none;\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import \"@ckeditor/ckeditor5-ui/theme/mixins/_dir.css\";\n\n:root {\n\t--ck-clipboard-drop-target-dot-width: 12px;\n\t--ck-clipboard-drop-target-dot-height: 8px;\n\t--ck-clipboard-drop-target-color: var(--ck-color-focus-border);\n}\n\n.ck.ck-editor__editable {\n\t/*\n\t * Vertical drop target (in text).\n\t */\n\t& .ck.ck-clipboard-drop-target-position {\n\t\t& span {\n\t\t\tbottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));\n\t\t\ttop: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));\n\t\t\tborder: 1px solid var(--ck-clipboard-drop-target-color);\n\t\t\tbackground: var(--ck-clipboard-drop-target-color);\n\t\t\tmargin-left: -1px;\n\n\t\t\t/* The triangle above the marker */\n\t\t\t&::after {\n\t\t\t\tcontent: '';\n\t\t\t\twidth: 0;\n\t\t\t\theight: 0;\n\n\t\t\t\tdisplay: block;\n\t\t\t\tposition: absolute;\n\t\t\t\tleft: 50%;\n\t\t\t\ttop: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));\n\n\t\t\t\ttransform: translateX(-50%);\n\t\t\t\tborder-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;\n\t\t\t\tborder-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));\n\t\t\t\tborder-style: solid;\n\t\t\t}\n\t\t}\n\t}\n\n\t/*\n\t * Styles of the widget that it a drop target.\n\t */\n\t& .ck-widget.ck-clipboard-drop-target-range {\n\t\toutline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;\n\t}\n\n\t/*\n\t * Styles of the widget being dragged (its preview).\n\t */\n\t& .ck-widget:-webkit-drag {\n\t\tzoom: 0.6;\n\t\toutline: none !important;\n\t}\n}\n\n.ck.ck-clipboard-drop-target-line {\n\theight: 0;\n\tborder: 1px solid var(--ck-clipboard-drop-target-color);\n\tbackground: var(--ck-clipboard-drop-target-color);\n\tmargin-top: -1px;\n\n\t&::before {\n\t\tcontent: '';\n\t\tposition: absolute;\n\t\ttop: calc(-.5 * var(--ck-clipboard-drop-target-dot-width));\n\t\twidth: 0;\n\t\theight: 0;\n\t\tborder-style: solid;\n\n\t\t@mixin ck-dir ltr {\n\t\t\tleft: -1px;\n\n\t\t\tborder-width: calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height);\n\t\t\tborder-color: transparent transparent transparent var(--ck-clipboard-drop-target-color);\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tright: -1px;\n\n\t\t\tborder-width:calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0;\n\t\t\tborder-color: transparent var(--ck-clipboard-drop-target-color) transparent transparent;\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const R=S},4717:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text);cursor:text}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/placeholder.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC5BC,qDAEC,6CAA8C,CAD9C,WAED",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* See ckeditor/ckeditor5#936. */\n.ck.ck-placeholder,\n.ck .ck-placeholder {\n\tposition: relative;\n\n\t&::before {\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tcontent: attr(data-placeholder);\n\n\t\t/* See ckeditor/ckeditor5#469. */\n\t\tpointer-events: none;\n\t}\n}\n\n/* See ckeditor/ckeditor5#1987. */\n.ck.ck-read-only .ck-placeholder {\n\t&::before {\n\t\tdisplay: none;\n\t}\n}\n\n/*\n * Rules for the `ck-placeholder` are loaded before the rules for `ck-reset_all` in the base CKEditor 5 DLL build.\n * This fix overwrites the incorrectly set `position: static` from `ck-reset_all`.\n * See https://github.com/ckeditor/ckeditor5/issues/11418.\n */\n.ck.ck-reset_all .ck-placeholder {\n\tposition: relative;\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* See ckeditor/ckeditor5#936. */\n.ck.ck-placeholder, .ck .ck-placeholder {\n\t&::before {\n\t\tcursor: text;\n\t\tcolor: var(--ck-color-engine-placeholder-text);\n\t}\n}\n"],sourceRoot:""}]);const R=S},9315:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* Elements marked by the Renderer as hidden should be invisible in the editor. */\n.ck.ck-editor__editable span[data-ck-unsafe-element] {\n\tdisplay: none;\n}\n"],sourceRoot:""}]);const R=S},6007:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,".ck-content .text-tiny{font-size:.7em}.ck-content .text-small{font-size:.85em}.ck-content .text-big{font-size:1.4em}.ck-content .text-huge{font-size:1.8em}","",{version:3,sources:["webpack://./../ckeditor5-font/theme/fontsize.css"],names:[],mappings:"AAUC,uBACC,cACD,CAEA,wBACC,eACD,CAEA,sBACC,eACD,CAEA,uBACC,eACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* The values should be synchronized with the "FONT_SIZE_PRESET_UNITS" object in the "/src/fontsize/utils.js" file. */\n\n/* Styles should be prefixed with the `.ck-content` class.\nSee https://github.com/ckeditor/ckeditor5/issues/6636 */\n.ck-content {\n\t& .text-tiny {\n\t\tfont-size: .7em;\n\t}\n\n\t& .text-small {\n\t\tfont-size: .85em;\n\t}\n\n\t& .text-big {\n\t\tfont-size: 1.4em;\n\t}\n\n\t& .text-huge {\n\t\tfont-size: 1.8em;\n\t}\n}\n'],sourceRoot:""}]);const R=S},8733:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./../ckeditor5-heading/theme/heading.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-heading_heading1 {\n\tfont-size: 20px;\n}\n\n.ck.ck-heading_heading2 {\n\tfont-size: 17px;\n}\n\n.ck.ck-heading_heading3 {\n\tfont-size: 14px;\n}\n\n.ck[class*="ck-heading_heading"] {\n\tfont-weight: bold;\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* Resize dropdown's button label. */\n.ck.ck-dropdown.ck-heading-dropdown {\n\t& .ck-dropdown__button .ck-button__label {\n\t\twidth: 8em;\n\t}\n\n\t& .ck-dropdown__panel .ck-list__item {\n\t\tmin-width: 18em;\n\t}\n}\n"],sourceRoot:""}]);const R=S},3508:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;height:auto;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image{z-index:1}.ck.ck-editor__editable .image.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable .image-inline img{height:auto}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/image.css"],names:[],mappings:"AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBA2BD,CAjBC,uBAEC,aAAc,CAad,WAAY,CAVZ,aAAc,CAGd,cAAe,CAGf,cAKD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAKA,+BACC,SASD,CAHC,kDACC,SACD,CAMD,sCACC,SAkBD,CAZC,yDACC,SAUD,CAHC,qEACC,YACD,CAMF,0CACC,WACD,CAMC,0FACC,cACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content {\n\t& .image {\n\t\tdisplay: table;\n\t\tclear: both;\n\t\ttext-align: center;\n\n\t\t/* Make sure there is some space between the content and the image. Center image by default. */\n\t\t/* The first value should be equal to --ck-spacing-large variable if used in the editor context\n\t \tto avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */\n\t\tmargin: 0.9em auto;\n\n\t\t/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */\n\t\tmin-width: 50px;\n\n\t\t& img {\n\t\t\t/* Prevent unnecessary margins caused by line-height (see #44). */\n\t\t\tdisplay: block;\n\n\t\t\t/* Center the image if its width is smaller than the content\'s width. */\n\t\t\tmargin: 0 auto;\n\n\t\t\t/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */\n\t\t\tmax-width: 100%;\n\n\t\t\t/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */\n\t\t\tmin-width: 100%;\n\n\t\t\t/* Keep proportions of the block image if the height is set and the image is wider than the editor width.\n\t\t\tSee https://github.com/ckeditor/ckeditor5/issues/14542. */\n\t\t\theight: auto;\n\t\t}\n\t}\n\n\t& .image-inline {\n\t\t/*\n\t\t * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).\n\t\t * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.\n\t\t * This strange behavior does not happen with inline-flex.\n\t\t */\n\t\tdisplay: inline-flex;\n\n\t\t/* While being resized, don\'t allow the image to exceed the width of the editing root. */\n\t\tmax-width: 100%;\n\n\t\t/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */\n\t\talign-items: flex-start;\n\n\t\t/* When the picture is present it must act as a flex container to let the img resize properly */\n\t\t& picture {\n\t\t\tdisplay: flex;\n\t\t}\n\n\t\t/* When the picture is present, it must act like a resizable img. */\n\t\t& picture,\n\t\t& img {\n\t\t\t/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */\n\t\t\tflex-grow: 1;\n\t\t\tflex-shrink: 1;\n\n\t\t\t/* Prevents overflowing the editing root boundaries when an inline image is very wide. */\n\t\t\tmax-width: 100%;\n\t\t}\n\t}\n}\n\n.ck.ck-editor__editable {\n\t/*\n\t * Inhertit the content styles padding of the <figcaption> in case the integration overrides `text-align: center`\n\t * of `.image` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native\n\t * caret does, and not at the edge of <figcaption>.\n\t */\n\t& .image > figcaption.ck-placeholder::before {\n\t\tpadding-left: inherit;\n\t\tpadding-right: inherit;\n\n\t\t/*\n\t\t * Make sure the image caption placeholder doesn\'t overflow the placeholder area.\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/9162.\n\t\t */\n\t\twhite-space: nowrap;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t}\n\n\t/*\n\t * See https://github.com/ckeditor/ckeditor5/issues/15115.\n\t */\n\t& .image {\n\t\tz-index: 1;\n\n\t\t/*\n\t\t * Make sure the selected image always stays on top of its siblings.\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/9108.\n\t\t */\n\t\t&.ck-widget_selected {\n\t\t\tz-index: 2;\n\t\t}\n\t}\n\n\t/*\n\t * See https://github.com/ckeditor/ckeditor5/issues/15115.\n\t */\n\t& .image-inline {\n\t\tz-index: 1;\n\n\t\t/*\n\t\t * Make sure the selected inline image always stays on top of its siblings.\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/9108.\n\t\t */\n\t\t&.ck-widget_selected {\n\t\t\tz-index: 2;\n\n\t\t\t/*\n\t\t\t * Make sure the native browser selection style is not displayed.\n\t\t\t * Inline image widgets have their own styles for the selected state and\n\t\t\t * leaving this up to the browser is asking for a visual collision.\n\t\t\t */\n\t\t\t& ::selection {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t}\n\t}\n\n\t/* Keep proportions of the inline image if the height is set and the image is wider than the editor width.\n\tSee https://github.com/ckeditor/ckeditor5/issues/14542. */\n\t& .image-inline img {\n\t\theight: auto;\n\t}\n\n\t/* The inline image nested in the table should have its original size if not resized.\n\tSee https://github.com/ckeditor/ckeditor5/issues/9117. */\n\t& td,\n\t& th {\n\t\t& .image-inline img {\n\t\t\tmax-width: none;\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const R=S},2640:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highligted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highligted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecaption.css"],names:[],mappings:"AAKA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,mDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAMD,CAGA,qEACC,iDACD,CAEA,sCACC,GACC,oEACD,CAEA,GACC,yDACD,CACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-image-caption-background: hsl(0, 0%, 97%);\n\t--ck-color-image-caption-text: hsl(0, 0%, 20%);\n\t--ck-color-image-caption-highligted-background: hsl(52deg 100% 50%);\n}\n\n/* Content styles */\n.ck-content .image > figcaption {\n\tdisplay: table-caption;\n\tcaption-side: bottom;\n\tword-break: break-word;\n\tcolor: var(--ck-color-image-caption-text);\n\tbackground-color: var(--ck-color-image-caption-background);\n\tpadding: .6em;\n\tfont-size: .75em;\n\toutline-offset: -1px;\n}\n\n/* Editing styles */\n.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {\n\tanimation: ck-image-caption-highlight .6s ease-out;\n}\n\n@keyframes ck-image-caption-highlight {\n\t0% {\n\t\tbackground-color: var(--ck-color-image-caption-highligted-background);\n\t}\n\n\t100% {\n\t\tbackground-color: var(--ck-color-image-caption-background);\n\t}\n}\n"],sourceRoot:""}]);const R=S},3535:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,".ck.ck-image-insert__panel{padding:var(--ck-spacing-large)}.ck.ck-image-insert__ck-finder-button{border:1px solid #ccc;border-radius:var(--ck-border-radius);display:block;margin:var(--ck-spacing-standard) auto;width:100%}.ck.ck-splitbutton>.ck-file-dialog-button.ck-button{border:none;margin:0;padding:0}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageinsert.css"],names:[],mappings:"AAKA,2BACC,+BACD,CAEA,sCAIC,qBAAiC,CACjC,qCAAsC,CAJtC,aAAc,CAEd,sCAAuC,CADvC,UAID,CAGA,oDAGC,WAAY,CADZ,QAAS,CADT,SAGD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-image-insert__panel {\n\tpadding: var(--ck-spacing-large);\n}\n\n.ck.ck-image-insert__ck-finder-button {\n\tdisplay: block;\n\twidth: 100%;\n\tmargin: var(--ck-spacing-standard) auto;\n\tborder: 1px solid hsl(0, 0%, 80%);\n\tborder-radius: var(--ck-border-radius);\n}\n\n/* https://github.com/ckeditor/ckeditor5/issues/7986 */\n.ck.ck-splitbutton > .ck-file-dialog-button.ck-button {\n\tpadding: 0;\n\tmargin: 0;\n\tborder: none;\n}\n"],sourceRoot:""}]);const R=S},1568:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,".ck.ck-image-insert-form:focus{outline:none}.ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-image-insert-form__action-row{margin-top:var(--ck-spacing-standard)}.ck.ck-form__row.ck-image-insert-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-image-insert-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row.ck-image-insert-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageinsertformrowview.css"],names:[],mappings:"AAMC,+BAEC,YACD,CAGD,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAmBD,CAhBC,iCACC,WACD,CAEA,kDACC,qCAUD,CARC,sIAEC,sBACD,CAEA,+EACC,0BACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-image-insert-form {\n\t&:focus {\n\t\t/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */\n\t\toutline: none;\n\t}\n}\n\n.ck.ck-form__row {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\tjustify-content: space-between;\n\n\t/* Ignore labels that work as fieldset legends */\n\t& > *:not(.ck-label) {\n\t\tflex-grow: 1;\n\t}\n\n\t&.ck-image-insert-form__action-row {\n\t\tmargin-top: var(--ck-spacing-standard);\n\n\t\t& .ck-button-save,\n\t\t& .ck-button-cancel {\n\t\t\tjustify-content: center;\n\t\t}\n\n\t\t& .ck-button .ck-button__label {\n\t\t\tcolor: var(--ck-color-text);\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const R=S},6270:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,".ck-content img.image_resized{height:auto}.ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageresize.css"],names:[],mappings:"AAMA,8BACC,WACD,CAEA,iCAQC,qBAAsB,CADtB,aAAc,CANd,cAkBD,CATC,qCAEC,UACD,CAEA,4CAEC,aACD,CAQC,sHACC,cACD,CAIF,oFACC,uCACD,CAEA,oFACC,sCACD,CAEA,oEACC,SACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* Preserve aspect ratio of the resized image after introducing image height attribute. */\n.ck-content img.image_resized {\n\theight: auto;\n}\n\n.ck-content .image.image_resized {\n\tmax-width: 100%;\n\t/*\n\tThe `<figure>` element for resized images must not use `display:table` as browsers do not support `max-width` for it well.\n\tSee https://stackoverflow.com/questions/4019604/chrome-safari-ignoring-max-width-in-table/14420691#14420691 for more.\n\tFortunately, since we control the width, there is no risk that the image will look bad.\n\t*/\n\tdisplay: block;\n\tbox-sizing: border-box;\n\n\t& img {\n\t\t/* For resized images it is the `<figure>` element that determines the image width. */\n\t\twidth: 100%;\n\t}\n\n\t& > figcaption {\n\t\t/* The `<figure>` element uses `display:block`, so `<figcaption>` also has to. */\n\t\tdisplay: block;\n\t}\n}\n\n.ck.ck-editor__editable {\n\t/* The resized inline image nested in the table should respect its parent size.\n\tSee https://github.com/ckeditor/ckeditor5/issues/9117. */\n\t& td,\n\t& th {\n\t\t& .image-inline.image_resized img {\n\t\t\tmax-width: 100%;\n\t\t}\n\t}\n}\n\n[dir="ltr"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {\n\tmargin-right: var(--ck-spacing-standard);\n}\n\n[dir="rtl"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {\n\tmargin-left: var(--ck-spacing-standard);\n}\n\n.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label {\n\twidth: 4em;\n}\n'],sourceRoot:""}]);const R=S},5083:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagestyle.css"],names:[],mappings:"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAMC,qFAEC,oDACD,CAIA,yEAEC,UACD,CAEA,8BACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,sCACC,gBAAiB,CACjB,iBACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAEA,2CAEC,gBAAiB,CADjB,cAED,CAEA,0CACC,aAAc,CACd,iBACD,CAGA,6GAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-image-style-spacing: 1.5em;\n\t--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);\n}\n\n.ck-content {\n\t/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback\n\tconfirming successful application of the style if image width exceeds the editor's size.\n\tSee https://github.com/ckeditor/ckeditor5/issues/9342 */\n\t& .image-style-block-align-left,\n\t& .image-style-block-align-right {\n\t\tmax-width: calc(100% - var(--ck-image-style-spacing));\n\t}\n\n\t/* Allows displaying multiple floating images in the same line.\n\tSee https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */\n\t& .image-style-align-left,\n\t& .image-style-align-right {\n\t\tclear: none;\n\t}\n\n\t& .image-style-side {\n\t\tfloat: right;\n\t\tmargin-left: var(--ck-image-style-spacing);\n\t\tmax-width: 50%;\n\t}\n\n\t& .image-style-align-left {\n\t\tfloat: left;\n\t\tmargin-right: var(--ck-image-style-spacing);\n\t}\n\n\t& .image-style-align-center {\n\t\tmargin-left: auto;\n\t\tmargin-right: auto;\n\t}\n\n\t& .image-style-align-right {\n\t\tfloat: right;\n\t\tmargin-left: var(--ck-image-style-spacing);\n\t}\n\n\t& .image-style-block-align-right {\n\t\tmargin-right: 0;\n\t\tmargin-left: auto;\n\t}\n\n\t& .image-style-block-align-left {\n\t\tmargin-left: 0;\n\t\tmargin-right: auto;\n\t}\n\n\t/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */\n\t& p + .image-style-align-left,\n\t& p + .image-style-align-right,\n\t& p + .image-style-side {\n\t\tmargin-top: 0;\n\t}\n\n\t& .image-inline {\n\t\t&.image-style-align-left,\n\t\t&.image-style-align-right {\n\t\t\tmargin-top: var(--ck-inline-image-style-spacing);\n\t\t\tmargin-bottom: var(--ck-inline-image-style-spacing);\n\t\t}\n\n\t\t&.image-style-align-left {\n\t\t\tmargin-right: var(--ck-inline-image-style-spacing);\n\t\t}\n\n\t\t&.image-style-align-right {\n\t\t\tmargin-left: var(--ck-inline-image-style-spacing);\n\t\t}\n\t}\n}\n\n.ck.ck-splitbutton {\n\t/* The button should display as a regular drop-down if the action button\n\tis forced to fire the same action as the arrow button. */\n\t&.ck-splitbutton_flatten {\n\t\t&:hover,\n\t\t&.ck-splitbutton_open {\n\t\t\t& > .ck-splitbutton__action:not(.ck-disabled),\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled),\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {\n\t\t\t\tbackground-color: var(--ck-color-button-on-background);\n\n\t\t\t\t&::after {\n\t\t\t\t\tdisplay: none;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t&.ck-splitbutton_open:hover {\n\t\t\t& > .ck-splitbutton__action:not(.ck-disabled),\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled),\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {\n\t\t\t\tbackground-color: var(--ck-color-button-on-hover-background);\n\t\t\t}\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const R=S},4036:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadicon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names:[],mappings:"AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,sBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFA0BD,CAtBC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-image-upload-complete-icon {\n\tdisplay: block;\n\tposition: absolute;\n\n\t/*\n\t * Smaller images should have the icon closer to the border.\n\t * Match the icon position with the linked image indicator brought by the link image feature.\n\t */\n\ttop: min(var(--ck-spacing-medium), 6%);\n\tright: min(var(--ck-spacing-medium), 6%);\n\tborder-radius: 50%;\n\tz-index: 1;\n\n\t&::after {\n\t\tcontent: "";\n\t\tposition: absolute;\n\t}\n}\n','/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-image-upload-icon: hsl(0, 0%, 100%);\n\t--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);\n\n\t/* Match the icon size with the linked image indicator brought by the link image feature. */\n\t--ck-image-upload-icon-size: 20;\n\t--ck-image-upload-icon-width: 2px;\n\t--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);\n}\n\n.ck-image-upload-complete-icon {\n\topacity: 0;\n\tbackground: var(--ck-color-image-upload-icon-background);\n\tanimation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;\n\tanimation-fill-mode: forwards, forwards;\n\tanimation-duration: 500ms, 500ms;\n\n\t/* To make animation scalable. */\n\tfont-size: calc(1px * var(--ck-image-upload-icon-size));\n\n\t/* Hide completed upload icon after 3 seconds. */\n\tanimation-delay: 0ms, 3000ms;\n\n\t/*\n\t * Use CSS math to simulate container queries.\n\t * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things\n\t */\n\toverflow: hidden;\n\twidth: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));\n\theight: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));\n\n\t/* This is check icon element made from border-width mixed with animations. */\n\t&::after {\n\t\t/* Because of border transformation we need to "hard code" left position. */\n\t\tleft: 25%;\n\n\t\ttop: 50%;\n\t\topacity: 0;\n\t\theight: 0;\n\t\twidth: 0;\n\n\t\ttransform: scaleX(-1) rotate(135deg);\n\t\ttransform-origin: left top;\n\t\tborder-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);\n\t\tborder-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);\n\n\t\tanimation-name: ck-upload-complete-icon-check;\n\t\tanimation-duration: 500ms;\n\t\tanimation-delay: 500ms;\n\t\tanimation-fill-mode: forwards;\n\n\t\t/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */\n\t\tbox-sizing: border-box;\n\t}\n}\n\n@keyframes ck-upload-complete-icon-show {\n\tfrom {\n\t\topacity: 0;\n\t}\n\n\tto {\n\t\topacity: 1;\n\t}\n}\n\n@keyframes ck-upload-complete-icon-hide {\n\tfrom {\n\t\topacity: 1;\n\t}\n\n\tto {\n\t\topacity: 0;\n\t}\n}\n\n@keyframes ck-upload-complete-icon-check {\n\t0% {\n\t\topacity: 1;\n\t\twidth: 0;\n\t\theight: 0;\n\t}\n\t33% {\n\t\twidth: 0.3em;\n\t\theight: 0;\n\t}\n\t100% {\n\t\topacity: 1;\n\t\twidth: 0.3em;\n\t\theight: 0.45em;\n\t}\n}\n'],sourceRoot:""}]);const R=S},3773:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadloader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names:[],mappings:"AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-upload-placeholder-loader {\n\tposition: absolute;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\ttop: 0;\n\tleft: 0;\n\n\t&::before {\n\t\tcontent: '';\n\t\tposition: relative;\n\t}\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);\n\t--ck-upload-placeholder-loader-size: 32px;\n\t--ck-upload-placeholder-image-aspect-ratio: 2.8;\n}\n\n.ck .ck-image-upload-placeholder {\n\t/* We need to control the full width of the SVG gray background. */\n\twidth: 100%;\n\tmargin: 0;\n\n\t&.image-inline {\n\t\twidth: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );\n\t}\n\n\t& img {\n\t\t/*\n\t\t * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.\n\t\t * There's nothing special about this number except that it should make the image placeholder look like\n\t\t * a real image during this short period after the upload started and before the image was read from the\n\t\t * file system (and a rich preview was loaded).\n\t\t */\n\t\taspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);\n\t}\n}\n\n.ck .ck-upload-placeholder-loader {\n\twidth: 100%;\n\theight: 100%;\n\n\t&::before {\n\t\twidth: var(--ck-upload-placeholder-loader-size);\n\t\theight: var(--ck-upload-placeholder-loader-size);\n\t\tborder-radius: 50%;\n\t\tborder-top: 3px solid var(--ck-color-upload-placeholder-loader);\n\t\tborder-right: 2px solid transparent;\n\t\tanimation: ck-upload-placeholder-loader 1s linear infinite;\n\t}\n}\n\n@keyframes ck-upload-placeholder-loader {\n\tto {\n\t\ttransform: rotate( 360deg );\n\t}\n}\n"],sourceRoot:""}]);const R=S},3689:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadprogress.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names:[],mappings:"AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBACD,CAID,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor__editable {\n\t& .image,\n\t& .image-inline {\n\t\tposition: relative;\n\t}\n\n\t/* Upload progress bar. */\n\t& .image .ck-progress-bar,\n\t& .image-inline .ck-progress-bar {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t}\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor__editable {\n\t& .image,\n\t& .image-inline {\n\t\t/* Showing animation. */\n\t\t&.ck-appear {\n\t\t\tanimation: fadeIn 700ms;\n\t\t}\n\t}\n\n\t/* Upload progress bar. */\n\t& .image .ck-progress-bar,\n\t& .image-inline .ck-progress-bar {\n\t\theight: 2px;\n\t\twidth: 0;\n\t\tbackground: var(--ck-color-upload-bar-background);\n\t\ttransition: width 100ms;\n\t}\n}\n\n@keyframes fadeIn {\n\tfrom { opacity: 0; }\n\tto   { opacity: 1; }\n}\n"],sourceRoot:""}]);const R=S},1905:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/textalternativeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-text-alternative-form {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\n\t& .ck-labeled-field-view {\n\t\tdisplay: inline-block;\n\t}\n\n\t& .ck-label {\n\t\tdisplay: none;\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-labeled-field-view {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const R=S},9773:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* Class added to span element surrounding currently selected link. */\n.ck .ck-link_selected {\n\tbackground: var(--ck-color-link-selected-background);\n\n\t/* Give linked inline images some outline to let the user know they are also part of the link. */\n\t& span.image-inline {\n\t\toutline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);\n\t}\n}\n\n/*\n * Classes used by the "fake visual selection" displayed in the content when an input\n * in the link UI has focus (the browser does not render the native selection in this state).\n */\n.ck .ck-fake-link-selection {\n\tbackground: var(--ck-color-link-fake-selection);\n}\n\n/* A collapsed fake visual selection. */\n.ck .ck-fake-link-selection_collapsed {\n\theight: 100%;\n\tborder-right: 1px solid var(--ck-color-base-text);\n\tmargin-right: -1px;\n\toutline: solid 1px hsla(0, 0%, 100%, .5);\n}\n'],sourceRoot:""}]);const R=S},2347:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkactions.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDtDD,oCC0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,gJAME,aAEF,CDzED",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-link-actions {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\n\t& .ck-link-actions__preview {\n\t\tdisplay: inline-block;\n\n\t\t& .ck-button__label {\n\t\t\toverflow: hidden;\n\t\t}\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-link-actions__preview {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button:not(.ck-link-actions__preview) {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n@import "../mixins/_focus.css";\n@import "../mixins/_shadow.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-link-actions {\n\t& .ck-button.ck-link-actions__preview {\n\t\tpadding-left: 0;\n\t\tpadding-right: 0;\n\n\t\t& .ck-button__label {\n\t\t\tpadding: 0 var(--ck-spacing-medium);\n\t\t\tcolor: var(--ck-color-link-default);\n\t\t\ttext-overflow: ellipsis;\n\t\t\tcursor: pointer;\n\n\t\t\t/* Match the box model of the link editor form\'s input so the balloon\n\t\t\tdoes not change width when moving between actions and the form. */\n\t\t\tmax-width: var(--ck-input-width);\n\t\t\tmin-width: 3em;\n\t\t\ttext-align: center;\n\n\t\t\t&:hover {\n\t\t\t\ttext-decoration: underline;\n\t\t\t}\n\t\t}\n\n\t\t&,\n\t\t&:hover,\n\t\t&:focus,\n\t\t&:active {\n\t\t\tbackground: none;\n\t\t}\n\n\t\t&:active {\n\t\t\tbox-shadow: none;\n\t\t}\n\n\t\t&:focus {\n\t\t\t& .ck-button__label {\n\t\t\t\ttext-decoration: underline;\n\t\t\t}\n\t\t}\n\t}\n\n\t@mixin ck-dir ltr {\n\t\t& .ck-button:not(:first-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-dir rtl {\n\t\t& .ck-button:not(:last-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-media-phone {\n\t\t& .ck-button.ck-link-actions__preview {\n\t\t\tmargin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;\n\n\t\t\t& .ck-button__label {\n\t\t\t\tmin-width: 0;\n\t\t\t\tmax-width: 100%;\n\t\t\t}\n\t\t}\n\n\t\t& .ck-button:not(.ck-link-actions__preview) {\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tmargin-left: 0;\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-left: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const R=S},7754:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBACC,YAiBD,CAfC,2BACC,YACD,CCNA,oCDCD,iBAQE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CCfD,CDuBD,iCACC,aAYD,CALE,wHAEC,mCACD,CE/BF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CARD,4GAeE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-link-form {\n\tdisplay: flex;\n\n\t& .ck-label {\n\t\tdisplay: none;\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-labeled-field-view {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n\n/*\n * Style link form differently when manual decorators are available.\n * See: https://github.com/ckeditor/ckeditor5-link/issues/186.\n */\n.ck.ck-link-form_layout-vertical {\n\tdisplay: block;\n\n\t/*\n\t * Whether the form is in the responsive mode or not, if there are decorator buttons\n\t * keep the top margin of action buttons medium.\n\t */\n\t& .ck-button {\n\t\t&.ck-button-save,\n\t\t&.ck-button-cancel {\n\t\t\tmargin-top: var(--ck-spacing-medium);\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n/*\n * Style link form differently when manual decorators are available.\n * See: https://github.com/ckeditor/ckeditor5-link/issues/186.\n */\n.ck.ck-link-form_layout-vertical {\n\tpadding: 0;\n\tmin-width: var(--ck-input-width);\n\n\t& .ck-labeled-field-view {\n\t\tmargin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);\n\n\t\t& .ck-input-text {\n\t\t\tmin-width: 0;\n\t\t\twidth: 100%;\n\t\t}\n\t}\n\n\t& > .ck-button {\n\t\tpadding: var(--ck-spacing-standard);\n\t\tmargin: 0;\n\t\twidth: 50%;\n\t\tborder-radius: 0;\n\n\t\t&:not(:focus) {\n\t\t\tborder-top: 1px solid var(--ck-color-base-border);\n\t\t}\n\n\t\t@mixin ck-dir ltr {\n\t\t\tmargin-left: 0;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tmargin-left: 0;\n\n\t\t\t&:last-of-type {\n\t\t\t\tborder-right: 1px solid var(--ck-color-base-border);\n\t\t\t}\n\t\t}\n\t}\n\n\t/* Using additional `.ck` class for stronger CSS specificity than `.ck.ck-link-form > :not(:first-child)`. */\n\t& .ck.ck-list {\n\t\tmargin: var(--ck-spacing-standard) var(--ck-spacing-large);\n\n\t\t& .ck-button.ck-switchbutton {\n\t\t\tpadding: 0;\n\t\t\twidth: 100%;\n\n\t\t\t&:hover {\n\t\t\t\tbackground: none;\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const R=S},111:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,'.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{display:block;position:absolute}:root{--ck-link-image-indicator-icon-size:20;--ck-link-image-indicator-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{background-color:rgba(0,0,0,.4);background-image:url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");background-position:50%;background-repeat:no-repeat;background-size:14px;border-radius:100%;content:"";height:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size));overflow:hidden;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);width:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size))}',"",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkimage.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkimage.css"],names:[],mappings:"AASE,+FACC,aAAc,CACd,iBACD,CCPF,MAEC,sCAAuC,CACvC,oEACD,CAME,+FAUC,+BAAqC,CACrC,83BAA+3B,CAG/3B,uBAA2B,CAD3B,2BAA4B,CAD5B,oBAAqB,CAGrB,kBAAmB,CAdnB,UAAW,CAsBX,oGAAuG,CAFvG,eAAgB,CAbhB,sCAAwC,CADxC,oCAAsC,CAetC,mGAED",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor__editable {\n\t/* Linked image indicator */\n\t& figure.image > a,\n\t& a span.image-inline {\n\t\t&::after {\n\t\t\tdisplay: block;\n\t\t\tposition: absolute;\n\t\t}\n\t}\n}\n\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/* Match the icon size with the upload indicator brought by the image upload feature. */\n\t--ck-link-image-indicator-icon-size: 20;\n\t--ck-link-image-indicator-icon-is-visible: clamp(0px, 100% - 50px, 1px);\n}\n\n.ck.ck-editor__editable {\n\t/* Linked image indicator */\n\t& figure.image > a,\n\t& a span.image-inline {\n\t\t&::after {\n\t\t\tcontent: "";\n\n\t\t\t/*\n\t\t\t * Smaller images should have the icon closer to the border.\n\t\t\t * Match the icon position with the upload indicator brought by the image upload feature.\n\t\t\t */\n\t\t\ttop: min(var(--ck-spacing-medium), 6%);\n\t\t\tright: min(var(--ck-spacing-medium), 6%);\n\n\t\t\tbackground-color: hsla(0, 0%, 0%, .4);\n\t\t\tbackground-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");\n\t\t\tbackground-size: 14px;\n\t\t\tbackground-repeat: no-repeat;\n\t\t\tbackground-position: center;\n\t\t\tborder-radius: 100%;\n\n\t\t\t/*\n\t\t\t* Use CSS math to simulate container queries.\n\t\t\t* https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things\n\t\t\t*/\n\t\t\toverflow: hidden;\n\t\t\twidth: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));\n\t\t\theight: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));\n\t\t}\n\t}\n}\n\n'],sourceRoot:""}]);const R=S},4721:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,".ck.ck-collapsible.ck-collapsible_collapsed>.ck-collapsible__children{display:none}:root{--ck-collapsible-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-collapsible>.ck.ck-button{border-radius:0;color:inherit;font-weight:700;padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-collapsible>.ck.ck-button:focus{background:transparent}.ck.ck-collapsible>.ck.ck-button:active,.ck.ck-collapsible>.ck.ck-button:hover:not(:focus),.ck.ck-collapsible>.ck.ck-button:not(:focus){background:transparent;border-color:transparent;box-shadow:none}.ck.ck-collapsible>.ck.ck-button>.ck-icon{margin-right:var(--ck-spacing-medium);width:var(--ck-collapsible-arrow-size)}.ck.ck-collapsible>.ck-collapsible__children{padding:0 var(--ck-spacing-large) var(--ck-spacing-large)}.ck.ck-collapsible.ck-collapsible_collapsed>.ck.ck-button .ck-icon{transform:rotate(-90deg)}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/collapsible.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/collapsible.css"],names:[],mappings:"AAMC,sEACC,YACD,CCHD,MACC,yDACD,CAGC,iCAIC,eAAgB,CAChB,aAAc,CAHd,eAAiB,CACjB,wDAAyD,CAFzD,UAoBD,CAdC,uCACC,sBACD,CAEA,wIACC,sBAAuB,CACvB,wBAAyB,CACzB,eACD,CAEA,0CACC,qCAAsC,CACtC,sCACD,CAGD,6CACC,yDACD,CAGC,mEACC,wBACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-collapsible.ck-collapsible_collapsed {\n\t& > .ck-collapsible__children {\n\t\tdisplay: none;\n\t}\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-collapsible-arrow-size: calc(0.5 * var(--ck-icon-size));\n}\n\n.ck.ck-collapsible {\n\t& > .ck.ck-button {\n\t\twidth: 100%;\n\t\tfont-weight: bold;\n\t\tpadding: var(--ck-spacing-medium) var(--ck-spacing-large);\n\t\tborder-radius: 0;\n\t\tcolor: inherit;\n\n\t\t&:focus {\n\t\t\tbackground: transparent;\n\t\t}\n\n\t\t&:active, &:not(:focus), &:hover:not(:focus) {\n\t\t\tbackground: transparent;\n\t\t\tborder-color: transparent;\n\t\t\tbox-shadow: none;\n\t\t}\n\n\t\t& > .ck-icon {\n\t\t\tmargin-right: var(--ck-spacing-medium);\n\t\t\twidth: var(--ck-collapsible-arrow-size);\n\t\t}\n\t}\n\n\t& > .ck-collapsible__children {\n\t\tpadding: 0 var(--ck-spacing-large) var(--ck-spacing-large);\n\t}\n\n\t&.ck-collapsible_collapsed {\n\t\t& > .ck.ck-button .ck-icon {\n\t\t\ttransform: rotate(-90deg);\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const R=S},5730:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,".ck-editor__editable .ck-list-bogus-paragraph{display:block}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/documentlist.css"],names:[],mappings:"AAKA,8CACC,aACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-editor__editable .ck-list-bogus-paragraph {\n\tdisplay: block;\n}\n"],sourceRoot:""}]);const R=S},4564:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/list.css"],names:[],mappings:"AAKA,eACC,uBAiBD,CAfC,kBACC,2BAaD,CAXC,qBACC,2BASD,CAPC,wBACC,2BAKD,CAHC,2BACC,2BACD,CAMJ,eACC,oBAaD,CAXC,kBACC,sBASD,CAJE,6CACC,sBACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content ol {\n\tlist-style-type: decimal;\n\n\t& ol {\n\t\tlist-style-type: lower-latin;\n\n\t\t& ol {\n\t\t\tlist-style-type: lower-roman;\n\n\t\t\t& ol {\n\t\t\t\tlist-style-type: upper-latin;\n\n\t\t\t\t& ol {\n\t\t\t\t\tlist-style-type: upper-roman;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\n.ck-content ul {\n\tlist-style-type: disc;\n\n\t& ul {\n\t\tlist-style-type: circle;\n\n\t\t& ul {\n\t\t\tlist-style-type: square;\n\n\t\t\t& ul {\n\t\t\t\tlist-style-type: square;\n\t\t\t}\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const R=S},6082:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,".ck.ck-list-properties.ck-list-properties_without-styles{padding:var(--ck-spacing-large)}.ck.ck-list-properties.ck-list-properties_without-styles>*{min-width:14em}.ck.ck-list-properties.ck-list-properties_without-styles>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-list-styles-list{grid-template-columns:repeat(4,auto)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible{border-top:1px solid var(--ck-color-base-border)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*{width:100%}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties .ck.ck-numbered-list-properties__start-index .ck-input{min-width:auto;width:100%}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order{background:transparent;margin-bottom:calc(var(--ck-spacing-tiny)*-1);padding-left:0;padding-right:0}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:active,.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:hover{background:none;border-color:transparent;box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/listproperties.css"],names:[],mappings:"AAOC,yDACC,+BASD,CAPC,2DACC,cAKD,CAHC,6DACC,qCACD,CASD,wFACC,oCACD,CAGA,mFACC,gDAWD,CARE,+GACC,UAKD,CAHC,iHACC,qCACD,CAMJ,8EACC,cAAe,CACf,UACD,CAEA,uEACC,sBAAuB,CAGvB,6CAAgD,CAFhD,cAAe,CACf,eAQD,CALC,2JAGC,eAAgB,CADhB,wBAAyB,CADzB,eAGD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-list-properties {\n\t/* When there are no list styles and there is no collapsible. */\n\t&.ck-list-properties_without-styles {\n\t\tpadding: var(--ck-spacing-large);\n\n\t\t& > * {\n\t\t\tmin-width: 14em;\n\n\t\t\t& + * {\n\t\t\t\tmargin-top: var(--ck-spacing-standard);\n\t\t\t}\n\t\t}\n\t}\n\n\t/*\n\t * When the numbered list property fields (start at, reversed) should be displayed,\n\t * more horizontal space is needed. Reconfigure the style grid to create that space.\n\t */\n\t&.ck-list-properties_with-numbered-properties {\n\t\t& > .ck-list-styles-list {\n\t\t\tgrid-template-columns: repeat( 4, auto );\n\t\t}\n\n\t\t/* When list styles are rendered and property fields are in a collapsible. */\n\t\t& > .ck-collapsible {\n\t\t\tborder-top: 1px solid var(--ck-color-base-border);\n\n\t\t\t& > .ck-collapsible__children {\n\t\t\t\t& > * {\n\t\t\t\t\twidth: 100%;\n\n\t\t\t\t\t& + * {\n\t\t\t\t\t\tmargin-top: var(--ck-spacing-standard);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t& .ck.ck-numbered-list-properties__start-index .ck-input {\n\t\tmin-width: auto;\n\t\twidth: 100%;\n\t}\n\n\t& .ck.ck-numbered-list-properties__reversed-order {\n\t\tbackground: transparent;\n\t\tpadding-left: 0;\n\t\tpadding-right: 0;\n\t\tmargin-bottom: calc(-1 * var(--ck-spacing-tiny));\n\n\t\t&:active, &:hover {\n\t\t\tbox-shadow: none;\n\t\t\tborder-color: transparent;\n\t\t\tbackground: none;\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const R=S},2417:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,".ck.ck-list-styles-list{display:grid}:root{--ck-list-style-button-size:44px}.ck.ck-list-styles-list{column-gap:var(--ck-spacing-medium);grid-template-columns:repeat(3,auto);padding:var(--ck-spacing-large);row-gap:var(--ck-spacing-medium)}.ck.ck-list-styles-list .ck-button{box-sizing:content-box;margin:0;padding:0}.ck.ck-list-styles-list .ck-button,.ck.ck-list-styles-list .ck-button .ck-icon{height:var(--ck-list-style-button-size);width:var(--ck-list-style-button-size)}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/liststyles.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/liststyles.css"],names:[],mappings:"AAKA,wBACC,YACD,CCFA,MACC,gCACD,CAEA,wBAGC,mCAAoC,CAFpC,oCAAwC,CAGxC,+BAAgC,CAFhC,gCA4BD,CAxBC,mCAiBC,sBAAuB,CAPvB,QAAS,CANT,SAmBD,CAJC,+EAhBA,uCAAwC,CADxC,sCAoBA",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-list-styles-list {\n\tdisplay: grid;\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-list-style-button-size: 44px;\n}\n\n.ck.ck-list-styles-list {\n\tgrid-template-columns: repeat( 3, auto );\n\trow-gap: var(--ck-spacing-medium);\n\tcolumn-gap: var(--ck-spacing-medium);\n\tpadding: var(--ck-spacing-large);\n\n\t& .ck-button {\n\t\t/* Make the button look like a thumbnail (the icon "takes it all"). */\n\t\twidth: var(--ck-list-style-button-size);\n\t\theight: var(--ck-list-style-button-size);\n\t\tpadding: 0;\n\n\t\t/*\n\t\t * Buttons are aligned by the grid so disable default button margins to not collide with the\n\t\t * gaps in the grid.\n\t\t */\n\t\tmargin: 0;\n\n\t\t/*\n\t\t * Make sure the button border (which is displayed on focus, BTW) does not steal pixels\n\t\t * from the button dimensions and, as a result, decrease the size of the icon\n\t\t * (which becomes blurry as it scales down).\n\t\t */\n\t\tbox-sizing: content-box;\n\n\t\t& .ck-icon {\n\t\t\twidth: var(--ck-list-style-button-size);\n\t\t\theight: var(--ck-list-style-button-size);\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const R=S},1199:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,':root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px;position:relative}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-content[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-content .todo-list .todo-list__label>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}.ck-content .todo-list .todo-list__label>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}.ck-editor__editable.ck-content .todo-list .todo-list__label>input,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{cursor:pointer}.ck-editor__editable.ck-content .todo-list .todo-list__label>input:hover:before,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-editor__editable.ck-content[dir=rtl] .todo-list .todo-list__label>span[contenteditable=false]>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:after{border-color:#fff}.ck-editor__editable.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}',"",{version:3,sources:["webpack://./../ckeditor5-list/theme/todolist.css"],names:[],mappings:"AAKA,MACC,kCACD,CAwEA,uBACC,eAwBD,CAtBC,0BAEC,iBAAkB,CADlB,iBAMD,CAHC,qCACC,cACD,CAIA,+CAlFD,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAiFC,CAFA,wDAhEA,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAgEA,CA5DD,sDAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UAKD,CAEA,qDAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+DACC,kBAA8B,CAC9B,oBACD,CAEA,8DACC,iBACD,CAwBA,wEACC,qBACD,CAEA,mGACC,iBACD,CAYD,kKAEC,cAKD,CAHC,4LACC,mCACD,CAMD,+FApHA,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAmHA,CAFA,wGAlGC,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAkGD,CA9FA,sGAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UAKD,CAEA,qGAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+GACC,kBAA8B,CAC9B,oBACD,CAEA,8GACC,iBACD,CA2DA,uHACC,iBACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-todo-list-checkmark-size: 16px;\n}\n\n@define-mixin todo-list-checkbox {\n\t-webkit-appearance: none;\n\tdisplay: inline-block;\n\tposition: relative;\n\twidth: var(--ck-todo-list-checkmark-size);\n\theight: var(--ck-todo-list-checkmark-size);\n\tvertical-align: middle;\n\n\t/* Needed on iOS */\n\tborder: 0;\n\n\t/* LTR styles */\n\tleft: -25px;\n\tmargin-right: -15px;\n\tright: 0;\n\tmargin-left: 0;\n\n\t/* RTL styles */\n\t@nest [dir=rtl]& {\n\t\tleft: 0;\n\t\tmargin-right: 0;\n\t\tright: -25px;\n\t\tmargin-left: -15px;\n\t}\n\n\t&::before {\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\tbox-sizing: border-box;\n\t\tcontent: '';\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tborder: 1px solid hsl(0, 0%, 20%);\n\t\tborder-radius: 2px;\n\t\ttransition: 250ms ease-in-out box-shadow;\n\t}\n\n\t&::after {\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\tbox-sizing: content-box;\n\t\tpointer-events: none;\n\t\tcontent: '';\n\n\t\t/* Calculate tick position, size and border-width proportional to the checkmark size. */\n\t\tleft: calc( var(--ck-todo-list-checkmark-size) / 3 );\n\t\ttop: calc( var(--ck-todo-list-checkmark-size) / 5.3 );\n\t\twidth: calc( var(--ck-todo-list-checkmark-size) / 5.3 );\n\t\theight: calc( var(--ck-todo-list-checkmark-size) / 2.6 );\n\t\tborder-style: solid;\n\t\tborder-color: transparent;\n\t\tborder-width: 0 calc( var(--ck-todo-list-checkmark-size) / 8 ) calc( var(--ck-todo-list-checkmark-size) / 8 ) 0;\n\t\ttransform: rotate(45deg);\n\t}\n\n\t&[checked] {\n\t\t&::before {\n\t\t\tbackground: hsl(126, 64%, 41%);\n\t\t\tborder-color: hsl(126, 64%, 41%);\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: hsl(0, 0%, 100%);\n\t\t}\n\t}\n}\n\n/*\n * To-do list content styles.\n */\n.ck-content .todo-list {\n\tlist-style: none;\n\n\t& li {\n\t\tposition: relative;\n\t\tmargin-bottom: 5px;\n\n\t\t& .todo-list {\n\t\t\tmargin-top: 5px;\n\t\t}\n\t}\n\n\t& .todo-list__label {\n\t\t& > input {\n\t\t\t@mixin todo-list-checkbox;\n\t\t}\n\n\t\t& .todo-list__label__description {\n\t\t\tvertical-align: middle;\n\t\t}\n\n\t\t&.todo-list__label_without-description input[type=checkbox] {\n\t\t\tposition: absolute;\n\t\t}\n\t}\n}\n\n/*\n * To-do list editing view styles.\n */\n.ck-editor__editable.ck-content .todo-list .todo-list__label {\n\t/*\n\t * To-do list should be interactive only during the editing\n\t * (https://github.com/ckeditor/ckeditor5/issues/2090).\n\t */\n\t& > input,\n\t& > span[contenteditable=false] > input {\n\t\tcursor: pointer;\n\n\t\t&:hover::before {\n\t\t\tbox-shadow: 0 0 0 5px hsla(0, 0%, 0%, 0.1);\n\t\t}\n\t}\n\n\t/*\n\t * Document Lists - editing view has an additional span around checkbox.\n\t */\n\t& > span[contenteditable=false] > input {\n\t\t@mixin todo-list-checkbox;\n\t}\n\n\t&.todo-list__label_without-description {\n\t\t& input[type=checkbox] {\n\t\t\tposition: absolute;\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const R=S},4652:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembed.css"],names:[],mappings:"AAKA,mBAGC,UAAW,CASX,aAAc,CAJd,aAAe,CAQf,cACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content .media {\n\t/* Don\'t allow floated content overlap the media.\n\thttps://github.com/ckeditor/ckeditor5-media-embed/issues/53 */\n\tclear: both;\n\n\t/* Make sure there is some space between the content and the media. */\n\t/* The first value should be equal to --ck-spacing-large variable if used in the editor context\n\tto avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */\n\tmargin: 0.9em 0;\n\n\t/* Make sure media is not overriden with Bootstrap default `flex` value.\n\tSee: https://github.com/ckeditor/ckeditor5/issues/1373. */\n\tdisplay: block;\n\n\t/* Give the media some minimal width in the content to prevent them\n\tfrom being "squashed" in tight spaces, e.g. in table cells (#44) */\n\tmin-width: 15em;\n}\n'],sourceRoot:""}]);const R=S},7442:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Im0yMDYuNDc3IDI2MC45LTI4Ljk4NyAyOC45ODdhNS4yMTggNS4yMTggMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiIGZpbGw9IiM1Yzg4YzUiLz48cGF0aCBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwNy4zMzMuNTAyLjY1IDEuMDA1Ljk1IDEuNTA4LjM0My40NzcuNjczLjk1Ny45ODggMS40NCAxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5LjMxNS0uNDgyLjY0NS0uOTYyLjk4OC0xLjQzOS4zLS41MDMuNjE3LTEuMDA2Ljk1LTEuNTA4LjM1OS0uNy43Ni0xLjQwNCAxLjE5LTIuMTA3IDEuNDI2LTIuNDAyIDItNS4xMTQgMi4wMDQtNy44NzUgMC04Ljg0NC03LjUxMS0xNi4wMTQtMTYuNzc2LTE2LjAxNHoiIGZpbGw9IiNkZDRiM2UiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PGVsbGlwc2Ugcnk9IjUuNTY0IiByeD0iNS44MjgiIGN5PSIyMzkuMDAyIiBjeD0iMjI2Ljc0MiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMTkwLjMwMSAyMzcuMjgzYy00LjY3IDAtOC40NTcgMy44NTMtOC40NTcgOC42MDZzMy43ODYgOC42MDcgOC40NTcgOC42MDdjMy4wNDMgMCA0LjgwNi0uOTU4IDYuMzM3LTIuNTE2IDEuNTMtMS41NTcgMi4wODctMy45MTMgMi4wODctNi4yOSAwLS4zNjItLjAyMy0uNzIyLS4wNjQtMS4wNzloLTguMjU3djMuMDQzaDQuODVjLS4xOTcuNzU5LS41MzEgMS40NS0xLjA1OCAxLjk4Ni0uOTQyLjk1OC0yLjAyOCAxLjU0OC0zLjkwMSAxLjU0OC0yLjg3NiAwLTUuMjA4LTIuMzcyLTUuMjA4LTUuMjk5IDAtMi45MjYgMi4zMzItNS4yOTkgNS4yMDgtNS4yOTkgMS4zOTkgMCAyLjYxOC40MDcgMy41ODQgMS4yOTNsMi4zODEtMi4zOGMwLS4wMDItLjAwMy0uMDA0LS4wMDQtLjAwNS0xLjU4OC0xLjUyNC0zLjYyLTIuMjE1LTUuOTU1LTIuMjE1em00LjQzIDUuNjYuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0ibTIxNS4xODQgMjUxLjkyOS03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVhNS4yMzMgNS4yMzMgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjlsLS4wMDItLjAwM3oiIGZpbGw9IiNjM2MzYzMiLz48cGF0aCBkPSJtMjEyLjk4MyAyNDguNDk1LTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOCA1LjIzOGgxLjAxNWwzNS42NjYtMzUuNjY2YTEzNi4yNzUgMTM2LjI3NSAwIDAgMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAgMC0uOTg5LTEuNDQgMzUuMTI3IDM1LjEyNyAwIDAgMC0uOTUtMS41MDhjLS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OVptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OVoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzNabTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1Wk00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0MDAgNDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIHN0eWxlPSJmaWxsOiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',"",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembedediting.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css"],names:[],mappings:"AAMC,0CAGC,kBAAmB,CAFnB,YAAa,CACb,qBAcD,CAXC,sEAEC,cAAe,CAEf,iBAMD,CAJC,wGAEC,aAAc,CADd,eAED,CAWD,6kBACC,YACD,CAYF,2LACC,mBACD,CC1CA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CAEC,0CAA2C,CAD3C,0CA6BD,CA1BC,uEAIC,uBAA2B,CAC3B,qBAAsB,CAHtB,kDAAmD,CACnD,qCAAsC,CAFtC,qDAUD,CAJC,gFAEC,WAAY,CADZ,UAED,CAGD,4EACC,sDAAuD,CAGvD,iBAAkB,CADlB,iBAAkB,CAElB,sBAAuB,CAHvB,kBAUD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDAEC,gBAAiB,CADjB,eAED,CAEA,4UAIC,wvGACD,CAEA,2EACC,kBAaD,CAXC,wGACC,orBACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,4jHACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,wiCACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-media__wrapper {\n\t& .ck-media__placeholder {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\n\t\t& .ck-media__placeholder__url {\n\t\t\t/* Otherwise the URL will overflow when the content is very narrow. */\n\t\t\tmax-width: 100%;\n\n\t\t\tposition: relative;\n\n\t\t\t& .ck-media__placeholder__url__text {\n\t\t\t\toverflow: hidden;\n\t\t\t\tdisplay: block;\n\t\t\t}\n\t\t}\n\t}\n\n\t&[data-oembed-url*="twitter.com"],\n\t&[data-oembed-url*="google.com/maps"],\n\t&[data-oembed-url*="goo.gl/maps"],\n\t&[data-oembed-url*="maps.google.com"],\n\t&[data-oembed-url*="maps.app.goo.gl"],\n\t&[data-oembed-url*="facebook.com"],\n\t&[data-oembed-url*="instagram.com"] {\n\t\t& .ck-media__placeholder__icon * {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n\n/* Disable all mouse interaction as long as the editor is not read\u2013only.\n   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */\n.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {\n\tpointer-events: none;\n}\n\n/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).\n   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */\n.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {\n\tpointer-events: none;\n}\n','/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-media-embed-placeholder-icon-size: 3em;\n\n\t--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);\n\t--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);\n}\n\n.ck-media__wrapper {\n\tmargin: 0 auto;\n\n\t& .ck-media__placeholder {\n\t\tpadding: calc( 3 * var(--ck-spacing-standard) );\n\t\tbackground: var(--ck-color-base-foreground);\n\n\t\t& .ck-media__placeholder__icon {\n\t\t\tmin-width: var(--ck-media-embed-placeholder-icon-size);\n\t\t\theight: var(--ck-media-embed-placeholder-icon-size);\n\t\t\tmargin-bottom: var(--ck-spacing-large);\n\t\t\tbackground-position: center;\n\t\t\tbackground-size: cover;\n\n\t\t\t& .ck-icon {\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 100%;\n\t\t\t}\n\t\t}\n\n\t\t& .ck-media__placeholder__url__text {\n\t\t\tcolor: var(--ck-color-media-embed-placeholder-url-text);\n\t\t\twhite-space: nowrap;\n\t\t\ttext-align: center;\n\t\t\tfont-style: italic;\n\t\t\ttext-overflow: ellipsis;\n\n\t\t\t&:hover {\n\t\t\t\tcolor: var(--ck-color-media-embed-placeholder-url-text-hover);\n\t\t\t\tcursor: pointer;\n\t\t\t\ttext-decoration: underline;\n\t\t\t}\n\t\t}\n\t}\n\n\t&[data-oembed-url*="open.spotify.com"] {\n\t\tmax-width: 300px;\n\t\tmax-height: 380px;\n\t}\n\n\t&[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,\n\t&[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,\n\t&[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon,\n\t&[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon {\n\t\tbackground-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);\n\t}\n\n\t&[data-oembed-url*="facebook.com"] .ck-media__placeholder {\n\t\tbackground: hsl(220, 46%, 48%);\n\n\t\t& .ck-media__placeholder__icon {\n\t\t\tbackground-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);\n\t\t}\n\n\t\t& .ck-media__placeholder__url__text {\n\t\t\tcolor: hsl(220, 100%, 90%);\n\n\t\t\t&:hover {\n\t\t\t\tcolor: hsl(0, 0%, 100%);\n\t\t\t}\n\t\t}\n\t}\n\n\t&[data-oembed-url*="instagram.com"] .ck-media__placeholder {\n\t\tbackground: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));\n\n\t\t& .ck-media__placeholder__icon {\n\t\t\tbackground-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);\n\t\t}\n\n\t\t/* stylelint-disable-next-line no-descending-specificity */\n\t\t& .ck-media__placeholder__url__text {\n\t\t\tcolor: hsl(302, 100%, 94%);\n\n\t\t\t&:hover {\n\t\t\t\tcolor: hsl(0, 0%, 100%);\n\t\t\t}\n\t\t}\n\t}\n\n\t&[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder {\n\t\t/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */\n\t\tbackground: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );\n\n\t\t& .ck-media__placeholder__icon {\n\t\t\tbackground-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);\n\t\t}\n\n\t\t& .ck-media__placeholder__url__text {\n\t\t\tcolor: hsl(201, 100%, 86%);\n\n\t\t\t&:hover {\n\t\t\t\tcolor: hsl(0, 0%, 100%);\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const R=S},9292:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,kBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAqBD,CAnBC,yCACC,oBACD,CAEA,4BACC,YACD,CCbA,oCDCD,kBAeE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CCtBD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-media-form {\n\tdisplay: flex;\n\talign-items: flex-start;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\n\t& .ck-labeled-field-view {\n\t\tdisplay: inline-block;\n\t}\n\n\t& .ck-label {\n\t\tdisplay: none;\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-labeled-field-view {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const R=S},7368:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,".ck.ck-input-color{display:flex;flex-direction:row-reverse;width:100%}.ck.ck-input-color>input.ck.ck-input-text{flex-grow:1;min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown{min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown>.ck-input-color__button .ck-dropdown__arrow{display:none}.ck.ck-input-color .ck.ck-input-color__button{display:flex}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview{overflow:hidden;position:relative}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{display:block;position:absolute}[dir=ltr] .ck.ck-input-color>.ck.ck-input-text{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-input-text{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-input-color>.ck.ck-input-text:focus{z-index:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{padding:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-left-radius:0;border-top-left-radius:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-left:1px solid transparent}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-right:1px solid transparent}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button.ck-disabled{background:var(--ck-color-input-disabled-background)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border-radius:0}.ck-rounded-corners .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview,.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border:1px solid var(--ck-color-input-border);height:20px;width:20px}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{background:red;border-radius:2px;height:150%;left:50%;top:-30%;transform:rotate(45deg);transform-origin:50%;width:8%}.ck.ck-input-color .ck.ck-input-color__remove-color{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);width:100%}.ck.ck-input-color .ck.ck-input-color__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-input-border)}[dir=ltr] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-right-radius:0}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-left-radius:0}.ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard);margin-right:0}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,YAAa,CACb,0BAA2B,CAF3B,UAgCD,CA5BC,0CAEC,WAAY,CADZ,cAED,CAEA,sCACC,cAMD,CAHC,kFACC,YACD,CAGD,8CAEC,YAWD,CATC,kFAEC,eAAgB,CADhB,iBAOD,CAJC,0IAEC,aAAc,CADd,iBAED,CC1BF,+CAGE,4BAA6B,CAD7B,yBAcF,CAhBA,+CAQE,2BAA4B,CAD5B,wBASF,CAHC,2CACC,SACD,CAIA,wEACC,SA0CD,CA3CA,kFAKE,2BAA4B,CAD5B,wBAuCF,CApCE,8FACC,iCACD,CATF,kFAcE,4BAA6B,CAD7B,yBA8BF,CA3BE,8FACC,kCACD,CAGD,oFACC,oDACD,CAEA,4GC1CF,eD2DE,CAjBA,+PCtCD,qCDuDC,CAjBA,4GAKC,6CAA8C,CAD9C,WAAY,CADZ,UAcD,CAVC,oKAKC,cAA6B,CAC7B,iBAAkB,CAHlB,WAAY,CADZ,QAAS,CADT,QAAS,CAMT,uBAAwB,CACxB,oBAAqB,CAJrB,QAKD,CAKH,oDAIC,2BAA4B,CAC5B,4BAA6B,CAH7B,qEAAwE,CADxE,UA0BD,CApBC,gEACC,oDACD,CATD,8DAYE,yBAeF,CA3BA,8DAgBE,wBAWF,CARC,gEACC,uCAMD,CAPA,0EAKE,sCAAuC,CADvC,cAGF",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-input-color {\n\twidth: 100%;\n\tdisplay: flex;\n\tflex-direction: row-reverse;\n\n\t& > input.ck.ck-input-text {\n\t\tmin-width: auto;\n\t\tflex-grow: 1;\n\t}\n\n\t& > div.ck.ck-dropdown {\n\t\tmin-width: auto;\n\n\t\t/* This dropdown has no arrow but a color preview instead. */\n\t\t& > .ck-input-color__button .ck-dropdown__arrow {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\n\t& .ck.ck-input-color__button {\n\t\t/* Resolving issue with misaligned buttons on Safari (see #10589) */\n\t\tdisplay: flex;\n\n\t\t& .ck.ck-input-color__button__preview {\n\t\t\tposition: relative;\n\t\t\toverflow: hidden;\n\n\t\t\t& > .ck.ck-input-color__button__preview__no-color-indicator {\n\t\t\t\tposition: absolute;\n\t\t\t\tdisplay: block;\n\t\t\t}\n\t\t}\n\t}\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n@import "../mixins/_rounded.css";\n\n.ck.ck-input-color {\n\t& > .ck.ck-input-text {\n\t\t@mixin ck-dir ltr {\n\t\t\tborder-top-right-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tborder-top-left-radius: 0;\n\t\t\tborder-bottom-left-radius: 0;\n\t\t}\n\n\t\t/* Make sure the focused input is always on top of the dropdown button so its\n\t\t   outline and border are never cropped (also when the input is read-only). */\n\t\t&:focus {\n\t\t\tz-index: 0;\n\t\t}\n\t}\n\n\t& > .ck.ck-dropdown {\n\t\t& > .ck.ck-button.ck-input-color__button {\n\t\t\tpadding: 0;\n\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tborder-top-left-radius: 0;\n\t\t\t\tborder-bottom-left-radius: 0;\n\n\t\t\t\t&:not(:focus) {\n\t\t\t\t\tborder-left: 1px solid transparent;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tborder-top-right-radius: 0;\n\t\t\t\tborder-bottom-right-radius: 0;\n\n\t\t\t\t&:not(:focus) {\n\t\t\t\t\tborder-right: 1px solid transparent;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t&.ck-disabled {\n\t\t\t\tbackground: var(--ck-color-input-disabled-background);\n\t\t\t}\n\n\t\t\t& > .ck.ck-input-color__button__preview {\n\t\t\t\t@mixin ck-rounded-corners;\n\n\t\t\t\twidth: 20px;\n\t\t\t\theight: 20px;\n\t\t\t\tborder: 1px solid var(--ck-color-input-border);\n\n\t\t\t\t& > .ck.ck-input-color__button__preview__no-color-indicator {\n\t\t\t\t\ttop: -30%;\n\t\t\t\t\tleft: 50%;\n\t\t\t\t\theight: 150%;\n\t\t\t\t\twidth: 8%;\n\t\t\t\t\tbackground: hsl(0, 100%, 50%);\n\t\t\t\t\tborder-radius: 2px;\n\t\t\t\t\ttransform: rotate(45deg);\n\t\t\t\t\ttransform-origin: 50%;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t& .ck.ck-input-color__remove-color {\n\t\twidth: 100%;\n\t\tpadding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);\n\n\t\tborder-bottom-left-radius: 0;\n\t\tborder-bottom-right-radius: 0;\n\n\t\t&:not(:focus) {\n\t\t\tborder-bottom: 1px solid var(--ck-color-input-border);\n\t\t}\n\n\t\t@mixin ck-dir ltr {\n\t\t\tborder-top-right-radius: 0;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tborder-top-left-radius: 0;\n\t\t}\n\n\t\t& .ck.ck-icon {\n\t\t\tmargin-right: var(--ck-spacing-standard);\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-right: 0;\n\t\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const R=S},4070:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,".ck.ck-form{padding:0 0 var(--ck-spacing-large)}.ck.ck-form:focus{outline:none}.ck.ck-form .ck.ck-input-text{min-width:100%;width:0}.ck.ck-form .ck.ck-dropdown{min-width:100%}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button .ck-button__label{width:100%}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/form.css"],names:[],mappings:"AAKA,YACC,mCAyBD,CAvBC,kBAEC,YACD,CAEA,8BACC,cAAe,CACf,OACD,CAEA,4BACC,cAWD,CARE,6DACC,4CACD,CAEA,mEACC,UACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-form {\n\tpadding: 0 0 var(--ck-spacing-large);\n\n\t&:focus {\n\t\t/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */\n\t\toutline: none;\n\t}\n\n\t& .ck.ck-input-text {\n\t\tmin-width: 100%;\n\t\twidth: 0;\n\t}\n\n\t& .ck.ck-dropdown {\n\t\tmin-width: 100%;\n\n\t\t& .ck-dropdown__button {\n\t\t\t&:not(:focus) {\n\t\t\t\tborder: 1px solid var(--ck-color-base-border);\n\t\t\t}\n\n\t\t\t& .ck-button__label {\n\t\t\t\twidth: 100%;\n\t\t\t}\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const R=S},9247:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,".ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-table-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-table-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row{padding:var(--ck-spacing-standard) var(--ck-spacing-large) 0}[dir=ltr] .ck.ck-form__row>:not(.ck-label)+*{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-form__row>:not(.ck-label)+*{margin-right:var(--ck-spacing-large)}.ck.ck-form__row>.ck-label{min-width:100%;width:100%}.ck.ck-form__row.ck-table-form__action-row{margin-top:var(--ck-spacing-large)}.ck.ck-form__row.ck-table-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/formrow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/formrow.css"],names:[],mappings:"AAKA,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAaD,CAVC,iCACC,WACD,CAGC,wHAEC,sBACD,CCbF,iBACC,4DA2BD,CAvBE,6CAEE,mCAMF,CARA,6CAME,oCAEF,CAGD,2BAEC,cAAe,CADf,UAED,CAEA,2CACC,kCAKD,CAHC,wEACC,0BACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-form__row {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\tjustify-content: space-between;\n\n\t/* Ignore labels that work as fieldset legends */\n\t& > *:not(.ck-label) {\n\t\tflex-grow: 1;\n\t}\n\n\t&.ck-table-form__action-row {\n\t\t& .ck-button-save,\n\t\t& .ck-button-cancel {\n\t\t\tjustify-content: center;\n\t\t}\n\t}\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck.ck-form__row {\n\tpadding: var(--ck-spacing-standard) var(--ck-spacing-large) 0;\n\n\t/* Ignore labels that work as fieldset legends */\n\t& > *:not(.ck-label) {\n\t\t& + * {\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tmargin-left: var(--ck-spacing-large);\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-right: var(--ck-spacing-large);\n\t\t\t}\n\t\t}\n\t}\n\n\t& > .ck-label {\n\t\twidth: 100%;\n\t\tmin-width: 100%;\n\t}\n\n\t&.ck-table-form__action-row {\n\t\tmargin-top: var(--ck-spacing-large);\n\n\t\t& .ck-button .ck-button__label {\n\t\t\tcolor: var(--ck-color-text);\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const R=S},1613:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/inserttable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAGC,yFAA0F,CAD1F,oJAED,CAEA,mFAEC,iBACD,CAEA,uCAIC,4CAA6C,CAC7C,iBAAkB,CAFlB,iDAAkD,CADlD,qDAAsD,CADtD,mDAAoD,CAKpD,YAAa,CACb,eAUD,CARC,6CACC,eACD,CAEA,6CAEC,6CAA8C,CAD9C,yCAED",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-insert-table-dropdown__grid {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: wrap;\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-insert-table-dropdown-padding: 10px;\n\t--ck-insert-table-dropdown-box-height: 11px;\n\t--ck-insert-table-dropdown-box-width: 12px;\n\t--ck-insert-table-dropdown-box-margin: 1px;\n}\n\n.ck .ck-insert-table-dropdown__grid {\n\t/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */\n\twidth: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);\n\tpadding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;\n}\n\n.ck .ck-insert-table-dropdown__label,\n.ck[dir=rtl] .ck-insert-table-dropdown__label {\n\ttext-align: center;\n}\n\n.ck .ck-insert-table-dropdown-grid-box {\n\tmin-width: var(--ck-insert-table-dropdown-box-width);\n\tmin-height: var(--ck-insert-table-dropdown-box-height);\n\tmargin: var(--ck-insert-table-dropdown-box-margin);\n\tborder: 1px solid var(--ck-color-base-border);\n\tborder-radius: 1px;\n\toutline: none;\n\ttransition: none;\n\n\t&:focus {\n\t\tbox-shadow: none;\n\t}\n\n\t&.ck-on {\n\t\tborder-color: var(--ck-color-focus-border);\n\t\tbackground: var(--ck-color-focus-outer-shadow);\n\t}\n}\n\n"],sourceRoot:""}]);const R=S},6306:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/table.css"],names:[],mappings:"AAKA,mBAKC,aAAc,CADd,gBAiCD,CA9BC,yBAYC,yBAAkC,CAVlC,wBAAyB,CACzB,gBAAiB,CAKjB,WAAY,CADZ,UAsBD,CAfC,wDAQC,wBAAiC,CANjC,aAAc,CACd,YAMD,CAEA,4BAEC,0BAA+B,CAD/B,eAED,CAMF,+BACC,gBACD,CAEA,+BACC,eACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content .table {\n\t/* Give the table widget some air and center it horizontally */\n\t/* The first value should be equal to --ck-spacing-large variable if used in the editor context\n\tto avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */\n\tmargin: 0.9em auto;\n\tdisplay: table;\n\n\t& table {\n\t\t/* The table cells should have slight borders */\n\t\tborder-collapse: collapse;\n\t\tborder-spacing: 0;\n\n\t\t/* Table width and height are set on the parent <figure>. Make sure the table inside stretches\n\t\tto the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */\n\t\twidth: 100%;\n\t\theight: 100%;\n\n\t\t/* The outer border of the table should be slightly darker than the inner lines.\n\t\tAlso see https://github.com/ckeditor/ckeditor5-table/issues/50. */\n\t\tborder: 1px double hsl(0, 0%, 70%);\n\n\t\t& td,\n\t\t& th {\n\t\t\tmin-width: 2em;\n\t\t\tpadding: .4em;\n\n\t\t\t/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it\'s not necessary here.\n\t\t\tHowever, the border is a content style, so it should use .ck-content (so it works outside the editor).\n\t\t\tHence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */\n\t\t\tborder: 1px solid hsl(0, 0%, 75%);\n\t\t}\n\n\t\t& th {\n\t\t\tfont-weight: bold;\n\t\t\tbackground: hsla(0, 0%, 0%, 5%);\n\t\t}\n\t}\n}\n\n/* Text alignment of the table header should match the editor settings and override the native browser styling,\nwhen content is available outside the editor. See https://github.com/ckeditor/ckeditor5/issues/6638 */\n.ck-content[dir="rtl"] .table th {\n\ttext-align: right;\n}\n\n.ck-content[dir="ltr"] .table th {\n\ttext-align: left;\n}\n\n.ck-editor__editable .ck-table-bogus-paragraph {\n\t/*\n\t * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.\n\t * See https://github.com/ckeditor/ckeditor5/issues/6062.\n\t */\n\tdisplay: inline-block;\n\n\t/*\n\t * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.\n\t * See https://github.com/ckeditor/ckeditor5/issues/9117.\n\t */\n\twidth: 100%;\n}\n'],sourceRoot:""}]);const R=S},2128:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,":root{--ck-color-selector-caption-background:#f7f7f7;--ck-color-selector-caption-text:#333;--ck-color-selector-caption-highlighted-background:#fd0}.ck-content .table>figcaption{background-color:var(--ck-color-selector-caption-background);caption-side:top;color:var(--ck-color-selector-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;text-align:center;word-break:break-word}.ck.ck-editor__editable .table>figcaption.table__caption_highlighted{animation:ck-table-caption-highlight .6s ease-out}.ck.ck-editor__editable .table>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}@keyframes ck-table-caption-highlight{0%{background-color:var(--ck-color-selector-caption-highlighted-background)}to{background-color:var(--ck-color-selector-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecaption.css"],names:[],mappings:"AAKA,MACC,8CAAuD,CACvD,qCAAiD,CACjD,uDACD,CAGA,8BAMC,4DAA6D,CAJ7D,gBAAiB,CAGjB,2CAA4C,CAJ5C,qBAAsB,CAOtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,iBAAkB,CADlB,qBAOD,CAIC,qEACC,iDACD,CAEA,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAGD,sCACC,GACC,wEACD,CAEA,GACC,4DACD,CACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-selector-caption-background: hsl(0, 0%, 97%);\n\t--ck-color-selector-caption-text: hsl(0, 0%, 20%);\n\t--ck-color-selector-caption-highlighted-background: hsl(52deg 100% 50%);\n}\n\n/* Content styles */\n.ck-content .table > figcaption {\n\tdisplay: table-caption;\n\tcaption-side: top;\n\tword-break: break-word;\n\ttext-align: center;\n\tcolor: var(--ck-color-selector-caption-text);\n\tbackground-color: var(--ck-color-selector-caption-background);\n\tpadding: .6em;\n\tfont-size: .75em;\n\toutline-offset: -1px;\n}\n\n/* Editing styles */\n.ck.ck-editor__editable .table > figcaption {\n\t&.table__caption_highlighted {\n\t\tanimation: ck-table-caption-highlight .6s ease-out;\n\t}\n\n\t&.ck-placeholder::before {\n\t\tpadding-left: inherit;\n\t\tpadding-right: inherit;\n\n\t\t/*\n\t\t * Make sure the table caption placeholder doesn't overflow the placeholder area.\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/9162.\n\t\t */\n\t\twhite-space: nowrap;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t}\n}\n\n@keyframes ck-table-caption-highlight {\n\t0% {\n\t\tbackground-color: var(--ck-color-selector-caption-highlighted-background);\n\t}\n\n\t100% {\n\t\tbackground-color: var(--ck-color-selector-caption-background);\n\t}\n}\n"],sourceRoot:""}]);const R=S},5087:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,".ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row{flex-wrap:wrap}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:first-of-type{flex-grow:0.57}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:last-of-type{flex-grow:0.43}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar .ck-button{flex-grow:1}.ck.ck-table-cell-properties-form{width:320px}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__padding-row{align-self:flex-end;padding:0;width:25%}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecellproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tablecellproperties.css"],names:[],mappings:"AAOE,6FACC,cAiBD,CAdE,0HAEC,cACD,CAEA,yHAEC,cACD,CAEA,uHACC,WACD,CClBJ,kCACC,WAkBD,CAfE,2FACC,mBAAoB,CACpB,SAAU,CACV,SACD,CAGC,4GACC,eAAgB,CAGhB,qCACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-table-cell-properties-form {\n\t& .ck-form__row {\n\t\t&.ck-table-cell-properties-form__alignment-row {\n\t\t\tflex-wrap: wrap;\n\n\t\t\t& .ck.ck-toolbar {\n\t\t\t\t&:first-of-type {\n\t\t\t\t\t/* 4 buttons out of 7 (h-alignment + v-alignment) = 0.57 */\n\t\t\t\t\tflex-grow: 0.57;\n\t\t\t\t}\n\n\t\t\t\t&:last-of-type {\n\t\t\t\t\t/* 3 buttons out of 7 (h-alignment + v-alignment) = 0.43 */\n\t\t\t\t\tflex-grow: 0.43;\n\t\t\t\t}\n\n\t\t\t\t& .ck-button {\n\t\t\t\t\tflex-grow: 1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-table-cell-properties-form {\n\twidth: 320px;\n\n\t& .ck-form__row {\n\t\t&.ck-table-cell-properties-form__padding-row {\n\t\t\talign-self: flex-end;\n\t\t\tpadding: 0;\n\t\t\twidth: 25%;\n\t\t}\n\n\t\t&.ck-table-cell-properties-form__alignment-row {\n\t\t\t& .ck.ck-toolbar {\n\t\t\t\tbackground: none;\n\n\t\t\t\t/* Compensate for missing input label that would push the margin (toolbar has no inputs). */\n\t\t\t\tmargin-top: var(--ck-spacing-standard);\n\t\t\t}\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const R=S},4101:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,":root{--ck-color-selector-column-resizer-hover:var(--ck-color-base-active);--ck-table-column-resizer-width:7px;--ck-table-column-resizer-position-offset:calc(var(--ck-table-column-resizer-width)*-0.5 - 0.5px)}.ck-content .table .ck-table-resized{table-layout:fixed}.ck-content .table table{overflow:hidden}.ck-content .table td,.ck-content .table th{overflow-wrap:break-word;position:relative}.ck.ck-editor__editable .table .ck-table-column-resizer{bottom:0;cursor:col-resize;position:absolute;right:var(--ck-table-column-resizer-position-offset);top:0;user-select:none;width:var(--ck-table-column-resizer-width);z-index:var(--ck-z-default)}.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer,.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer{display:none}.ck.ck-editor__editable .table .ck-table-column-resizer:hover,.ck.ck-editor__editable .table .ck-table-column-resizer__active{background-color:var(--ck-color-selector-column-resizer-hover);bottom:-999999px;opacity:.25;top:-999999px}.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer{left:var(--ck-table-column-resizer-position-offset);right:unset}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecolumnresize.css"],names:[],mappings:"AAKA,MACC,oEAAqE,CACrE,mCAAoC,CAIpC,iGACD,CAEA,qCACC,kBACD,CAEA,yBACC,eACD,CAEA,4CAIC,wBAAyB,CACzB,iBACD,CAEA,wDAGC,QAAS,CAGT,iBAAkB,CALlB,iBAAkB,CAGlB,oDAAqD,CAFrD,KAAM,CAKN,gBAAiB,CAFjB,0CAA2C,CAG3C,2BACD,CAQA,qJACC,YACD,CAEA,8HAEC,8DAA+D,CAO/D,gBAAiB,CANjB,WAAa,CAKb,aAED,CAEA,iEACC,mDAAoD,CACpD,WACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-selector-column-resizer-hover: var(--ck-color-base-active);\n\t--ck-table-column-resizer-width: 7px;\n\n\t/* The offset used for absolute positioning of the resizer element, so that it is placed exactly above the cell border.\n\t   The value is: minus half the width of the resizer decreased additionaly by the half the width of the border (0.5px). */\n\t--ck-table-column-resizer-position-offset: calc(var(--ck-table-column-resizer-width) * -0.5 - 0.5px);\n}\n\n.ck-content .table .ck-table-resized {\n\ttable-layout: fixed;\n}\n\n.ck-content .table table {\n\toverflow: hidden;\n}\n\n.ck-content .table td,\n.ck-content .table th {\n\t/* To prevent text overflowing beyond its cell when columns are resized by resize handler\n\t(https://github.com/ckeditor/ckeditor5/pull/14379#issuecomment-1589460978). */\n\toverflow-wrap: break-word;\n\tposition: relative;\n}\n\n.ck.ck-editor__editable .table .ck-table-column-resizer {\n\tposition: absolute;\n\ttop: 0;\n\tbottom: 0;\n\tright: var(--ck-table-column-resizer-position-offset);\n\twidth: var(--ck-table-column-resizer-width);\n\tcursor: col-resize;\n\tuser-select: none;\n\tz-index: var(--ck-z-default);\n}\n\n.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer {\n\tdisplay: none;\n}\n\n/* The resizer elements, which are extended to an extremely high height, break the drag & drop feature in Chrome. To make it work again,\n   all resizers must be hidden while the table is dragged. */\n.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer {\n\tdisplay: none;\n}\n\n.ck.ck-editor__editable .table .ck-table-column-resizer:hover,\n.ck.ck-editor__editable .table .ck-table-column-resizer__active {\n\tbackground-color: var(--ck-color-selector-column-resizer-hover);\n\topacity: 0.25;\n\t/* The resizer element resides in each cell so to occupy the entire height of the table, which is unknown from a CSS point of view,\n\t   it is extended to an extremely high height. Even for screens with a very high pixel density, the resizer will fulfill its role as\n\t   it should, i.e. for a screen of 476 ppi the total height of the resizer will take over 350 sheets of A4 format, which is totally\n\t   unrealistic height for a single table. */\n\ttop: -999999px;\n\tbottom: -999999px;\n}\n\n.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer {\n\tleft: var(--ck-table-column-resizer-position-offset);\n\tright: unset;\n}\n"],sourceRoot:""}]);const R=S},3881:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,":root{--ck-color-selector-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-selector-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css"],names:[],mappings:"AAKA,MACC,gEACD,CAKE,8QAGC,2DAA4D,CAK5D,iBAAkB,CAClB,8CAA+C,CAC/C,mBACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-selector-focused-cell-background: hsla(212, 90%, 80%, .3);\n}\n\n.ck-widget.table {\n\t& td,\n\t& th {\n\t\t&.ck-editor__nested-editable.ck-editor__nested-editable_focused,\n\t\t&.ck-editor__nested-editable:focus {\n\t\t\t/* A very slight background to highlight the focused cell */\n\t\t\tbackground: var(--ck-color-selector-focused-cell-background);\n\n\t\t\t/* Fixes the problem where surrounding cells cover the focused cell's border.\n\t\t\tIt does not fix the problem in all places but the UX is improved.\n\t\t\tSee https://github.com/ckeditor/ckeditor5-table/issues/29. */\n\t\t\tborder-style: none;\n\t\t\toutline: 1px solid var(--ck-color-focus-border);\n\t\t\toutline-offset: -1px; /* progressive enhancement - no IE support */\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const R=S},6237:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,'.ck.ck-table-form .ck-form__row.ck-table-form__background-row,.ck.ck-table-form .ck-form__row.ck-table-form__border-row{flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{align-items:center;flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view{align-items:center;display:flex;flex-direction:column-reverse}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view .ck.ck-dropdown,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{flex-grow:0}.ck.ck-table-form .ck.ck-labeled-field-view{position:relative}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{bottom:calc(var(--ck-table-properties-error-arrow-size)*-1);left:50%;position:absolute;transform:translate(-50%,100%);z-index:1}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{content:"";left:50%;position:absolute;top:calc(var(--ck-table-properties-error-arrow-size)*-1);transform:translateX(-50%)}:root{--ck-table-properties-error-arrow-size:6px;--ck-table-properties-min-error-width:150px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-field-view>.ck-label{font-size:var(--ck-font-size-tiny);text-align:center}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-style,.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-width{max-width:80px;min-width:80px;width:80px}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{padding:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__height,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__width{margin:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{align-self:flex-end;display:inline-block;height:var(--ck-ui-component-min-height);line-height:var(--ck-ui-component-min-height);margin:0 var(--ck-spacing-small)}.ck.ck-table-form .ck.ck-labeled-field-view{padding-top:var(--ck-spacing-standard)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{border-radius:0}.ck-rounded-corners .ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status,.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{background:var(--ck-color-base-error);color:var(--ck-color-base-background);min-width:var(--ck-table-properties-min-error-width);padding:var(--ck-spacing-small) var(--ck-spacing-medium);text-align:center}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{border-color:transparent transparent var(--ck-color-base-error) transparent;border-style:solid;border-width:0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:ck-table-form-labeled-view-status-appear .15s ease both}.ck.ck-table-form .ck.ck-labeled-field-view .ck-input.ck-error:not(:focus)+.ck.ck-labeled-field-view__status{display:none}@keyframes ck-table-form-labeled-view-status-appear{0%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableform.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableform.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAWE,wHACC,cACD,CAEA,8DAEC,kBAAmB,CADnB,cAgBD,CAbC,qFAGC,kBAAmB,CAFnB,YAAa,CACb,6BAMD,CAEA,sMACC,WACD,CAIF,4CAEC,iBAoBD,CAlBC,8EAGC,2DAAgE,CADhE,QAAS,CADT,iBAAkB,CAGlB,8BAA+B,CAG/B,SAUD,CAPC,oFACC,UAAW,CAGX,QAAS,CAFT,iBAAkB,CAClB,wDAA6D,CAE7D,0BACD,CChDH,MACC,0CAA2C,CAC3C,2CACD,CAMI,2FACC,kCAAmC,CACnC,iBACD,CAGD,8KAIC,cAAe,CADf,cAAe,CADf,UAGD,CAGD,8DACC,SAcD,CAZC,yMAEC,QACD,CAEA,iGACC,mBAAoB,CACpB,oBAAqB,CACrB,wCAAyC,CACzC,6CAA8C,CAC9C,gCACD,CAIF,4CACC,sCAyBD,CAvBC,8ECxCD,eDyDC,CAjBA,mMCpCA,qCDqDA,CAjBA,8EAGC,qCAAsC,CACtC,qCAAsC,CAEtC,oDAAqD,CADrD,wDAAyD,CAEzD,iBAUD,CAPC,oFACC,2EAA4E,CAE5E,kBAAmB,CADnB,kJAED,CAdD,8EAgBC,iEACD,CAGA,6GACC,YACD,CAIF,oDACC,GACC,SACD,CAEA,GACC,SACD,CACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-table-form {\n\t& .ck-form__row {\n\t\t&.ck-table-form__border-row {\n\t\t\tflex-wrap: wrap;\n\t\t}\n\n\t\t&.ck-table-form__background-row {\n\t\t\tflex-wrap: wrap;\n\t\t}\n\n\t\t&.ck-table-form__dimensions-row {\n\t\t\tflex-wrap: wrap;\n\t\t\talign-items: center;\n\n\t\t\t& .ck-labeled-field-view {\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column-reverse;\n\t\t\t\talign-items: center;\n\n\t\t\t\t& .ck.ck-dropdown {\n\t\t\t\t\tflex-grow: 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t& .ck-table-form__dimension-operator {\n\t\t\t\tflex-grow: 0;\n\t\t\t}\n\t\t}\n\t}\n\n\t& .ck.ck-labeled-field-view {\n\t\t/* Allow absolute positioning of the status (error) balloons. */\n\t\tposition: relative;\n\n\t\t& .ck.ck-labeled-field-view__status {\n\t\t\tposition: absolute;\n\t\t\tleft: 50%;\n\t\t\tbottom: calc( -1 * var(--ck-table-properties-error-arrow-size) );\n\t\t\ttransform: translate(-50%,100%);\n\n\t\t\t/* Make sure the balloon status stays on top of other form elements. */\n\t\t\tz-index: 1;\n\n\t\t\t/* The arrow pointing towards the field. */\n\t\t\t&::after {\n\t\t\t\tcontent: "";\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: calc( -1 * var(--ck-table-properties-error-arrow-size) );\n\t\t\t\tleft: 50%;\n\t\t\t\ttransform: translateX( -50% );\n\t\t\t}\n\t\t}\n\t}\n}\n','/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../mixins/_rounded.css";\n\n:root {\n\t--ck-table-properties-error-arrow-size: 6px;\n\t--ck-table-properties-min-error-width: 150px;\n}\n\n.ck.ck-table-form {\n\t& .ck-form__row {\n\t\t&.ck-table-form__border-row {\n\t\t\t& .ck-labeled-field-view {\n\t\t\t\t& > .ck-label {\n\t\t\t\t\tfont-size: var(--ck-font-size-tiny);\n\t\t\t\t\ttext-align: center;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t& .ck-table-form__border-style,\n\t\t\t& .ck-table-form__border-width {\n\t\t\t\twidth: 80px;\n\t\t\t\tmin-width: 80px;\n\t\t\t\tmax-width: 80px;\n\t\t\t}\n\t\t}\n\n\t\t&.ck-table-form__dimensions-row {\n\t\t\tpadding: 0;\n\n\t\t\t& .ck-table-form__dimensions-row__width,\n\t\t\t& .ck-table-form__dimensions-row__height {\n\t\t\t\tmargin: 0\n\t\t\t}\n\n\t\t\t& .ck-table-form__dimension-operator {\n\t\t\t\talign-self: flex-end;\n\t\t\t\tdisplay: inline-block;\n\t\t\t\theight: var(--ck-ui-component-min-height);\n\t\t\t\tline-height: var(--ck-ui-component-min-height);\n\t\t\t\tmargin: 0 var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\t}\n\n\t& .ck.ck-labeled-field-view {\n\t\tpadding-top: var(--ck-spacing-standard);\n\n\t\t& .ck.ck-labeled-field-view__status {\n\t\t\t@mixin ck-rounded-corners;\n\n\t\t\tbackground: var(--ck-color-base-error);\n\t\t\tcolor: var(--ck-color-base-background);\n\t\t\tpadding: var(--ck-spacing-small) var(--ck-spacing-medium);\n\t\t\tmin-width: var(--ck-table-properties-min-error-width);\n\t\t\ttext-align: center;\n\n\t\t\t/* The arrow pointing towards the field. */\n\t\t\t&::after {\n\t\t\t\tborder-color: transparent transparent var(--ck-color-base-error) transparent;\n\t\t\t\tborder-width: 0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size);\n\t\t\t\tborder-style: solid;\n\t\t\t}\n\n\t\t\tanimation: ck-table-form-labeled-view-status-appear .15s ease both;\n\t\t}\n\n\t\t/* Hide the error balloon when the field is blurred. Makes the experience much more clear. */\n\t\t& .ck-input.ck-error:not(:focus) + .ck.ck-labeled-field-view__status {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n\n@keyframes ck-table-form-labeled-view-status-appear {\n\t0% {\n\t\topacity: 0;\n\t}\n\n\t100% {\n\t\topacity: 1;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const R=S},7341:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,".ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-content:baseline;flex-basis:0;flex-wrap:wrap}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items{flex-wrap:nowrap}.ck.ck-table-properties-form{width:320px}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-self:flex-end;padding:0}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items>*{width:40px}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableproperties.css"],names:[],mappings:"AAOE,mFAGC,sBAAuB,CADvB,YAAa,CADb,cAOD,CAHC,qHACC,gBACD,CCTH,6BACC,WAmBD,CAhBE,mFACC,mBAAoB,CACpB,SAYD,CAVC,kGACC,eAAgB,CAGhB,qCAKD,CAHC,uHACC,UACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-table-properties-form {\n\t& .ck-form__row {\n\t\t&.ck-table-properties-form__alignment-row {\n\t\t\tflex-wrap: wrap;\n\t\t\tflex-basis: 0;\n\t\t\talign-content: baseline;\n\n\t\t\t& .ck.ck-toolbar .ck-toolbar__items {\n\t\t\t\tflex-wrap: nowrap;\n\t\t\t}\n\t\t}\n\t}\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-table-properties-form {\n\twidth: 320px;\n\n\t& .ck-form__row {\n\t\t&.ck-table-properties-form__alignment-row {\n\t\t\talign-self: flex-end;\n\t\t\tpadding: 0;\n\n\t\t\t& .ck.ck-toolbar {\n\t\t\t\tbackground: none;\n\n\t\t\t\t/* Compensate for missing input label that would push the margin (toolbar has no inputs). */\n\t\t\t\tmargin-top: var(--ck-spacing-standard);\n\n\t\t\t\t& .ck-toolbar__items > * {\n\t\t\t\t\twidth: 40px;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const R=S},6945:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',"",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css"],names:[],mappings:"AAKA,MACC,wDACD,CAGC,0IAKC,gBAAiB,CAFjB,uBAAwB,CACxB,aAAc,CAFd,iBAiCD,CA3BC,sJAGC,yDAA0D,CAK1D,QAAS,CAPT,UAAW,CAKX,MAAO,CAJP,mBAAoB,CAEpB,iBAAkB,CAGlB,OAAQ,CAFR,KAID,CAEA,wTAEC,4BACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);\n}\n\n.ck.ck-editor__editable .table table {\n\t& td.ck-editor__editable_selected,\n\t& th.ck-editor__editable_selected {\n\t\tposition: relative;\n\t\tcaret-color: transparent;\n\t\toutline: unset;\n\t\tbox-shadow: unset;\n\n\t\t/* https://github.com/ckeditor/ckeditor5/issues/6446 */\n\t\t&:after {\n\t\t\tcontent: '';\n\t\t\tpointer-events: none;\n\t\t\tbackground-color: var(--ck-table-selected-cell-background);\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\tright: 0;\n\t\t\tbottom: 0;\n\t\t}\n\n\t\t& ::selection,\n\t\t&:focus {\n\t\t\tbackground-color: transparent;\n\t\t}\n\n\t\t/*\n\t\t * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/9491.\n\t\t */\n\t\t& .ck-widget {\n\t\t\toutline: unset;\n\n\t\t\t& > .ck-widget__selection-handle {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const R=S},8157:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,".ck.ck-autocomplete{position:relative}.ck.ck-autocomplete>.ck-search__results{position:absolute;z-index:var(--ck-z-modal)}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{bottom:100%}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{bottom:auto;top:100%}.ck.ck-autocomplete>.ck-search__results{border-radius:0}.ck-rounded-corners .ck.ck-autocomplete>.ck-search__results,.ck.ck-autocomplete>.ck-search__results.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-autocomplete>.ck-search__results{background:var(--ck-color-base-background);border:1px solid var(--ck-color-dropdown-panel-border);box-shadow:var(--ck-drop-shadow),0 0;max-height:200px;min-width:auto;overflow-y:auto}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{border-bottom-left-radius:0;border-bottom-right-radius:0;margin-bottom:-1px}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{border-top-left-radius:0;border-top-right-radius:0;margin-top:-1px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/autocomplete/autocomplete.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/autocomplete/autocomplete.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,oBACC,iBAeD,CAbC,wCACC,iBAAkB,CAClB,yBAUD,CARC,6DACC,WACD,CAEA,6DAEC,WAAY,CADZ,QAED,CCVD,wCCEA,eDuBA,CAzBA,uHCMC,qCDmBD,CAzBA,wCAMC,0CAA2C,CAC3C,sDAAuD,CEPxD,oCAA8B,CFI7B,gBAAiB,CAIjB,cAAe,CAHf,eAoBD,CAfC,6DACC,2BAA4B,CAC5B,4BAA6B,CAG7B,kBACD,CAEA,6DACC,wBAAyB,CACzB,yBAA0B,CAG1B,eACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-autocomplete {\n\tposition: relative;\n\n\t& > .ck-search__results {\n\t\tposition: absolute;\n\t\tz-index: var(--ck-z-modal);\n\n\t\t&.ck-search__results_n {\n\t\t\tbottom: 100%;\n\t\t}\n\n\t\t&.ck-search__results_s {\n\t\t\ttop: 100%;\n\t\t\tbottom: auto;\n\t\t}\n\t}\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css";\n@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css";\n\n.ck.ck-autocomplete {\n\t& > .ck-search__results {\n\t\t@mixin ck-rounded-corners;\n\t\t@mixin ck-drop-shadow;\n\n\t\tmax-height: 200px;\n\t\toverflow-y: auto;\n\t\tbackground: var(--ck-color-base-background);\n\t\tborder: 1px solid var(--ck-color-dropdown-panel-border);\n\t\tmin-width: auto;\n\n\t\t&.ck-search__results_n {\n\t\t\tborder-bottom-left-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\n\t\t\t/* Prevent duplicated borders between the input and the results pane. */\n\t\t\tmargin-bottom: -1px;\n\t\t}\n\n\t\t&.ck-search__results_s {\n\t\t\tborder-top-left-radius: 0;\n\t\t\tborder-top-right-radius: 0;\n\n\t\t\t/* Prevent duplicated borders between the input and the results pane. */\n\t\t\tmargin-top: -1px;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const R=S},4906:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;justify-content:left;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/button.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAOA,6BAMC,kBAAmB,CADnB,mBAAoB,CAEpB,oBAAqB,CAHrB,iBAAkB,CCFlB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDkBD,CAdC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEjBD,6BCAC,oDD4ID,CCzIE,6EACC,0DACD,CAEA,+EACC,2DACD,CAID,qDACC,6DACD,CDfD,6BEDC,eF6ID,CA5IA,wIEGE,qCFyIF,CA5IA,6BA6BC,uBAAwB,CANxB,4BAA6B,CAjB7B,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBAuID,CA7GC,oFGhCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHqCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAYD,CAbA,6FAIE,mCASF,CAbA,6FAQE,oCAKF,CAbA,yEAWC,eAAiB,CACjB,UACD,CAIC,oIIrFD,oDJyFC,CAOA,gLKhGD,kCLkGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAQE,mCAAoC,CADpC,6CAGF,CAKA,mHACC,WACD,CAID,yCC/HA,+CDmIA,CChIC,yFACC,qDACD,CAEA,2FACC,sDACD,CAID,iEACC,wDACD,CDgHA,yCAGC,qCACD,CAEA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CC/IC,mDDoJD,CCjJE,2FACC,yDACD,CAEA,6FACC,0DACD,CAID,mEACC,4DACD,CDgID,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../mixins/_unselectable.css";\n\n.ck.ck-button,\na.ck.ck-button {\n\t@mixin ck-unselectable;\n\n\tposition: relative;\n\tdisplay: inline-flex;\n\talign-items: center;\n\tjustify-content: left;\n\n\t& .ck-button__label {\n\t\tdisplay: none;\n\t}\n\n\t&.ck-button_with-text {\n\t\t& .ck-button__label {\n\t\t\tdisplay: inline-block;\n\t\t}\n\t}\n\n\t/* Center the icon horizontally in a button without text. */\n\t&:not(.ck-button_with-text)  {\n\t\tjustify-content: center;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Makes element unselectable.\n */\n@define-mixin ck-unselectable {\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_focus.css";\n@import "../../../mixins/_shadow.css";\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_rounded.css";\n@import "../../mixins/_button.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck.ck-button,\na.ck.ck-button {\n\t@mixin ck-button-colors --ck-color-button-default;\n\t@mixin ck-rounded-corners;\n\n\twhite-space: nowrap;\n\tcursor: default;\n\tvertical-align: middle;\n\tpadding: var(--ck-spacing-tiny);\n\ttext-align: center;\n\n\t/* A very important piece of styling. Go to variable declaration to learn more. */\n\tmin-width: var(--ck-ui-component-min-height);\n\tmin-height: var(--ck-ui-component-min-height);\n\n\t/* Normalize the height of the line. Removing this will break consistent height\n\tamong text and text-less buttons (with icons). */\n\tline-height: 1;\n\n\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\tfont-size: inherit;\n\n\t/* Avoid flickering when the foucs border shows up. */\n\tborder: 1px solid transparent;\n\n\t/* Apply some smooth transition to the box-shadow and border. */\n\ttransition: box-shadow .2s ease-in-out, border .2s ease-in-out;\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */\n\t-webkit-appearance: none;\n\n\t&:active,\n\t&:focus {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-focus-outer-shadow);\n\t}\n\n\t/* Allow icon coloring using the text "color" property. */\n\t& .ck-button__icon {\n\t\t& use,\n\t\t& use * {\n\t\t\tcolor: inherit;\n\t\t}\n\t}\n\n\t& .ck-button__label {\n\t\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\t\tfont-size: inherit;\n\t\tfont-weight: inherit;\n\t\tcolor: inherit;\n\t\tcursor: inherit;\n\n\t\t/* Must be consistent with .ck-icon\'s vertical align. Otherwise, buttons with and\n\t\twithout labels (but with icons) have different sizes in Chrome */\n\t\tvertical-align: middle;\n\n\t\t@mixin ck-dir ltr {\n\t\t\ttext-align: left;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\ttext-align: right;\n\t\t}\n\t}\n\n\t& .ck-button__keystroke {\n\t\tcolor: inherit;\n\n\t\t@mixin ck-dir ltr {\n\t\t\tmargin-left: var(--ck-spacing-large);\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tmargin-right: var(--ck-spacing-large);\n\t\t}\n\n\t\tfont-weight: bold;\n\t\topacity: .7;\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */\n\t&.ck-disabled {\n\t\t&:active,\n\t\t&:focus {\n\t\t\t/* The disabled button should have a slightly less visible shadow when focused. */\n\t\t\t@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);\n\t\t}\n\n\t\t& .ck-button__icon {\n\t\t\t@mixin ck-disabled;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */\n\t\t& .ck-button__label {\n\t\t\t@mixin ck-disabled;\n\t\t}\n\n\t\t& .ck-button__keystroke {\n\t\t\topacity: .3;\n\t\t}\n\t}\n\n\t&.ck-button_with-text {\n\t\tpadding: var(--ck-spacing-tiny) var(--ck-spacing-standard);\n\n\t\t/* stylelint-disable-next-line no-descending-specificity */\n\t\t& .ck-button__icon {\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tmargin-left: calc(-1 * var(--ck-spacing-small));\n\t\t\t\tmargin-right: var(--ck-spacing-small);\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-right: calc(-1 * var(--ck-spacing-small));\n\t\t\t\tmargin-left: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\t}\n\n\t&.ck-button_with-keystroke {\n\t\t/* stylelint-disable-next-line no-descending-specificity */\n\t\t& .ck-button__label {\n\t\t\tflex-grow: 1;\n\t\t}\n\t}\n\n\t/* A style of the button which is currently on, e.g. its feature is active. */\n\t&.ck-on {\n\t\t@mixin ck-button-colors --ck-color-button-on;\n\n\t\tcolor: var(--ck-color-button-on-color);\n\t}\n\n\t&.ck-button-save {\n\t\tcolor: var(--ck-color-button-save);\n\t}\n\n\t&.ck-button-cancel {\n\t\tcolor: var(--ck-color-button-cancel);\n\t}\n}\n\n/* A style of the button which handles the primary action. */\n.ck.ck-button-action,\na.ck.ck-button-action {\n\t@mixin ck-button-colors --ck-color-button-action;\n\n\tcolor: var(--ck-color-button-action-text);\n}\n\n.ck.ck-button-bold,\na.ck.ck-button-bold {\n\tfont-weight: bold;\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements a button of given background color.\n *\n * @param {String} $background - Background color of the button.\n * @param {String} $border - Border color of the button.\n */\n@define-mixin ck-button-colors $prefix {\n\tbackground: var($(prefix)-background);\n\n\t&:not(.ck-disabled) {\n\t\t&:hover {\n\t\t\tbackground: var($(prefix)-hover-background);\n\t\t}\n\n\t\t&:active {\n\t\t\tbackground: var($(prefix)-active-background);\n\t\t}\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */\n\t&.ck-disabled {\n\t\tbackground: var($(prefix)-disabled-background);\n\t}\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which indicates that an element holding it is disabled.\n */\n@define-mixin ck-disabled {\n\topacity: var(--ck-disabled-opacity);\n}\n"],sourceRoot:""}]);const R=S},5332:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,0DAAgE,CAChE,2HAIC,CACD,0FACD,CAOC,0QAEC,sBAAuB,CADvB,aAED,CAEA,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDCpCA,eD4EA,CAxCA,yIChCC,qCDwED,CAxCA,2DAKE,gBAmCF,CAxCA,2DAUE,iBA8BF,CAxCA,iDAkBC,uDAAwD,CAFxD,4BAA6B,CAD7B,iFAAsF,CAEtF,0CAuBD,CApBC,2ECxDD,eDmEC,CAXA,6LCpDA,qCAAsC,CDsDpC,8CASF,CAXA,2EAOC,yDAA0D,CAD1D,gDAAiD,CAIjD,uBAA0B,CAL1B,+CAMD,CAEA,uDACC,6DAKD,CAHC,iFACC,qDACD,CAIF,6DEhFA,kCFkFA,CAGA,oCACC,wBAAyB,CAEzB,eAAgB,CADhB,YAQD,CALC,uDACC,iGAAmG,CAEnG,4BAA6B,CAD7B,kBAED,CAKA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,2DAMF,CAXA,2FASE,oEAEF",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-button.ck-switchbutton {\n\t& .ck-button__toggle {\n\t\tdisplay: block;\n\n\t\t& .ck-button__toggle__inner {\n\t\t\tdisplay: block;\n\t\t}\n\t}\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_disabled.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature\nof the component, floating\u2013point numbers have been used which, for the default font size\n(see: --ck-font-size-base), will generate simple integers. */\n:root {\n\t/* 34px at 13px font-size */\n\t--ck-switch-button-toggle-width: 2.6153846154em;\n\t/* 14px at 13px font-size */\n\t--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);\n\t--ck-switch-button-translation: calc(\n\t\tvar(--ck-switch-button-toggle-width) -\n\t\tvar(--ck-switch-button-toggle-inner-size) -\n\t\t2px /* Border */\n\t);\n\t--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);\n}\n\n.ck.ck-button.ck-switchbutton {\n\t/* Unlike a regular button, the switch button text color and background should never change.\n\t * Changing toggle switch (background, outline) is enough to carry the information about the\n\t * state of the entire component (https://github.com/ckeditor/ckeditor5/issues/12519)\n\t */\n\t&, &:hover, &:focus, &:active, &.ck-on:hover, &.ck-on:focus, &.ck-on:active {\n\t\tcolor: inherit;\n\t\tbackground: transparent;\n\t}\n\n\t& .ck-button__label {\n\t\t@mixin ck-dir ltr {\n\t\t\t/* Separate the label from the switch */\n\t\t\tmargin-right: calc(2 * var(--ck-spacing-large));\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\t/* Separate the label from the switch */\n\t\t\tmargin-left: calc(2 * var(--ck-spacing-large));\n\t\t}\n\t}\n\n\t& .ck-button__toggle {\n\t\t@mixin ck-rounded-corners;\n\n\t\t@mixin ck-dir ltr {\n\t\t\t/* Make sure the toggle is always to the right as far as possible. */\n\t\t\tmargin-left: auto;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\t/* Make sure the toggle is always to the left as far as possible. */\n\t\t\tmargin-right: auto;\n\t\t}\n\n\t\t/* Apply some smooth transition to the box-shadow and border. */\n\t\t/* Gently animate the background color of the toggle switch */\n\t\ttransition: background 400ms ease, box-shadow .2s ease-in-out, outline .2s ease-in-out;\n\t\tborder: 1px solid transparent;\n\t\twidth: var(--ck-switch-button-toggle-width);\n\t\tbackground: var(--ck-color-switch-button-off-background);\n\n\t\t& .ck-button__toggle__inner {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-radius: calc(.5 * var(--ck-border-radius));\n\t\t\t}\n\n\t\t\twidth: var(--ck-switch-button-toggle-inner-size);\n\t\t\theight: var(--ck-switch-button-toggle-inner-size);\n\t\t\tbackground: var(--ck-color-switch-button-inner-background);\n\n\t\t\t/* Gently animate the inner part of the toggle switch */\n\t\t\ttransition: all 300ms ease;\n\t\t}\n\n\t\t&:hover {\n\t\t\tbackground: var(--ck-color-switch-button-off-hover-background);\n\n\t\t\t& .ck-button__toggle__inner {\n\t\t\t\tbox-shadow: var(--ck-switch-button-inner-hover-shadow);\n\t\t\t}\n\t\t}\n\t}\n\n\t&.ck-disabled .ck-button__toggle {\n\t\t@mixin ck-disabled;\n\t}\n\n\t/* Overriding default .ck-button:focus styles + an outline around the toogle */\n\t&:focus {\n\t\tborder-color: transparent;\n\t\toutline: none;\n\t\tbox-shadow: none;\n\n\t\t& .ck-button__toggle {\n\t\t\tbox-shadow: 0 0 0 1px var(--ck-color-base-background), 0 0 0 5px var(--ck-color-focus-outer-shadow);\n\t\t\toutline-offset: 1px;\n\t\t\toutline: var(--ck-focus-ring);\n\t\t}\n\t}\n\n\t/* stylelint-disable-next-line no-descending-specificity */\n\t&.ck-on {\n\t\t& .ck-button__toggle {\n\t\t\tbackground: var(--ck-color-switch-button-on-background);\n\n\t\t\t&:hover {\n\t\t\t\tbackground: var(--ck-color-switch-button-on-hover-background);\n\t\t\t}\n\n\t\t\t& .ck-button__toggle__inner {\n\t\t\t\t/*\n\t\t\t\t* Move the toggle switch to the right. It will be animated.\n\t\t\t\t*/\n\t\t\t\t@mixin ck-dir ltr {\n\t\t\t\t\ttransform: translateX( var( --ck-switch-button-translation ) );\n\t\t\t\t}\n\n\t\t\t\t@mixin ck-dir rtl {\n\t\t\t\t\ttransform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which indicates that an element holding it is disabled.\n */\n@define-mixin ck-disabled {\n\topacity: var(--ck-disabled-opacity);\n}\n"],sourceRoot:""}]);const R=S},6781:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-selector__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css"],names:[],mappings:"AAKA,kBACC,YACD,CCAA,MACC,8BAA+B,CAK/B,wCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBAOC,QAAS,CALT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CACV,8BAA+B,CAL/B,oCAyCD,CAjCC,oCACC,YAAa,CACb,gBACD,CAEA,+DACC,gDACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAEA,8BACC,8FAKD,CAHC,0CACC,aACD,CAGD,8HAIC,QACD,CAEA,gGAEC,iGACD,CAGD,yBACC,oCACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-color-grid {\n\tdisplay: grid;\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n:root {\n\t--ck-color-grid-tile-size: 24px;\n\n\t/* Not using global colors here because these may change but some colors in a pallette\n\t * require special treatment. For instance, this ensures no matter what the UI text color is,\n\t * the check icon will look good on the black color tile. */\n\t--ck-color-color-grid-check-icon: hsl(212, 81%, 46%);\n}\n\n.ck.ck-color-grid {\n\tgrid-gap: 5px;\n\tpadding: 8px;\n}\n\n.ck.ck-color-grid__tile {\n\twidth: var(--ck-color-grid-tile-size);\n\theight: var(--ck-color-grid-tile-size);\n\tmin-width: var(--ck-color-grid-tile-size);\n\tmin-height: var(--ck-color-grid-tile-size);\n\tpadding: 0;\n\ttransition: .2s ease box-shadow;\n\tborder: 0;\n\n\t&.ck-disabled {\n\t\tcursor: unset;\n\t\ttransition: unset;\n\t}\n\n\t&.ck-color-selector__color-tile_bordered {\n\t\tbox-shadow: 0 0 0 1px var(--ck-color-base-border);\n\t}\n\n\t& .ck.ck-icon {\n\t\tdisplay: none;\n\t\tcolor: var(--ck-color-color-grid-check-icon);\n\t}\n\n\t&.ck-on {\n\t\tbox-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);\n\n\t\t& .ck.ck-icon {\n\t\t\tdisplay: block;\n\t\t}\n\t}\n\n\t&.ck-on,\n\t&:focus:not( .ck-disabled ),\n\t&:hover:not( .ck-disabled ) {\n\t\t/* Disable the default .ck-button\'s border ring. */\n\t\tborder: 0;\n\t}\n\n\t&:focus:not( .ck-disabled ),\n\t&:hover:not( .ck-disabled ) {\n\t\tbox-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);\n\t}\n}\n\n.ck.ck-color-grid__label {\n\tpadding: 0 var(--ck-spacing-standard);\n}\n'],sourceRoot:""}]);const R=S},3398:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,".color-picker-hex-input{width:max-content}.color-picker-hex-input .ck.ck-input{min-width:unset}.ck.ck-color-picker__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;margin:var(--ck-spacing-large) 0 0;width:unset}.ck.ck-color-picker__row .ck.ck-labeled-field-view{padding-top:unset}.ck.ck-color-picker__row .ck.ck-input-text{width:unset}.ck.ck-color-picker__row .ck-color-picker__hash-view{padding-right:var(--ck-spacing-medium);padding-top:var(--ck-spacing-tiny)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorpicker/colorpicker.css"],names:[],mappings:"AAKA,wBACC,iBAKD,CAHC,qCACC,eACD,CAGD,yBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAA8B,CAC9B,kCAAmC,CACnC,WAcD,CAZC,mDACC,iBACD,CAEA,2CACC,WACD,CAEA,qDAEC,sCAAuC,CADvC,kCAED",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.color-picker-hex-input {\n\twidth: max-content;\n\n\t& .ck.ck-input {\n\t\tmin-width: unset;\n\t}\n}\n\n.ck.ck-color-picker__row {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\tjustify-content: space-between;\n\tmargin: var(--ck-spacing-large) 0 0;\n\twidth: unset;\n\n\t& .ck.ck-labeled-field-view {\n\t\tpadding-top: unset;\n\t}\n\n\t& .ck.ck-input-text {\n\t\twidth: unset;\n\t}\n\n\t& .ck-color-picker__hash-view {\n\t\tpadding-top: var(--ck-spacing-tiny);\n\t\tpadding-right: var(--ck-spacing-medium);\n\t}\n}\n"],sourceRoot:""}]);const R=S},4157:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,".ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{align-items:center;display:flex}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{justify-content:flex-start}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{display:flex;flex-direction:row;justify-content:space-around}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-cancel,.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-save{flex:1}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{width:100%}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-left:var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment label.ck.ck-color-grid__label{font-weight:unset}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker{padding:8px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker{height:100px;min-width:180px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation){border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue){border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius)}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue-pointer),.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation-pointer){height:15px;width:15px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{padding:0 8px 8px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorselector/colorselector.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorselector/colorselector.css"],names:[],mappings:"AAUE,oLAGC,kBAAmB,CADnB,YAMD,CARA,wMAME,0BAEF,CAKA,iFACC,YAAa,CACb,kBAAmB,CACnB,4BAMD,CAJC,oMAEC,MACD,CCrBD,oLAEC,UACD,CAEA,0FAEC,2BAA4B,CAC5B,4BAA6B,CAF7B,qEAiBD,CAbC,sGACC,gDACD,CAEA,gHAEE,uCAMF,CARA,gHAME,sCAEF,CAGD,6EACC,iBACD,CAKA,oEACC,WAoBD,CAlBC,sFACC,YAAa,CACb,eAeD,CAbC,wGACC,iEACD,CAEA,iGACC,iEACD,CAEA,yNAGC,WAAY,CADZ,UAED,CAIF,iFACC,iBACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck.ck-color-selector {\n\t/* View fragment with color grids. */\n\t& .ck-color-grids-fragment {\n\t\t& .ck-button.ck-color-selector__remove-color,\n\t\t& .ck-button.ck-color-selector__color-picker {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tjustify-content: flex-start;\n\t\t\t}\n\t\t}\n\t}\n\n\t/* View fragment with a color picker. */\n\t& .ck-color-picker-fragment {\n\t\t& .ck.ck-color-selector_action-bar {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: row;\n\t\t\tjustify-content: space-around;\n\n\t\t\t& .ck-button-save,\n\t\t\t& .ck-button-cancel {\n\t\t\t\tflex: 1\n\t\t\t}\n\t\t}\n\t}\n}\n','/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck.ck-color-selector {\n\t/* View fragment with color grids. */\n\t& .ck-color-grids-fragment {\n\t\t& .ck-button.ck-color-selector__remove-color,\n\t\t& .ck-button.ck-color-selector__color-picker {\n\t\t\twidth: 100%;\n\t\t}\n\n\t\t& .ck-button.ck-color-selector__color-picker {\n\t\t\tpadding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);\n\t\t\tborder-bottom-left-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\n\t\t\t&:not(:focus) {\n\t\t\t\tborder-top: 1px solid var(--ck-color-base-border);\n\t\t\t}\n\n\t\t\t& .ck.ck-icon {\n\t\t\t\t@mixin ck-dir ltr {\n\t\t\t\t\tmargin-right: var(--ck-spacing-standard);\n\t\t\t\t}\n\n\t\t\t\t@mixin ck-dir rtl {\n\t\t\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t& label.ck.ck-color-grid__label {\n\t\t\tfont-weight: unset;\n\t\t}\n\t}\n\n\t/* View fragment with a color picker. */\n\t& .ck-color-picker-fragment {\n\t\t& .ck.ck-color-picker {\n\t\t\tpadding: 8px;\n\n\t\t\t& .hex-color-picker {\n\t\t\t\theight: 100px;\n\t\t\t\tmin-width: 180px;\n\n\t\t\t\t&::part(saturation) {\n\t\t\t\t\tborder-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;\n\t\t\t\t}\n\n\t\t\t\t&::part(hue) {\n\t\t\t\t\tborder-radius: 0 0 var(--ck-border-radius) var(--ck-border-radius);\n\t\t\t\t}\n\n\t\t\t\t&::part(saturation-pointer),\n\t\t\t\t&::part(hue-pointer) {\n\t\t\t\t\twidth: 15px;\n\t\t\t\t\theight: 15px;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t& .ck.ck-color-selector_action-bar {\n\t\t\tpadding: 0 8px 8px;\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const R=S},5485:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-modal)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-modal) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}.ck.ck-dropdown__panel:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBA2ED,CAzEC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UACD,CAEA,oCACC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CCpFA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eHkHD,CAhCA,qFG9EE,qCH8GF,CAhCA,uBAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CE1FT,oCAA8B,CF6F9B,cAuBD,CAnBC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD,CAEA,6BACC,YACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-dropdown-max-width: 75vw;\n}\n\n.ck.ck-dropdown {\n\tdisplay: inline-block;\n\tposition: relative;\n\n\t& .ck-dropdown__arrow {\n\t\tpointer-events: none;\n\t\tz-index: var(--ck-z-default);\n\t}\n\n\t/* Dropdown button should span horizontally, e.g. in vertical toolbars */\n\t& .ck-button.ck-dropdown__button {\n\t\twidth: 100%;\n\t}\n\n\t& .ck-dropdown__panel {\n\t\tdisplay: none;\n\t\tz-index: var(--ck-z-modal);\n\t\tmax-width: var(--ck-dropdown-max-width);\n\n\t\tposition: absolute;\n\n\t\t&.ck-dropdown__panel-visible {\n\t\t\tdisplay: inline-block;\n\t\t}\n\n\t\t&.ck-dropdown__panel_ne,\n\t\t&.ck-dropdown__panel_nw,\n\t\t&.ck-dropdown__panel_n,\n\t\t&.ck-dropdown__panel_nmw,\n\t\t&.ck-dropdown__panel_nme {\n\t\t\tbottom: 100%;\n\t\t}\n\n\t\t&.ck-dropdown__panel_se,\n\t\t&.ck-dropdown__panel_sw,\n\t\t&.ck-dropdown__panel_smw,\n\t\t&.ck-dropdown__panel_sme,\n\t\t&.ck-dropdown__panel_s {\n\t\t\t/*\n\t\t\t * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.\n\t\t\t * See https://github.com/ckeditor/ckeditor5/issues/1053.\n\t\t\t */\n\t\t\ttop: 100%;\n\t\t\tbottom: auto;\n\t\t}\n\n\t\t&.ck-dropdown__panel_ne,\n\t\t&.ck-dropdown__panel_se {\n\t\t\tleft: 0px;\n\t\t}\n\n\t\t&.ck-dropdown__panel_nw,\n\t\t&.ck-dropdown__panel_sw {\n\t\t\tright: 0px;\n\t\t}\n\n\t\t&.ck-dropdown__panel_s,\n\t\t&.ck-dropdown__panel_n {\n\t\t\t/* Positioning panels relative to the center of the button */\n\t\t\tleft: 50%;\n\t\t\ttransform: translateX(-50%);\n\t\t}\n\n\t\t&.ck-dropdown__panel_nmw,\n\t\t&.ck-dropdown__panel_smw {\n\t\t\t/* Positioning panels relative to the middle-west of the button */\n\t\t\tleft: 75%;\n\t\t\ttransform: translateX(-75%);\n\t\t}\n\n\t\t&.ck-dropdown__panel_nme,\n\t\t&.ck-dropdown__panel_sme {\n\t\t\t/* Positioning panels relative to the middle-east of the button */\n\t\t\tleft: 25%;\n\t\t\ttransform: translateX(-25%);\n\t\t}\n\t}\n}\n\n/*\n * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.\n * See https://github.com/ckeditor/ckeditor5/issues/7874\n */\n.ck.ck-toolbar .ck-dropdown__panel {\n\tz-index: calc( var(--ck-z-modal) + 1 );\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_shadow.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n:root {\n\t--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));\n}\n\n.ck.ck-dropdown {\n\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\tfont-size: inherit;\n\n\t& .ck-dropdown__arrow {\n\t\twidth: var(--ck-dropdown-arrow-size);\n\t}\n\n\t@mixin ck-dir ltr {\n\t\t& .ck-dropdown__arrow {\n\t\t\tright: var(--ck-spacing-standard);\n\n\t\t\t/* A space to accommodate the triangle. */\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-dir rtl {\n\t\t& .ck-dropdown__arrow {\n\t\t\tleft: var(--ck-spacing-standard);\n\n\t\t\t/* A space to accommodate the triangle. */\n\t\t\tmargin-right: var(--ck-spacing-small);\n\t\t}\n\t}\n\n\t&.ck-disabled .ck-dropdown__arrow {\n\t\t@mixin ck-disabled;\n\t}\n\n\t& .ck-button.ck-dropdown__button {\n\t\t@mixin ck-dir ltr {\n\t\t\t&:not(.ck-button_with-text) {\n\t\t\t\t/* Make sure dropdowns with just an icon have the right inner spacing */\n\t\t\t\tpadding-left: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\t&:not(.ck-button_with-text) {\n\t\t\t\t/* Make sure dropdowns with just an icon have the right inner spacing */\n\t\t\t\tpadding-right: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\n\t\t/* #23 */\n\t\t& .ck-button__label {\n\t\t\twidth: 7em;\n\t\t\toverflow: hidden;\n\t\t\ttext-overflow: ellipsis;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */\n\t\t&.ck-disabled .ck-button__label {\n\t\t\t@mixin ck-disabled;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5/issues/816 */\n\t\t&.ck-on {\n\t\t\tborder-bottom-left-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\n\t\t&.ck-dropdown__button_label-width_auto .ck-button__label {\n\t\t\twidth: auto;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5/issues/8699 */\n\t\t&.ck-off:active,\n\t\t&.ck-on:active {\n\t\t\tbox-shadow: none;\n\n\t\t\t&:focus {\n\t\t\t\t@mixin ck-box-shadow var(--ck-focus-outer-shadow);\n\t\t\t}\n\t\t}\n\t}\n}\n\n.ck.ck-dropdown__panel {\n\t@mixin ck-rounded-corners;\n\t@mixin ck-drop-shadow;\n\n\tbackground: var(--ck-color-dropdown-panel-background);\n\tborder: 1px solid var(--ck-color-dropdown-panel-border);\n\tbottom: 0;\n\n\t/* Make sure the panel is at least as wide as the drop-down\'s button. */\n\tmin-width: 100%;\n\n\t/* Disabled corner border radius to be consistent with the .dropdown__button\n\thttps://github.com/ckeditor/ckeditor5/issues/816 */\n\t&.ck-dropdown__panel_se {\n\t\tborder-top-left-radius: 0;\n\t}\n\n\t&.ck-dropdown__panel_sw {\n\t\tborder-top-right-radius: 0;\n\t}\n\n\t&.ck-dropdown__panel_ne {\n\t\tborder-bottom-left-radius: 0;\n\t}\n\n\t&.ck-dropdown__panel_nw {\n\t\tborder-bottom-right-radius: 0;\n\t}\n\n\t&:focus {\n\t\toutline: none;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which indicates that an element holding it is disabled.\n */\n@define-mixin ck-disabled {\n\topacity: var(--ck-disabled-opacity);\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const R=S},3949:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBAIF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n.ck.ck-dropdown .ck-dropdown__panel .ck-list {\n\t/* Disabled radius of top-left border to be consistent with .dropdown__button\n\thttps://github.com/ckeditor/ckeditor5/issues/816 */\n\t@mixin ck-rounded-corners {\n\t\tborder-top-left-radius: 0;\n\t}\n\n\t/* Make sure the button belonging to the first/last child of the list goes well with the\n\tborder radius of the entire panel. */\n\t& .ck-list__item {\n\t\t&:first-child .ck-button {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-top-left-radius: 0;\n\t\t\t\tborder-bottom-left-radius: 0;\n\t\t\t\tborder-bottom-right-radius: 0;\n\t\t\t}\n\t\t}\n\n\t\t&:last-child .ck-button {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-top-left-radius: 0;\n\t\t\t\tborder-top-right-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const R=S},7686:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,iBAKD,CAHC,iDACC,qCACD,CCJD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAKE,gCAAiC,CADjC,6BASF,CAbA,oIAWE,+BAAgC,CADhC,4BAGF,CAEA,0CAGC,eAiBD,CApBA,oDAQE,+BAAgC,CADhC,4BAaF,CApBA,oDAcE,gCAAiC,CADjC,6BAOF,CAHC,8CACC,mCACD,CAKD,sDAEC,qBAAwB,CADxB,kBAED,CAQC,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGA,sIACC,iEACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCCzFA,eDmGA,CAVA,qHCrFC,qCD+FD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-splitbutton {\n\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\tfont-size: inherit;\n\n\t& .ck-splitbutton__action:focus {\n\t\tz-index: calc(var(--ck-z-default) + 1);\n\t}\n}\n\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n:root {\n\t--ck-color-split-button-hover-background: hsl(0, 0%, 92%);\n\t--ck-color-split-button-hover-border: hsl(0, 0%, 70%);\n}\n\n.ck.ck-splitbutton {\n\t/*\n\t * Note: ck-rounded and ck-dir mixins don\'t go together (because they both use @nest).\n\t */\n\t&:hover > .ck-splitbutton__action,\n\t&.ck-splitbutton_open > .ck-splitbutton__action {\n\t\t@nest [dir="ltr"] & {\n\t\t\t/* Don\'t round the action button on the right side */\n\t\t\tborder-top-right-radius: unset;\n\t\t\tborder-bottom-right-radius: unset;\n\t\t}\n\n\t\t@nest [dir="rtl"] & {\n\t\t\t/* Don\'t round the action button on the left side */\n\t\t\tborder-top-left-radius: unset;\n\t\t\tborder-bottom-left-radius: unset;\n\t\t}\n\t}\n\n\t& > .ck-splitbutton__arrow {\n\t\t/* It\'s a text-less button and since the icon is positioned absolutely in such situation,\n\t\tit must get some arbitrary min-width. */\n\t\tmin-width: unset;\n\n\t\t@nest [dir="ltr"] & {\n\t\t\t/* Don\'t round the arrow button on the left side */\n\t\t\tborder-top-left-radius: unset;\n\t\t\tborder-bottom-left-radius: unset;\n\t\t}\n\n\t\t@nest [dir="rtl"] & {\n\t\t\t/* Don\'t round the arrow button on the right side */\n\t\t\tborder-top-right-radius: unset;\n\t\t\tborder-bottom-right-radius: unset;\n\t\t}\n\n\t\t& svg {\n\t\t\twidth: var(--ck-dropdown-arrow-size);\n\t\t}\n\t}\n\n\t/* Make sure the divider stretches 100% height of the button\n\thttps://github.com/ckeditor/ckeditor5/issues/10936 */\n\t& > .ck-splitbutton__arrow:not(:focus) {\n\t\tborder-top-width: 0px;\n\t\tborder-bottom-width: 0px;\n\t}\n\n\t/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling\n\tas a whole. The background of both buttons should stand out and there should be a visual\n\tseparation between both buttons. */\n\t&.ck-splitbutton_open,\n\t&:hover {\n\t\t/* When the split button hovered as a whole, not as individual buttons. */\n\t\t& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {\n\t\t\tbackground: var(--ck-color-split-button-hover-background);\n\t\t}\n\n\t\t/* Splitbutton separator needs to be set with the ::after pseudoselector\n\t\tto display properly the borders on focus */\n\t\t& > .ck-splitbutton__arrow:not(.ck-disabled)::after {\n\t\t\tcontent: \'\';\n\t\t\tposition: absolute;\n\t\t\twidth: 1px;\n\t\t\theight: 100%;\n\t\t\tbackground-color: var(--ck-color-split-button-hover-border);\n\t\t}\n\n\t\t/* Make sure the divider between the buttons looks fine when the button is focused */\n\t\t& > .ck-splitbutton__arrow:focus::after {\n\t\t\t--ck-color-split-button-hover-border: var(--ck-color-focus-border);\n\t\t}\n\n\t\t@nest [dir="ltr"] & {\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled)::after {\n\t\t\t\tleft: -1px;\n\t\t\t}\n\t\t}\n\n\t\t@nest [dir="rtl"] & {\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled)::after {\n\t\t\t\tright: -1px;\n\t\t\t}\n\t\t}\n\t}\n\n\t/* Don\'t round the bottom left and right corners of the buttons when "open"\n\thttps://github.com/ckeditor/ckeditor5/issues/816 */\n\t&.ck-splitbutton_open {\n\t\t@mixin ck-rounded-corners {\n\t\t\t& > .ck-splitbutton__action {\n\t\t\t\tborder-bottom-left-radius: 0;\n\t\t\t}\n\n\t\t\t& > .ck-splitbutton__arrow {\n\t\t\t\tborder-bottom-right-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const R=S},7339:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-toolbar-dropdown-max-width: 60vw;\n}\n\n.ck.ck-toolbar-dropdown > .ck-dropdown__panel {\n\t/* https://github.com/ckeditor/ckeditor5/issues/5586 */\n\twidth: max-content;\n\tmax-width: var(--ck-toolbar-dropdown-max-width);\n\n\t& .ck-button {\n\t\t&:focus {\n\t\t\tz-index: calc(var(--ck-z-default) + 1);\n\t\t}\n\t}\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-toolbar-dropdown .ck-toolbar {\n\tborder: 0;\n}\n"],sourceRoot:""}]);const R=S},9688:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,oDACD,CAIA,gEACC,iDACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_shadow.css";\n@import "../../../mixins/_focus.css";\n@import "../../mixins/_button.css";\n\n:root {\n\t--ck-color-editable-blur-selection: hsl(0, 0%, 85%);\n}\n\n.ck.ck-editor__editable:not(.ck-editor__nested-editable) {\n\t@mixin ck-rounded-corners;\n\n\t&.ck-focused {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-inner-shadow);\n\t}\n}\n\n.ck.ck-editor__editable_inline {\n\toverflow: auto;\n\tpadding: 0 var(--ck-spacing-standard);\n\tborder: 1px solid transparent;\n\n\t&[dir="ltr"] {\n\t\ttext-align: left;\n\t}\n\n\t&[dir="rtl"] {\n\t\ttext-align: right;\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */\n\t& > *:first-child {\n\t\tmargin-top: var(--ck-spacing-large);\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5/issues/847 */\n\t& > *:last-child {\n\t\t/*\n\t\t * This value should match with the default margins of the block elements (like .media or .image)\n\t\t * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).\n\t\t */\n\t\tmargin-bottom: var(--ck-spacing-large);\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5/issues/6517 */\n\t&.ck-blurred ::selection {\n\t\tbackground: var(--ck-color-editable-blur-selection);\n\t}\n}\n\n/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */\n.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {\n\t&::after {\n\t\tborder-bottom-color: var(--ck-color-panel-background);\n\t}\n}\n\n.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {\n\t&::after {\n\t\tborder-top-color: var(--ck-color-panel-background);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const R=S},8847:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__header .ck-icon{margin-right:var(--ck-spacing-medium)}.ck.ck-form__header h2.ck-form__header__label{flex-grow:1}:root{--ck-form-header-height:38px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}.ck.ck-form__header .ck-form__header__label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names:[],mappings:"AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BASD,CAPC,6BACC,qCACD,CAEA,8CACC,WACD,CCbD,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAQD,CAHC,4CACC,eACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-form__header {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\talign-items: center;\n\tjustify-content: space-between;\n\n\t& .ck-icon {\n\t\tmargin-right: var(--ck-spacing-medium);\n\t}\n\n\t& h2.ck-form__header__label {\n\t\tflex-grow: 1;\n\t}\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-form-header-height: 38px;\n}\n\n.ck.ck-form__header {\n\tpadding: var(--ck-spacing-small) var(--ck-spacing-large);\n\theight: var(--ck-form-header-height);\n\tline-height: var(--ck-form-header-height);\n\tborder-bottom: 1px solid var(--ck-color-base-border);\n\n\t& .ck-form__header__label {\n\t\tfont-weight: bold;\n\t}\n}\n"],sourceRoot:""}]);const R=S},8960:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,".ck.ck-highlighted-text mark{background:var(--ck-color-highlight-background);font-size:inherit;font-weight:inherit;line-height:inherit;vertical-align:initial}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/highlightedtext/highlightedtext.css"],names:[],mappings:"AAKA,6BACC,+CAAgD,CAIhD,iBAAkB,CAFlB,mBAAoB,CACpB,mBAAoB,CAFpB,sBAID",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-highlighted-text mark {\n\tbackground: var(--ck-color-highlight-background);\n\tvertical-align: initial;\n\tfont-weight: inherit;\n\tline-height: inherit;\n\tfont-size: inherit;\n}\n"],sourceRoot:""}]);const R=S},6574:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/icon/icon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YAKC,uBAAwB,CAHxB,0BAA2B,CAD3B,yBAA0B,CAU1B,qBAoBD,CAlBC,0BALA,cAQA,CAMC,sEACC,aAMD,CAJC,+CAEC,iBACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-icon {\n\tvertical-align: middle;\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));\n}\n\n.ck.ck-icon {\n\twidth: var(--ck-icon-size);\n\theight: var(--ck-icon-size);\n\n\t/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */\n\tfont-size: .8333350694em;\n\n\t/* Inherit cursor style (#5). */\n\tcursor: inherit;\n\n\t/* This will prevent blurry icons on Firefox. See #340. */\n\twill-change: transform;\n\n\t& * {\n\t\t/* Inherit cursor style (#5). */\n\t\tcursor: inherit;\n\t}\n\n\t/* Allows dynamic coloring of an icon by inheriting its color from the parent. */\n\t&.ck-icon_inherit-color {\n\t\tcolor: inherit;\n\n\t\t& * {\n\t\t\tcolor: inherit;\n\n\t\t\t&:not([fill]) {\n\t\t\t\t/* Needed by FF. */\n\t\t\t\tfill: currentColor;\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const R=S},4879:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eD2CD,CAtCA,iECDE,qCDuCF,CAtCA,aAGC,2CAA4C,CAC5C,6CAA8C,CAK9C,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DA0BD,CAxBC,mBEnBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YFuBA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BG/BD,oDHkCC,CAGD,sBAEC,sCAAuC,CADvC,+CAMD,CAHC,4BGzCD,iDH2CC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_focus.css";\n@import "../../../mixins/_shadow.css";\n\n:root {\n\t--ck-input-width: 18em;\n\n\t/* Backward compatibility. */\n\t--ck-input-text-width: var(--ck-input-width);\n}\n\n.ck.ck-input {\n\t@mixin ck-rounded-corners;\n\n\tbackground: var(--ck-color-input-background);\n\tborder: 1px solid var(--ck-color-input-border);\n\tpadding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);\n\tmin-width: var(--ck-input-width);\n\n\t/* This is important to stay of the same height as surrounding buttons */\n\tmin-height: var(--ck-ui-component-min-height);\n\n\t/* Apply some smooth transition to the box-shadow and border. */\n\ttransition: box-shadow .1s ease-in-out, border .1s ease-in-out;\n\n\t&:focus {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-focus-outer-shadow);\n\t}\n\n\t&[readonly] {\n\t\tborder: 1px solid var(--ck-color-input-disabled-border);\n\t\tbackground: var(--ck-color-input-disabled-background);\n\t\tcolor: var(--ck-color-input-disabled-text);\n\n\t\t&:focus {\n\t\t\t/* The read-only input should have a slightly less visible shadow when focused. */\n\t\t\t@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);\n\t\t}\n\t}\n\n\t&.ck-error {\n\t\tborder-color: var(--ck-color-input-error-border);\n\t\tanimation: ck-input-shake .3s ease both;\n\n\t\t&:focus {\n\t\t\t@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);\n\t\t}\n\t}\n}\n\n@keyframes ck-input-shake {\n\t20% {\n\t\ttransform: translateX(-2px);\n\t}\n\n\t40% {\n\t\ttransform: translateX(2px);\n\t}\n\n\t60% {\n\t\ttransform: translateX(-1px);\n\t}\n\n\t80% {\n\t\ttransform: translateX(1px);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const R=S},3662:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/label/label.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-label {\n\tdisplay: block;\n}\n\n.ck.ck-voice-label {\n\tdisplay: none;\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-label {\n\tfont-weight: bold;\n}\n"],sourceRoot:""}]);const R=S},2577:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,oEAAqE,CACrE,8EAAiF,CACjF,yEACD,CAEA,0BCLC,eD8GD,CAzGA,2FCDE,qCD0GF,CAtGC,mEACC,UAmCD,CAjCC,gFACC,KA+BD,CAhCA,0FAIE,MA4BF,CAhCA,0FAQE,OAwBF,CAhCA,gFAiBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAP9C,mBAAoB,CAYpB,sBAAuB,CARvB,6DAA+D,CAH/D,oBAAqB,CAgBrB,+JAID,CAQA,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,oUAGE,+HAYF,CAfA,oUAOE,wIAQF,CAfA,gTAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-labeled-field-view {\n\t& > .ck.ck-labeled-field-view__input-wrapper {\n\t\tdisplay: flex;\n\t\tposition: relative;\n\t}\n\n\t& .ck.ck-label {\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n@import "../../../mixins/_rounded.css";\n\n:root {\n\t--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);\n\t--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);\n\t--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);\n\t--ck-labeled-field-label-default-position-y: calc(0.6 * var(--ck-font-size-base));\n\t--ck-color-labeled-field-label-background: var(--ck-color-base-background);\n}\n\n.ck.ck-labeled-field-view {\n\t@mixin ck-rounded-corners;\n\n\t& > .ck.ck-labeled-field-view__input-wrapper {\n\t\twidth: 100%;\n\n\t\t& > .ck.ck-label {\n\t\t\ttop: 0px;\n\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tleft: 0px;\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tright: 0px;\n\t\t\t}\n\n\t\t\tpointer-events: none;\n\t\t\ttransform-origin: 0 0;\n\n\t\t\t/* By default, display the label scaled down above the field. */\n\t\t\ttransform: translate(var(--ck-spacing-medium), -6px) scale(.75);\n\n\t\t\tbackground: var(--ck-color-labeled-field-label-background);\n\t\t\tpadding: 0 calc(.5 * var(--ck-font-size-tiny));\n\t\t\tline-height: initial;\n\t\t\tfont-weight: normal;\n\n\t\t\t/* Prevent overflow when the label is longer than the input */\n\t\t\ttext-overflow: ellipsis;\n\t\t\toverflow: hidden;\n\n\t\t\tmax-width: 100%;\n\n\t\t\ttransition:\n\t\t\t\ttransform var(--ck-labeled-field-view-transition),\n\t\t\t\tpadding var(--ck-labeled-field-view-transition),\n\t\t\t\tbackground var(--ck-labeled-field-view-transition);\n\t\t}\n\t}\n\n\t&.ck-error {\n\t\t& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {\n\t\t\tcolor: var(--ck-color-base-error);\n\t\t}\n\n\t\t& .ck-input:not([readonly]) + .ck.ck-label {\n\t\t\tcolor: var(--ck-color-base-error);\n\t\t}\n\t}\n\n\t& .ck-labeled-field-view__status {\n\t\tfont-size: var(--ck-font-size-small);\n\t\tmargin-top: var(--ck-spacing-small);\n\n\t\t/* Let the info wrap to the next line to avoid stretching the layout horizontally.\n\t\tThe status could be very long. */\n\t\twhite-space: normal;\n\n\t\t&.ck-labeled-field-view__status_error {\n\t\t\tcolor: var(--ck-color-base-error);\n\t\t}\n\t}\n\n\t/* Disabled fields and fields that have no focus should fade out. */\n\t&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,\n\t&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {\n\t\tcolor: var(--ck-color-input-disabled-text);\n\t}\n\n\t/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */\n\t/* stylelint-disable-next-line no-descending-specificity */\n\t&.ck-disabled.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,\n\t&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {\n\t\t@mixin ck-dir ltr {\n\t\t\ttransform: translate(var(--ck-labeled-field-label-default-position-x), var(--ck-labeled-field-label-default-position-y)) scale(1);\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\ttransform: translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)), var(--ck-labeled-field-label-default-position-y)) scale(1);\n\t\t}\n\n\t\t/* Compensate for the default translate position. */\n\t\tmax-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));\n\n\t\tbackground: transparent;\n\t\tpadding: 0;\n\t}\n\n\t/*------ DropdownView integration ----------------------------------------------------------------------------------- */\n\n\t/* Make sure dropdown\' background color in any of dropdown\'s state does not collide with labeled field. */\n\t& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {\n\t\tbackground: transparent;\n\t}\n\n\t/* When the dropdown is "empty", the labeled field label replaces its label. */\n\t&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {\n\t\topacity: 0;\n\t}\n\n\t/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */\n\t&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {\n\t\tmax-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const R=S},1046:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{border-radius:0;min-height:unset;padding:calc(var(--ck-line-height-base)*.2*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*.4*var(--ck-font-size-base));text-align:left;width:100%}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(var(--ck-line-height-base)*1.2*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck-list .ck-list__group{padding-top:var(--ck-spacing-medium);:not(.ck-hidden)~&{border-top:1px solid var(--ck-color-base-border)}}.ck-list .ck-list__group>span{font-size:11px;font-weight:700;padding:var(--ck-spacing-medium)}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/list/list.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEfD,YCEC,eDGD,CALA,+DCME,qCDDF,CALA,YAIC,0CAA2C,CAD3C,oBAED,CAEA,kBACC,cAAe,CACf,cA2DD,CAzDC,6BAIC,eAAgB,CAHhB,gBAAiB,CAQjB,iIAEiE,CARjE,eAAgB,CADhB,UAwCD,CA7BC,+CAEC,yEACD,CAEA,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,iFACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,yBACC,oCAAqC,CAGrC,mBACC,gDACD,CAOD,CALC,8BACC,cAAe,CACf,eAAiB,CACjB,gCACD,CAGD,uBAGC,sCAAuC,CAFvC,UAAW,CACX,UAED",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../mixins/_unselectable.css";\n\n.ck.ck-list {\n\t@mixin ck-unselectable;\n\n\tdisplay: flex;\n\tflex-direction: column;\n\n\t& .ck-list__item,\n\t& .ck-list__separator {\n\t\tdisplay: block;\n\t}\n\n\t/* Make sure that whatever child of the list item gets focus, it remains on the\n\ttop. Thanks to that, styles like box-shadow, outline, etc. are not masked by\n\tadjacent list items. */\n\t& .ck-list__item > *:focus {\n\t\tposition: relative;\n\t\tz-index: var(--ck-z-default);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Makes element unselectable.\n */\n@define-mixin ck-unselectable {\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_shadow.css";\n\n.ck.ck-list {\n\t@mixin ck-rounded-corners;\n\n\tlist-style-type: none;\n\tbackground: var(--ck-color-list-background);\n}\n\n.ck.ck-list__item {\n\tcursor: default;\n\tmin-width: 12em;\n\n\t& .ck-button {\n\t\tmin-height: unset;\n\t\twidth: 100%;\n\t\ttext-align: left;\n\t\tborder-radius: 0;\n\n\t\t/* List items should have the same height. Use absolute units to make sure it is so\n\t\t   because e.g. different heading styles may have different height\n\t\t   https://github.com/ckeditor/ckeditor5-heading/issues/63 */\n\t\tpadding:\n\t\t\tcalc(.2 * var(--ck-line-height-base) * var(--ck-font-size-base))\n\t\t\tcalc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));\n\n\t\t& .ck-button__label {\n\t\t\t/* https://github.com/ckeditor/ckeditor5-heading/issues/63 */\n\t\t\tline-height: calc(1.2 * var(--ck-line-height-base) * var(--ck-font-size-base));\n\t\t}\n\n\t\t&:active {\n\t\t\tbox-shadow: none;\n\t\t}\n\n\t\t&.ck-on {\n\t\t\tbackground: var(--ck-color-list-button-on-background);\n\t\t\tcolor: var(--ck-color-list-button-on-text);\n\n\t\t\t&:active {\n\t\t\t\tbox-shadow: none;\n\t\t\t}\n\n\t\t\t&:hover:not(.ck-disabled) {\n\t\t\t\tbackground: var(--ck-color-list-button-on-background-focus);\n\t\t\t}\n\n\t\t\t&:focus:not(.ck-switchbutton):not(.ck-disabled) {\n\t\t\t\tborder-color: var(--ck-color-base-background);\n\t\t\t}\n\t\t}\n\n\t\t&:hover:not(.ck-disabled) {\n\t\t\tbackground: var(--ck-color-list-button-hover-background);\n\t\t}\n\t}\n\n\t/* It\'s unnecessary to change the background/text of a switch toggle; it has different ways\n\tof conveying its state (like the switcher) */\n\t& .ck-switchbutton {\n\t\t&.ck-on {\n\t\t\tbackground: var(--ck-color-list-background);\n\t\t\tcolor: inherit;\n\n\t\t\t&:hover:not(.ck-disabled) {\n\t\t\t\tbackground: var(--ck-color-list-button-hover-background);\n\t\t\t\tcolor: inherit;\n\t\t\t}\n\t\t}\n\t}\n}\n\n.ck-list .ck-list__group {\n\tpadding-top: var(--ck-spacing-medium);\n\n\t/* The group should have a border when it\'s not the first item. */\n\t*:not(.ck-hidden) ~ & {\n\t\tborder-top: 1px solid var(--ck-color-base-border);\n\t}\n\n\t& > span {\n\t\tfont-size: 11px;\n\t\tfont-weight: bold;\n\t\tpadding: var(--ck-spacing-medium);\n\t}\n}\n\n.ck.ck-list__separator {\n\theight: 1px;\n\twidth: 100%;\n\tbackground: var(--ck-color-base-border);\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const R=S},8793:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCLC,eDmMD,CA9LA,iFCDE,qCD+LF,CA9LA,qBAMC,2CAA4C,CAC5C,wEAAyE,CEdzE,oCAA8B,CFW9B,eA0LD,CApLE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,kDACD,CAEA,2CACC,iFAAkF,CAClF,gFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDAAwD,CACxD,qDACD,CAEA,2CACC,iFAAkF,CAClF,mFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,oDACD,CAEA,2CACC,iFAAkF,CAClF,kFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,mDACD,CAEA,2CACC,iFAAkF,CAClF,iFACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD,CAIA,yGAGC,sDAAyD,CADzD,6CAAgD,CAEhD,OACD,CAIA,yGAEC,4CAA+C,CAC/C,sDAAyD,CACzD,OACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/* Make sure the balloon arrow does not float over its children. */\n\t--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);\n}\n\n.ck.ck-balloon-panel {\n\tdisplay: none;\n\tposition: absolute;\n\n\tz-index: var(--ck-z-modal);\n\n\t&.ck-balloon-panel_with-arrow {\n\t\t&::before,\n\t\t&::after {\n\t\t\tcontent: "";\n\t\t\tposition: absolute;\n\t\t}\n\n\t\t&::before {\n\t\t\tz-index: var(--ck-balloon-panel-arrow-z-index);\n\t\t}\n\n\t\t&::after {\n\t\t\tz-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);\n\t\t}\n\t}\n\n\t&[class*="arrow_n"] {\n\t\t&::before {\n\t\t\tz-index: var(--ck-balloon-panel-arrow-z-index);\n\t\t}\n\n\t\t&::after {\n\t\t\tz-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);\n\t\t}\n\t}\n\n\t&[class*="arrow_s"] {\n\t\t&::before {\n\t\t\tz-index: var(--ck-balloon-panel-arrow-z-index);\n\t\t}\n\n\t\t&::after {\n\t\t\tz-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_visible {\n\t\tdisplay: block;\n\t}\n}\n','/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_shadow.css";\n\n:root {\n\t--ck-balloon-border-width: 1px;\n\t--ck-balloon-arrow-offset: 2px;\n\t--ck-balloon-arrow-height: 10px;\n\t--ck-balloon-arrow-half-width: 8px;\n\t--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);\n}\n\n.ck.ck-balloon-panel {\n\t@mixin ck-rounded-corners;\n\t@mixin ck-drop-shadow;\n\n\tmin-height: 15px;\n\n\tbackground: var(--ck-color-panel-background);\n\tborder: var(--ck-balloon-border-width) solid var(--ck-color-panel-border);\n\n\t&.ck-balloon-panel_with-arrow {\n\t\t&::before,\n\t\t&::after {\n\t\t\twidth: 0;\n\t\t\theight: 0;\n\t\t\tborder-style: solid;\n\t\t}\n\t}\n\n\t&[class*="arrow_n"] {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);\n\t\t}\n\n\t\t&::before {\n\t\t\tborder-color: transparent transparent var(--ck-color-panel-border) transparent;\n\t\t\tmargin-top: calc( -1 * var(--ck-balloon-border-width) );\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: transparent transparent var(--ck-color-panel-background) transparent;\n\t\t\tmargin-top: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );\n\t\t}\n\t}\n\n\t&[class*="arrow_s"] {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);\n\t\t}\n\n\t\t&::before {\n\t\t\tborder-color: var(--ck-color-panel-border) transparent transparent;\n\t\t\tfilter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));\n\t\t\tmargin-bottom: calc( -1 * var(--ck-balloon-border-width) );\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: var(--ck-color-panel-background) transparent transparent transparent;\n\t\t\tmargin-bottom: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );\n\t\t}\n\t}\n\n\t&[class*="arrow_e"] {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-width: var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height);\n\t\t}\n\n\t\t&::before {\n\t\t\tborder-color: transparent transparent transparent var(--ck-color-panel-border);\n\t\t\tmargin-right: calc( -1 * var(--ck-balloon-border-width) );\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: transparent transparent transparent var(--ck-color-panel-background);\n\t\t\tmargin-right: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );\n\t\t}\n\t}\n\n\t&[class*="arrow_w"] {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-width: var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0;\n\t\t}\n\n\t\t&::before {\n\t\t\tborder-color: transparent var(--ck-color-panel-border) transparent transparent;\n\t\t\tmargin-left: calc( -1 * var(--ck-balloon-border-width) );\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: transparent var(--ck-color-panel-background) transparent transparent;\n\t\t\tmargin-left: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_n {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 50%;\n\t\t\tmargin-left: calc(-1 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_nw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_ne {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_s {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 50%;\n\t\t\tmargin-left: calc(-1 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_sw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_se {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_sme {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: 25%;\n\t\t\tmargin-right: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_smw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 25%;\n\t\t\tmargin-left: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_nme {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: 25%;\n\t\t\tmargin-right: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_nmw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 25%;\n\t\t\tmargin-left: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_e {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t\tmargin-top: calc(-1 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: 50%;\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_w {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t\tmargin-top: calc(-1 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const R=S},4650:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-balloon-rotator__navigation {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* Buttons inside a toolbar should be centered when rotator bar is wider.\n * See: https://github.com/ckeditor/ckeditor5-ui/issues/495\n */\n.ck .ck-balloon-rotator__content .ck-toolbar {\n\tjustify-content: center;\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-balloon-rotator__navigation {\n\tbackground: var(--ck-color-toolbar-background);\n\tborder-bottom: 1px solid var(--ck-color-toolbar-border);\n\tpadding: 0 var(--ck-spacing-small);\n\n\t/* Let's keep similar appearance to `ck-toolbar`. */\n\t& > * {\n\t\tmargin-right: var(--ck-spacing-small);\n\t\tmargin-top: var(--ck-spacing-small);\n\t\tmargin-bottom: var(--ck-spacing-small);\n\t}\n\n\t/* Gives counter more breath than buttons. */\n\t& .ck-balloon-rotator__counter {\n\t\tmargin-right: var(--ck-spacing-standard);\n\n\t\t/* We need to use smaller margin because of previous button's right margin. */\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n}\n\n.ck .ck-balloon-rotator__content {\n\n\t/* Disable default annotation shadow inside rotator with fake panels. */\n\t& .ck.ck-annotation-wrapper {\n\t\tbox-shadow: none;\n\t}\n}\n"],sourceRoot:""}]);const R=S},7676:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-fake-panel {\n\tposition: absolute;\n\n\t/* Fake panels should be placed under main balloon content. */\n\tz-index: calc(var(--ck-z-modal) - 1);\n}\n\n.ck .ck-fake-panel div {\n\tposition: absolute;\n}\n\n.ck .ck-fake-panel div:nth-child( 1 ) {\n\tz-index: 2;\n}\n\n.ck .ck-fake-panel div:nth-child( 2 ) {\n\tz-index: 1;\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_shadow.css";\n\n:root {\n\t--ck-balloon-fake-panel-offset-horizontal: 6px;\n\t--ck-balloon-fake-panel-offset-vertical: 6px;\n}\n\n/* Let\'s use `.ck-balloon-panel` appearance. See: balloonpanel.css. */\n.ck .ck-fake-panel div {\n\t@mixin ck-drop-shadow;\n\n\tmin-height: 15px;\n\n\tbackground: var(--ck-color-panel-background);\n\tborder: 1px solid var(--ck-color-panel-border);\n\tborder-radius: var(--ck-border-radius);\n\n\twidth: 100%;\n\theight: 100%;\n}\n\n.ck .ck-fake-panel div:nth-child( 1 ) {\n\tmargin-left: var(--ck-balloon-fake-panel-offset-horizontal);\n\tmargin-top: var(--ck-balloon-fake-panel-offset-vertical);\n}\n\n.ck .ck-fake-panel div:nth-child( 2 ) {\n\tmargin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);\n\tmargin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);\n}\n.ck .ck-fake-panel div:nth-child( 3 ) {\n\tmargin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);\n\tmargin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);\n}\n\n/* If balloon is positioned above element, we need to move fake panel to the top. */\n.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,\n.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,\n.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {\n\t--ck-balloon-fake-panel-offset-vertical: -6px;\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const R=S},5868:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-modal)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-sticky-panel {\n\t& .ck-sticky-panel__content_sticky {\n\t\tz-index: var(--ck-z-modal); /* #315 */\n\t\tposition: fixed;\n\t\ttop: 0;\n\t}\n\n\t& .ck-sticky-panel__content_sticky_bottom-limit {\n\t\ttop: auto;\n\t\tposition: absolute;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_shadow.css";\n\n.ck.ck-sticky-panel {\n\t& .ck-sticky-panel__content_sticky {\n\t\t@mixin ck-drop-shadow;\n\n\t\tborder-width: 0 1px 1px;\n\t\tborder-top-left-radius: 0;\n\t\tborder-top-right-radius: 0;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const R=S},6764:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css"],names:[],mappings:"AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAmED,CAjEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,oCA8CF,CA5CE,8CACC,wDAWD,CATC,6DACC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CARD,0OAeE,aAMF,CAJE,+IACC,kDACD,CDpEH",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck-vertical-form .ck-button {\n\t&::after {\n\t\tcontent: "";\n\t\twidth: 0;\n\t\tposition: absolute;\n\t\tright: -1px;\n\t\ttop: -1px;\n\t\tbottom: -1px;\n\t\tz-index: 1;\n\t}\n\n\t&:focus::after {\n\t\tdisplay: none;\n\t}\n}\n\n.ck.ck-responsive-form {\n\t@mixin ck-media-phone {\n\t\t& .ck-button {\n\t\t\t&::after {\n\t\t\t\tcontent: "";\n\t\t\t\twidth: 0;\n\t\t\t\tposition: absolute;\n\t\t\t\tright: -1px;\n\t\t\t\ttop: -1px;\n\t\t\t\tbottom: -1px;\n\t\t\t\tz-index: 1;\n\t\t\t}\n\n\t\t\t&:focus::after {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck-vertical-form > .ck-button:nth-last-child(2)::after {\n\tborder-right: 1px solid var(--ck-color-base-border);\n}\n\n.ck.ck-responsive-form {\n\tpadding: var(--ck-spacing-large);\n\n\t&:focus {\n\t\t/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */\n\t\toutline: none;\n\t}\n\n\t@mixin ck-dir ltr {\n\t\t& > :not(:first-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-dir rtl {\n\t\t& > :not(:last-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-media-phone {\n\t\tpadding: 0;\n\t\twidth: calc(.8 * var(--ck-input-width));\n\n\t\t& .ck-labeled-field-view {\n\t\t\tmargin: var(--ck-spacing-large) var(--ck-spacing-large) 0;\n\n\t\t\t& .ck-input-text {\n\t\t\t\tmin-width: 0;\n\t\t\t\twidth: 100%;\n\t\t\t}\n\n\t\t\t/* Let the long error messages wrap in the narrow form. */\n\t\t\t& .ck-labeled-field-view__error {\n\t\t\t\twhite-space: normal;\n\t\t\t}\n\t\t}\n\n\t\t/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */\n\t\t& > .ck-button:nth-last-child(2) {\n\t\t\t&::after {\n\t\t\t\tborder-right: 1px solid var(--ck-color-base-border);\n\t\t\t}\n\t\t}\n\n\t\t& > .ck-button:nth-last-child(1),\n\t\t& > .ck-button:nth-last-child(2) {\n\t\t\tpadding: var(--ck-spacing-standard);\n\t\t\tmargin-top: var(--ck-spacing-large);\n\t\t\tborder-radius: 0;\n\n\t\t\t&:not(:focus) {\n\t\t\t\tborder-top: 1px solid var(--ck-color-base-border);\n\t\t\t}\n\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tmargin-left: 0;\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-left: 0;\n\n\t\t\t\t&:last-of-type {\n\t\t\t\t\tborder-right: 1px solid var(--ck-color-base-border);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const R=S},6770:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,".ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{position:absolute;top:50%;transform:translateY(-50%)}[dir=ltr] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{left:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{right:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view .ck-search__reset{position:absolute;top:50%;transform:translateY(-50%)}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{display:block}.ck.ck-search>.ck-search__results>.ck-search__info:not(.ck-hidden)~*{display:none}:root{--ck-search-field-view-horizontal-spacing:calc(var(--ck-icon-size) + var(--ck-spacing-medium))}.ck.ck-search>.ck-labeled-field-view .ck-input{width:100%}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon{--ck-labeled-field-label-default-position-x:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon>.ck-labeled-field-view__input-wrapper>.ck-icon{opacity:.5;pointer-events:none}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input,[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input:not(.ck-input-text_empty){padding-left:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset{--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset.ck-labeled-field-view_empty{--ck-labeled-field-empty-unfocused-max-width:100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{background:none;min-height:auto;min-width:auto;opacity:.5;padding:0}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{left:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset:hover{opacity:1}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input:not(.ck-input-text_empty),[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{padding-right:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-search__results{min-width:100%}.ck.ck-search>.ck-search__results>.ck-search__info{padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-search>.ck-search__results>.ck-search__info *{white-space:normal}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{font-weight:700}.ck.ck-search>.ck-search__results>.ck-search__info>span:last-child{margin-top:var(--ck-spacing-medium)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/search/search.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/search/search.css"],names:[],mappings:"AASE,oFACC,iBAAkB,CAClB,OAAQ,CACR,0BASD,CAZA,8FAME,6BAMF,CAZA,8FAUE,8BAEF,CAEA,uDACC,iBAAkB,CAClB,OAAQ,CACR,0BACD,CAKC,oEACC,aACD,CAGA,qEACC,YACD,CChCH,MACC,8FACD,CAIE,+CACC,UACD,CAEA,gEACC,0FAoBD,CAlBC,+GACC,UAAW,CACX,mBACD,CAEA,0EACC,UAWD,CAJE,kMACC,2DACD,CAKH,iEACC,sGAwCD,CAtCC,6FACC,6HACD,CAEA,mFAIC,eAAgB,CAFhB,eAAgB,CADhB,cAAe,CAIf,UAAW,CACX,SAaD,CAnBA,6FASE,8BAUF,CAnBA,6FAaE,6BAMF,CAHC,yFACC,SACD,CAGD,2EACC,UAWD,CAZA,oMAUE,4DAEF,CAIF,kCACC,cAkBD,CAhBC,mDAEC,wDAAyD,CADzD,UAcD,CAXC,qDACC,kBACD,CAEA,oEACC,eACD,CAEA,mEACC,mCACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck.ck-search {\n\t& > .ck-labeled-field-view {\n\t\t& > .ck-labeled-field-view__input-wrapper > .ck-icon {\n\t\t\tposition: absolute;\n\t\t\ttop: 50%;\n\t\t\ttransform: translateY(-50%);\n\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tleft: var(--ck-spacing-medium);\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tright: var(--ck-spacing-medium);\n\t\t\t}\n\t\t}\n\n\t\t& .ck-search__reset {\n\t\t\tposition: absolute;\n\t\t\ttop: 50%;\n\t\t\ttransform: translateY(-50%);\n\t\t}\n\t}\n\n\t& > .ck-search__results {\n\t\t& > .ck-search__info {\n\t\t\t& > span:first-child {\n\t\t\t\tdisplay: block;\n\t\t\t}\n\n\t\t\t/* Hide the filtered view when nothing was found */\n\t\t\t&:not(.ck-hidden) ~ * {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t}\n\t}\n}\n','/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n:root {\n\t--ck-search-field-view-horizontal-spacing: calc(var(--ck-icon-size) + var(--ck-spacing-medium));\n}\n\n.ck.ck-search {\n\t& > .ck-labeled-field-view {\n\t\t& .ck-input {\n\t\t\twidth: 100%;\n\t\t}\n\n\t\t&.ck-search__query_with-icon {\n\t\t\t--ck-labeled-field-label-default-position-x: var(--ck-search-field-view-horizontal-spacing);\n\n\t\t\t& > .ck-labeled-field-view__input-wrapper > .ck-icon {\n\t\t\t\topacity: .5;\n\t\t\t\tpointer-events: none;\n\t\t\t}\n\n\t\t\t& .ck-input {\n\t\t\t\twidth: 100%;\n\n\t\t\t\t@mixin ck-dir ltr {\n\t\t\t\t\tpadding-left: var(--ck-search-field-view-horizontal-spacing);\n\t\t\t\t}\n\n\t\t\t\t@mixin ck-dir rtl {\n\t\t\t\t\t&:not(.ck-input-text_empty) {\n\t\t\t\t\t\tpadding-left: var(--ck-search-field-view-horizontal-spacing);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t&.ck-search__query_with-reset {\n\t\t\t--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-search-field-view-horizontal-spacing);\n\n\t\t\t&.ck-labeled-field-view_empty {\n\t\t\t\t--ck-labeled-field-empty-unfocused-max-width: 100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium);\n\t\t\t}\n\n\t\t\t& .ck-search__reset {\n\t\t\t\tmin-width: auto;\n\t\t\t\tmin-height: auto;\n\n\t\t\t\tbackground: none;\n\t\t\t\topacity: .5;\n\t\t\t\tpadding: 0;\n\n\t\t\t\t@mixin ck-dir ltr {\n\t\t\t\t\tright: var(--ck-spacing-medium);\n\t\t\t\t}\n\n\t\t\t\t@mixin ck-dir rtl {\n\t\t\t\t\tleft: var(--ck-spacing-medium);\n\t\t\t\t}\n\n\t\t\t\t&:hover {\n\t\t\t\t\topacity: 1;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t& .ck-input {\n\t\t\t\twidth: 100%;\n\n\t\t\t\t@mixin ck-dir ltr {\n\t\t\t\t\t&:not(.ck-input-text_empty) {\n\t\t\t\t\t\tpadding-right: var(--ck-search-field-view-horizontal-spacing);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t@mixin ck-dir rtl {\n\t\t\t\t\tpadding-right: var(--ck-search-field-view-horizontal-spacing);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t& > .ck-search__results {\n\t\tmin-width: 100%;\n\n\t\t& > .ck-search__info {\n\t\t\twidth: 100%;\n\t\t\tpadding: var(--ck-spacing-medium) var(--ck-spacing-large);\n\n\t\t\t& * {\n\t\t\t\twhite-space: normal;\n\t\t\t}\n\n\t\t\t& > span:first-child {\n\t\t\t\tfont-weight: bold;\n\t\t\t}\n\n\t\t\t& > span:last-child {\n\t\t\t\tmargin-top: var(--ck-spacing-medium);\n\t\t\t}\n\t\t}\n\t}\n}\n\n'],sourceRoot:""}]);const R=S},498:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,".ck.ck-spinner-container{display:block;position:relative}.ck.ck-spinner{left:0;margin:0 auto;position:absolute;right:0;top:50%;transform:translateY(-50%);z-index:1}:root{--ck-toolbar-spinner-size:18px}.ck.ck-spinner-container{animation:rotate 1.5s linear infinite}.ck.ck-spinner,.ck.ck-spinner-container{height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}.ck.ck-spinner{border:2px solid var(--ck-color-text);border-radius:50%;border-top:2px solid transparent}@keyframes rotate{to{transform:rotate(1turn)}}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/spinner/spinner.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/spinner/spinner.css"],names:[],mappings:"AASA,yBACC,aAAc,CACd,iBACD,CAEA,eAGC,MAAO,CAEP,aAAc,CAJd,iBAAkB,CAGlB,OAAQ,CAFR,OAAQ,CAIR,0BAA2B,CAC3B,SACD,CCjBA,MACC,8BACD,CAEA,yBAGC,qCACD,CAEA,wCAJC,qCAAsC,CADtC,oCAWD,CANA,eAKC,qCAA6B,CAF7B,iBAAkB,CAElB,gCACD,CAEA,kBACC,GACC,uBACD,CACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-toolbar-spinner-size: 18px;\n}\n\n.ck.ck-spinner-container {\n\tdisplay: block;\n\tposition: relative;\n}\n\n.ck.ck-spinner {\n\tposition: absolute;\n\ttop: 50%;\n\tleft: 0;\n\tright: 0;\n\tmargin: 0 auto;\n\ttransform: translateY(-50%);\n\tz-index: 1;\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-toolbar-spinner-size: 18px;\n}\n\n.ck.ck-spinner-container {\n\twidth: var(--ck-toolbar-spinner-size);\n\theight: var(--ck-toolbar-spinner-size);\n\tanimation: 1.5s infinite rotate linear;\n}\n\n.ck.ck-spinner {\n\twidth: var(--ck-toolbar-spinner-size);\n\theight: var(--ck-toolbar-spinner-size);\n\tborder-radius: 50%;\n\tborder: 2px solid var(--ck-color-text);\n\tborder-top-color: transparent;\n}\n\n@keyframes rotate {\n\tto {\n\t\ttransform: rotate(360deg)\n\t}\n}\n\n"],sourceRoot:""}]);const R=S},8182:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,".ck-textarea{overflow-x:hidden}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/textarea/textarea.css"],names:[],mappings:"AASA,aACC,iBACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/*\n * This fixes a problem in Firefox when the initial height of the complement does not match the number of rows.\n * This bug is especially visible when rows=1.\n */\n.ck-textarea {\n\toverflow-x: hidden\n}\n"],sourceRoot:""}]);const R=S},9695:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-block-toolbar-button {\n\tposition: absolute;\n\tz-index: var(--ck-z-default);\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-block-toolbar-button: var(--ck-color-text);\n\t--ck-block-toolbar-button-size: var(--ck-font-size-normal);\n}\n\n.ck.ck-block-toolbar-button {\n\tcolor: var(--ck-color-block-toolbar-button);\n\tfont-size: var(--ck-block-toolbar-size);\n}\n"],sourceRoot:""}]);const R=S},5542:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck.ck-toolbar:focus{outline:none}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eDwGD,CA3GA,qECOE,qCDoGF,CA3GA,eAGC,6CAA8C,CAE9C,+CAAgD,CADhD,iCAuGD,CApGC,yCACC,kBAAmB,CAGnB,yCAA0C,CAO1C,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAaD,CAVC,0DAQC,eAAgB,CAHhB,QAAS,CAHT,UAOD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAMA,wEACC,cACD,CAEA,iFACC,aAAc,CACd,UACD,CAGD,qBACC,YACD,CAtGD,qCAyGE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../mixins/_unselectable.css";\n\n.ck.ck-toolbar {\n\t@mixin ck-unselectable;\n\n\tdisplay: flex;\n\tflex-flow: row nowrap;\n\talign-items: center;\n\n\t& > .ck-toolbar__items {\n\t\tdisplay: flex;\n\t\tflex-flow: row wrap;\n\t\talign-items: center;\n\t\tflex-grow: 1;\n\n\t}\n\n\t& .ck.ck-toolbar__separator {\n\t\tdisplay: inline-block;\n\n\t\t/*\n\t\t * A leading or trailing separator makes no sense (separates from nothing on one side).\n\t\t * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and\n\t\t * moved to another toolbar in the dropdown.\n\t\t */\n\t\t&:first-child,\n\t\t&:last-child {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\n\t& .ck-toolbar__line-break {\n\t\tflex-basis: 100%;\n\t}\n\n\t&.ck-toolbar_grouping > .ck-toolbar__items {\n\t\tflex-wrap: nowrap;\n\t}\n\n\t&.ck-toolbar_vertical > .ck-toolbar__items {\n\t\tflex-direction: column;\n\t}\n\n\t&.ck-toolbar_floating > .ck-toolbar__items {\n\t\tflex-wrap: nowrap;\n\t}\n\n\t& > .ck.ck-toolbar__grouped-dropdown {\n\t\t& > .ck-dropdown__button .ck-dropdown__arrow {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Makes element unselectable.\n */\n@define-mixin ck-unselectable {\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck.ck-toolbar {\n\t@mixin ck-rounded-corners;\n\n\tbackground: var(--ck-color-toolbar-background);\n\tpadding: 0 var(--ck-spacing-small);\n\tborder: 1px solid var(--ck-color-toolbar-border);\n\n\t& .ck.ck-toolbar__separator {\n\t\talign-self: stretch;\n\t\twidth: 1px;\n\t\tmin-width: 1px;\n\t\tbackground: var(--ck-color-toolbar-border);\n\n\t\t/*\n\t\t * These margins make the separators look better in balloon toolbars (when aligned with the "tip").\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/7493.\n\t\t */\n\t\tmargin-top: var(--ck-spacing-small);\n\t\tmargin-bottom: var(--ck-spacing-small);\n\t}\n\n\t& .ck-toolbar__line-break {\n\t\theight: 0;\n\t}\n\n\t& > .ck-toolbar__items {\n\t\t& > *:not(.ck-toolbar__line-break) {\n\t\t\t/* (#11) Separate toolbar items. */\n\t\t\tmargin-right: var(--ck-spacing-small);\n\t\t}\n\n\t\t/* Don\'t display a separator after an empty items container, for instance,\n\t\twhen all items were grouped */\n\t\t&:empty + .ck.ck-toolbar__separator {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\n\t& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),\n\t& > .ck.ck-toolbar__grouped-dropdown {\n\t\t/* Make sure items wrapped to the next line have v-spacing */\n\t\tmargin-top: var(--ck-spacing-small);\n\t\tmargin-bottom: var(--ck-spacing-small);\n\t}\n\n\t&.ck-toolbar_vertical {\n\t\t/* Items in a vertical toolbar span the entire width. */\n\t\tpadding: 0;\n\n\t\t/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */\n\t\t& > .ck-toolbar__items > .ck {\n\t\t\t/* Items in a vertical toolbar should span the horizontal space. */\n\t\t\twidth: 100%;\n\n\t\t\t/* Items in a vertical toolbar should have no margin. */\n\t\t\tmargin: 0;\n\n\t\t\t/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */\n\t\t\tborder-radius: 0;\n\t\t}\n\t}\n\n\t&.ck-toolbar_compact {\n\t\t/* No spacing around items. */\n\t\tpadding: 0;\n\n\t\t& > .ck-toolbar__items > * {\n\t\t\t/* Compact toolbar items have no spacing between them. */\n\t\t\tmargin: 0;\n\n\t\t\t/* "Middle" children should have no rounded corners. */\n\t\t\t&:not(:first-child):not(:last-child) {\n\t\t\t\tborder-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n\n\t& > .ck.ck-toolbar__grouped-dropdown {\n\t\t/*\n\t\t * Dropdown button has asymmetric padding to fit the arrow.\n\t\t * This button has no arrow so let\'s revert that padding back to normal.\n\t\t */\n\t\t& > .ck.ck-button.ck-dropdown__button {\n\t\t\tpadding-left: var(--ck-spacing-tiny);\n\t\t}\n\t}\n\n\t/* A drop-down containing the nested toolbar with configured items. */\n\t& .ck-toolbar__nested-toolbar-dropdown {\n\t\t/* Prevent empty space in the panel when the dropdown label is visible and long but the toolbar has few items. */\n\t\t& > .ck-dropdown__panel {\n\t\t\tmin-width: auto;\n\t\t}\n\n\t\t& > .ck-button > .ck-button__label {\n\t\t\tmax-width: 7em;\n\t\t\twidth: auto;\n\t\t}\n\t}\n\n\t&:focus {\n\t\toutline: none;\n\t}\n\n\t@nest .ck-toolbar-container & {\n\t\tborder: 0;\n\t}\n}\n\n/* stylelint-disable */\n\n/*\n * Styles for RTL toolbars.\n *\n * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"\n * because its parent is not controlled by the editor framework.\n */\n[dir="rtl"] .ck.ck-toolbar,\n.ck.ck-toolbar[dir="rtl"] {\n\t& > .ck-toolbar__items > .ck {\n\t\tmargin-right: 0;\n\t}\n\n\t&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {\n\t\t/* (#11) Separate toolbar items. */\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n\n\t& > .ck-toolbar__items > .ck:last-child {\n\t\tmargin-left: 0;\n\t}\n\n\t&.ck-toolbar_compact > .ck-toolbar__items > .ck {\n\t\t/* No rounded corners on the right side of the first child. */\n\t\t&:first-child {\n\t\t\tborder-top-left-radius: 0;\n\t\t\tborder-bottom-left-radius: 0;\n\t\t}\n\n\t\t/* No rounded corners on the left side of the last child. */\n\t\t&:last-child {\n\t\t\tborder-top-right-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\t}\n\n\t/* Separate the the separator form the grouping dropdown when some items are grouped. */\n\t& > .ck.ck-toolbar__separator {\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n\n\t/* Some spacing between the items and the separator before the grouped items dropdown. */\n\t&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n}\n\n/*\n * Styles for LTR toolbars.\n *\n * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"\n * because its parent is not controlled by the editor framework.\n */\n[dir="ltr"] .ck.ck-toolbar,\n.ck.ck-toolbar[dir="ltr"] {\n\t& > .ck-toolbar__items > .ck:last-child {\n\t\tmargin-right: 0;\n\t}\n\n\t&.ck-toolbar_compact > .ck-toolbar__items > .ck {\n\t\t/* No rounded corners on the right side of the first child. */\n\t\t&:first-child {\n\t\t\tborder-top-right-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\n\t\t/* No rounded corners on the left side of the last child. */\n\t\t&:last-child {\n\t\t\tborder-top-left-radius: 0;\n\t\t\tborder-bottom-left-radius: 0;\n\t\t}\n\t}\n\n\t/* Separate the the separator form the grouping dropdown when some items are grouped. */\n\t& > .ck.ck-toolbar__separator {\n\t\tmargin-right: var(--ck-spacing-small);\n\t}\n\n\t/* Some spacing between the items and the separator before the grouped items dropdown. */\n\t&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {\n\t\tmargin-right: var(--ck-spacing-small);\n\t}\n}\n\n/* stylelint-enable */\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const R=S},3332:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,".ck.ck-balloon-panel.ck-tooltip{--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-tooltip-text-padding:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium);pointer-events:none;z-index:calc(var(--ck-z-modal) + 100)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip.ck-tooltip_multi-line .ck-tooltip__text{display:inline-block;padding:var(--ck-tooltip-text-padding) 0;white-space:break-spaces}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css"],names:[],mappings:"AAKA,gCCGC,6BAA8B,CAC9B,6BAA8B,CAC9B,iCAAkC,CAClC,6BAA8B,CAC9B,6BAA8B,CAC9B,8DAA+D,CAE/D,kCAAmC,CDRnC,mBAAoB,CAEpB,qCACD,CCOC,kDAGC,kCAAmC,CAFnC,cAAe,CACf,eAED,CAEA,wEAEC,oBAAqB,CACrB,wCAAyC,CAFzC,wBAGD,CApBD,gCAuBC,eAMD,CAHC,uCACC,YACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-balloon-panel.ck-tooltip {\n\t/* Keep tooltips transparent for any interactions. */\n\tpointer-events: none;\n\n\tz-index: calc( var(--ck-z-modal) + 100 );\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n.ck.ck-balloon-panel.ck-tooltip {\n\t--ck-balloon-border-width: 0px;\n\t--ck-balloon-arrow-offset: 0px;\n\t--ck-balloon-arrow-half-width: 4px;\n\t--ck-balloon-arrow-height: 4px;\n\t--ck-tooltip-text-padding: 4px;\n\t--ck-color-panel-background: var(--ck-color-tooltip-background);\n\n\tpadding: 0 var(--ck-spacing-medium);\n\n\t& .ck-tooltip__text {\n\t\tfont-size: .9em;\n\t\tline-height: 1.5;\n\t\tcolor: var(--ck-color-tooltip-text);\n\t}\n\n\t&.ck-tooltip_multi-line .ck-tooltip__text {\n\t\twhite-space: break-spaces;\n\t\tdisplay: inline-block;\n\t\tpadding: var(--ck-tooltip-text-padding) 0;\n\t}\n\n\t/* Reset balloon panel styles */\n\tbox-shadow: none;\n\n\t/* Hide the default shadow of the .ck-balloon-panel tip */\n\t&::before {\n\t\tdisplay: none;\n\t}\n}\n'],sourceRoot:""}]);const R=S},4793:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,".ck-hidden{display:none!important}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{box-sizing:border-box;height:auto;position:static;width:auto}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999)}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-powered-by-line-height:10px;--ck-powered-by-padding-vertical:2px;--ck-powered-by-padding-horizontal:4px;--ck-powered-by-text-color:#4f4f4f;--ck-powered-by-border-radius:var(--ck-border-radius);--ck-powered-by-background:#fff;--ck-powered-by-border-color:var(--ck-color-focus-border)}.ck.ck-balloon-panel.ck-powered-by-balloon{--ck-border-radius:var(--ck-powered-by-border-radius);background:var(--ck-powered-by-background);box-shadow:none;min-height:unset;z-index:calc(var(--ck-z-modal) - 1)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by{line-height:var(--ck-powered-by-line-height)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by a{align-items:center;cursor:pointer;display:flex;filter:grayscale(80%);line-height:var(--ck-powered-by-line-height);opacity:.66;padding:var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-powered-by__label{color:var(--ck-powered-by-text-color);cursor:pointer;font-size:7.5px;font-weight:700;letter-spacing:-.2px;line-height:normal;margin-right:4px;padding-left:2px;text-transform:uppercase}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-icon{cursor:pointer;display:block}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by:hover a{filter:grayscale(0);opacity:1}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_inside]{border-color:transparent}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_border]{border:var(--ck-focus-ring);border-color:var(--ck-powered-by-border-color)}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{word-wrap:break-word;background:transparent;border:0;margin:0;padding:0;text-decoration:none;transition:none;vertical-align:middle}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/globals/_hidden.css","webpack://./../ckeditor5-ui/theme/globals/_reset.css","webpack://./../ckeditor5-ui/theme/globals/_zindex.css","webpack://./../ckeditor5-ui/theme/globals/_transition.css","webpack://./../ckeditor5-ui/theme/globals/_poweredby.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,2EAGC,qBAAsB,CAEtB,WAAY,CACZ,eAAgB,CAFhB,UAGD,CCPA,MACC,gBAAiB,CACjB,4CACD,CCAA,oDAEC,yBACD,CCNA,MACC,gCAAiC,CACjC,oCAAqC,CACrC,sCAAuC,CACvC,kCAA2C,CAC3C,qDAAsD,CACtD,+BAA4C,CAC5C,yDACD,CAEA,2CACC,qDAAsD,CAGtD,0CAA2C,CAD3C,eAAgB,CAEhB,gBAAiB,CACjB,mCAiDD,CA/CC,6DACC,4CAoCD,CAlCC,+DAGC,kBAAmB,CAFnB,cAAe,CACf,YAAa,CAGb,qBAAsB,CACtB,4CAA6C,CAF7C,WAAY,CAGZ,qFACD,CAEA,mFASC,qCAAsC,CAFtC,cAAe,CANf,eAAgB,CAIhB,eAAiB,CAHjB,oBAAqB,CAMrB,kBAAmB,CAFnB,gBAAiB,CAHjB,gBAAiB,CACjB,wBAOD,CAEA,sEAEC,cAAe,CADf,aAED,CAGC,qEACC,mBAAqB,CACrB,SACD,CAIF,mEACC,wBACD,CAEA,mEACC,2BAA4B,CAC5B,8CACD,CChED,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAkD,CAClD,8BAAuD,CACvD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAsD,CACtD,oCAA4D,CAC5D,6BAAkD,CAIlD,mDAA4D,CAC5D,qEAA+E,CAC/E,qCAA4D,CAC5D,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAAiE,CACjE,mDAAkE,CAClE,yDAA8D,CAE9D,uCAA6D,CAC7D,6CAAoE,CACpE,8CAAoE,CACpE,gDAAiE,CACjE,kCAAyD,CAGzD,+DAAsE,CACtE,iDAAsE,CACtE,kDAAsE,CACtE,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA8D,CAC9D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAuE,CACvE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,2DAAoE,CACpE,mDAA6D,CAC7D,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,4DAAoE,CACpE,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,oEAA2E,CAC3E,0EAA+E,CAC/E,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CAIhE,oCAAwD,CCvGxD,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJuGD,CIjGA,2EAaC,oBAAqB,CANrB,sBAAuB,CADvB,QAAS,CAFT,QAAS,CACT,SAAU,CAGV,oBAAqB,CAErB,eAAgB,CADhB,qBAKD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCnFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which hides an element in DOM.\n */\n.ck-hidden {\n\t/* Override selector specificity. Otherwise, all elements with some display\n\tstyle defined will override this one, which is not a desired result. */\n\tdisplay: none !important;\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-reset,\n.ck.ck-reset_all,\n.ck-reset_all *:not(.ck-reset_all-excluded *) {\n\tbox-sizing: border-box;\n\twidth: auto;\n\theight: auto;\n\tposition: static;\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-z-default: 1;\n\t--ck-z-modal: calc( var(--ck-z-default) + 999 );\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class that disables all transitions of the element and its children.\n */\n.ck-transitions-disabled,\n.ck-transitions-disabled * {\n\ttransition: none !important;\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-powered-by-line-height: 10px;\n\t--ck-powered-by-padding-vertical: 2px;\n\t--ck-powered-by-padding-horizontal: 4px;\n\t--ck-powered-by-text-color: hsl(0, 0%, 31%);\n\t--ck-powered-by-border-radius: var(--ck-border-radius);\n\t--ck-powered-by-background: hsl(0, 0%, 100%);\n\t--ck-powered-by-border-color: var(--ck-color-focus-border);\n}\n\n.ck.ck-balloon-panel.ck-powered-by-balloon {\n\t--ck-border-radius: var(--ck-powered-by-border-radius);\n\n\tbox-shadow: none;\n\tbackground: var(--ck-powered-by-background);\n\tmin-height: unset;\n\tz-index: calc( var(--ck-z-modal) - 1 );\n\n\t& .ck.ck-powered-by {\n\t\tline-height: var(--ck-powered-by-line-height);\n\n\t\t& a {\n\t\t\tcursor: pointer;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\topacity: .66;\n\t\t\tfilter: grayscale(80%);\n\t\t\tline-height: var(--ck-powered-by-line-height);\n\t\t\tpadding: var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal);\n\t\t}\n\n\t\t& .ck-powered-by__label {\n\t\t\tfont-size: 7.5px;\n\t\t\tletter-spacing: -.2px;\n\t\t\tpadding-left: 2px;\n\t\t\ttext-transform: uppercase;\n\t\t\tfont-weight: bold;\n\t\t\tmargin-right: 4px;\n\t\t\tcursor: pointer;\n\t\t\tline-height: normal;\n\t\t\tcolor: var(--ck-powered-by-text-color);\n\n\t\t}\n\n\t\t& .ck-icon {\n\t\t\tdisplay: block;\n\t\t\tcursor: pointer;\n\t\t}\n\n\t\t&:hover {\n\t\t\t& a {\n\t\t\t\tfilter: grayscale(0%);\n\t\t\t\topacity: 1;\n\t\t\t}\n\t\t}\n\t}\n\n\t&[class*="position_inside"] {\n\t\tborder-color: transparent;\n\t}\n\n\t&[class*="position_border"] {\n\t\tborder: var(--ck-focus-ring);\n\t\tborder-color: var(--ck-powered-by-border-color);\n\t}\n}\n\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-base-foreground: \t\t\t\t\t\t\t\thsl(0, 0%, 98%);\n\t--ck-color-base-background: \t\t\t\t\t\t\t\thsl(0, 0%, 100%);\n\t--ck-color-base-border: \t\t\t\t\t\t\t\t\thsl(220, 6%, 81%);\n\t--ck-color-base-action: \t\t\t\t\t\t\t\t\thsl(104, 50.2%, 42.5%);\n\t--ck-color-base-focus: \t\t\t\t\t\t\t\t\t\thsl(209, 92%, 70%);\n\t--ck-color-base-text: \t\t\t\t\t\t\t\t\t\thsl(0, 0%, 20%);\n\t--ck-color-base-active: \t\t\t\t\t\t\t\t\thsl(218.1, 100%, 58%);\n\t--ck-color-base-active-focus:\t\t\t\t\t\t\t\thsl(218.2, 100%, 52.5%);\n\t--ck-color-base-error:\t\t\t\t\t\t\t\t\t\thsl(15, 100%, 43%);\n\n\t/* -- Generic colors ------------------------------------------------------------------------ */\n\n\t--ck-color-focus-border-coordinates: \t\t\t\t\t\t218, 81.8%, 56.9%;\n\t--ck-color-focus-border: \t\t\t\t\t\t\t\t\thsl(var(--ck-color-focus-border-coordinates));\n\t--ck-color-focus-outer-shadow:\t\t\t\t\t\t\t\thsl(212.4, 89.3%, 89%);\n\t--ck-color-focus-disabled-shadow:\t\t\t\t\t\t\thsla(209, 90%, 72%,.3);\n\t--ck-color-focus-error-shadow:\t\t\t\t\t\t\t\thsla(9,100%,56%,.3);\n\t--ck-color-text: \t\t\t\t\t\t\t\t\t\t\tvar(--ck-color-base-text);\n\t--ck-color-shadow-drop: \t\t\t\t\t\t\t\t\thsla(0, 0%, 0%, 0.15);\n\t--ck-color-shadow-drop-active:\t\t\t\t\t\t\t\thsla(0, 0%, 0%, 0.2);\n\t--ck-color-shadow-inner: \t\t\t\t\t\t\t\t\thsla(0, 0%, 0%, 0.1);\n\n\t/* -- Buttons ------------------------------------------------------------------------------- */\n\n\t--ck-color-button-default-background: \t\t\t\t\t\ttransparent;\n\t--ck-color-button-default-hover-background: \t\t\t\thsl(0, 0%, 94.1%);\n\t--ck-color-button-default-active-background: \t\t\t\thsl(0, 0%, 94.1%);\n\t--ck-color-button-default-disabled-background: \t\t\t\ttransparent;\n\n\t--ck-color-button-on-background: \t\t\t\t\t\t\thsl(212, 100%, 97.1%);\n\t--ck-color-button-on-hover-background: \t\t\t\t\t\thsl(211.7, 100%, 92.9%);\n\t--ck-color-button-on-active-background: \t\t\t\t\thsl(211.7, 100%, 92.9%);\n\t--ck-color-button-on-disabled-background: \t\t\t\t\thsl(211, 15%, 95%);\n\t--ck-color-button-on-color:\t\t\t\t\t\t\t\t\thsl(218.1, 100%, 58%);\n\n\n\t--ck-color-button-action-background: \t\t\t\t\t\tvar(--ck-color-base-action);\n\t--ck-color-button-action-hover-background: \t\t\t\t\thsl(104, 53.2%, 40.2%);\n\t--ck-color-button-action-active-background: \t\t\t\thsl(104, 53.2%, 40.2%);\n\t--ck-color-button-action-disabled-background: \t\t\t\thsl(104, 44%, 58%);\n\t--ck-color-button-action-text: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\n\t--ck-color-button-save: \t\t\t\t\t\t\t\t\thsl(120, 100%, 27%);\n\t--ck-color-button-cancel: \t\t\t\t\t\t\t\t\thsl(15, 100%, 43%);\n\n\t--ck-color-switch-button-off-background:\t\t\t\t\thsl(0, 0%, 57.6%);\n\t--ck-color-switch-button-off-hover-background:\t\t\t\thsl(0, 0%, 49%);\n\t--ck-color-switch-button-on-background:\t\t\t\t\t\tvar(--ck-color-button-action-background);\n\t--ck-color-switch-button-on-hover-background:\t\t\t\thsl(104, 53.2%, 40.2%);\n\t--ck-color-switch-button-inner-background:\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-switch-button-inner-shadow:\t\t\t\t\t\thsla(0, 0%, 0%, 0.1);\n\n\t/* -- Dropdown ------------------------------------------------------------------------------ */\n\n\t--ck-color-dropdown-panel-background: \t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-dropdown-panel-border: \t\t\t\t\t\t\tvar(--ck-color-base-border);\n\n\t/* -- Input --------------------------------------------------------------------------------- */\n\n\t--ck-color-input-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-input-border: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-border);\n\t--ck-color-input-error-border:\t\t\t\t\t\t\t\tvar(--ck-color-base-error);\n\t--ck-color-input-text: \t\t\t\t\t\t\t\t\t\tvar(--ck-color-base-text);\n\t--ck-color-input-disabled-background: \t\t\t\t\t\thsl(0, 0%, 95%);\n\t--ck-color-input-disabled-border: \t\t\t\t\t\t\tvar(--ck-color-base-border);\n\t--ck-color-input-disabled-text: \t\t\t\t\t\t\thsl(0, 0%, 46%);\n\n\t/* -- List ---------------------------------------------------------------------------------- */\n\n\t--ck-color-list-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-list-button-hover-background: \t\t\t\t\tvar(--ck-color-button-default-hover-background);\n\t--ck-color-list-button-on-background: \t\t\t\t\t\tvar(--ck-color-button-on-color);\n\t--ck-color-list-button-on-background-focus: \t\t\t\tvar(--ck-color-button-on-color);\n\t--ck-color-list-button-on-text:\t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\n\t/* -- Panel --------------------------------------------------------------------------------- */\n\n\t--ck-color-panel-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-panel-border: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-border);\n\n\t/* -- Toolbar ------------------------------------------------------------------------------- */\n\n\t--ck-color-toolbar-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-toolbar-border: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-border);\n\n\t/* -- Tooltip ------------------------------------------------------------------------------- */\n\n\t--ck-color-tooltip-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-text);\n\t--ck-color-tooltip-text: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\n\t/* -- Engine -------------------------------------------------------------------------------- */\n\n\t--ck-color-engine-placeholder-text: \t\t\t\t\t\thsl(0, 0%, 44%);\n\n\t/* -- Upload -------------------------------------------------------------------------------- */\n\n\t--ck-color-upload-bar-background:\t\t \t\t\t\t\thsl(209, 92%, 70%);\n\n\t/* -- Link -------------------------------------------------------------------------------- */\n\n\t--ck-color-link-default:\t\t\t\t\t\t\t\t\thsl(240, 100%, 47%);\n\t--ck-color-link-selected-background:\t\t\t\t\t\thsla(201, 100%, 56%, 0.1);\n\t--ck-color-link-fake-selection:\t\t\t\t\t\t\t\thsla(201, 100%, 56%, 0.3);\n\n\t/* -- Search result highlight ---------------------------------------------------------------- */\n\n\t--ck-color-highlight-background:\t\t\t\t\t\t\thsl(60, 100%, 50%)\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/**\n\t * An opacity value of disabled UI item.\n\t */\n\t--ck-disabled-opacity: .5;\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/**\n\t * The geometry of the of focused element's outer shadow.\n\t */\n\t--ck-focus-outer-shadow-geometry: 0 0 0 3px;\n\n\t/**\n\t * A visual style of focused element's outer shadow.\n\t */\n\t--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);\n\n\t/**\n\t * A visual style of focused element's outer shadow (when disabled).\n\t */\n\t--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);\n\n\t/**\n\t * A visual style of focused element's outer shadow (when has errors).\n\t */\n\t--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);\n\n\t/**\n\t * A visual style of focused element's border or outline.\n\t */\n\t--ck-focus-ring: 1px solid var(--ck-color-focus-border);\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-font-size-base: 13px;\n\t--ck-line-height-base: 1.84615;\n\t--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;\n\n\t--ck-font-size-tiny: 0.7em;\n\t--ck-font-size-small: 0.75em;\n\t--ck-font-size-normal: 1em;\n\t--ck-font-size-big: 1.4em;\n\t--ck-font-size-large: 1.8em;\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/* This is super-important. This is **manually** adjusted so a button without an icon\n\tis never smaller than a button with icon, additionally making sure that text-less buttons\n\tare perfect squares. The value is also shared by other components which should stay "in-line"\n\twith buttons. */\n\t--ck-ui-component-min-height: 2.3em;\n}\n\n/**\n * Resets an element, ignoring its children.\n */\n.ck.ck-reset,\n.ck.ck-reset_all,\n.ck-reset_all *:not(.ck-reset_all-excluded *) {\n\t/* Do not include inheritable rules here. */\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\tbackground: transparent;\n\ttext-decoration: none;\n\tvertical-align: middle;\n\ttransition: none;\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */\n\tword-wrap: break-word;\n}\n\n/**\n * Resets an element AND its children.\n */\n.ck.ck-reset_all,\n.ck-reset_all *:not(.ck-reset_all-excluded *) {\n\t/* These are rule inherited by all children elements. */\n\tborder-collapse: collapse;\n\tfont: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);\n\tcolor: var(--ck-color-text);\n\ttext-align: left;\n\twhite-space: nowrap;\n\tcursor: auto;\n\tfloat: none;\n}\n\n.ck-reset_all {\n\t& .ck-rtl *:not(.ck-reset_all-excluded *) {\n\t\ttext-align: right;\n\t}\n\n\t& iframe:not(.ck-reset_all-excluded *) {\n\t\t/* For IE */\n\t\tvertical-align: inherit;\n\t}\n\n\t& textarea:not(.ck-reset_all-excluded *) {\n\t\twhite-space: pre-wrap;\n\t}\n\n\t& textarea:not(.ck-reset_all-excluded *),\n\t& input[type="text"]:not(.ck-reset_all-excluded *),\n\t& input[type="password"]:not(.ck-reset_all-excluded *) {\n\t\tcursor: text;\n\t}\n\n\t& textarea[disabled]:not(.ck-reset_all-excluded *),\n\t& input[type="text"][disabled]:not(.ck-reset_all-excluded *),\n\t& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {\n\t\tcursor: default;\n\t}\n\n\t& fieldset:not(.ck-reset_all-excluded *) {\n\t\tpadding: 10px;\n\t\tborder: 2px groove hsl(255, 7%, 88%);\n\t}\n\n\t& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {\n\t\t/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */\n\t\tpadding: 0;\n\t\tborder: 0\n\t}\n}\n\n/**\n * Default UI rules for RTL languages.\n */\n.ck[dir="rtl"],\n.ck[dir="rtl"] .ck {\n\ttext-align: right;\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Default border-radius value.\n */\n:root{\n\t--ck-border-radius: 2px;\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/**\n\t * A visual style of element's inner shadow (i.e. input).\n\t */\n\t--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;\n\n\t/**\n\t * A visual style of element's drop shadow (i.e. panel).\n\t */\n\t--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);\n\n\t/**\n\t * A visual style of element's active shadow (i.e. comment or suggestion).\n\t */\n\t--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-spacing-unit: \t\t\t\t\t\t0.6em;\n\t--ck-spacing-large: \t\t\t\t\tcalc(var(--ck-spacing-unit) * 1.5);\n\t--ck-spacing-standard: \t\t\t\t\tvar(--ck-spacing-unit);\n\t--ck-spacing-medium: \t\t\t\t\tcalc(var(--ck-spacing-unit) * 0.8);\n\t--ck-spacing-small: \t\t\t\t\tcalc(var(--ck-spacing-unit) * 0.5);\n\t--ck-spacing-tiny: \t\t\t\t\t\tcalc(var(--ck-spacing-unit) * 0.3);\n\t--ck-spacing-extra-tiny: \t\t\t\tcalc(var(--ck-spacing-unit) * 0.16);\n}\n"],sourceRoot:""}]);const R=S},3488:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background);border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widget.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CCjFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAUD,CARC,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAWD,CAPC,yGAKC,iEAAkE,CCnCnE,2BAA2B,CCF3B,qCAA8B,CDC9B,YDqCA,CAIA,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAgCD,CAnBC,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAWD,CANC,kHACC,SAAU,CAGV,+DACD,CAID,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-resizer: var(--ck-color-focus-border);\n\t--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);\n\t--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);\n\n\t--ck-resizer-border-radius: var(--ck-border-radius);\n\t--ck-resizer-tooltip-offset: 10px;\n\t--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);\n}\n\n.ck .ck-widget {\n\t/* This is neccessary for type around UI to be positioned properly. */\n\tposition: relative;\n}\n\n.ck .ck-widget.ck-widget_with-selection-handle {\n\t/* Make the widget wrapper a relative positioning container for the drag handle. */\n\tposition: relative;\n\n\t& .ck-widget__selection-handle {\n\t\tposition: absolute;\n\n\t\t& .ck-icon {\n\t\t\t/* Make sure the icon in not a subject to font-size or line-height to avoid\n\t\t\tunnecessary spacing around it. */\n\t\t\tdisplay: block;\n\t\t}\n\t}\n\n\t/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */\n\t&:hover > .ck-widget__selection-handle {\n\t\tvisibility: visible;\n\t}\n\n\t/* Show the selection handle when the widget is selected, but not for nested widgets. */\n\t&.ck-widget_selected > .ck-widget__selection-handle {\n\t\tvisibility: visible;\n\t}\n}\n\n.ck .ck-size-view {\n\tbackground: var(--ck-color-resizer-tooltip-background);\n\tcolor: var(--ck-color-resizer-tooltip-text);\n\tborder: 1px solid var(--ck-color-resizer-tooltip-text);\n\tborder-radius: var(--ck-resizer-border-radius);\n\tfont-size: var(--ck-font-size-tiny);\n\tdisplay: block;\n\tpadding: 0 var(--ck-spacing-small);\n\theight: var(--ck-resizer-tooltip-height);\n\tline-height: var(--ck-resizer-tooltip-height);\n\n\t&.ck-orientation-top-left,\n\t&.ck-orientation-top-right,\n\t&.ck-orientation-bottom-right,\n\t&.ck-orientation-bottom-left,\n\t&.ck-orientation-above-center {\n\t\tposition: absolute;\n\t}\n\n\t&.ck-orientation-top-left {\n\t\ttop: var(--ck-resizer-tooltip-offset);\n\t\tleft: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t&.ck-orientation-top-right {\n\t\ttop: var(--ck-resizer-tooltip-offset);\n\t\tright: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t&.ck-orientation-bottom-right {\n\t\tbottom: var(--ck-resizer-tooltip-offset);\n\t\tright: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t&.ck-orientation-bottom-left {\n\t\tbottom: var(--ck-resizer-tooltip-offset);\n\t\tleft: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t/* Class applied if the widget is too small to contain the size label */\n\t&.ck-orientation-above-center {\n\t\ttop: calc(var(--ck-resizer-tooltip-height) * -1);\n\t\tleft: 50%;\n\t\ttransform: translate(-50%);\n\t}\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../mixins/_focus.css";\n@import "../mixins/_shadow.css";\n\n:root {\n\t--ck-widget-outline-thickness: 3px;\n\t--ck-widget-handler-icon-size: 16px;\n\t--ck-widget-handler-animation-duration: 200ms;\n\t--ck-widget-handler-animation-curve: ease;\n\n\t--ck-color-widget-blurred-border: hsl(0, 0%, 87%);\n\t--ck-color-widget-hover-border: hsl(43, 100%, 62%);\n\t--ck-color-widget-editable-focus-background: var(--ck-color-base-background);\n\t--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);\n}\n\n.ck .ck-widget {\n\toutline-width: var(--ck-widget-outline-thickness);\n\toutline-style: solid;\n\toutline-color: transparent;\n\ttransition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\n\n\t&.ck-widget_selected,\n\t&.ck-widget_selected:hover {\n\t\toutline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);\n\t}\n\n\t&:hover {\n\t\toutline-color: var(--ck-color-widget-hover-border);\n\t}\n}\n\n.ck .ck-editor__nested-editable {\n\tborder: 1px solid transparent;\n\n\t/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.\n\tThese styles show a different border for a blink of an eye, so `:focus` need to have same styles applied. */\n\t&.ck-editor__nested-editable_focused,\n\t&:focus {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-inner-shadow);\n\n\t\tbackground-color: var(--ck-color-widget-editable-focus-background);\n\t}\n}\n\n.ck .ck-widget.ck-widget_with-selection-handle {\n\t& .ck-widget__selection-handle {\n\t\tpadding: 4px;\n\t\tbox-sizing: border-box;\n\n\t\t/* Background and opacity will be animated as the handler shows up or the widget gets selected. */\n\t\tbackground-color: transparent;\n\t\topacity: 0;\n\n\t\t/* Transition:\n\t\t   * background-color for the .ck-widget_selected state change,\n\t\t   * visibility for hiding the handler,\n\t\t   * opacity for the proper look of the icon when the handler disappears. */\n\t\ttransition:\n\t\t\tbackground-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),\n\t\t\tvisibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),\n\t\t\topacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\n\n\t\t/* Make only top corners round. */\n\t\tborder-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;\n\n\t\t/* Place the drag handler outside the widget wrapper. */\n\t\ttransform: translateY(-100%);\n\t\tleft: calc(0px - var(--ck-widget-outline-thickness));\n\t\ttop: 0;\n\n\t\t& .ck-icon {\n\t\t\t/* Make sure the dimensions of the icon are independent of the fon-size of the content. */\n\t\t\twidth: var(--ck-widget-handler-icon-size);\n\t\t\theight: var(--ck-widget-handler-icon-size);\n\t\t\tcolor: var(--ck-color-widget-drag-handler-icon-color);\n\n\t\t\t/* The "selected" part of the icon is invisible by default */\n\t\t\t& .ck-icon__selected-indicator {\n\t\t\t\topacity: 0;\n\n\t\t\t\t/* Note: The animation is longer on purpose. Simply feels better. */\n\t\t\t\ttransition: opacity 300ms var(--ck-widget-handler-animation-curve);\n\t\t\t}\n\t\t}\n\n\t\t/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */\n\t\t&:hover .ck-icon .ck-icon__selected-indicator {\n\t\t\topacity: 1;\n\t\t}\n\t}\n\n\t/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */\n\t&:hover > .ck-widget__selection-handle {\n\t\topacity: 1;\n\t\tbackground-color: var(--ck-color-widget-hover-border);\n\t}\n\n\t/* Show the selection handler when the widget is selected, but not for nested widgets. */\n\t&.ck-widget_selected,\n\t&.ck-widget_selected:hover {\n\t\t& > .ck-widget__selection-handle {\n\t\t\topacity: 1;\n\t\t\tbackground-color: var(--ck-color-focus-border);\n\n\t\t\t/* When the widget is selected, notify the user using the proper look of the icon. */\n\t\t\t& .ck-icon .ck-icon__selected-indicator {\n\t\t\t\topacity: 1;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/* In a RTL environment, align the selection handler to the right side of the widget */\n/* stylelint-disable-next-line no-descending-specificity */\n.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {\n\tleft: auto;\n\tright: calc(0px - var(--ck-widget-outline-thickness));\n}\n\n/* https://github.com/ckeditor/ckeditor5/issues/6415 */\n.ck.ck-editor__editable.ck-read-only .ck-widget {\n\t/* Prevent the :hover outline from showing up because of the used outline-color transition. */\n\ttransition: none;\n\n\t&:not(.ck-widget_selected) {\n\t\t/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.\n\t\t * See: https://github.com/ckeditor/ckeditor5/issues/1261\n\t\t *\n\t\t * Leave the unit because this custom property is used in calc() by other features.\n\t\t * See: https://github.com/ckeditor/ckeditor5/issues/6775\n\t\t */\n\t\t--ck-widget-outline-thickness: 0px;\n\t}\n\n\t&.ck-widget_with-selection-handle {\n\t\t& .ck-widget__selection-handle,\n\t\t& .ck-widget__selection-handle:hover {\n\t\t\tbackground: var(--ck-color-widget-blurred-border);\n\t\t}\n\t}\n}\n\n/* Style the widget when it\'s selected but the editable it belongs to lost focus. */\n/* stylelint-disable-next-line no-descending-specificity */\n.ck.ck-editor__editable.ck-blurred .ck-widget {\n\t&.ck-widget_selected,\n\t&.ck-widget_selected:hover {\n\t\toutline-color: var(--ck-color-widget-blurred-border);\n\n\t\t&.ck-widget_with-selection-handle {\n\t\t\t& > .ck-widget__selection-handle,\n\t\t\t& > .ck-widget__selection-handle:hover {\n\t\t\t\tbackground: var(--ck-color-widget-blurred-border);\n\t\t\t}\n\t\t}\n\t}\n}\n\n.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,\n.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {\n\t/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.\n\tIn fact, anything with overflow: hidden.\n\thttps://github.com/ckeditor/ckeditor5-block-quote/issues/28\n\thttps://github.com/ckeditor/ckeditor5-widget/issues/44\n\thttps://github.com/ckeditor/ckeditor5-widget/issues/66 */\n\tmargin-top: calc(1em + var(--ck-widget-handler-icon-size));\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const R=S},8506:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgetresize.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-widget_with-resizer {\n\t/* Make the widget wrapper a relative positioning container for the drag handle. */\n\tposition: relative;\n}\n\n.ck .ck-widget__resizer {\n\tdisplay: none;\n\tposition: absolute;\n\n\t/* The wrapper itself should not interfere with the pointer device, only the handles should. */\n\tpointer-events: none;\n\n\tleft: 0;\n\ttop: 0;\n}\n\n.ck-focused .ck-widget_with-resizer.ck-widget_selected {\n\t& > .ck-widget__resizer {\n\t\tdisplay: block;\n\t}\n}\n\n.ck .ck-widget__resizer__handle {\n\tposition: absolute;\n\n\t/* Resizers are the only UI elements that should interfere with a pointer device. */\n\tpointer-events: all;\n\n\t&.ck-widget__resizer__handle-top-left,\n\t&.ck-widget__resizer__handle-bottom-right {\n\t\tcursor: nwse-resize;\n\t}\n\n\t&.ck-widget__resizer__handle-top-right,\n\t&.ck-widget__resizer__handle-bottom-left {\n\t\tcursor: nesw-resize;\n\t}\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-resizer-size: 10px;\n\n\t/* Set the resizer with a 50% offset. */\n\t--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);\n\t--ck-resizer-border-width: 1px;\n}\n\n.ck .ck-widget__resizer {\n\toutline: 1px solid var(--ck-color-resizer);\n}\n\n.ck .ck-widget__resizer__handle {\n\twidth: var(--ck-resizer-size);\n\theight: var(--ck-resizer-size);\n\tbackground: var(--ck-color-focus-border);\n\tborder: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);\n\tborder-radius: var(--ck-resizer-border-radius);\n\n\t&.ck-widget__resizer__handle-top-left {\n\t\ttop: var(--ck-resizer-offset);\n\t\tleft: var(--ck-resizer-offset);\n\t}\n\n\t&.ck-widget__resizer__handle-top-right {\n\t\ttop: var(--ck-resizer-offset);\n\t\tright: var(--ck-resizer-offset);\n\t}\n\n\t&.ck-widget__resizer__handle-bottom-right {\n\t\tbottom: var(--ck-resizer-offset);\n\t\tright: var(--ck-resizer-offset);\n\t}\n\n\t&.ck-widget__resizer__handle-bottom-left {\n\t\tbottom: var(--ck-resizer-offset);\n\t\tleft: var(--ck-resizer-offset);\n\t}\n}\n"],sourceRoot:""}]);const R=S},4921:(G,W,T)=>{"use strict";T.d(W,{Z:()=>R});var F=T(1799),q=T.n(F),L=T(2609),S=T.n(L)()(q());S.push([G.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgettypearound.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAkDD,CA1CC,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAoBD,CAdC,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DAcD,CARE,kEACC,oDACD,CAEA,8DACC,wDACD,CAUF,uKAvED,SAAU,CACV,mBAwEC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAlJD,SAAU,CACV,mBAmJC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAlMF,SAAU,CACV,mBAmME,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-widget {\n\t/*\n\t * Styles of the type around buttons\n\t */\n\t& .ck-widget__type-around__button {\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\toverflow: hidden;\n\t\tz-index: var(--ck-z-default);\n\n\t\t& svg {\n\t\t\tposition: absolute;\n\t\t\ttop: 50%;\n\t\t\tleft: 50%;\n\t\t\tz-index: calc(var(--ck-z-default) + 2);\n\t\t}\n\n\t\t&.ck-widget__type-around__button_before {\n\t\t\t/* Place it in the middle of the outline */\n\t\t\ttop: calc(-0.5 * var(--ck-widget-outline-thickness));\n\t\t\tleft: min(10%, 30px);\n\n\t\t\ttransform: translateY(-50%);\n\t\t}\n\n\t\t&.ck-widget__type-around__button_after {\n\t\t\t/* Place it in the middle of the outline */\n\t\t\tbottom: calc(-0.5 * var(--ck-widget-outline-thickness));\n\t\t\tright: min(10%, 30px);\n\n\t\t\ttransform: translateY(50%);\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the buttons when:\n\t * - the widget is selected,\n\t * - or the button is being hovered (regardless of the widget state).\n\t */\n\t&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,\n\t& > .ck-widget__type-around > .ck-widget__type-around__button:hover {\n\t\t&::after {\n\t\t\tcontent: "";\n\t\t\tdisplay: block;\n\t\t\tposition: absolute;\n\t\t\ttop: 1px;\n\t\t\tleft: 1px;\n\t\t\tz-index: calc(var(--ck-z-default) + 1);\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.\n\t */\n\t& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\tdisplay: none;\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\tright: 0;\n\t}\n\n\t/*\n\t * When the widget is hovered the "fake caret" would normally be narrower than the\n\t * extra outline displayed around the widget. Let\'s extend the "fake caret" to match\n\t * the full width of the widget.\n\t */\n\t&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\tleft: calc( -1 * var(--ck-widget-outline-thickness) );\n\t\tright: calc( -1 * var(--ck-widget-outline-thickness) );\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).\n\t */\n\t&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\ttop: calc( -1 * var(--ck-widget-outline-thickness) - 1px );\n\t\tdisplay: block;\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).\n\t */\n\t&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\tbottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );\n\t\tdisplay: block;\n\t}\n}\n\n/*\n * Integration with the read-only mode of the editor.\n */\n.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {\n\tdisplay: none;\n}\n\n/*\n * Integration with the restricted editing mode (feature) of the editor.\n */\n.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {\n\tdisplay: none;\n}\n\n/*\n * Integration with the #isEnabled property of the WidgetTypeAround plugin.\n */\n.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {\n\tdisplay: none;\n}\n','/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-widget-type-around-button-size: 20px;\n\t--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);\n\t--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);\n\t--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);\n\t--ck-color-widget-type-around-button-radar-start-alpha: 0;\n\t--ck-color-widget-type-around-button-radar-end-alpha: .3;\n\t--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);\n}\n\n@define-mixin ck-widget-type-around-button-visible {\n\topacity: 1;\n\tpointer-events: auto;\n}\n\n@define-mixin ck-widget-type-around-button-hidden {\n\topacity: 0;\n\tpointer-events: none;\n}\n\n.ck .ck-widget {\n\t/*\n\t * Styles of the type around buttons\n\t */\n\t& .ck-widget__type-around__button {\n\t\twidth: var(--ck-widget-type-around-button-size);\n\t\theight: var(--ck-widget-type-around-button-size);\n\t\tbackground: var(--ck-color-widget-type-around-button);\n\t\tborder-radius: 100px;\n\t\ttransition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\n\n\t\t@mixin ck-widget-type-around-button-hidden;\n\n\t\t& svg {\n\t\t\twidth: 10px;\n\t\t\theight: 8px;\n\t\t\ttransform: translate(-50%,-50%);\n\t\t\ttransition: transform .5s ease;\n\t\t\tmargin-top: 1px;\n\n\t\t\t& * {\n\t\t\t\tstroke-dasharray: 10;\n\t\t\t\tstroke-dashoffset: 0;\n\n\t\t\t\tfill: none;\n\t\t\t\tstroke: var(--ck-color-widget-type-around-button-icon);\n\t\t\t\tstroke-width: 1.5px;\n\t\t\t\tstroke-linecap: round;\n\t\t\t\tstroke-linejoin: round;\n\t\t\t}\n\n\t\t\t& line {\n\t\t\t\tstroke-dasharray: 7;\n\t\t\t}\n\t\t}\n\n\t\t&:hover {\n\t\t\t/*\n\t\t\t * Display the "sonar" around the button when hovered.\n\t\t\t */\n\t\t\tanimation: ck-widget-type-around-button-sonar 1s ease infinite;\n\n\t\t\t/*\n\t\t\t * Animate active button\'s icon.\n\t\t\t */\n\t\t\t& svg {\n\t\t\t\t& polyline {\n\t\t\t\t\tanimation: ck-widget-type-around-arrow-dash 2s linear;\n\t\t\t\t}\n\n\t\t\t\t& line {\n\t\t\t\t\tanimation: ck-widget-type-around-arrow-tip-dash 2s linear;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/*\n\t * Show type around buttons when the widget gets selected or being hovered.\n\t */\n\t&.ck-widget_selected,\n\t&:hover {\n\t\t& > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\t\t@mixin ck-widget-type-around-button-visible;\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the buttons when the widget is NOT selected (but the buttons are visible\n\t * and still can be hovered).\n\t */\n\t&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\tbackground: var(--ck-color-widget-type-around-button-hover);\n\t}\n\n\t/*\n\t * Styles for the buttons when:\n\t * - the widget is selected,\n\t * - or the button is being hovered (regardless of the widget state).\n\t */\n\t&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,\n\t& > .ck-widget__type-around > .ck-widget__type-around__button:hover {\n\t\tbackground: var(--ck-color-widget-type-around-button-active);\n\n\t\t&::after {\n\t\t\twidth: calc(var(--ck-widget-type-around-button-size) - 2px);\n\t\t\theight: calc(var(--ck-widget-type-around-button-size) - 2px);\n\t\t\tborder-radius: 100px;\n\t\t\tbackground: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the "before" button when the widget has a selection handle. Because some space\n\t * is consumed by the handle, the button must be moved slightly to the right to let it breathe.\n\t */\n\t&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {\n\t\tmargin-left: 20px;\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.\n\t */\n\t& .ck-widget__type-around__fake-caret {\n\t\tpointer-events: none;\n\t\theight: 1px;\n\t\tanimation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;\n\n\t\t/*\n\t\t * The semi-transparent-outline+background combo improves the contrast\n\t\t * when the background underneath the fake caret is dark.\n\t\t */\n\t\toutline: solid 1px hsla(0, 0%, 100%, .5);\n\t\tbackground: var(--ck-color-base-text);\n\t}\n\n\t/*\n\t * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).\n\t * Despite the widget being physically selected in the model, its outline should disappear.\n\t */\n\t&.ck-widget_selected {\n\t\t&.ck-widget_type-around_show-fake-caret_before,\n\t\t&.ck-widget_type-around_show-fake-caret_after {\n\t\t\toutline-color: transparent;\n\t\t}\n\t}\n\n\t&.ck-widget_type-around_show-fake-caret_before,\n\t&.ck-widget_type-around_show-fake-caret_after {\n\t\t/*\n\t\t * When the "fake caret" is visible we simulate that the widget is not selected\n\t\t * (despite being physically selected), so the outline color should be for the\n\t\t * unselected widget.\n\t\t */\n\t\t&.ck-widget_selected:hover {\n\t\t\toutline-color: var(--ck-color-widget-hover-border);\n\t\t}\n\n\t\t/*\n\t\t * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).\n\t\t * In this state, the type around buttons would collide with the fake carets so they should disappear.\n\t\t */\n\t\t& > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\t\t@mixin ck-widget-type-around-button-hidden;\n\t\t}\n\n\t\t/*\n\t\t * Fake horizontal caret integration with the selection handle. When the caret is visible, simply\n\t\t * hide the handle because it intersects with the caret (and does not make much sense anyway).\n\t\t */\n\t\t&.ck-widget_with-selection-handle {\n\t\t\t&.ck-widget_selected,\n\t\t\t&.ck-widget_selected:hover {\n\t\t\t\t& > .ck-widget__selection-handle {\n\t\t\t\t\topacity: 0\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/*\n\t\t * Fake horizontal caret integration with the resize UI. When the caret is visible, simply\n\t\t * hide the resize UI because it creates too much noise. It can be visible when the user\n\t\t * hovers the widget, though.\n\t\t */\n\t\t&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {\n\t\t\topacity: 0\n\t\t}\n\t}\n}\n\n/*\n * Styles for the "before" button when the widget has a selection handle in an RTL environment.\n * The selection handler is aligned to the right side of the widget so there is no need to create\n * additional space for it next to the "before" button.\n */\n.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {\n\tmargin-left: 0;\n\tmargin-right: 20px;\n}\n\n/*\n * Hide type around buttons when the widget is selected as a child of a selected\n * nested editable (e.g. mulit-cell table selection).\n *\n * See https://github.com/ckeditor/ckeditor5/issues/7263.\n */\n.ck-editor__nested-editable.ck-editor__editable_selected {\n\t& .ck-widget {\n\t\t&.ck-widget_selected,\n\t\t&:hover {\n\t\t\t& > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\t\t\t@mixin ck-widget-type-around-button-hidden;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/*\n * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).\n */\n.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {\n\tbackground: var(--ck-color-widget-type-around-button-blurred-editable);\n\n\t& svg * {\n\t\tstroke: hsl(0,0%,60%);\n\t}\n}\n\n@keyframes ck-widget-type-around-arrow-dash {\n\t0% {\n\t\tstroke-dashoffset: 10;\n\t}\n\t20%, 100% {\n\t\tstroke-dashoffset: 0;\n\t}\n}\n\n@keyframes ck-widget-type-around-arrow-tip-dash {\n\t0%, 20% {\n\t\tstroke-dashoffset: 7;\n\t}\n\t40%, 100% {\n\t\tstroke-dashoffset: 0;\n\t}\n}\n\n@keyframes ck-widget-type-around-button-sonar {\n\t0% {\n\t\tbox-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));\n\t}\n\t50% {\n\t\tbox-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));\n\t}\n\t100% {\n\t\tbox-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));\n\t}\n}\n\n@keyframes ck-widget-type-around-fake-caret-pulse {\n\t0% {\n\t\topacity: 1;\n\t}\n\t49% {\n\t\topacity: 1;\n\t}\n\t50% {\n\t\topacity: 0;\n\t}\n\t99% {\n\t\topacity: 0;\n\t}\n\t100% {\n\t\topacity: 1;\n\t}\n}\n'],sourceRoot:""}]);const R=S},2609:G=>{"use strict";G.exports=function(W){var T=[];return T.toString=function(){return this.map(function(F){var q=W(F);return F[2]?"@media ".concat(F[2]," {").concat(q,"}"):q}).join("")},T.i=function(F,q,L){"string"==typeof F&&(F=[[null,F,""]]);var S={};if(L)for(var R=0;R<this.length;R++){var $=this[R][0];null!=$&&(S[$]=!0)}for(var Q=0;Q<F.length;Q++){var K=[].concat(F[Q]);L&&S[K[0]]||(q&&(K[2]=K[2]?"".concat(q," and ").concat(K[2]):q),T.push(K))}},T}},1799:G=>{"use strict";function T(F,q){(null==q||q>F.length)&&(q=F.length);for(var L=0,S=new Array(q);L<q;L++)S[L]=F[L];return S}G.exports=function(F){var q=function W(F,q){return function(L){if(Array.isArray(L))return L}(F)||function(L,S){var R=L&&(typeof Symbol<"u"&&L[Symbol.iterator]||L["@@iterator"]);if(null!=R){var $,Q,K=[],re=!0,ce=!1;try{for(R=R.call(L);!(re=($=R.next()).done)&&(K.push($.value),!S||K.length!==S);re=!0);}catch(ye){ce=!0,Q=ye}finally{try{re||null==R.return||R.return()}finally{if(ce)throw Q}}return K}}(F,q)||function(L,S){if(L){if("string"==typeof L)return T(L,S);var R=Object.prototype.toString.call(L).slice(8,-1);if("Object"===R&&L.constructor&&(R=L.constructor.name),"Map"===R||"Set"===R)return Array.from(L);if("Arguments"===R||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(R))return T(L,S)}}(F,q)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(F,4),L=q[1],S=q[3];if(!S)return L;if("function"==typeof btoa){var R=btoa(unescape(encodeURIComponent(JSON.stringify(S)))),$="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(R),Q="/*# ".concat($," */"),K=S.sources.map(function(re){return"/*# sourceURL=".concat(S.sourceRoot||"").concat(re," */")});return[L].concat(K).concat([Q]).join("\n")}return[L].join("\n")}},6062:(G,W,T)=>{"use strict";var F,ke,L=(ke={},function(ut){if(void 0===ke[ut]){var nt=document.querySelector(ut);if(window.HTMLIFrameElement&&nt instanceof window.HTMLIFrameElement)try{nt=nt.contentDocument.head}catch{nt=null}ke[ut]=nt}return ke[ut]}),S=[];function R(ke){for(var ut=-1,nt=0;nt<S.length;nt++)if(S[nt].identifier===ke){ut=nt;break}return ut}function $(ke,ut){for(var nt={},Ft=[],Nn=0;Nn<ke.length;Nn++){var En=ke[Nn],Yt=ut.base?En[0]+ut.base:En[0],so=nt[Yt]||0,ln="".concat(Yt," ").concat(so);nt[Yt]=so+1;var dl=R(ln),xt={css:En[1],media:En[2],sourceMap:En[3]};-1!==dl?(S[dl].references++,S[dl].updater(xt)):S.push({identifier:ln,updater:V(xt,ut),references:1}),Ft.push(ln)}return Ft}function Q(ke){var ut=document.createElement("style"),nt=ke.attributes||{};if(void 0===nt.nonce){var Ft=T.nc;Ft&&(nt.nonce=Ft)}if(Object.keys(nt).forEach(function(En){ut.setAttribute(En,nt[En])}),"function"==typeof ke.insert)ke.insert(ut);else{var Nn=L(ke.insert||"head");if(!Nn)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");Nn.appendChild(ut)}return ut}var K,re=(K=[],function(ke,ut){return K[ke]=ut,K.filter(Boolean).join("\n")});function ce(ke,ut,nt,Ft){var Nn=nt?"":Ft.media?"@media ".concat(Ft.media," {").concat(Ft.css,"}"):Ft.css;if(ke.styleSheet)ke.styleSheet.cssText=re(ut,Nn);else{var En=document.createTextNode(Nn),Yt=ke.childNodes;Yt[ut]&&ke.removeChild(Yt[ut]),Yt.length?ke.insertBefore(En,Yt[ut]):ke.appendChild(En)}}function ye(ke,ut,nt){var Ft=nt.css,Nn=nt.media,En=nt.sourceMap;if(Nn?ke.setAttribute("media",Nn):ke.removeAttribute("media"),En&&typeof btoa<"u"&&(Ft+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(En))))," */")),ke.styleSheet)ke.styleSheet.cssText=Ft;else{for(;ke.firstChild;)ke.removeChild(ke.firstChild);ke.appendChild(document.createTextNode(Ft))}}var We=null,vt=0;function V(ke,ut){var nt,Ft,Nn;if(ut.singleton){var En=vt++;nt=We||(We=Q(ut)),Ft=ce.bind(null,nt,En,!1),Nn=ce.bind(null,nt,En,!0)}else nt=Q(ut),Ft=ye.bind(null,nt,ut),Nn=function(){!function(Yt){if(null===Yt.parentNode)return!1;Yt.parentNode.removeChild(Yt)}(nt)};return Ft(ke),function(Yt){if(Yt){if(Yt.css===ke.css&&Yt.media===ke.media&&Yt.sourceMap===ke.sourceMap)return;Ft(ke=Yt)}else Nn()}}G.exports=function(ke,ut){(ut=ut||{}).singleton||"boolean"==typeof ut.singleton||(ut.singleton=(void 0===F&&(F=!(!(window&&document&&document.all)||window.atob)),F));var nt=$(ke=ke||[],ut);return function(Ft){if(Ft=Ft||[],"[object Array]"===Object.prototype.toString.call(Ft)){for(var Nn=0;Nn<nt.length;Nn++){var En=R(nt[Nn]);S[En].references--}for(var Yt=$(Ft,ut),so=0;so<nt.length;so++){var ln=R(nt[so]);0===S[ln].references&&(S[ln].updater(),S.splice(ln,1))}nt=Yt}}}}},Ns={};function ge(G){var W=Ns[G];if(void 0!==W)return W.exports;var T=Ns[G]={id:G,exports:{}};return Vt[G](T,T.exports,ge),T.exports}ge.n=G=>{var W=G&&G.__esModule?()=>G.default:()=>G;return ge.d(W,{a:W}),W},ge.d=(G,W)=>{for(var T in W)ge.o(W,T)&&!ge.o(G,T)&&Object.defineProperty(G,T,{enumerable:!0,get:W[T]})},ge.o=(G,W)=>Object.prototype.hasOwnProperty.call(G,W),ge.nc=void 0;var ul={};return(()=>{"use strict";ge.d(ul,{default:()=>hv});const G=function(){try{return navigator.userAgent.toLowerCase()}catch{return""}}();var l,T;const F={isMac:q(G),isWindows:(T=G,T.indexOf("windows")>-1),isGecko:(l=G,!!l.match(/gecko\/\d+/)),isSafari:function(l){return l.indexOf(" applewebkit/")>-1&&-1===l.indexOf("chrome")}(G),isiOS:function(l){return!!l.match(/iphone|ipad/i)||q(l)&&navigator.maxTouchPoints>0}(G),isAndroid:function(l){return l.indexOf("android")>-1}(G),isBlink:function(l){return l.indexOf("chrome/")>-1&&l.indexOf("edge/")<0}(G),features:{isRegExpUnicodePropertySupported:function(){let l=!1;try{l=0==="\u0107".search(new RegExp("[\\p{L}]","u"))}catch{}return l}()}};function q(l){return l.indexOf("macintosh")>-1}function L(l,r,o,a){o=o||function(_,b){return _===b};const u=Array.isArray(l)?l:Array.prototype.slice.call(l),h=Array.isArray(r)?r:Array.prototype.slice.call(r),f=function(_,b,w){const v=S(_,b,w);if(-1===v)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const D=S(R(_,v),R(b,v),w);return{firstIndex:v,lastIndexOld:_.length-D,lastIndexNew:b.length-D}}(u,h,o);return a?function(_,b){const{firstIndex:w,lastIndexOld:v,lastIndexNew:A}=_;if(-1===w)return Array(b).fill("equal");let E=[];return w>0&&(E=E.concat(Array(w).fill("equal"))),A-w>0&&(E=E.concat(Array(A-w).fill("insert"))),v-w>0&&(E=E.concat(Array(v-w).fill("delete"))),A<b&&(E=E.concat(Array(b-A).fill("equal"))),E}(f,h.length):function(_,b){const w=[],{firstIndex:v,lastIndexOld:A,lastIndexNew:E}=b;return E-v>0&&w.push({index:v,type:"insert",values:_.slice(v,E)}),A-v>0&&w.push({index:v+(E-v),type:"delete",howMany:A-v}),w}(h,f)}function S(l,r,o){for(let a=0;a<Math.max(l.length,r.length);a++)if(void 0===l[a]||void 0===r[a]||!o(l[a],r[a]))return a;return-1}function R(l,r){return l.slice(r).reverse()}function $(l,r,o){o=o||function(x,P){return x===P};const a=l.length,u=r.length;if(a>200||u>200||a+u>300)return $.fastDiff(l,r,o,!0);let h,f;if(u<a){const x=l;l=r,r=x,h="delete",f="insert"}else h="insert",f="delete";const g=l.length,_=r.length,b=_-g,w={},v={};function A(x){const P=(void 0!==v[x-1]?v[x-1]:-1)+1,N=void 0!==v[x+1]?v[x+1]:-1,H=P>N?-1:1;w[x+H]&&(w[x]=w[x+H].slice(0)),w[x]||(w[x]=[]),w[x].push(P>N?h:f);let J=Math.max(P,N),ae=J-x;for(;ae<g&&J<_&&o(l[ae],r[J]);)ae++,J++,w[x].push("equal");return J}let E,D=0;do{for(E=-D;E<b;E++)v[E]=A(E);for(E=b+D;E>b;E--)v[E]=A(E);v[b]=A(b),D++}while(v[b]!==_);return w[b].slice(1)}$.fastDiff=L;class K{constructor(r,o){this.source=r,this.name=o,this.path=[],this.stop=function l(){l.called=!0},this.off=function l(){l.called=!0}}}const re=new Array(256).fill("").map((l,r)=>("0"+r.toString(16)).slice(-2));function ce(){const l=4294967296*Math.random()>>>0,r=4294967296*Math.random()>>>0,o=4294967296*Math.random()>>>0,a=4294967296*Math.random()>>>0;return"e"+re[l>>0&255]+re[l>>8&255]+re[l>>16&255]+re[l>>24&255]+re[r>>0&255]+re[r>>8&255]+re[r>>16&255]+re[r>>24&255]+re[o>>0&255]+re[o>>8&255]+re[o>>16&255]+re[o>>24&255]+re[a>>0&255]+re[a>>8&255]+re[a>>16&255]+re[a>>24&255]}const ye={get(l="normal"){return"number"!=typeof l?this[l]||this.normal:l},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function We(l,r){const o=ye.get(r.priority);for(let a=0;a<l.length;a++)if(ye.get(l[a].priority)<o)return void l.splice(a,0,r);l.push(r)}const vt="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class V extends Error{constructor(r,o,a){super(function(u,h){const f=new WeakSet;return u+(h?` ${JSON.stringify(h,(w,v)=>{if("object"==typeof v&&null!==v){if(f.has(v))return`[object ${v.constructor.name}]`;f.add(v)}return v})}`:"")+nt(u)}(r,a)),this.name="CKEditorError",this.context=o,this.data=a}is(r){return"CKEditorError"===r}static rethrowUnexpectedError(r,o){if(r.is&&r.is("CKEditorError"))throw r;const a=new V(r.message,o);throw a.stack=r.stack,a}}function ke(l,r){console.warn(...Ft(l,r))}function ut(l,r){console.error(...Ft(l,r))}function nt(l){return`\nRead more: ${vt}#error-${l}`}function Ft(l,r){const o=nt(l);return r?[l,r,o]:[l,o]}const En=new Date(2023,9,4);if(globalThis.CKEDITOR_VERSION)throw new V("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION="40.0.0";const Yt=Symbol("listeningTo"),so=Symbol("emitterId"),ln=Symbol("delegations"),dl=xt(Object);function xt(l){return l?class extends l{on(r,o,a){this.listenTo(this,r,o,a)}once(r,o,a){let u=!1;this.listenTo(this,r,(h,...f)=>{u||(u=!0,h.off(),o.call(this,h,...f))},a)}off(r,o){this.stopListening(this,r,o)}listenTo(r,o,a,u={}){let h,f;this[Yt]||(this[Yt]={});const g=this[Yt];Wf(r)||un(r);const _=Wf(r);var w,v,A,E;(h=g[_])||(h=g[_]={emitter:r,callbacks:{}}),(f=h.callbacks[o])||(f=h.callbacks[o]=[]),f.push(a),v=o,A=a,E=u,(w=r)._addEventListener?w._addEventListener(v,A,E):this._addEventListener.call(w,v,A,E)}stopListening(r,o,a){const u=this[Yt];let h=r&&Wf(r);const f=u&&h?u[h]:void 0,g=f&&o?f.callbacks[o]:void 0;if(!(!u||r&&!f||o&&!g))if(a)Kf(this,r,o,a),-1!==g.indexOf(a)&&(1===g.length?delete f.callbacks[o]:Kf(this,r,o,a));else if(g){for(;a=g.pop();)Kf(this,r,o,a);delete f.callbacks[o]}else if(f){for(o in f.callbacks)this.stopListening(r,o);delete u[h]}else{for(h in u)this.stopListening(u[h].emitter);delete this[Yt]}}fire(r,...o){try{const a=r instanceof K?r:new K(this,r),u=a.name;let h=AC(this,u);if(a.path.push(this),h){const g=[a,...o];h=Array.from(h);for(let _=0;_<h.length&&(h[_].callback.apply(this,g),a.off.called&&(delete a.off.called,this._removeEventListener(u,h[_].callback)),!a.stop.called);_++);}const f=this[ln];if(f){const g=f.get(u),_=f.get("*");g&&Eo(g,a,o),_&&Eo(_,a,o)}return a.return}catch(a){V.rethrowUnexpectedError(a,this)}}delegate(...r){return{to:(o,a)=>{this[ln]||(this[ln]=new Map),r.forEach(u=>{const h=this[ln].get(u);h?h.set(o,a):this[ln].set(u,new Map([[o,a]]))})}}}stopDelegating(r,o){if(this[ln])if(r)if(o){const a=this[ln].get(r);a&&a.delete(o)}else this[ln].delete(r);else this[ln].clear()}_addEventListener(r,o,a){!function(f,g){const _=CC(f);if(_[g])return;let b=g,w=null;const v=[];for(;""!==b&&!_[b];)_[b]={callbacks:[],childEvents:[]},v.push(_[b]),w&&_[b].childEvents.push(w),w=b,b=b.substr(0,b.lastIndexOf(":"));if(""!==b){for(const A of v)A.callbacks=_[b].callbacks.slice();_[b].childEvents.push(w)}}(this,r);const u=B_(this,r),h={callback:o,priority:ye.get(a.priority)};for(const f of u)We(f,h)}_removeEventListener(r,o){const a=B_(this,r);for(const u of a)for(let h=0;h<u.length;h++)u[h].callback==o&&(u.splice(h,1),h--)}}:dl}function un(l,r){l[so]||(l[so]=r||ce())}function Wf(l){return l[so]}function CC(l){return l._events||Object.defineProperty(l,"_events",{value:{}}),l._events}function B_(l,r){const o=CC(l)[r];if(!o)return[];let a=[o.callbacks];for(let u=0;u<o.childEvents.length;u++){const h=B_(l,o.childEvents[u]);a=a.concat(h)}return a}function AC(l,r){let o;return l._events&&(o=l._events[r])&&o.callbacks.length?o.callbacks:r.indexOf(":")>-1?AC(l,r.substr(0,r.lastIndexOf(":"))):null}function Eo(l,r,o){for(let[a,u]of l){u?"function"==typeof u&&(u=u(r.name)):u=r.name;const h=new K(r.source,u);h.path=[...r.path],a.fire(h,...o)}}function Kf(l,r,o,a){r._removeEventListener?r._removeEventListener(o,a):l._removeEventListener.call(r,o,a)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(l=>{xt[l]=dl.prototype[l]});const dn=function(l){var r=typeof l;return null!=l&&("object"==r||"function"==r)},On=Symbol("observableProperties"),pn=Symbol("boundObservables"),Qf=Symbol("boundProperties"),_t=Symbol("decoratedMethods"),Yf=Symbol("decoratedOriginal"),c2=Pt(xt());function Pt(l){return l?class extends l{set(r,o){if(dn(r))return void Object.keys(r).forEach(u=>{this.set(u,r[u])},this);Zu(this);const a=this[On];if(r in this&&!a.has(r))throw new V("observable-set-cannot-override",this);Object.defineProperty(this,r,{enumerable:!0,configurable:!0,get:()=>a.get(r),set(u){const h=a.get(r);let f=this.fire(`set:${r}`,r,u,h);void 0===f&&(f=u),h===f&&a.has(r)||(a.set(r,f),this.fire(`change:${r}`,r,f,h))}}),this[r]=o}bind(...r){if(!r.length||!l2(r))throw new V("observable-bind-wrong-properties",this);if(new Set(r).size!==r.length)throw new V("observable-bind-duplicate-properties",this);Zu(this);const o=this[Qf];r.forEach(u=>{if(o.has(u))throw new V("observable-bind-rebind",this)});const a=new Map;return r.forEach(u=>{const h={property:u,to:[]};o.set(u,h),a.set(u,h)}),{to:T6,toMany:x6,_observable:this,_bindProperties:r,_to:[],_bindings:a}}unbind(...r){if(!this[On])return;const o=this[Qf],a=this[pn];if(r.length){if(!l2(r))throw new V("observable-unbind-wrong-properties",this);r.forEach(u=>{const h=o.get(u);h&&(h.to.forEach(([f,g])=>{const _=a.get(f),b=_[g];b.delete(h),b.size||delete _[g],Object.keys(_).length||(a.delete(f),this.stopListening(f,"change"))}),o.delete(u))})}else a.forEach((u,h)=>{this.stopListening(h,"change")}),a.clear(),o.clear()}decorate(r){Zu(this);const o=this[r];if(!o)throw new V("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:r});this.on(r,(a,u)=>{a.return=o.apply(this,u)}),this[r]=function(...a){return this.fire(r,a)},this[r][Yf]=o,this[_t]||(this[_t]=[]),this[_t].push(r)}stopListening(r,o,a){if(!r&&this[_t]){for(const u of this[_t])this[u]=this[u][Yf];delete this[_t]}super.stopListening(r,o,a)}}:c2}function Zu(l){l[On]||(Object.defineProperty(l,On,{value:new Map}),Object.defineProperty(l,pn,{value:new Map}),Object.defineProperty(l,Qf,{value:new Map}))}function T6(...l){const r=function(...h){if(!h.length)throw new V("observable-bind-to-parse-error",null);const f={to:[]};let g;return"function"==typeof h[h.length-1]&&(f.callback=h.pop()),h.forEach(_=>{if("string"==typeof _)g.properties.push(_);else{if("object"!=typeof _)throw new V("observable-bind-to-parse-error",null);g={observable:_,properties:[]},f.to.push(g)}}),f}(...l),o=Array.from(this._bindings.keys()),a=o.length;if(!r.callback&&r.to.length>1)throw new V("observable-bind-to-no-callback",this);if(a>1&&r.callback)throw new V("observable-bind-to-extra-callback",this);var u;r.to.forEach(h=>{if(h.properties.length&&h.properties.length!==a)throw new V("observable-bind-to-properties-length",this);h.properties.length||(h.properties=this._bindProperties)}),this._to=r.to,r.callback&&(this._bindings.get(o[0]).callback=r.callback),u=this._observable,this._to.forEach(h=>{const f=u[pn];let g;f.get(h.observable)||u.listenTo(h.observable,"change",(_,b)=>{g=f.get(h.observable)[b],g&&g.forEach(w=>{u2(u,w.property)})})}),function(h){let f;h._bindings.forEach((g,_)=>{h._to.forEach(b=>{f=b.properties[g.callback?0:h._bindProperties.indexOf(_)],g.to.push([b.observable,f]),function(w,v,A,E){const D=w[pn],x=D.get(A),P=x||{};P[E]||(P[E]=new Set),P[E].add(v),x||D.set(A,P)}(h._observable,g,b.observable,f)})})}(this),this._bindProperties.forEach(h=>{u2(this._observable,h)})}function x6(l,r,o){if(this._bindings.size>1)throw new V("observable-bind-to-many-not-one-binding",this);this.to(...function(a,u){const h=a.map(f=>[f,u]);return Array.prototype.concat.apply([],h)}(l,r),o)}function l2(l){return l.every(r=>"string"==typeof r)}function u2(l,r){const o=l[Qf].get(r);let a;o.callback?a=o.callback.apply(l,o.to.map(u=>u[0][u[1]])):(a=o.to[0],a=a[0][a[1]]),Object.prototype.hasOwnProperty.call(l,r)?l[r]=a:l.set(r,a)}function EC(l){let r=0;for(const o of l)r++;return r}function ni(l,r){const o=Math.min(l.length,r.length);for(let a=0;a<o;a++)if(l[a]!=r[a])return a;return l.length==r.length?"same":l.length<r.length?"prefix":"extension"}function ao(l){return!(!l||!l[Symbol.iterator])}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(l=>{Pt[l]=c2.prototype[l]});const IC="object"==typeof global&&global&&global.Object===Object&&global;var S6="object"==typeof self&&self&&self.Object===Object&&self;const co=IC||S6||Function("return this")(),Os=co.Symbol;var z_=Object.prototype,d2=z_.hasOwnProperty,M6=z_.toString,Zf=Os?Os.toStringTag:void 0,rc=Object.prototype.toString,f2=Os?Os.toStringTag:void 0;const ua=function(l){return null==l?void 0===l?"[object Undefined]":"[object Null]":f2&&f2 in Object(l)?function(l){var r=d2.call(l,Zf),o=l[Zf];try{l[Zf]=void 0;var a=!0}catch{}var u=M6.call(l);return a&&(r?l[Zf]=o:delete l[Zf]),u}(l):function(l){return rc.call(l)}(l)},yi=Array.isArray,lo=function(l){return null!=l&&"object"==typeof l},p2=function(l){return"string"==typeof l||!yi(l)&&lo(l)&&"[object String]"==ua(l)};function j_(l,r,o={},a=[]){const u=o&&o.xmlns,h=u?l.createElementNS(u,r):l.createElement(r);for(const f in o)h.setAttribute(f,o[f]);!p2(a)&&ao(a)||(a=[a]);for(let f of a)p2(f)&&(f=l.createTextNode(f)),h.appendChild(f);return h}const g2=function(l,r){return function(o){return l(r(o))}},DC=g2(Object.getPrototypeOf,Object);var U_=Function.prototype.toString,xC=Object.prototype.hasOwnProperty,SC=U_.call(Object);const wi=function(l){if(!lo(l)||"[object Object]"!=ua(l))return!1;var r=DC(l);if(null===r)return!0;var o=xC.call(r,"constructor")&&r.constructor;return"function"==typeof o&&o instanceof o&&U_.call(o)==SC},hl=function(l,r){return l===r||l!=l&&r!=r},Ju=function(l,r){for(var o=l.length;o--;)if(hl(l[o][0],r))return o;return-1};var MC=Array.prototype.splice;function fl(l){var r=-1,o=null==l?0:l.length;for(this.clear();++r<o;){var a=l[r];this.set(a[0],a[1])}}fl.prototype.clear=function(){this.__data__=[],this.size=0},fl.prototype.delete=function(l){var r=this.__data__,o=Ju(r,l);return!(o<0||(o==r.length-1?r.pop():MC.call(r,o,1),--this.size,0))},fl.prototype.get=function(l){var r=this.__data__,o=Ju(r,l);return o<0?void 0:r[o][1]},fl.prototype.has=function(l){return Ju(this.__data__,l)>-1},fl.prototype.set=function(l,r){var o=this.__data__,a=Ju(o,l);return a<0?(++this.size,o.push([l,r])):o[a][1]=r,this};const Jf=fl,Xu=function(l){if(!dn(l))return!1;var r=ua(l);return"[object Function]"==r||"[object GeneratorFunction]"==r||"[object AsyncFunction]"==r||"[object Proxy]"==r},ir=co["__core-js_shared__"];var ic=function(){var l=/[^.]+$/.exec(ir&&ir.keys&&ir.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),N6=Function.prototype.toString;const oc=function(l){if(null!=l){try{return N6.call(l)}catch{}try{return l+""}catch{}}return""};var k2=/^\[object .+?Constructor\]$/,$_=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const sc=function(l,r){var o=function(l,r){return l?.[r]}(l,r);return function(l){return!(!dn(l)||function(l){return!!ic&&ic in l}(l))&&(Xu(l)?$_:k2).test(oc(l))}(o)?o:void 0},td=sc(co,"Map"),nd=sc(Object,"create");var E2=Object.prototype.hasOwnProperty,I2=Object.prototype.hasOwnProperty;function Et(l){var r=-1,o=null==l?0:l.length;for(this.clear();++r<o;){var a=l[r];this.set(a[0],a[1])}}Et.prototype.clear=function(){this.__data__=nd?nd(null):{},this.size=0},Et.prototype.delete=function(l){var r=this.has(l)&&delete this.__data__[l];return this.size-=r?1:0,r},Et.prototype.get=function(l){var r=this.__data__;if(nd){var o=r[l];return"__lodash_hash_undefined__"===o?void 0:o}return E2.call(r,l)?r[l]:void 0},Et.prototype.has=function(l){var r=this.__data__;return nd?void 0!==r[l]:I2.call(r,l)},Et.prototype.set=function(l,r){var o=this.__data__;return this.size+=this.has(l)?0:1,o[l]=nd&&void 0===r?"__lodash_hash_undefined__":r,this};const Xf=Et,ep=function(l,r){var o=l.__data__;return function(l){var r=typeof l;return"string"==r||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==l:null===l}(r)?o["string"==typeof r?"string":"hash"]:o.map};function rd(l){var r=-1,o=null==l?0:l.length;for(this.clear();++r<o;){var a=l[r];this.set(a[0],a[1])}}rd.prototype.clear=function(){this.size=0,this.__data__={hash:new Xf,map:new(td||Jf),string:new Xf}},rd.prototype.delete=function(l){var r=ep(this,l).delete(l);return this.size-=r?1:0,r},rd.prototype.get=function(l){return ep(this,l).get(l)},rd.prototype.has=function(l){return ep(this,l).has(l)},rd.prototype.set=function(l,r){var o=ep(this,l),a=o.size;return o.set(l,r),this.size+=o.size==a?0:1,this};const id=rd;function da(l){var r=this.__data__=new Jf(l);this.size=r.size}da.prototype.clear=function(){this.__data__=new Jf,this.size=0},da.prototype.delete=function(l){var r=this.__data__,o=r.delete(l);return this.size=r.size,o},da.prototype.get=function(l){return this.__data__.get(l)},da.prototype.has=function(l){return this.__data__.has(l)},da.prototype.set=function(l,r){var o=this.__data__;if(o instanceof Jf){var a=o.__data__;if(!td||a.length<199)return a.push([l,r]),this.size=++o.size,this;o=this.__data__=new id(a)}return o.set(l,r),this.size=o.size,this};const Ke=da,tp=function(){try{var l=sc(Object,"defineProperty");return l({},"",{}),l}catch{}}(),LC=function(l,r,o){"__proto__"==r&&tp?tp(l,r,{configurable:!0,enumerable:!0,value:o,writable:!0}):l[r]=o};var T2=Object.prototype.hasOwnProperty;const pl=function(l,r,o){var a=l[r];T2.call(l,r)&&hl(a,o)&&(void 0!==o||r in l)||LC(l,r,o)},gr=function(l,r,o,a){var u=!o;o||(o={});for(var h=-1,f=r.length;++h<f;){var g=r[h],_=a?a(o[g],l[g],g,o,l):void 0;void 0===_&&(_=l[g]),u?LC(o,g,_):pl(o,g,_)}return o},VC=function(l){return lo(l)&&"[object Arguments]"==ua(l)};var x2=Object.prototype,ha=x2.hasOwnProperty,L6=x2.propertyIsEnumerable;const FC=VC(function(){return arguments}())?VC:function(l){return lo(l)&&ha.call(l,"callee")&&!L6.call(l,"callee")};var S2=Xo&&!Xo.nodeType&&Xo,BC=S2&&bi&&!bi.nodeType&&bi,M2=BC&&BC.exports===S2?co.Buffer:void 0;const od=(M2?M2.isBuffer:void 0)||function(){return!1};var F6=/^(?:0|[1-9]\d*)$/;const ki=function(l,r){var o=typeof l;return!!(r=r??9007199254740991)&&("number"==o||"symbol"!=o&&F6.test(l))&&l>-1&&l%1==0&&l<r},Bt=function(l){return"number"==typeof l&&l>-1&&l%1==0&&l<=9007199254740991};var gn={};gn["[object Float32Array]"]=gn["[object Float64Array]"]=gn["[object Int8Array]"]=gn["[object Int16Array]"]=gn["[object Int32Array]"]=gn["[object Uint8Array]"]=gn["[object Uint8ClampedArray]"]=gn["[object Uint16Array]"]=gn["[object Uint32Array]"]=!0,gn["[object Arguments]"]=gn["[object Array]"]=gn["[object ArrayBuffer]"]=gn["[object Boolean]"]=gn["[object DataView]"]=gn["[object Date]"]=gn["[object Error]"]=gn["[object Function]"]=gn["[object Map]"]=gn["[object Number]"]=gn["[object Object]"]=gn["[object RegExp]"]=gn["[object Set]"]=gn["[object String]"]=gn["[object WeakMap]"]=!1;const zC=function(l){return function(r){return l(r)}};var Ne=Xo&&!Xo.nodeType&&Xo,np=Ne&&bi&&!bi.nodeType&&bi,mr=np&&np.exports===Ne&&IC.process;const Vs=function(){try{return np&&np.require&&np.require("util").types||mr&&mr.binding&&mr.binding("util")}catch{}}();var jC=Vs&&Vs.isTypedArray;const rp=jC?zC(jC):function(l){return lo(l)&&Bt(l.length)&&!!gn[ua(l)]};var P2=Object.prototype.hasOwnProperty;const Y_=function(l,r){var o=yi(l),a=!o&&FC(l),u=!o&&!a&&od(l),h=!o&&!a&&!u&&rp(l),f=o||a||u||h,g=f?function(l,r){for(var o=-1,a=Array(l);++o<l;)a[o]=r(o);return a}(l.length,String):[],_=g.length;for(var b in l)!r&&!P2.call(l,b)||f&&("length"==b||u&&("offset"==b||"parent"==b)||h&&("buffer"==b||"byteLength"==b||"byteOffset"==b)||ki(b,_))||g.push(b);return g};var ip=Object.prototype;const sd=function(l){var r=l&&l.constructor;return l===("function"==typeof r&&r.prototype||ip)},UC=g2(Object.keys,Object);var R2=Object.prototype.hasOwnProperty;const gl=function(l){return null!=l&&Bt(l.length)&&!Xu(l)},op=function(l){return gl(l)?Y_(l):function(l){if(!sd(l))return UC(l);var r=[];for(var o in Object(l))R2.call(l,o)&&"constructor"!=o&&r.push(o);return r}(l)};var z6=Object.prototype.hasOwnProperty;const ad=function(l){return gl(l)?Y_(l,!0):function(l){if(!dn(l))return function(l){var r=[];if(null!=l)for(var o in Object(l))r.push(o);return r}(l);var r=sd(l),o=[];for(var a in l)("constructor"!=a||!r&&z6.call(l,a))&&o.push(a);return o}(l)};var N2=Xo&&!Xo.nodeType&&Xo,ml=N2&&bi&&!bi.nodeType&&bi,sp=ml&&ml.exports===N2?co.Buffer:void 0,cd=sp?sp.allocUnsafe:void 0;const GC=function(l,r){if(r)return l.slice();var o=l.length,a=cd?cd(o):new l.constructor(o);return l.copy(a),a},$C=function(l,r){var o=-1,a=l.length;for(r||(r=Array(a));++o<a;)r[o]=l[o];return r},Z_=function(){return[]};var _l=Object.prototype.propertyIsEnumerable,qC=Object.getOwnPropertySymbols;const ts=qC?function(l){return null==l?[]:(l=Object(l),function(l,r){for(var o=-1,a=null==l?0:l.length,u=0,h=[];++o<a;){var f=l[o];r(f)&&(h[u++]=f)}return h}(qC(l),function(r){return _l.call(l,r)}))}:Z_,we=function(l,r){for(var o=-1,a=r.length,u=l.length;++o<a;)l[u+o]=r[o];return l},J_=Object.getOwnPropertySymbols?function(l){for(var r=[];l;)we(r,ts(l)),l=DC(l);return r}:Z_,ld=function(l,r,o){var a=r(l);return yi(l)?a:we(a,o(l))},ud=function(l){return ld(l,op,ts)},dd=function(l){return ld(l,ad,J_)},X_=sc(co,"DataView"),eb=sc(co,"Promise"),tb=sc(co,"Set"),Io=sc(co,"WeakMap");var Do="[object Map]",Ci="[object Promise]",ns="[object Set]",St="[object WeakMap]",hd="[object DataView]",nb=oc(X_),rb=oc(td),WC=oc(eb),Fs=oc(tb),fd=oc(Io),fa=ua;(X_&&fa(new X_(new ArrayBuffer(1)))!=hd||td&&fa(new td)!=Do||eb&&fa(eb.resolve())!=Ci||tb&&fa(new tb)!=ns||Io&&fa(new Io)!=St)&&(fa=function(l){var r=ua(l),o="[object Object]"==r?l.constructor:void 0,a=o?oc(o):"";if(a)switch(a){case nb:return hd;case rb:return Do;case WC:return Ci;case Fs:return ns;case fd:return St}return r});const bl=fa;var ib=Object.prototype.hasOwnProperty;const pd=co.Uint8Array,ac=function(l){var r=new l.constructor(l.byteLength);return new pd(r).set(new pd(l)),r};var YC=/\w*$/,ob=Os?Os.prototype:void 0,ZC=ob?ob.valueOf:void 0;const uo=function(l,r){var o=r?ac(l.buffer):l.buffer;return new l.constructor(o,l.byteOffset,l.length)};var sb=Object.create;const z2=function(){function l(){}return function(r){if(!dn(r))return{};if(sb)return sb(r);l.prototype=r;var o=new l;return l.prototype=void 0,o}}(),JC=function(l){return"function"!=typeof l.constructor||sd(l)?{}:z2(DC(l))};var XC=Vs&&Vs.isMap;const eA=XC?zC(XC):function(l){return lo(l)&&"[object Map]"==bl(l)};var tA=Vs&&Vs.isSet;const H2=tA?zC(tA):function(l){return lo(l)&&"[object Set]"==bl(l)};var Wn="[object Arguments]",nA="[object Function]",rA="[object Object]",on={};on[Wn]=on["[object Array]"]=on["[object ArrayBuffer]"]=on["[object DataView]"]=on["[object Boolean]"]=on["[object Date]"]=on["[object Float32Array]"]=on["[object Float64Array]"]=on["[object Int8Array]"]=on["[object Int16Array]"]=on["[object Int32Array]"]=on["[object Map]"]=on["[object Number]"]=on[rA]=on["[object RegExp]"]=on["[object Set]"]=on["[object String]"]=on["[object Symbol]"]=on["[object Uint8Array]"]=on["[object Uint8ClampedArray]"]=on["[object Uint16Array]"]=on["[object Uint32Array]"]=!0,on["[object Error]"]=on[nA]=on["[object WeakMap]"]=!1;const xr=function l(r,o,a,u,h,f){var g,_=1&o,b=2&o,w=4&o;if(a&&(g=h?a(r,u,h,f):a(r)),void 0!==g)return g;if(!dn(r))return r;var v=yi(r);if(v){if(g=function(l){var r=l.length,o=new l.constructor(r);return r&&"string"==typeof l[0]&&ib.call(l,"index")&&(o.index=l.index,o.input=l.input),o}(r),!_)return $C(r,g)}else{var A=bl(r),E=A==nA||"[object GeneratorFunction]"==A;if(od(r))return GC(r,_);if(A==rA||A==Wn||E&&!h){if(g=b||E?{}:JC(r),!_)return b?function(l,r){return gr(l,J_(l),r)}(r,function(l,r){return l&&gr(r,ad(r),l)}(g,r)):function(l,r){return gr(l,ts(l),r)}(r,function(l,r){return l&&gr(r,op(r),l)}(g,r))}else{if(!on[A])return h?r:{};g=function(l,r,o){var a=l.constructor;switch(r){case"[object ArrayBuffer]":return ac(l);case"[object Boolean]":case"[object Date]":return new a(+l);case"[object DataView]":return function(l,r){var o=r?ac(l.buffer):l.buffer;return new l.constructor(o,l.byteOffset,l.byteLength)}(l,o);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return uo(l,o);case"[object Map]":case"[object Set]":return new a;case"[object Number]":case"[object String]":return new a(l);case"[object RegExp]":return function(l){var r=new l.constructor(l.source,YC.exec(l));return r.lastIndex=l.lastIndex,r}(l);case"[object Symbol]":return function(l){return ZC?Object(ZC.call(l)):{}}(l)}}(r,A,_)}}f||(f=new Ke);var D=f.get(r);if(D)return D;f.set(r,g),H2(r)?r.forEach(function(P){g.add(l(P,o,a,P,r,f))}):eA(r)&&r.forEach(function(P,N){g.set(N,l(P,o,a,N,r,f))});var x=v?void 0:(w?b?dd:ud:b?ad:op)(r);return function(l,r){for(var o=-1,a=null==l?0:l.length;++o<a&&!1!==r(l[o],o););}(x||r,function(P,N){x&&(P=r[N=P]),pl(g,N,l(P,o,a,N,r,f))}),g},ab=function(l,r){return xr(l,5,r="function"==typeof r?r:void 0)},pa=function(l){return lo(l)&&1===l.nodeType&&!wi(l)};class Qe{constructor(r,o){this._config={},o&&this.define(ri(o)),r&&this._setObjectToTarget(this._config,r)}set(r,o){this._setToTarget(this._config,r,o)}define(r,o){this._setToTarget(this._config,r,o,!0)}get(r){return this._getFromSource(this._config,r)}*names(){for(const r of Object.keys(this._config))yield r}_setToTarget(r,o,a,u=!1){if(wi(o))return void this._setObjectToTarget(r,o,u);const h=o.split(".");o=h.pop();for(const f of h)wi(r[f])||(r[f]={}),r=r[f];if(wi(a))return wi(r[o])||(r[o]={}),void this._setObjectToTarget(r=r[o],a,u);u&&void 0!==r[o]||(r[o]=a)}_getFromSource(r,o){const a=o.split(".");o=a.pop();for(const u of a){if(!wi(r[u])){r=null;break}r=r[u]}return r?ri(r[o]):void 0}_setObjectToTarget(r,o,a){Object.keys(o).forEach(u=>{this._setToTarget(r,u,o[u],a)})}}function ri(l){return ab(l,zt)}function zt(l){return pa(l)?l:void 0}function In(l){if(l){if(l.defaultView)return l instanceof l.defaultView.Document;if(l.ownerDocument&&l.ownerDocument.defaultView)return l instanceof l.ownerDocument.defaultView.Node}return!1}function Sr(l){const r=Object.prototype.toString.apply(l);return"[object Window]"==r||"[object global]"==r}const cc=hn(xt());function hn(l){return l?class extends l{listenTo(r,o,a,u={}){if(In(r)||Sr(r)){const h={capture:!!u.useCapture,passive:!!u.usePassive},f=this._getProxyEmitter(r,h)||new iA(r,h);this.listenTo(f,o,a,u)}else super.listenTo(r,o,a,u)}stopListening(r,o,a){if(In(r)||Sr(r)){const u=this._getAllProxyEmitters(r);for(const h of u)this.stopListening(h,o,a)}else super.stopListening(r,o,a)}_getProxyEmitter(r,o){return function(a,u){const h=a[Yt];return h&&h[u]?h[u].emitter:null}(this,cb(r,o))}_getAllProxyEmitters(r){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(o=>this._getProxyEmitter(r,o)).filter(o=>!!o)}}:cc}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(l=>{hn[l]=cc.prototype[l]});class iA extends(xt()){constructor(r,o){super(),un(this,cb(r,o)),this._domNode=r,this._options=o}attach(r){if(this._domListeners&&this._domListeners[r])return;const o=this._createDomListener(r);this._domNode.addEventListener(r,o,this._options),this._domListeners||(this._domListeners={}),this._domListeners[r]=o}detach(r){let o;!this._domListeners[r]||(o=this._events[r])&&o.callbacks.length||this._domListeners[r].removeListener()}_addEventListener(r,o,a){this.attach(r),xt().prototype._addEventListener.call(this,r,o,a)}_removeEventListener(r,o){xt().prototype._removeEventListener.call(this,r,o),this.detach(r)}_createDomListener(r){const o=a=>{this.fire(r,a)};return o.removeListener=()=>{this._domNode.removeEventListener(r,o,this._options),delete this._domListeners[r]},o}}function cb(l,r){let o=(a=l)["data-ck-expando"]||(a["data-ck-expando"]=ce());var a;for(const a of Object.keys(r).sort())r[a]&&(o+="-"+a);return o}let yl;try{yl={window,document}}catch{yl={window:{},document:{}}}const ze=yl;function Kn(l){return"[object Text]"==Object.prototype.toString.call(l)}function Ln(l){return"[object Range]"==Object.prototype.toString.apply(l)}function Te(l){const r=l.ownerDocument.defaultView.getComputedStyle(l);return{top:parseInt(r.borderTopWidth,10),right:parseInt(r.borderRightWidth,10),bottom:parseInt(r.borderBottomWidth,10),left:parseInt(r.borderLeftWidth,10)}}function rt(l){return l&&l.parentNode?l.offsetParent===ze.document.body?null:l.offsetParent:null}const mn=["top","right","bottom","left","width","height"];class it{constructor(r){const o=Ln(r);if(Object.defineProperty(this,"_source",{value:r._source||r,writable:!0,enumerable:!1}),ga(r)||o)if(o){const a=it.getDomRangeRects(r);rs(this,it.getBoundingRect(a))}else rs(this,r.getBoundingClientRect());else if(Sr(r)){const{innerWidth:a,innerHeight:u}=r;rs(this,{top:0,right:a,bottom:u,left:0,width:a,height:u})}else rs(this,r)}clone(){return new it(this)}moveTo(r,o){return this.top=o,this.right=r+this.width,this.bottom=o+this.height,this.left=r,this}moveBy(r,o){return this.top+=o,this.right+=r,this.left+=r,this.bottom+=o,this}getIntersection(r){const o={top:Math.max(this.top,r.top),right:Math.min(this.right,r.right),bottom:Math.min(this.bottom,r.bottom),left:Math.max(this.left,r.left),width:0,height:0};if(o.width=o.right-o.left,o.height=o.bottom-o.top,o.width<0||o.height<0)return null;{const a=new it(o);return a._source=this._source,a}}getIntersectionArea(r){const o=this.getIntersection(r);return o?o.getArea():0}getArea(){return this.width*this.height}getVisible(){const r=this._source;let o=this.clone();if(Mr(r))return o;let a,u=r,h=r.parentNode||r.commonAncestorContainer;for(;h&&!Mr(h);){const g="visible"===((f=h)instanceof HTMLElement?f.ownerDocument.defaultView.getComputedStyle(f).overflow:"visible");u instanceof HTMLElement&&"absolute"===Dn(u)&&(a=u);const _=Dn(h);if(g||a&&("relative"===_&&g||"relative"!==_)){u=h,h=h.parentNode;continue}const b=new it(h),w=o.getIntersection(b);if(!w)return null;w.getArea()<o.getArea()&&(o=w),u=h,h=h.parentNode}var f;return o}isEqual(r){for(const o of mn)if(this[o]!==r[o])return!1;return!0}contains(r){const o=this.getIntersection(r);return!(!o||!o.isEqual(r))}toAbsoluteRect(){const{scrollX:r,scrollY:o}=ze.window,a=this.clone().moveBy(r,o);if(ga(a._source)){const u=rt(a._source);u&&function(h,f){const g=new it(f),_=Te(f);let b=0,w=0;b-=g.left,w-=g.top,b+=f.scrollLeft,w+=f.scrollTop,b-=_.left,w-=_.top,h.moveBy(b,w)}(a,u)}return a}excludeScrollbarsAndBorders(){const r=this._source;let o,a,u;if(Sr(r))o=r.innerWidth-r.document.documentElement.clientWidth,a=r.innerHeight-r.document.documentElement.clientHeight,u=r.getComputedStyle(r.document.documentElement).direction;else{const h=Te(r);o=r.offsetWidth-r.clientWidth-h.left-h.right,a=r.offsetHeight-r.clientHeight-h.top-h.bottom,u=r.ownerDocument.defaultView.getComputedStyle(r).direction,this.left+=h.left,this.top+=h.top,this.right-=h.right,this.bottom-=h.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=o,"ltr"===u?this.right-=o:this.left+=o,this.height-=a,this.bottom-=a,this}static getDomRangeRects(r){const o=[],a=Array.from(r.getClientRects());if(a.length)for(const u of a)o.push(new it(u));else{let u=r.startContainer;Kn(u)&&(u=u.parentNode);const h=new it(u.getBoundingClientRect());h.right=h.left,h.width=0,o.push(h)}return o}static getBoundingRect(r){const o={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let a=0;for(const u of r)a++,o.left=Math.min(o.left,u.left),o.top=Math.min(o.top,u.top),o.right=Math.max(o.right,u.right),o.bottom=Math.max(o.bottom,u.bottom);return 0==a?null:(o.width=o.right-o.left,o.height=o.bottom-o.top,new it(o))}}function rs(l,r){for(const o of mn)l[o]=r[o]}function Mr(l){return!!ga(l)&&l===l.ownerDocument.body}function ga(l){return null!==l&&"object"==typeof l&&1===l.nodeType&&"function"==typeof l.getBoundingClientRect}function Dn(l){return l instanceof HTMLElement?l.ownerDocument.defaultView.getComputedStyle(l).position:"static"}const sn=class{constructor(l,r){sn._observerInstance||sn._createObserver(),this._element=l,this._callback=r,sn._addElementCallback(l,r),sn._observerInstance.observe(l)}get element(){return this._element}destroy(){sn._deleteElementCallback(this._element,this._callback)}static _addElementCallback(l,r){sn._elementCallbacks||(sn._elementCallbacks=new Map);let o=sn._elementCallbacks.get(l);o||(o=new Set,sn._elementCallbacks.set(l,o)),o.add(r)}static _deleteElementCallback(l,r){const o=sn._getElementCallbacks(l);o&&(o.delete(r),o.size||(sn._elementCallbacks.delete(l),sn._observerInstance.unobserve(l))),sn._elementCallbacks&&!sn._elementCallbacks.size&&(sn._observerInstance=null,sn._elementCallbacks=null)}static _getElementCallbacks(l){return sn._elementCallbacks?sn._elementCallbacks.get(l):null}static _createObserver(){sn._observerInstance=new ze.window.ResizeObserver(l=>{for(const r of l){const o=sn._getElementCallbacks(r.target);if(o)for(const a of o)a(r)}})}};let To=sn;function ho(l){return r=>r+l}function gd(l){let r=0;for(;l.previousSibling;)l=l.previousSibling,r++;return r}function lc(l,r,o){l.insertBefore(o,l.childNodes[r]||null)}function _n(l){return l&&l.nodeType===Node.COMMENT_NODE}function xo(l){return!!(l&&l.getClientRects&&l.getClientRects().length)}To._observerInstance=null,To._elementCallbacks=null;var uc=Math.pow;function fo({element:l,target:r,positions:o,limiter:a,fitInViewport:u,viewportOffsetConfig:h}){Xu(r)&&(r=r()),Xu(a)&&(a=a());const f=rt(l),g=function(A){A=Object.assign({top:0,bottom:0,left:0,right:0},A);const E=new it(ze.window);return E.top+=A.top,E.height-=A.top,E.bottom-=A.bottom,E.height-=A.bottom,E}(h),_=new it(l),b=wl(r,g);let w;if(!b||!g.getIntersection(b))return null;const v={targetRect:b,elementRect:_,positionedElementAncestor:f,viewportRect:g};if(a||u){if(a){const A=wl(a,g);A&&(v.limiterRect=A)}w=function(A,E){const{elementRect:D}=E,x=D.getArea(),P=A.map(J=>new lb(J,E)).filter(J=>!!J.name);let N=0,H=null;for(const J of P){const{limiterIntersectionArea:ae,viewportIntersectionArea:Pe}=J;if(ae===x)return J;const ft=uc(Pe,2)+uc(ae,2);ft>N&&(N=ft,H=J)}return H}(o,v)}else w=new lb(o[0],v);return w}function wl(l,r){const o=new it(l).getVisible();return o?o.getIntersection(r):null}class lb{constructor(r,o){const a=r(o.targetRect,o.elementRect,o.viewportRect,o.limiterRect);if(!a)return;const{left:u,top:h,name:f,config:g}=a;this.name=f,this.config=g,this._positioningFunctionCoordinates={left:u,top:h},this._options=o}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const r=this._options.limiterRect;return r?r.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=this._rect.toAbsoluteRect()),this._cachedAbsoluteRect}}function Bs(l){const r=l.parentNode;r&&r.removeChild(l)}function zs({window:l,rect:r,alignToTop:o,forceScroll:a,viewportOffset:u}){const h=r.clone().moveBy(0,u.bottom),f=r.clone().moveBy(0,-u.top),g=new it(l).excludeScrollbarsAndBorders(),_=o&&a,b=[f,h].every(D=>g.contains(D));let{scrollX:w,scrollY:v}=l;const A=w,E=v;_?v-=g.top-r.top+u.top:b||(yt(f,g)?v-=g.top-r.top+u.top:md(h,g)&&(v+=o?r.top-g.top-u.top:r.bottom-g.bottom+u.bottom)),b||(G2(r,g)?w-=g.left-r.left+u.left:cp(r,g)&&(w+=r.right-g.right+u.right)),w==A&&v===E||l.scrollTo(w,v)}function ap({parent:l,getRect:r,alignToTop:o,forceScroll:a,ancestorOffset:u=0,limiterElement:h}){const f=lp(l),g=o&&a;let _,b,w;const v=h||f.document.body;for(;l!=v;)b=r(),_=new it(l).excludeScrollbarsAndBorders(),w=_.contains(b),g?l.scrollTop-=_.top-b.top+u:w||(yt(b,_)?l.scrollTop-=_.top-b.top+u:md(b,_)&&(l.scrollTop+=o?b.top-_.top-u:b.bottom-_.bottom+u)),w||(G2(b,_)?l.scrollLeft-=_.left-b.left+u:cp(b,_)&&(l.scrollLeft+=b.right-_.right+u)),l=l.parentNode}function md(l,r){return l.bottom>r.bottom}function yt(l,r){return l.top<r.top}function G2(l,r){return l.left<r.left}function cp(l,r){return l.right>r.right}function lp(l){return Ln(l)?l.startContainer.ownerDocument.defaultView:l.ownerDocument.defaultView}function is(l){if(Ln(l)){let r=l.commonAncestorContainer;return Kn(r)&&(r=r.parentNode),r}return l.parentNode}function _d(l,r){const o=lp(l),a=new it(l);if(o===r)return a;{let u=o;for(;u!=r;){const f=new it(u.frameElement).excludeScrollbarsAndBorders();a.moveBy(f.left,f.top),u=u.parent}}return a}const kl={ctrl:"\u2303",cmd:"\u2318",alt:"\u2325",shift:"\u21e7"},bd={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},Ge=function(){const l={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let r=65;r<=90;r++)l[String.fromCharCode(r).toLowerCase()]=r;for(let r=48;r<=57;r++)l[r-48]=r;for(let r=112;r<=123;r++)l["f"+(r-111)]=r;for(const r of"`-=[];',./\\")l[r]=r.charCodeAt(0);return l}(),U6=Object.fromEntries(Object.entries(Ge).map(([l,r])=>[r,l.charAt(0).toUpperCase()+l.slice(1)]));function _r(l){let r;if("string"==typeof l){if(r=Ge[l.toLowerCase()],!r)throw new V("keyboard-unknown-key",null,{key:l})}else r=l.keyCode+(l.altKey?Ge.alt:0)+(l.ctrlKey?Ge.ctrl:0)+(l.shiftKey?Ge.shift:0)+(l.metaKey?Ge.cmd:0);return r}function br(l){return"string"==typeof l&&(l=l.split("+").map(o=>o.trim())),l.map(r=>"string"==typeof r?function(o){if(o.endsWith("!"))return _r(o.slice(0,-1));const a=_r(o);return(F.isMac||F.isiOS)&&a==Ge.ctrl?Ge.cmd:a}(r):r).reduce((r,o)=>o+r,0)}function up(l){let r=br(l);return Object.entries(F.isMac||F.isiOS?kl:bd).reduce((o,[a,u])=>(r&Ge[a]&&(r&=~Ge[a],o+=u),o),"")+(r?U6[r]:"")}function js(l,r){const o="ltr"===r;switch(l){case Ge.arrowleft:return o?"left":"right";case Ge.arrowright:return o?"right":"left";case Ge.arrowup:return"up";case Ge.arrowdown:return"down"}}function Hn(l){return Array.isArray(l)?l:[l]}ze.window.CKEDITOR_TRANSLATIONS||(ze.window.CKEDITOR_TRANSLATIONS={});const ub=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function oA(l){return ub.includes(l)?"rtl":"ltr"}class H6{constructor({uiLanguage:r="en",contentLanguage:o}={}){this.uiLanguage=r,this.contentLanguage=o||this.uiLanguage,this.uiLanguageDirection=oA(this.uiLanguage),this.contentLanguageDirection=oA(this.contentLanguage),this.t=(a,u)=>this._t(a,u)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(r,o=[]){return o=Hn(o),"string"==typeof r&&(r={string:r}),u=function So(l,r,o=1){if("number"!=typeof o)throw new V("translation-service-quantity-not-a-number",null,{quantity:o});const a=Object.keys(ze.window.CKEDITOR_TRANSLATIONS).length;1===a&&(l=Object.keys(ze.window.CKEDITOR_TRANSLATIONS)[0]);const u=r.id||r.string;if(0===a||!ze.window.CKEDITOR_TRANSLATIONS[_=l]||!ze.window.CKEDITOR_TRANSLATIONS[_].dictionary[u])return 1!==o?r.plural:r.string;var _;const f=ze.window.CKEDITOR_TRANSLATIONS[l].getPluralForm||(_=>1===_?0:1),g=ze.window.CKEDITOR_TRANSLATIONS[l].dictionary[u];return"string"==typeof g?g:g[Number(f(o))]}(this.uiLanguage,r,r.plural?o[0]:1),h=o,u.replace(/%(\d+)/g,(f,g)=>g<h.length?h[g]:f);var u,h}}class ii extends(xt()){constructor(r={},o={}){super();const a=ao(r);if(a||(o=r),this._items=[],this._itemMap=new Map,this._idProperty=o.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],a)for(const u of r)this._items.push(u),this._itemMap.set(this._getItemIdBeforeAdding(u),u)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(r,o){return this.addMany([r],o)}addMany(r,o){if(void 0===o)o=this._items.length;else if(o>this._items.length||o<0)throw new V("collection-add-item-invalid-index",this);let a=0;for(const u of r){const h=this._getItemIdBeforeAdding(u),f=o+a;this._items.splice(f,0,u),this._itemMap.set(h,u),this.fire("add",u,f),a++}return this.fire("change",{added:r,removed:[],index:o}),this}get(r){let o;if("string"==typeof r)o=this._itemMap.get(r);else{if("number"!=typeof r)throw new V("collection-get-invalid-arg",this);o=this._items[r]}return o||null}has(r){if("string"==typeof r)return this._itemMap.has(r);{const o=r[this._idProperty];return o&&this._itemMap.has(o)}}getIndex(r){let o;return o="string"==typeof r?this._itemMap.get(r):r,o?this._items.indexOf(o):-1}remove(r){const[o,a]=this._remove(r);return this.fire("change",{added:[],removed:[o],index:a}),o}map(r,o){return this._items.map(r,o)}find(r,o){return this._items.find(r,o)}filter(r,o){return this._items.filter(r,o)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const r=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:r,index:0})}bindTo(r){if(this._bindToCollection)throw new V("collection-bind-to-rebind",this);return this._bindToCollection=r,{as:o=>{this._setUpBindToBinding(a=>new o(a))},using:o=>{this._setUpBindToBinding("function"==typeof o?o:a=>a[o])}}}_setUpBindToBinding(r){const o=this._bindToCollection,a=(u,h,f)=>{const g=o._bindToCollection==this,_=o._bindToInternalToExternalMap.get(h);if(g&&_)this._bindToExternalToInternalMap.set(h,_),this._bindToInternalToExternalMap.set(_,h);else{const b=r(h);if(!b)return void this._skippedIndexesFromExternal.push(f);let w=f;for(const v of this._skippedIndexesFromExternal)f>v&&w--;for(const v of o._skippedIndexesFromExternal)w>=v&&w++;this._bindToExternalToInternalMap.set(h,b),this._bindToInternalToExternalMap.set(b,h),this.add(b,w);for(let v=0;v<o._skippedIndexesFromExternal.length;v++)w<=o._skippedIndexesFromExternal[v]&&o._skippedIndexesFromExternal[v]++}};for(const u of o)a(0,u,o.getIndex(u));this.listenTo(o,"add",a),this.listenTo(o,"remove",(u,h,f)=>{const g=this._bindToExternalToInternalMap.get(h);g&&this.remove(g),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((_,b)=>(f<b&&_.push(b-1),f>b&&_.push(b),_),[])})}_getItemIdBeforeAdding(r){const o=this._idProperty;let a;if(o in r){if(a=r[o],"string"!=typeof a)throw new V("collection-add-invalid-id",this);if(this.get(a))throw new V("collection-add-item-already-exists",this)}else r[o]=a=ce();return a}_remove(r){let o,a,u,h=!1;const f=this._idProperty;if("string"==typeof r?(a=r,u=this._itemMap.get(a),h=!u,u&&(o=this._items.indexOf(u))):"number"==typeof r?(o=r,u=this._items[o],h=!u,u&&(a=u[f])):(u=r,a=u[f],o=this._items.indexOf(u),h=-1==o||!this._itemMap.get(a)),h)throw new V("collection-remove-404",this);this._items.splice(o,1),this._itemMap.delete(a);const g=this._bindToInternalToExternalMap.get(u);return this._bindToInternalToExternalMap.delete(u),this._bindToExternalToInternalMap.delete(g),this.fire("remove",u,o),[u,o]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function Vn(l){const r=l.next();return r.done?null:r.value}class Pr extends(hn(Pt())){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(r){if(this._elements.has(r))throw new V("focustracker-add-element-already-exist",this);this.listenTo(r,"focus",()=>this._focus(r),{useCapture:!0}),this.listenTo(r,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(r)}remove(r){r===this.focusedElement&&this._blur(),this._elements.has(r)&&(this.stopListening(r),this._elements.delete(r))}destroy(){this.stopListening()}_focus(r){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=r,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}class Ai{constructor(){this._listener=new(hn())}listenTo(r){this._listener.listenTo(r,"keydown",(o,a)=>{this._listener.fire("_keydown:"+_r(a),a)})}set(r,o,a={}){const u=br(r);this._listener.listenTo(this._listener,"_keydown:"+u,(f,g)=>{o(g,()=>{g.preventDefault(),g.stopPropagation(),f.stop()}),f.return=!0},{priority:a.priority})}press(r){return!!this._listener.fire("_keydown:"+_r(r),r)}stopListening(r){this._listener.stopListening(r)}destroy(){this.stopListening()}}function Us(l){return ao(l)?new Map(l):function(r){const o=new Map;for(const a in r)o.set(a,r[a]);return o}(l)}function sA(l,r){let o;function a(...u){a.cancel(),o=setTimeout(()=>l(...u),r)}return a.cancel=()=>{clearTimeout(o)},a}function aA(l,r){return!!(o=l.charAt(r-1))&&1==o.length&&/[\ud800-\udbff]/.test(o)&&!!(a=l.charAt(r))&&1==a.length&&/[\udc00-\udfff]/.test(a);var a,o}function cA(l,r){return!!(o=l.charAt(r))&&1==o.length&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(o);var o}const G6=function(){const l=[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")],r=new RegExp("\\p{Regional_Indicator}{2}","u").source,o="(?:"+l.map(a=>a.source).join("|")+")";return new RegExp(`${r}|${o}(?:\u200d${o})*`,"ug")}();function $2(l,r){const o=String(l).matchAll(G6);return Array.from(o).some(a=>a.index<r&&r<a.index+a[0].length)}class ne extends(Pt()){constructor(r){super(),this._disableStack=new Set,this.editor=r,this.set("isEnabled",!0)}forceDisabled(r){this._disableStack.add(r),1==this._disableStack.size&&(this.on("set:isEnabled",q2,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(r){this._disableStack.delete(r),0==this._disableStack.size&&(this.off("set:isEnabled",q2),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function q2(l){l.return=!1,l.stop()}class st extends(Pt()){constructor(r){super(),this.editor=r,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(r,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",o=>{if(!this.affectsData)return;const a=r.model.document.selection,u="$graveyard"!=a.getFirstPosition().root.rootName&&r.model.canEditAt(a);(r.isReadOnly||this._isEnabledBasedOnSelection&&!u)&&(o.return=!1,o.stop())},{priority:"highest"}),this.on("execute",o=>{this.isEnabled||o.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(r){this._affectsData=r}refresh(){this.isEnabled=!0}forceDisabled(r){this._disableStack.add(r),1==this._disableStack.size&&(this.on("set:isEnabled",W2,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(r){this._disableStack.delete(r),0==this._disableStack.size&&(this.off("set:isEnabled",W2),this.refresh())}execute(...r){}destroy(){this.stopListening()}}function W2(l){l.return=!1,l.stop()}class db extends st{constructor(){super(...arguments),this._childCommandsDefinitions=[]}refresh(){}execute(...r){const o=this._getFirstEnabledCommand();return!!o&&o.execute(r)}registerChildCommand(r,o={}){We(this._childCommandsDefinitions,{command:r,priority:o.priority||"normal"}),r.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const r=this._childCommandsDefinitions.find(({command:o})=>o.isEnabled);return r&&r.command}}class hb extends(xt()){constructor(r,o=[],a=[]){super(),this._plugins=new Map,this._context=r,this._availablePlugins=new Map;for(const u of o)u.pluginName&&this._availablePlugins.set(u.pluginName,u);this._contextPlugins=new Map;for(const[u,h]of a)this._contextPlugins.set(u,h),this._contextPlugins.set(h,u),u.pluginName&&this._availablePlugins.set(u.pluginName,u)}*[Symbol.iterator](){for(const r of this._plugins)"function"==typeof r[0]&&(yield r)}get(r){const o=this._plugins.get(r);if(!o){let a=r;throw"function"==typeof r&&(a=r.pluginName||r.name),new V("plugincollection-plugin-not-loaded",this._context,{plugin:a})}return o}has(r){return this._plugins.has(r)}init(r,o=[],a=[]){const u=this,h=this._context;(function D(x,P=new Set){x.forEach(N=>{_(N)&&(P.has(N)||(P.add(N),N.pluginName&&!u._availablePlugins.has(N.pluginName)&&u._availablePlugins.set(N.pluginName,N),N.requires&&D(N.requires,P)))})})(r),A(r);const f=[...function D(x,P=new Set){return x.map(N=>_(N)?N:u._availablePlugins.get(N)).reduce((N,H)=>P.has(H)?N:(P.add(H),H.requires&&(A(H.requires,H),D(H.requires,P).forEach(J=>N.add(J))),N.add(H)),new Set)}(r.filter(D=>!w(D,o)))];!function(D,x){for(const P of x){if("function"!=typeof P)throw new V("plugincollection-replace-plugin-invalid-type",null,{pluginItem:P});const N=P.pluginName;if(!N)throw new V("plugincollection-replace-plugin-missing-name",null,{pluginItem:P});if(P.requires&&P.requires.length)throw new V("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:N});const H=u._availablePlugins.get(N);if(!H)throw new V("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:N});const J=D.indexOf(H);if(-1===J){if(u._contextPlugins.has(H))return;throw new V("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:N})}if(H.requires&&H.requires.length)throw new V("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:N});D.splice(J,1,P),u._availablePlugins.set(N,P)}}(f,a);const g=f.map(D=>{let x=u._contextPlugins.get(D);return x=x||new D(h),u._add(D,x),x});return E(g,"init").then(()=>E(g,"afterInit")).then(()=>g);function _(D){return"function"==typeof D}function b(D){return _(D)&&!!D.isContextPlugin}function w(D,x){return x.some(P=>P===D||v(D)===P||v(P)===D)}function v(D){return _(D)?D.pluginName||D.name:D}function A(D,x=null){D.map(P=>_(P)?P:u._availablePlugins.get(P)||P).forEach(P=>{(function(N,H){if(!_(N))throw H?new V("plugincollection-soft-required",h,{missingPlugin:N,requiredBy:v(H)}):new V("plugincollection-plugin-not-found",h,{plugin:N})})(P,x),function(N,H){if(b(H)&&!b(N))throw new V("plugincollection-context-required",h,{plugin:v(N),requiredBy:v(H)})}(P,x),function(N,H){if(H&&w(N,o))throw new V("plugincollection-required",h,{plugin:v(N),requiredBy:v(H)})}(P,x)})}function E(D,x){return D.reduce((P,N)=>N[x]?u._contextPlugins.has(N)?P:P.then(N[x].bind(N)):P,Promise.resolve())}}destroy(){const r=[];for(const[,o]of this)"function"!=typeof o.destroy||this._contextPlugins.has(o)||r.push(o.destroy());return Promise.all(r)}_add(r,o){this._plugins.set(r,o);const a=r.pluginName;if(a){if(this._plugins.has(a))throw new V("plugincollection-plugin-name-conflict",null,{pluginName:a,plugin1:this._plugins.get(a).constructor,plugin2:r});this._plugins.set(a,o)}}}class K2{constructor(r){this._contextOwner=null,this.config=new Qe(r,this.constructor.defaultConfig);const o=this.constructor.builtinPlugins;this.config.define("plugins",o),this.plugins=new hb(this,o);const a=this.config.get("language")||{};this.locale=new H6({uiLanguage:"string"==typeof a?a:a.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new ii}initPlugins(){const r=this.config.get("plugins")||[],o=this.config.get("substitutePlugins")||[];for(const a of r.concat(o)){if("function"!=typeof a)throw new V("context-initplugins-constructor-only",null,{Plugin:a});if(!0!==a.isContextPlugin)throw new V("context-initplugins-invalid-plugin",null,{Plugin:a})}return this.plugins.init(r,[],o)}destroy(){return Promise.all(Array.from(this.editors,r=>r.destroy())).then(()=>this.plugins.destroy())}_addEditor(r,o){if(this._contextOwner)throw new V("context-addeditor-private-context");this.editors.add(r),o&&(this._contextOwner=r)}_removeEditor(r){return this.editors.has(r)&&this.editors.remove(r),this._contextOwner===r?this.destroy():Promise.resolve()}_getEditorConfig(){const r={};for(const o of this.config.names())["plugins","removePlugins","extraPlugins"].includes(o)||(r[o]=this.config.get(o));return r}static create(r){return new Promise(o=>{const a=new this(r);o(a.initPlugins().then(()=>a))})}}class fb extends(Pt()){constructor(r){super(),this.context=r}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}class $6 extends Ai{constructor(r){super(),this.editor=r}set(r,o,a={}){if("string"==typeof o){const u=o;o=(h,f)=>{this.editor.execute(u),f()}}super.set(r,o,a)}}var dc=ge(6062),Ee=ge.n(dc),Q2=ge(4717);Ee()(Q2.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const yd=new WeakMap;let lA=!1;function uA({view:l,element:r,text:o,isDirectHost:a=!0,keepOnFocus:u=!1}){const h=l.document;function f(g){yd.get(h).set(r,{text:g,isDirectHost:a,keepOnFocus:u,hostElement:a?r:null}),l.change(_=>dA(h,_))}yd.has(h)||(yd.set(h,new Map),h.registerPostFixer(g=>dA(h,g)),h.on("change:isComposing",()=>{l.change(g=>dA(h,g))},{priority:"high"})),r.is("editableElement")&&r.on("change:placeholder",(g,_,b)=>{f(b)}),r.placeholder?f(r.placeholder):o&&f(o),o&&(lA||ke("enableplaceholder-deprecated-text-option"),lA=!0)}function dA(l,r){const o=yd.get(l),a=[];let u=!1;for(const[h,f]of o)f.isDirectHost&&(a.push(h),hA(r,h,f)&&(u=!0));for(const[h,f]of o){if(f.isDirectHost)continue;const g=os(h);g&&(a.includes(g)||(f.hostElement=g,hA(r,h,f)&&(u=!0)))}return u}function hA(l,r,o){const{text:a,isDirectHost:u,hostElement:h}=o;let f=!1;return h.getAttribute("data-placeholder")!==a&&(l.setAttribute("data-placeholder",a,h),f=!0),(u||1==r.childCount)&&function(g,_){if(!g.isAttached()||Array.from(g.getChildren()).some(v=>!v.is("uiElement")))return!1;const b=g.document,w=b.selection.anchor;return!(b.isComposing&&w&&w.parent===g||!_&&b.isFocused&&(!w||w.parent===g))}(h,o.keepOnFocus)?(g=l,!(_=h).hasClass("ck-placeholder")&&(g.addClass("ck-placeholder",_),!0)&&(f=!0)):function Y2(l,r){return!!r.hasClass("ck-placeholder")&&(l.removeClass("ck-placeholder",r),!0)}(l,h)&&(f=!0),f;var g,_}function os(l){if(l.childCount){const r=l.getChild(0);if(r.is("element")&&!r.is("uiElement")&&!r.is("attributeElement"))return r}return null}class ss{is(){throw new Error("is() method is abstract")}}const ar=function(l){return xr(l,4)};class as extends(xt(ss)){constructor(r){super(),this.document=r,this.parent=null}get index(){let r;if(!this.parent)return null;if(-1==(r=this.parent.getChildIndex(this)))throw new V("view-node-not-found-in-parent",this);return r}get nextSibling(){const r=this.index;return null!==r&&this.parent.getChild(r+1)||null}get previousSibling(){const r=this.index;return null!==r&&this.parent.getChild(r-1)||null}get root(){let r=this;for(;r.parent;)r=r.parent;return r}isAttached(){return this.root.is("rootElement")}getPath(){const r=[];let o=this;for(;o.parent;)r.unshift(o.index),o=o.parent;return r}getAncestors(r={}){const o=[];let a=r.includeSelf?this:this.parent;for(;a;)o[r.parentFirst?"push":"unshift"](a),a=a.parent;return o}getCommonAncestor(r,o={}){const a=this.getAncestors(o),u=r.getAncestors(o);let h=0;for(;a[h]==u[h]&&a[h];)h++;return 0===h?null:a[h-1]}isBefore(r){if(this==r||this.root!==r.root)return!1;const o=this.getPath(),a=r.getPath(),u=ni(o,a);switch(u){case"prefix":return!0;case"extension":return!1;default:return o[u]<a[u]}}isAfter(r){return this!=r&&this.root===r.root&&!this.isBefore(r)}_remove(){this.parent._removeChildren(this.index)}_fireChange(r,o){this.fire(`change:${r}`,o),this.parent&&this.parent._fireChange(r,o)}toJSON(){const r=ar(this);return delete r.parent,r}}as.prototype.is=function(l){return"node"===l||"view:node"===l};class Ht extends as{constructor(r,o){super(r),this._textData=o}get data(){return this._textData}get _data(){return this.data}set _data(r){this._fireChange("text",this),this._textData=r}isSimilar(r){return r instanceof Ht&&(this===r||this.data===r.data)}_clone(){return new Ht(this.document,this.data)}}Ht.prototype.is=function(l){return"$text"===l||"view:$text"===l||"text"===l||"view:text"===l||"node"===l||"view:node"===l};class po extends ss{constructor(r,o,a){if(super(),this.textNode=r,o<0||o>r.data.length)throw new V("view-textproxy-wrong-offsetintext",this);if(a<0||o+a>r.data.length)throw new V("view-textproxy-wrong-length",this);this.data=r.data.substring(o,o+a),this.offsetInText=o}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(r={}){const o=[];let a=r.includeSelf?this.textNode:this.parent;for(;null!==a;)o[r.parentFirst?"push":"unshift"](a),a=a.parent;return o}}po.prototype.is=function(l){return"$textProxy"===l||"view:$textProxy"===l||"textProxy"===l||"view:textProxy"===l};class Wi{constructor(...r){this._patterns=[],this.add(...r)}add(...r){for(let o of r)("string"==typeof o||o instanceof RegExp)&&(o={name:o}),this._patterns.push(o)}match(...r){for(const o of r)for(const a of this._patterns){const u=wd(o,a);if(u)return{element:o,pattern:a,match:u}}return null}matchAll(...r){const o=[];for(const a of r)for(const u of this._patterns){const h=wd(a,u);h&&o.push({element:a,pattern:u,match:h})}return o.length>0?o:null}getElementName(){if(1!==this._patterns.length)return null;const r=this._patterns[0],o=r.name;return"function"==typeof r||!o||o instanceof RegExp?null:o}}function wd(l,r){if("function"==typeof r)return r(l);const o={};return r.name&&(o.name=(u=l.name,(a=r.name)instanceof RegExp?!!u.match(a):a===u),!o.name)||r.attributes&&(o.attributes=function(a,u){const h=new Set(u.getAttributeKeys());return wi(a)?(void 0!==a.style&&ke("matcher-pattern-deprecated-attributes-style-key",a),void 0!==a.class&&ke("matcher-pattern-deprecated-attributes-class-key",a)):(h.delete("style"),h.delete("class")),gb(a,h,f=>u.getAttribute(f))}(r.attributes,l),!o.attributes)||r.classes&&(o.classes=function(a,u){return gb(a,u.getClassNames(),()=>{})}(r.classes,l),!o.classes)||r.styles&&(o.styles=function(a,u){return gb(a,u.getStyleNames(!0),h=>u.getStyle(h))}(r.styles,l),!o.styles)?null:o;var a,u}function gb(l,r,o){const a=(f=l,Array.isArray(f)?f.map(g=>wi(g)?(void 0!==g.key&&void 0!==g.value||ke("matcher-pattern-missing-key-or-value",g),[g.key,g.value]):[g,!0]):wi(f)?Object.entries(f):[[f,!0]]),u=Array.from(r),h=[];var f;if(a.forEach(([f,g])=>{u.forEach(_=>{var b,w;w=_,(!0===(b=f)||b===w||b instanceof RegExp&&w.match(b))&&function(b,w,v){if(!0===b)return!0;const A=v(w);return b===A||b instanceof RegExp&&!!String(A).match(b)}(g,_,o)&&h.push(_)})}),a.length&&!(h.length<a.length))return h}const dp=function(l){return"symbol"==typeof l||lo(l)&&"[object Symbol]"==ua(l)};var fA=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,mb=/^\w*$/;function vl(l,r){if("function"!=typeof l||null!=r&&"function"!=typeof r)throw new TypeError("Expected a function");var o=function(){var a=arguments,u=r?r.apply(this,a):a[0],h=o.cache;if(h.has(u))return h.get(u);var f=l.apply(this,a);return o.cache=h.set(u,f)||h,f};return o.cache=new(vl.Cache||id),o}vl.Cache=id;var r,o,q6=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,W6=/\\(\\)?/g,gA=(r=vl(function(l){var r=[];return 46===l.charCodeAt(0)&&r.push(""),l.replace(q6,function(o,a,u,h){r.push(u?h.replace(W6,"$1"):a||o)}),r},function(a){return 500===o.size&&o.clear(),a}),o=r.cache,r);const X2=gA;var Ei=Os?Os.prototype:void 0,_b=Ei?Ei.toString:void 0;const tP=function l(r){if("string"==typeof r)return r;if(yi(r))return function(l,r){for(var o=-1,a=null==l?0:l.length,u=Array(a);++o<a;)u[o]=r(l[o],o,l);return u}(r,l)+"";if(dp(r))return _b?_b.call(r):"";var o=r+"";return"0"==o&&1/r==-1/0?"-0":o},bb=function(l){return null==l?"":tP(l)},hp=function(l,r){return yi(l)?l:function(l,r){if(yi(l))return!1;var o=typeof l;return!("number"!=o&&"symbol"!=o&&"boolean"!=o&&null!=l&&!dp(l))||mb.test(l)||!fA.test(l)||null!=r&&l in Object(r)}(l,r)?[l]:X2(bb(l))},yb=function(l){if("string"==typeof l||dp(l))return l;var r=l+"";return"0"==r&&1/l==-1/0?"-0":r},fp=function(l,r){for(var o=0,a=(r=hp(r,l)).length;null!=l&&o<a;)l=l[yb(r[o++])];return o&&o==a?l:void 0},_A=function(l,r,o){var a=-1,u=l.length;r<0&&(r=-r>u?0:u+r),(o=o>u?u:o)<0&&(o+=u),u=r>o?0:o-r>>>0,r>>>=0;for(var h=Array(u);++a<u;)h[a]=l[a+r];return h},Kt=function(l,r,o){var a=null==l?void 0:fp(l,r);return void 0===a?o:a},wb=function(l,r,o){(void 0!==o&&!hl(l[r],o)||void 0===o&&!(r in l))&&LC(l,r,o)},kb=function(l,r){if(("constructor"!==r||"function"!=typeof l[r])&&"__proto__"!=r)return l[r]},Di=function l(r,o,a,u,h){r!==o&&function(r,o,a){for(var u=-1,h=Object(r),f=a(r),g=f.length;g--;){var _=f[++u];if(!1===o(h[_],_,h))break}}(o,function(f,g){if(h||(h=new Ke),dn(f))!function(l,r,o,a,u,h,f){var g=kb(l,o),_=kb(r,o),b=f.get(_);if(b)wb(l,o,b);else{var w=h?h(g,_,o+"",l,r,f):void 0,v=void 0===w;if(v){var A=yi(_),E=!A&&od(_),D=!A&&!E&&rp(_);w=_,A||E||D?yi(g)?w=g:function(l){return lo(l)&&gl(l)}(g)?w=$C(g):E?(v=!1,w=GC(_,!0)):D?(v=!1,w=uo(_,!0)):w=[]:wi(_)||FC(_)?(w=g,FC(g)?w=function(l){return gr(l,ad(l))}(g):dn(g)&&!Xu(g)||(w=JC(_))):v=!1}v&&(f.set(_,w),u(w,_,a,h,f),f.delete(_)),wb(l,o,w)}}(r,o,g,a,l,u,h);else{var _=u?u(kb(r,g),f,g+"",r,o,h):void 0;void 0===_&&(_=f),wb(r,g,_)}},ad)},hc=function(l){return l};var kA=Math.max;const vA=function(l){return function(){return l}},nP=tp?function(l,r){return tp(l,"toString",{configurable:!0,enumerable:!1,value:vA(r),writable:!0})}:hc;var CA=Date.now;const AA=function(l){var r=0,o=0;return function(){var a=CA(),u=16-(a-o);if(o=a,u>0){if(++r>=800)return arguments[0]}else r=0;return l.apply(void 0,arguments)}}(nP),vb=function(l){return function(l,r){return AA(function(l,r,o){return r=kA(void 0===r?l.length-1:r,0),function(){for(var a=arguments,u=-1,h=kA(a.length-r,0),f=Array(h);++u<h;)f[u]=a[r+u];u=-1;for(var g=Array(r+1);++u<r;)g[u]=a[u];return g[r]=o(f),function(l,r,o){switch(o.length){case 0:return l.call(r);case 1:return l.call(r,o[0]);case 2:return l.call(r,o[0],o[1]);case 3:return l.call(r,o[0],o[1],o[2])}return l.apply(r,o)}(l,this,g)}}(l,r,hc),l+"")}(function(r,o){var a=-1,u=o.length,h=u>1?o[u-1]:void 0,f=u>2?o[2]:void 0;for(h=l.length>3&&"function"==typeof h?(u--,h):void 0,f&&function(l,r,o){if(!dn(o))return!1;var a=typeof r;return!!("number"==a?gl(o)&&ki(r,o.length):"string"==a&&r in o)&&hl(o[r],l)}(o[0],o[1],f)&&(h=u<3?void 0:h,u=1),r=Object(r);++a<u;){var g=o[a];g&&l(r,g,a,h)}return r})},oP=vb(function(l,r,o){Di(l,r,o)});class cP{constructor(r){this._styles={},this._styleProcessor=r}get isEmpty(){const r=Object.entries(this._styles);return!Array.from(r).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(r){this.clear();const o=Array.from(function(a){let u=null,h=0,f=0,g=null;const _=new Map;if(""===a)return _;";"!=a.charAt(a.length-1)&&(a+=";");for(let b=0;b<a.length;b++){const w=a.charAt(b);if(null===u)switch(w){case":":g||(g=a.substr(h,b-h),f=b+1);break;case'"':case"'":u=w;break;case";":{const v=a.substr(f,b-f);g&&_.set(g.trim(),v.trim()),g=null,h=b+1;break}}else w===u&&(u=null)}return _}(r).entries());for(const[a,u]of o)this._styleProcessor.toNormalizedForm(a,u,this._styles)}has(r){if(this.isEmpty)return!1;const o=this._styleProcessor.getReducedForm(r,this._styles).find(([a])=>a===r);return Array.isArray(o)}set(r,o){if(dn(r))for(const[a,u]of Object.entries(r))this._styleProcessor.toNormalizedForm(a,u,this._styles);else this._styleProcessor.toNormalizedForm(r,o,this._styles)}remove(r){const o=_a(r);(function(l,r){null==l||function(l,r){null==(l=function(l,r){return r.length<2?l:fp(l,_A(r,0,-1))}(l,r=hp(r,l)))||delete l[yb(function(l){var r=null==l?0:l.length;return r?l[r-1]:void 0}(r))]}(l,r)})(this._styles,o),delete this._styles[r],this._cleanEmptyObjectsOnPath(o)}getNormalized(r){return this._styleProcessor.getNormalized(r,this._styles)}toString(){return this.isEmpty?"":this._getStylesEntries().map(r=>r.join(":")).sort().join(";")+";"}getAsString(r){if(this.isEmpty)return;if(this._styles[r]&&!dn(this._styles[r]))return this._styles[r];const o=this._styleProcessor.getReducedForm(r,this._styles).find(([a])=>a===r);return Array.isArray(o)?o[1]:void 0}getStyleNames(r=!1){return this.isEmpty?[]:r?this._styleProcessor.getStyleNames(this._styles):this._getStylesEntries().map(([o])=>o)}clear(){this._styles={}}_getStylesEntries(){const r=[],o=Object.keys(this._styles);for(const a of o)r.push(...this._styleProcessor.getReducedForm(a,this._styles));return r}_cleanEmptyObjectsOnPath(r){const o=r.split(".");if(!(o.length>1))return;const a=o.splice(0,o.length-1).join("."),u=Kt(this._styles,a);u&&!Array.from(Object.keys(u)).length&&this.remove(a)}}class EA{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(r,o,a){if(dn(o))Cb(a,_a(r),o);else if(this._normalizers.has(r)){const u=this._normalizers.get(r),{path:h,value:f}=u(o);Cb(a,h,f)}else Cb(a,r,o)}getNormalized(r,o){if(!r)return oP({},o);if(void 0!==o[r])return o[r];if(this._extractors.has(r)){const a=this._extractors.get(r);if("string"==typeof a)return Kt(o,a);const u=a(r,o);if(u)return u}return Kt(o,_a(r))}getReducedForm(r,o){const a=this.getNormalized(r,o);return void 0===a?[]:this._reducers.has(r)?this._reducers.get(r)(a):[[r,a]]}getStyleNames(r){const o=Array.from(this._consumables.keys()).filter(u=>{const h=this.getNormalized(u,r);return h&&"object"==typeof h?Object.keys(h).length:h}),a=new Set([...o,...Object.keys(r)]);return Array.from(a.values())}getRelatedStyles(r){return this._consumables.get(r)||[]}setNormalizer(r,o){this._normalizers.set(r,o)}setExtractor(r,o){this._extractors.set(r,o)}setReducer(r,o){this._reducers.set(r,o)}setStyleRelation(r,o){this._mapStyleNames(r,o);for(const a of o)this._mapStyleNames(a,[r])}_mapStyleNames(r,o){this._consumables.has(r)||this._consumables.set(r,[]),this._consumables.get(r).push(...o)}}function _a(l){return l.replace("-",".")}function Cb(l,r,o){let a=o;dn(o)&&(a=oP({},Kt(l,r),o)),function(l,r,o){null==l||function(l,r,o,a){if(!dn(l))return l;for(var u=-1,h=(r=hp(r,l)).length,f=h-1,g=l;null!=g&&++u<h;){var _=yb(r[u]),b=o;if("__proto__"===_||"constructor"===_||"prototype"===_)return l;if(u!=f){var w=g[_];void 0===(b=void 0)&&(b=dn(w)?w:ki(r[u+1])?[]:{})}pl(g,_,b),g=g[_]}}(l,r,o)}(l,r,a)}class Ki extends as{constructor(r,o,a,u){if(super(r),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=o,this._attrs=function(h){const f=Us(h);for(const[g,_]of f)null===_?f.delete(g):"string"!=typeof _&&f.set(g,String(_));return f}(a),this._children=[],u&&this._insertChild(0,u),this._classes=new Set,this._attrs.has("class")){const h=this._attrs.get("class");IA(this._classes,h),this._attrs.delete("class")}this._styles=new cP(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return 0===this._children.length}getChild(r){return this._children[r]}getChildIndex(r){return this._children.indexOf(r)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(r){if("class"==r)return this._classes.size>0?[...this._classes].join(" "):void 0;if("style"==r){const o=this._styles.toString();return""==o?void 0:o}return this._attrs.get(r)}hasAttribute(r){return"class"==r?this._classes.size>0:"style"==r?!this._styles.isEmpty:this._attrs.has(r)}isSimilar(r){if(!(r instanceof Ki))return!1;if(this===r)return!0;if(this.name!=r.name||this._attrs.size!==r._attrs.size||this._classes.size!==r._classes.size||this._styles.size!==r._styles.size)return!1;for(const[o,a]of this._attrs)if(!r._attrs.has(o)||r._attrs.get(o)!==a)return!1;for(const o of this._classes)if(!r._classes.has(o))return!1;for(const o of this._styles.getStyleNames())if(!r._styles.has(o)||r._styles.getAsString(o)!==this._styles.getAsString(o))return!1;return!0}hasClass(...r){for(const o of r)if(!this._classes.has(o))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(r){return this._styles.getAsString(r)}getNormalizedStyle(r){return this._styles.getNormalized(r)}getStyleNames(r){return this._styles.getStyleNames(r)}hasStyle(...r){for(const o of r)if(!this._styles.has(o))return!1;return!0}findAncestor(...r){const o=new Wi(...r);let a=this.parent;for(;a&&!a.is("documentFragment");){if(o.match(a))return a;a=a.parent}return null}getCustomProperty(r){return this._customProperties.get(r)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const r=Array.from(this._classes).sort().join(","),o=this._styles.toString(),a=Array.from(this._attrs).map(u=>`${u[0]}="${u[1]}"`).sort().join(" ");return this.name+(""==r?"":` class="${r}"`)+(o?` style="${o}"`:"")+(""==a?"":` ${a}`)}shouldRenderUnsafeAttribute(r){return this._unsafeAttributesToRender.includes(r)}_clone(r=!1){const o=[];if(r)for(const u of this.getChildren())o.push(u._clone(r));const a=new this.constructor(this.document,this.name,this._attrs,o);return a._classes=new Set(this._classes),a._styles.set(this._styles.getNormalized()),a._customProperties=new Map(this._customProperties),a.getFillerOffset=this.getFillerOffset,a._unsafeAttributesToRender=this._unsafeAttributesToRender,a}_appendChild(r){return this._insertChild(this.childCount,r)}_insertChild(r,o){this._fireChange("children",this);let a=0;const u=(h=this.document,"string"==typeof(f=o)?[new Ht(h,f)]:(ao(f)||(f=[f]),Array.from(f).map(g=>"string"==typeof g?new Ht(h,g):g instanceof po?new Ht(h,g.data):g)));var h,f;for(const h of u)null!==h.parent&&h._remove(),h.parent=this,h.document=this.document,this._children.splice(r,0,h),r++,a++;return a}_removeChildren(r,o=1){this._fireChange("children",this);for(let a=r;a<r+o;a++)this._children[a].parent=null;return this._children.splice(r,o)}_setAttribute(r,o){const a=String(o);this._fireChange("attributes",this),"class"==r?IA(this._classes,a):"style"==r?this._styles.setTo(a):this._attrs.set(r,a)}_removeAttribute(r){return this._fireChange("attributes",this),"class"==r?this._classes.size>0&&(this._classes.clear(),!0):"style"==r?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(r)}_addClass(r){this._fireChange("attributes",this);for(const o of Hn(r))this._classes.add(o)}_removeClass(r){this._fireChange("attributes",this);for(const o of Hn(r))this._classes.delete(o)}_setStyle(r,o){this._fireChange("attributes",this),"string"!=typeof r?this._styles.set(r):this._styles.set(r,o)}_removeStyle(r){this._fireChange("attributes",this);for(const o of Hn(r))this._styles.remove(o)}_setCustomProperty(r,o){this._customProperties.set(r,o)}_removeCustomProperty(r){return this._customProperties.delete(r)}}function IA(l,r){const o=r.split(/\s+/);l.clear(),o.forEach(a=>l.add(a))}Ki.prototype.is=function(l,r){return r?r===this.name&&("element"===l||"view:element"===l):"element"===l||"view:element"===l||"node"===l||"view:node"===l};class kd extends Ki{constructor(r,o,a,u){super(r,o,a,u),this.getFillerOffset=DA}}function DA(){const l=[...this.getChildren()],r=l[this.childCount-1];if(r&&r.is("element","br"))return this.childCount;for(const o of l)if(!o.is("uiElement"))return null;return this.childCount}kd.prototype.is=function(l,r){return r?r===this.name&&("containerElement"===l||"view:containerElement"===l||"element"===l||"view:element"===l):"containerElement"===l||"view:containerElement"===l||"element"===l||"view:element"===l||"node"===l||"view:node"===l};class oe extends(Pt(kd)){constructor(r,o,a,u){super(r,o,a,u),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(r),this.bind("isFocused").to(r,"isFocused",h=>h&&r.selection.editableElement==this),this.listenTo(r.selection,"change",()=>{this.isFocused=r.isFocused&&r.selection.editableElement==this})}destroy(){this.stopListening()}}oe.prototype.is=function(l,r){return r?r===this.name&&("editableElement"===l||"view:editableElement"===l||"containerElement"===l||"view:containerElement"===l||"element"===l||"view:element"===l):"editableElement"===l||"view:editableElement"===l||"containerElement"===l||"view:containerElement"===l||"element"===l||"view:element"===l||"node"===l||"view:node"===l};const Ct=Symbol("rootName");class yr extends oe{constructor(r,o){super(r,o),this.rootName="main"}get rootName(){return this.getCustomProperty(Ct)}set rootName(r){this._setCustomProperty(Ct,r)}set _name(r){this.name=r}}yr.prototype.is=function(l,r){return r?r===this.name&&("rootElement"===l||"view:rootElement"===l||"editableElement"===l||"view:editableElement"===l||"containerElement"===l||"view:containerElement"===l||"element"===l||"view:element"===l):"rootElement"===l||"view:rootElement"===l||"editableElement"===l||"view:editableElement"===l||"containerElement"===l||"view:containerElement"===l||"element"===l||"view:element"===l||"node"===l||"view:node"===l};class Tn{constructor(r={}){if(!r.boundaries&&!r.startPosition)throw new V("view-tree-walker-no-start-position",null);if(r.direction&&"forward"!=r.direction&&"backward"!=r.direction)throw new V("view-tree-walker-unknown-direction",r.startPosition,{direction:r.direction});this.boundaries=r.boundaries||null,this._position=ue._createAt(r.startPosition?r.startPosition:r.boundaries["backward"==r.direction?"end":"start"]),this.direction=r.direction||"forward",this.singleCharacters=!!r.singleCharacters,this.shallow=!!r.shallow,this.ignoreElementEnd=!!r.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(r){let o,a;do{a=this.position,o=this.next()}while(!o.done&&r(o.value));o.done||(this._position=a)}next(){return"forward"==this.direction?this._next():this._previous()}_next(){let r=this.position.clone();const o=this.position,a=r.parent;if(null===a.parent&&r.offset===a.childCount)return{done:!0,value:void 0};if(a===this._boundaryEndParent&&r.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let u;if(a instanceof Ht){if(r.isAtEnd)return this._position=ue._createAfter(a),this._next();u=a.data[r.offset]}else u=a.getChild(r.offset);if(u instanceof Ki){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(r))return{done:!0,value:void 0};r.offset++}else r=new ue(u,0);return this._position=r,this._formatReturnValue("elementStart",u,o,r,1)}if(u instanceof Ht){if(this.singleCharacters)return r=new ue(u,0),this._position=r,this._next();let h,f=u.data.length;return u==this._boundaryEndParent?(f=this.boundaries.end.offset,h=new po(u,0,f),r=ue._createAfter(h)):(h=new po(u,0,u.data.length),r.offset++),this._position=r,this._formatReturnValue("text",h,o,r,f)}if("string"==typeof u){let h;h=this.singleCharacters?1:(a===this._boundaryEndParent?this.boundaries.end.offset:a.data.length)-r.offset;const f=new po(a,r.offset,h);return r.offset+=h,this._position=r,this._formatReturnValue("text",f,o,r,h)}return r=ue._createAfter(a),this._position=r,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",a,o,r)}_previous(){let r=this.position.clone();const o=this.position,a=r.parent;if(null===a.parent&&0===r.offset)return{done:!0,value:void 0};if(a==this._boundaryStartParent&&r.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let u;if(a instanceof Ht){if(r.isAtStart)return this._position=ue._createBefore(a),this._previous();u=a.data[r.offset-1]}else u=a.getChild(r.offset-1);if(u instanceof Ki)return this.shallow?(r.offset--,this._position=r,this._formatReturnValue("elementStart",u,o,r,1)):(r=new ue(u,u.childCount),this._position=r,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",u,o,r));if(u instanceof Ht){if(this.singleCharacters)return r=new ue(u,u.data.length),this._position=r,this._previous();let h,f=u.data.length;if(u==this._boundaryStartParent){const g=this.boundaries.start.offset;h=new po(u,g,u.data.length-g),f=h.data.length,r=ue._createBefore(h)}else h=new po(u,0,u.data.length),r.offset--;return this._position=r,this._formatReturnValue("text",h,o,r,f)}if("string"==typeof u){let h;h=this.singleCharacters?1:r.offset-(a===this._boundaryStartParent?this.boundaries.start.offset:0),r.offset-=h;const f=new po(a,r.offset,h);return this._position=r,this._formatReturnValue("text",f,o,r,h)}return r=ue._createBefore(a),this._position=r,this._formatReturnValue("elementStart",a,o,r,1)}_formatReturnValue(r,o,a,u,h){return o instanceof po&&(o.offsetInText+o.data.length==o.textNode.data.length&&("forward"!=this.direction||this.boundaries&&this.boundaries.end.isEqual(this.position)?a=ue._createAfter(o.textNode):(u=ue._createAfter(o.textNode),this._position=u)),0===o.offsetInText&&("backward"!=this.direction||this.boundaries&&this.boundaries.start.isEqual(this.position)?a=ue._createBefore(o.textNode):(u=ue._createBefore(o.textNode),this._position=u))),{done:!1,value:{type:r,item:o,previousPosition:a,nextPosition:u,length:h}}}}class ue extends ss{constructor(r,o){super(),this.parent=r,this.offset=o}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return 0===this.offset}get isAtEnd(){const r=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===r}get root(){return this.parent.root}get editableElement(){let r=this.parent;for(;!(r instanceof oe);){if(!r.parent)return null;r=r.parent}return r}getShiftedBy(r){const o=ue._createAt(this),a=o.offset+r;return o.offset=a<0?0:a,o}getLastMatchingPosition(r,o={}){o.startPosition=this;const a=new Tn(o);return a.skip(r),a.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(r){const o=this.getAncestors(),a=r.getAncestors();let u=0;for(;o[u]==a[u]&&o[u];)u++;return 0===u?null:o[u-1]}isEqual(r){return this.parent==r.parent&&this.offset==r.offset}isBefore(r){return"before"==this.compareWith(r)}isAfter(r){return"after"==this.compareWith(r)}compareWith(r){if(this.root!==r.root)return"different";if(this.isEqual(r))return"same";const o=this.parent.is("node")?this.parent.getPath():[],a=r.parent.is("node")?r.parent.getPath():[];o.push(this.offset),a.push(r.offset);const u=ni(o,a);switch(u){case"prefix":return"before";case"extension":return"after";default:return o[u]<a[u]?"before":"after"}}getWalker(r={}){return r.startPosition=this,new Tn(r)}clone(){return new ue(this.parent,this.offset)}static _createAt(r,o){if(r instanceof ue)return new this(r.parent,r.offset);{const a=r;if("end"==o)o=a.is("$text")?a.data.length:a.childCount;else{if("before"==o)return this._createBefore(a);if("after"==o)return this._createAfter(a);if(0!==o&&!o)throw new V("view-createpositionat-offset-required",a)}return new ue(a,o)}}static _createAfter(r){if(r.is("$textProxy"))return new ue(r.textNode,r.offsetInText+r.data.length);if(!r.parent)throw new V("view-position-after-root",r,{root:r});return new ue(r.parent,r.index+1)}static _createBefore(r){if(r.is("$textProxy"))return new ue(r.textNode,r.offsetInText);if(!r.parent)throw new V("view-position-before-root",r,{root:r});return new ue(r.parent,r.index)}}ue.prototype.is=function(l){return"position"===l||"view:position"===l};class $e extends ss{constructor(r,o=null){super(),this.start=r.clone(),this.end=o?o.clone():r.clone()}*[Symbol.iterator](){yield*new Tn({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let r=this.start.getLastMatchingPosition(ba,{direction:"backward"}),o=this.end.getLastMatchingPosition(ba);return r.parent.is("$text")&&r.isAtStart&&(r=ue._createBefore(r.parent)),o.parent.is("$text")&&o.isAtEnd&&(o=ue._createAfter(o.parent)),new $e(r,o)}getTrimmed(){let r=this.start.getLastMatchingPosition(ba);if(r.isAfter(this.end)||r.isEqual(this.end))return new $e(r,r);let o=this.end.getLastMatchingPosition(ba,{direction:"backward"});const a=r.nodeAfter,u=o.nodeBefore;return a&&a.is("$text")&&(r=new ue(a,0)),u&&u.is("$text")&&(o=new ue(u,u.data.length)),new $e(r,o)}isEqual(r){return this==r||this.start.isEqual(r.start)&&this.end.isEqual(r.end)}containsPosition(r){return r.isAfter(this.start)&&r.isBefore(this.end)}containsRange(r,o=!1){r.isCollapsed&&(o=!1);const a=this.containsPosition(r.start)||o&&this.start.isEqual(r.start),u=this.containsPosition(r.end)||o&&this.end.isEqual(r.end);return a&&u}getDifference(r){const o=[];return this.isIntersecting(r)?(this.containsPosition(r.start)&&o.push(new $e(this.start,r.start)),this.containsPosition(r.end)&&o.push(new $e(r.end,this.end))):o.push(this.clone()),o}getIntersection(r){if(this.isIntersecting(r)){let o=this.start,a=this.end;return this.containsPosition(r.start)&&(o=r.start),this.containsPosition(r.end)&&(a=r.end),new $e(o,a)}return null}getWalker(r={}){return r.boundaries=this,new Tn(r)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let r=this.start.nodeAfter,o=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(r=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(o=this.end.parent.previousSibling),r&&r.is("element")&&r===o?r:null}clone(){return new $e(this.start,this.end)}*getItems(r={}){r.boundaries=this,r.ignoreElementEnd=!0;const o=new Tn(r);for(const a of o)yield a.item}*getPositions(r={}){r.boundaries=this;const o=new Tn(r);yield o.position;for(const a of o)yield a.nextPosition}isIntersecting(r){return this.start.isBefore(r.end)&&this.end.isAfter(r.start)}static _createFromParentsAndOffsets(r,o,a,u){return new this(new ue(r,o),new ue(a,u))}static _createFromPositionAndShift(r,o){const a=r,u=r.getShiftedBy(o);return o>0?new this(a,u):new this(u,a)}static _createIn(r){return this._createFromParentsAndOffsets(r,0,r,r.childCount)}static _createOn(r){const o=r.is("$textProxy")?r.offsetSize:1;return this._createFromPositionAndShift(ue._createBefore(r),o)}}function ba(l){return!(!l.item.is("attributeElement")&&!l.item.is("uiElement"))}$e.prototype.is=function(l){return"range"===l||"view:range"===l};class Qn extends(xt(ss)){constructor(...r){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",r.length&&this.setTo(...r)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const r=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?r.end:r.start).clone()}get focus(){if(!this._ranges.length)return null;const r=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?r.start:r.end).clone()}get isCollapsed(){return 1===this.rangeCount&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const r of this._ranges)yield r.clone()}getFirstRange(){let r=null;for(const o of this._ranges)r&&!o.start.isBefore(r.start)||(r=o);return r?r.clone():null}getLastRange(){let r=null;for(const o of this._ranges)r&&!o.end.isAfter(r.end)||(r=o);return r?r.clone():null}getFirstPosition(){const r=this.getFirstRange();return r?r.start.clone():null}getLastPosition(){const r=this.getLastRange();return r?r.end.clone():null}isEqual(r){if(this.isFake!=r.isFake||this.isFake&&this.fakeSelectionLabel!=r.fakeSelectionLabel||this.rangeCount!=r.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(r.anchor)||!this.focus.isEqual(r.focus))return!1;for(const o of this._ranges){let a=!1;for(const u of r._ranges)if(o.isEqual(u)){a=!0;break}if(!a)return!1}return!0}isSimilar(r){if(this.isBackward!=r.isBackward)return!1;const o=EC(this.getRanges());if(o!=EC(r.getRanges()))return!1;if(0==o)return!0;for(let a of this.getRanges()){a=a.getTrimmed();let u=!1;for(let h of r.getRanges())if(h=h.getTrimmed(),a.start.isEqual(h.start)&&a.end.isEqual(h.end)){u=!0;break}if(!u)return!1}return!0}getSelectedElement(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}setTo(...r){let[o,a,u]=r;if("object"==typeof a&&(u=a,a=void 0),null===o)this._setRanges([]),this._setFakeOptions(u);else if(o instanceof Qn||o instanceof vd)this._setRanges(o.getRanges(),o.isBackward),this._setFakeOptions({fake:o.isFake,label:o.fakeSelectionLabel});else if(o instanceof $e)this._setRanges([o],u&&u.backward),this._setFakeOptions(u);else if(o instanceof ue)this._setRanges([new $e(o)]),this._setFakeOptions(u);else if(o instanceof as){const h=!!u&&!!u.backward;let f;if(void 0===a)throw new V("view-selection-setto-required-second-parameter",this);f="in"==a?$e._createIn(o):"on"==a?$e._createOn(o):new $e(ue._createAt(o,a)),this._setRanges([f],h),this._setFakeOptions(u)}else{if(!ao(o))throw new V("view-selection-setto-not-selectable",this);this._setRanges(o,u&&u.backward),this._setFakeOptions(u)}this.fire("change")}setFocus(r,o){if(null===this.anchor)throw new V("view-selection-setfocus-no-ranges",this);const a=ue._createAt(r,o);if("same"==a.compareWith(this.focus))return;const u=this.anchor;this._ranges.pop(),"before"==a.compareWith(u)?this._addRange(new $e(a,u),!0):this._addRange(new $e(u,a)),this.fire("change")}_setRanges(r,o=!1){r=Array.from(r),this._ranges=[];for(const a of r)this._addRange(a);this._lastRangeBackward=!!o}_setFakeOptions(r={}){this._isFake=!!r.fake,this._fakeSelectionLabel=r.fake&&r.label||""}_addRange(r,o=!1){if(!(r instanceof $e))throw new V("view-selection-add-range-not-range",this);this._pushRange(r),this._lastRangeBackward=!!o}_pushRange(r){for(const o of this._ranges)if(r.isIntersecting(o))throw new V("view-selection-range-intersects",this,{addedRange:r,intersectingRange:o});this._ranges.push(new $e(r.start,r.end))}}Qn.prototype.is=function(l){return"selection"===l||"view:selection"===l};class vd extends(xt(ss)){constructor(...r){super(),this._selection=new Qn,this._selection.delegate("change").to(this),r.length&&this._selection.setTo(...r)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(r){return this._selection.isEqual(r)}isSimilar(r){return this._selection.isSimilar(r)}_setTo(...r){this._selection.setTo(...r)}_setFocus(r,o){this._selection.setFocus(r,o)}}vd.prototype.is=function(l){return"selection"===l||"documentSelection"==l||"view:selection"==l||"view:documentSelection"==l};class ya extends K{constructor(r,o,a){super(r,o),this.startRange=a,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const Ab=Symbol("bubbling contexts");function TA(l){return class extends l{fire(r,...o){try{const a=r instanceof K?r:new K(this,r),u=mp(this);if(!u.size)return;if(Al(a,"capturing",this),Yn(u,"$capture",a,...o))return a.return;const h=a.startRange||this.selection.getFirstRange(),f=h?h.getContainedElement():null,g=!!f&&!!ls(u,f);let _=f||function(b){if(!b)return null;const w=b.start.parent,v=b.end.parent,A=w.getPath(),E=v.getPath();return A.length>E.length?w:v}(h);if(Al(a,"atTarget",_),!g){if(Yn(u,"$text",a,...o))return a.return;Al(a,"bubbling",_)}for(;_;){if(_.is("rootElement")){if(Yn(u,"$root",a,...o))return a.return}else if(_.is("element")&&Yn(u,_.name,a,...o))return a.return;if(Yn(u,_,a,...o))return a.return;_=_.parent,Al(a,"bubbling",_)}return Al(a,"bubbling",this),Yn(u,"$document",a,...o),a.return}catch(a){V.rethrowUnexpectedError(a,this)}}_addEventListener(r,o,a){const u=Hn(a.context||"$document"),h=mp(this);for(const f of u){let g=h.get(f);g||(g=new(xt()),h.set(f,g)),this.listenTo(g,r,o,a)}}_removeEventListener(r,o){const a=mp(this);for(const u of a.values())this.stopListening(u,r,o)}}}{const l=TA(Object);["fire","_addEventListener","_removeEventListener"].forEach(r=>{TA[r]=l.prototype[r]})}function Al(l,r,o){l instanceof ya&&(l._eventPhase=r,l._currentTarget=o)}function Yn(l,r,o,...a){const u="string"==typeof r?l.get(r):ls(l,r);return!!u&&(u.fire(o,...a),o.stop.called)}function ls(l,r){for(const[o,a]of l)if("function"==typeof o&&o(r))return a;return null}function mp(l){return l[Ab]||(l[Ab]=new Map),l[Ab]}class Hs extends(TA(Pt())){constructor(r){super(),this._postFixers=new Set,this.selection=new vd,this.roots=new ii({idProperty:"rootName"}),this.stylesProcessor=r,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(r="main"){return this.roots.get(r)}registerPostFixer(r){this._postFixers.add(r)}destroy(){this.roots.map(r=>r.destroy()),this.stopListening()}_callPostFixers(r){let o=!1;do{for(const a of this._postFixers)if(o=a(r),o)break}while(o)}}class oi extends Ki{constructor(r,o,a,u){super(r,o,a,u),this._priority=10,this._id=null,this._clonesGroup=null,this.getFillerOffset=lP}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(null===this.id)throw new V("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(r){return null!==this.id||null!==r.id?this.id===r.id:super.isSimilar(r)&&this.priority==r.priority}_clone(r=!1){const o=super._clone(r);return o._priority=this._priority,o._id=this._id,o}}function lP(){if(_p(this))return null;let l=this.parent;for(;l&&l.is("attributeElement");){if(_p(l)>1)return null;l=l.parent}return!l||_p(l)>1?null:this.childCount}function _p(l){return Array.from(l.getChildren()).filter(r=>!r.is("uiElement")).length}oi.DEFAULT_PRIORITY=10,oi.prototype.is=function(l,r){return r?r===this.name&&("attributeElement"===l||"view:attributeElement"===l||"element"===l||"view:element"===l):"attributeElement"===l||"view:attributeElement"===l||"element"===l||"view:element"===l||"node"===l||"view:node"===l};class Eb extends Ki{constructor(r,o,a,u){super(r,o,a,u),this.getFillerOffset=uP}_insertChild(r,o){if(o&&(o instanceof as||Array.from(o).length>0))throw new V("view-emptyelement-cannot-add",[this,o]);return 0}}function uP(){return null}Eb.prototype.is=function(l,r){return r?r===this.name&&("emptyElement"===l||"view:emptyElement"===l||"element"===l||"view:element"===l):"emptyElement"===l||"view:emptyElement"===l||"element"===l||"view:element"===l||"node"===l||"view:node"===l};class El extends Ki{constructor(r,o,a,u){super(r,o,a,u),this.getFillerOffset=xA}_insertChild(r,o){if(o&&(o instanceof as||Array.from(o).length>0))throw new V("view-uielement-cannot-add",[this,o]);return 0}render(r,o){return this.toDomElement(r)}toDomElement(r){const o=r.createElement(this.name);for(const a of this.getAttributeKeys())o.setAttribute(a,this.getAttribute(a));return o}}function xA(){return null}El.prototype.is=function(l,r){return r?r===this.name&&("uiElement"===l||"view:uiElement"===l||"element"===l||"view:element"===l):"uiElement"===l||"view:uiElement"===l||"element"===l||"view:element"===l||"node"===l||"view:node"===l};class Cd extends Ki{constructor(r,o,a,u){super(r,o,a,u),this.getFillerOffset=dP}_insertChild(r,o){if(o&&(o instanceof as||Array.from(o).length>0))throw new V("view-rawelement-cannot-add",[this,o]);return 0}render(r,o){}}function dP(){return null}Cd.prototype.is=function(l,r){return r?r===this.name&&("rawElement"===l||"view:rawElement"===l||"element"===l||"view:element"===l):"rawElement"===l||"view:rawElement"===l||l===this.name||l==="view:"+this.name||"element"===l||"view:element"===l||"node"===l||"view:node"===l};class wa extends(xt(ss)){constructor(r,o){super(),this._children=[],this._customProperties=new Map,this.document=r,o&&this._insertChild(0,o)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}get name(){}getCustomProperty(r){return this._customProperties.get(r)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(r){return this._insertChild(this.childCount,r)}getChild(r){return this._children[r]}getChildIndex(r){return this._children.indexOf(r)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(r,o){this._fireChange("children",this);let a=0;const u=(h=this.document,"string"==typeof(f=o)?[new Ht(h,f)]:(ao(f)||(f=[f]),Array.from(f).map(g=>"string"==typeof g?new Ht(h,g):g instanceof po?new Ht(h,g.data):g)));var h,f;for(const h of u)null!==h.parent&&h._remove(),h.parent=this,this._children.splice(r,0,h),r++,a++;return a}_removeChildren(r,o=1){this._fireChange("children",this);for(let a=r;a<r+o;a++)this._children[a].parent=null;return this._children.splice(r,o)}_fireChange(r,o){this.fire("change:"+r,o)}_setCustomProperty(r,o){this._customProperties.set(r,o)}_removeCustomProperty(r){return this._customProperties.delete(r)}}wa.prototype.is=function(l){return"documentFragment"===l||"view:documentFragment"===l};class bp{constructor(r){this._cloneGroups=new Map,this._slotFactory=null,this.document=r}setSelection(...r){this.document.selection._setTo(...r)}setSelectionFocus(r,o){this.document.selection._setFocus(r,o)}createDocumentFragment(r){return new wa(this.document,r)}createText(r){return new Ht(this.document,r)}createAttributeElement(r,o,a={}){const u=new oi(this.document,r,o);return"number"==typeof a.priority&&(u._priority=a.priority),a.id&&(u._id=a.id),a.renderUnsafeAttributes&&u._unsafeAttributesToRender.push(...a.renderUnsafeAttributes),u}createContainerElement(r,o,a={},u={}){let h=null;wi(a)?u=a:h=a;const f=new kd(this.document,r,o,h);return u.renderUnsafeAttributes&&f._unsafeAttributesToRender.push(...u.renderUnsafeAttributes),f}createEditableElement(r,o,a={}){const u=new oe(this.document,r,o);return a.renderUnsafeAttributes&&u._unsafeAttributesToRender.push(...a.renderUnsafeAttributes),u}createEmptyElement(r,o,a={}){const u=new Eb(this.document,r,o);return a.renderUnsafeAttributes&&u._unsafeAttributesToRender.push(...a.renderUnsafeAttributes),u}createUIElement(r,o,a){const u=new El(this.document,r,o);return a&&(u.render=a),u}createRawElement(r,o,a,u={}){const h=new Cd(this.document,r,o);return a&&(h.render=a),u.renderUnsafeAttributes&&h._unsafeAttributesToRender.push(...u.renderUnsafeAttributes),h}setAttribute(r,o,a){a._setAttribute(r,o)}removeAttribute(r,o){o._removeAttribute(r)}addClass(r,o){o._addClass(r)}removeClass(r,o){o._removeClass(r)}setStyle(r,o,a){wi(r)&&void 0===a?o._setStyle(r):a._setStyle(r,o)}removeStyle(r,o){o._removeStyle(r)}setCustomProperty(r,o,a){a._setCustomProperty(r,o)}removeCustomProperty(r,o){return o._removeCustomProperty(r)}breakAttributes(r){return r instanceof ue?this._breakAttributes(r):this._breakAttributesRange(r)}breakContainer(r){const o=r.parent;if(!o.is("containerElement"))throw new V("view-writer-break-non-container-element",this.document);if(!o.parent)throw new V("view-writer-break-root",this.document);if(r.isAtStart)return ue._createBefore(o);if(!r.isAtEnd){const a=o._clone(!1);this.insert(ue._createAfter(o),a);const u=new $e(r,ue._createAt(o,"end")),h=new ue(a,0);this.move(u,h)}return ue._createAfter(o)}mergeAttributes(r){const o=r.offset,a=r.parent;if(a.is("$text"))return r;if(a.is("attributeElement")&&0===a.childCount){const f=a.parent,g=a.index;return a._remove(),this._removeFromClonedElementsGroup(a),this.mergeAttributes(new ue(f,g))}const u=a.getChild(o-1),h=a.getChild(o);if(!u||!h)return r;if(u.is("$text")&&h.is("$text"))return kp(u,h);if(u.is("attributeElement")&&h.is("attributeElement")&&u.isSimilar(h)){const f=u.childCount;return u._appendChild(h.getChildren()),h._remove(),this._removeFromClonedElementsGroup(h),this.mergeAttributes(new ue(u,f))}return r}mergeContainers(r){const o=r.nodeBefore,a=r.nodeAfter;if(!(o&&a&&o.is("containerElement")&&a.is("containerElement")))throw new V("view-writer-merge-containers-invalid-position",this.document);const u=o.getChild(o.childCount-1),h=ue._createAt(u instanceof Ht?u:o,"end");return this.move($e._createIn(a),ue._createAt(o,"end")),this.remove($e._createOn(a)),h}insert(r,o){MA(o=ao(o)?[...o]:[o],this.document);const a=o.reduce((f,g)=>{const _=f[f.length-1],b=!g.is("uiElement");return _&&_.breakAttributes==b?_.nodes.push(g):f.push({breakAttributes:b,nodes:[g]}),f},[]);let u=null,h=r;for(const{nodes:f,breakAttributes:g}of a){const _=this._insertNodes(h,f,g);u||(u=_.start),h=_.end}return u?new $e(u,h):new $e(r)}remove(r){const o=r instanceof $e?r:$e._createOn(r);if(Mo(o,this.document),o.isCollapsed)return new wa(this.document);const{start:a,end:u}=this._breakAttributesRange(o,!0),g=a.parent._removeChildren(a.offset,u.offset-a.offset);for(const b of g)this._removeFromClonedElementsGroup(b);const _=this.mergeAttributes(a);return o.start=_,o.end=_.clone(),new wa(this.document,g)}clear(r,o){Mo(r,this.document);const a=r.getWalker({direction:"backward",ignoreElementEnd:!0});for(const u of a){const h=u.item;let f;if(h.is("element")&&o.isSimilar(h))f=$e._createOn(h);else if(!u.nextPosition.isAfter(r.start)&&h.is("$textProxy")){const g=h.getAncestors().find(_=>_.is("element")&&o.isSimilar(_));g&&(f=$e._createIn(g))}f&&(f.end.isAfter(r.end)&&(f.end=r.end),f.start.isBefore(r.start)&&(f.start=r.start),this.remove(f))}}move(r,o){let a;if(o.isAfter(r.end)){const u=(o=this._breakAttributes(o,!0)).parent,h=u.childCount;r=this._breakAttributesRange(r,!0),a=this.remove(r),o.offset+=u.childCount-h}else a=this.remove(r);return this.insert(o,a)}wrap(r,o){if(!(o instanceof oi))throw new V("view-writer-wrap-invalid-attribute",this.document);if(Mo(r,this.document),r.isCollapsed){let u=r.start;u.parent.is("element")&&!Array.from(u.parent.getChildren()).some(f=>!f.is("uiElement"))&&(u=u.getLastMatchingPosition(f=>f.item.is("uiElement"))),u=this._wrapPosition(u,o);const h=this.document.selection;return h.isCollapsed&&h.getFirstPosition().isEqual(r.start)&&this.setSelection(u),new $e(u)}return this._wrapRange(r,o)}unwrap(r,o){if(!(o instanceof oi))throw new V("view-writer-unwrap-invalid-attribute",this.document);if(Mo(r,this.document),r.isCollapsed)return r;const{start:a,end:u}=this._breakAttributesRange(r,!0),f=this._unwrapChildren(a.parent,a.offset,u.offset,o),g=this.mergeAttributes(f.start);g.isEqual(f.start)||f.end.offset--;const _=this.mergeAttributes(f.end);return new $e(g,_)}rename(r,o){const a=new kd(this.document,r,o.getAttributes());return this.insert(ue._createAfter(o),a),this.move($e._createIn(o),ue._createAt(a,0)),this.remove($e._createOn(o)),a}clearClonedElementsGroup(r){this._cloneGroups.delete(r)}createPositionAt(r,o){return ue._createAt(r,o)}createPositionAfter(r){return ue._createAfter(r)}createPositionBefore(r){return ue._createBefore(r)}createRange(r,o){return new $e(r,o)}createRangeOn(r){return $e._createOn(r)}createRangeIn(r){return $e._createIn(r)}createSelection(...r){return new Qn(...r)}createSlot(r="children"){if(!this._slotFactory)throw new V("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,r)}_registerSlotFactory(r){this._slotFactory=r}_clearSlotFactory(){this._slotFactory=null}_insertNodes(r,o,a){let u,h;if(u=a?yp(r):r.parent.is("$text")?r.parent.parent:r.parent,!u)throw new V("view-writer-invalid-position-container",this.document);h=a?this._breakAttributes(r,!0):r.parent.is("$text")?wp(r):r;const f=u._insertChild(h.offset,o);for(const w of o)this._addToClonedElementsGroup(w);const g=h.getShiftedBy(f),_=this.mergeAttributes(h);_.isEqual(h)||g.offset--;const b=this.mergeAttributes(g);return new $e(_,b)}_wrapChildren(r,o,a,u){let h=o;const f=[];for(;h<a;){const _=r.getChild(h),b=_.is("$text"),w=_.is("attributeElement");if(w&&this._wrapAttributeElement(u,_))f.push(new ue(r,h));else if(b||!w||SA(u,_)){const v=u._clone();_._remove(),v._appendChild(_),r._insertChild(h,v),this._addToClonedElementsGroup(v),f.push(new ue(r,h))}else this._wrapChildren(_,0,_.childCount,u);h++}let g=0;for(const _ of f)_.offset-=g,_.offset!=o&&(this.mergeAttributes(_).isEqual(_)||(g++,a--));return $e._createFromParentsAndOffsets(r,o,r,a)}_unwrapChildren(r,o,a,u){let h=o;const f=[];for(;h<a;){const _=r.getChild(h);if(_.is("attributeElement"))if(_.isSimilar(u)){const b=_.getChildren(),w=_.childCount;_._remove(),r._insertChild(h,b),this._removeFromClonedElementsGroup(_),f.push(new ue(r,h),new ue(r,h+w)),h+=w,a+=w-1}else this._unwrapAttributeElement(u,_)?(f.push(new ue(r,h),new ue(r,h+1)),h++):(this._unwrapChildren(_,0,_.childCount,u),h++);else h++}let g=0;for(const _ of f)_.offset-=g,_.offset!=o&&_.offset!=a&&(this.mergeAttributes(_).isEqual(_)||(g++,a--));return $e._createFromParentsAndOffsets(r,o,r,a)}_wrapRange(r,o){const{start:a,end:u}=this._breakAttributesRange(r,!0),f=this._wrapChildren(a.parent,a.offset,u.offset,o),g=this.mergeAttributes(f.start);g.isEqual(f.start)||f.end.offset--;const _=this.mergeAttributes(f.end);return new $e(g,_)}_wrapPosition(r,o){if(o.isSimilar(r.parent))return Db(r.clone());r.parent.is("$text")&&(r=wp(r));const a=this.createAttributeElement("_wrapPosition-fake-element");a._priority=Number.POSITIVE_INFINITY,a.isSimilar=()=>!1,r.parent._insertChild(r.offset,a);const u=new $e(r,r.getShiftedBy(1));this.wrap(u,o);const h=new ue(a.parent,a.index);a._remove();const f=h.nodeBefore,g=h.nodeAfter;return f instanceof Ht&&g instanceof Ht?kp(f,g):Db(h)}_wrapAttributeElement(r,o){if(!bn(r,o)||r.name!==o.name||r.priority!==o.priority)return!1;for(const a of r.getAttributeKeys())if("class"!==a&&"style"!==a&&o.hasAttribute(a)&&o.getAttribute(a)!==r.getAttribute(a))return!1;for(const a of r.getStyleNames())if(o.hasStyle(a)&&o.getStyle(a)!==r.getStyle(a))return!1;for(const a of r.getAttributeKeys())"class"!==a&&"style"!==a&&(o.hasAttribute(a)||this.setAttribute(a,r.getAttribute(a),o));for(const a of r.getStyleNames())o.hasStyle(a)||this.setStyle(a,r.getStyle(a),o);for(const a of r.getClassNames())o.hasClass(a)||this.addClass(a,o);return!0}_unwrapAttributeElement(r,o){if(!bn(r,o)||r.name!==o.name||r.priority!==o.priority)return!1;for(const a of r.getAttributeKeys())if("class"!==a&&"style"!==a&&(!o.hasAttribute(a)||o.getAttribute(a)!==r.getAttribute(a)))return!1;if(!o.hasClass(...r.getClassNames()))return!1;for(const a of r.getStyleNames())if(!o.hasStyle(a)||o.getStyle(a)!==r.getStyle(a))return!1;for(const a of r.getAttributeKeys())"class"!==a&&"style"!==a&&this.removeAttribute(a,o);return this.removeClass(Array.from(r.getClassNames()),o),this.removeStyle(Array.from(r.getStyleNames()),o),!0}_breakAttributesRange(r,o=!1){const a=r.start,u=r.end;if(Mo(r,this.document),r.isCollapsed){const _=this._breakAttributes(r.start,o);return new $e(_,_)}const h=this._breakAttributes(u,o),f=h.parent.childCount,g=this._breakAttributes(a,o);return h.offset+=h.parent.childCount-f,new $e(g,h)}_breakAttributes(r,o=!1){const a=r.offset,u=r.parent;if(r.parent.is("emptyElement"))throw new V("view-writer-cannot-break-empty-element",this.document);if(r.parent.is("uiElement"))throw new V("view-writer-cannot-break-ui-element",this.document);if(r.parent.is("rawElement"))throw new V("view-writer-cannot-break-raw-element",this.document);if(!o&&u.is("$text")&&Rr(u.parent)||Rr(u))return r.clone();if(u.is("$text"))return this._breakAttributes(wp(r),o);if(a==u.childCount){const h=new ue(u.parent,u.index+1);return this._breakAttributes(h,o)}if(0===a){const h=new ue(u.parent,u.index);return this._breakAttributes(h,o)}{const h=u.index+1,f=u._clone();u.parent._insertChild(h,f),this._addToClonedElementsGroup(f);const _=u._removeChildren(a,u.childCount-a);f._appendChild(_);const b=new ue(u.parent,h);return this._breakAttributes(b,o)}}_addToClonedElementsGroup(r){if(!r.root.is("rootElement"))return;if(r.is("element"))for(const u of r.getChildren())this._addToClonedElementsGroup(u);const o=r.id;if(!o)return;let a=this._cloneGroups.get(o);a||(a=new Set,this._cloneGroups.set(o,a)),a.add(r),r._clonesGroup=a}_removeFromClonedElementsGroup(r){if(r.is("element"))for(const u of r.getChildren())this._removeFromClonedElementsGroup(u);const o=r.id;if(!o)return;const a=this._cloneGroups.get(o);a&&a.delete(r)}}function yp(l){let r=l.parent;for(;!Rr(r);){if(!r)return;r=r.parent}return r}function SA(l,r){return l.priority<r.priority||!(l.priority>r.priority)&&l.getIdentity()<r.getIdentity()}function Db(l){const r=l.nodeBefore;if(r&&r.is("$text"))return new ue(r,r.data.length);const o=l.nodeAfter;return o&&o.is("$text")?new ue(o,0):l}function wp(l){if(l.offset==l.parent.data.length)return new ue(l.parent.parent,l.parent.index+1);if(0===l.offset)return new ue(l.parent.parent,l.parent.index);const r=l.parent.data.slice(l.offset);return l.parent._data=l.parent.data.slice(0,l.offset),l.parent.parent._insertChild(l.parent.index+1,new Ht(l.root.document,r)),new ue(l.parent.parent,l.parent.index+1)}function kp(l,r){const o=l.data.length;return l._data+=r.data,r._remove(),new ue(l,o)}const hP=[Ht,oi,kd,Eb,Cd,El];function MA(l,r){for(const o of l){if(!hP.some(a=>o instanceof a))throw new V("view-writer-insert-invalid-node-type",r);o.is("$text")||MA(o.getChildren(),r)}}function Rr(l){return l&&(l.is("containerElement")||l.is("documentFragment"))}function Mo(l,r){const o=yp(l.start),a=yp(l.end);if(!o||!a||o!==a)throw new V("view-writer-invalid-range-container",r)}function bn(l,r){return null===l.id&&null===r.id}const PA=l=>l.createTextNode("\xa0"),RA=l=>{const r=l.createElement("span");return r.dataset.ckeFiller="true",r.innerText="\xa0",r},NA=l=>{const r=l.createElement("br");return r.dataset.ckeFiller="true",r},Po=7,Il="\u2060".repeat(Po);function Ti(l){return"string"==typeof l?l.substr(0,Po)===Il:Kn(l)&&l.data.substr(0,Po)===Il}function ka(l){return l.data.length==Po&&Ti(l)}function Gs(l){const r="string"==typeof l?l:l.data;return Ti(l)?r.slice(Po):r}function fP(l,r){if(r.keyCode==Ge.arrowleft){const o=r.domTarget.ownerDocument.defaultView.getSelection();if(1==o.rangeCount&&o.getRangeAt(0).collapsed){const a=o.getRangeAt(0).startContainer,u=o.getRangeAt(0).startOffset;Ti(a)&&u<=Po&&o.collapse(a,0)}}}var Ad=ge(9315);Ee()(Ad.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Cp extends(Pt()){constructor(r,o){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=r,this.selection=o,this.set("isFocused",!1),this.set("isSelecting",!1),F.isBlink&&!F.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()})}markToSync(r,o){if("text"===r)this.domConverter.mapViewToDom(o.parent)&&this.markedTexts.add(o);else{if(!this.domConverter.mapViewToDom(o))return;if("attributes"===r)this.markedAttributes.add(o);else{if("children"!==r)throw new V("view-renderer-unknown-type",this);this.markedChildren.add(o)}}}render(){if(this.isComposing&&!F.isAndroid)return;let r=null;const o=!(F.isBlink&&!F.isAndroid&&this.isSelecting);for(const a of this.markedChildren)this._updateChildrenMappings(a);o?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?r=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(r=this.selection.getFirstPosition(),this.markedChildren.add(r.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(r=this.domConverter.domPositionToView(this._inlineFiller),r&&r.parent.is("$text")&&(r=ue._createBefore(r.parent)));for(const a of this.markedAttributes)this._updateAttrs(a);for(const a of this.markedChildren)this._updateChildren(a,{inlineFillerPosition:r});for(const a of this.markedTexts)!this.markedChildren.has(a.parent)&&this.domConverter.mapViewToDom(a.parent)&&this._updateText(a,{inlineFillerPosition:r});if(o)if(r){const a=this.domConverter.viewPositionToDom(r),u=a.parent.ownerDocument;this._inlineFiller=Ti(a.parent)?a.parent:Ap(u,a.parent,a.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(r){const o=this.domConverter.mapViewToDom(r);if(!o)return;const a=Array.from(o.childNodes),u=Array.from(this.domConverter.viewChildrenToDom(r,{withChildren:!1})),h=this._diffNodeLists(a,u),f=this._findUpdateActions(h,a,u,OA);if(-1!==f.indexOf("update")){const g={equal:0,insert:0,delete:0};for(const _ of f)if("update"===_){const b=g.equal+g.insert,w=g.equal+g.delete,v=r.getChild(b);!v||v.is("uiElement")||v.is("rawElement")||this._updateElementMappings(v,a[w]),Bs(u[b]),g.equal++}else g[_]++}}_updateElementMappings(r,o){this.domConverter.unbindDomElement(o),this.domConverter.bindElements(o,r),this.markedChildren.add(r),this.markedAttributes.add(r)}_getInlineFillerPosition(){const r=this.selection.getFirstPosition();return r.parent.is("$text")?ue._createBefore(r.parent):r}_isSelectionInInlineFiller(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const r=this.selection.getFirstPosition(),o=this.domConverter.viewPositionToDom(r);return!!(o&&Kn(o.parent)&&Ti(o.parent))}_removeInlineFiller(){const r=this._inlineFiller;if(!Ti(r))throw new V("view-renderer-filler-was-lost",this);ka(r)?r.remove():r.data=r.data.substr(Po),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const r=this.selection.getFirstPosition(),o=r.parent,a=r.offset;if(!this.domConverter.mapViewToDom(o.root)||!o.is("element")||!function(f){if("false"==f.getAttribute("contenteditable"))return!1;const g=f.findAncestor(_=>_.hasAttribute("contenteditable"));return!g||"true"==g.getAttribute("contenteditable")}(o)||a===o.getFillerOffset())return!1;const u=r.nodeBefore,h=r.nodeAfter;return!(u instanceof Ht||h instanceof Ht||F.isAndroid&&(u||h))}_updateText(r,o){const a=this.domConverter.findCorrespondingDomText(r);let u=this.domConverter.viewToDom(r).data;const h=o.inlineFillerPosition;h&&h.parent==r.parent&&h.offset==r.index&&(u=Il+u),fc(a,u)}_updateAttrs(r){const o=this.domConverter.mapViewToDom(r);if(!o)return;const a=Array.from(o.attributes).map(h=>h.name),u=r.getAttributeKeys();for(const h of u)this.domConverter.setDomElementAttribute(o,h,r.getAttribute(h),r);for(const h of a)r.hasAttribute(h)||this.domConverter.removeDomElementAttribute(o,h)}_updateChildren(r,o){const a=this.domConverter.mapViewToDom(r);if(!a)return;if(F.isAndroid){let v=null;for(const A of Array.from(a.childNodes)){if(v&&Kn(v)&&Kn(A)){a.normalize();break}v=A}}const u=o.inlineFillerPosition,h=a.childNodes,f=Array.from(this.domConverter.viewChildrenToDom(r,{bind:!0}));u&&u.parent===r&&Ap(a.ownerDocument,f,u.offset);const g=this._diffNodeLists(h,f),_=this._findUpdateActions(g,h,f,LA);let b=0;const w=new Set;for(const v of _)"delete"===v?(w.add(h[b]),Bs(h[b])):"equal"!==v&&"update"!==v||b++;b=0;for(const v of _)"insert"===v?(lc(a,b,f[b]),b++):"update"===v?(fc(h[b],f[b].data),b++):"equal"===v&&(this._markDescendantTextToSync(this.domConverter.domToView(f[b])),b++);for(const v of w)v.parentNode||this.domConverter.unbindDomElement(v)}_diffNodeLists(r,o){return $(r=function(a,u){const h=Array.from(a);return 0==h.length||!u||h[h.length-1]==u&&h.pop(),h}(r,this._fakeSelectionContainer),o,pP.bind(null,this.domConverter))}_findUpdateActions(r,o,a,u){if(-1===r.indexOf("insert")||-1===r.indexOf("delete"))return r;let h=[],f=[],g=[];const _={equal:0,insert:0,delete:0};for(const b of r)"insert"===b?g.push(a[_.equal+_.insert]):"delete"===b?f.push(o[_.equal+_.delete]):(h=h.concat($(f,g,u).map(w=>"equal"===w?"update":w)),h.push("equal"),f=[],g=[]),_[b]++;return h.concat($(f,g,u).map(b=>"equal"===b?"update":b))}_markDescendantTextToSync(r){if(r)if(r.is("$text"))this.markedTexts.add(r);else if(r.is("element"))for(const o of r.getChildren())this._markDescendantTextToSync(o)}_updateSelection(){if(F.isBlink&&!F.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(0===this.selection.rangeCount)return this._removeDomSelection(),void this._removeFakeSelection();const r=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&r&&(this.selection.isFake?this._updateFakeSelection(r):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(r)):this.isComposing&&F.isAndroid||this._updateDomSelection(r))}_updateFakeSelection(r){const o=r.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(f){const g=f.createElement("div");return g.className="ck-fake-selection-container",Object.assign(g.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),g.textContent="\xa0",g}(o));const a=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(a,this.selection),!this._fakeSelectionNeedsUpdate(r))return;a.parentElement&&a.parentElement==r||r.appendChild(a),a.textContent=this.selection.fakeSelectionLabel||"\xa0";const u=o.getSelection(),h=o.createRange();u.removeAllRanges(),h.selectNodeContents(a),u.addRange(h)}_updateDomSelection(r){const o=r.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(o))return;const a=this.domConverter.viewPositionToDom(this.selection.anchor),u=this.domConverter.viewPositionToDom(this.selection.focus);o.setBaseAndExtent(a.parent,a.offset,u.parent,u.offset),F.isGecko&&function(h,f){const g=h.parent;if(g.nodeType!=Node.ELEMENT_NODE||h.offset!=g.childNodes.length-1)return;const _=g.childNodes[h.offset];_&&"BR"==_.tagName&&f.addRange(f.getRangeAt(0))}(u,o)}_domSelectionNeedsUpdate(r){if(!this.domConverter.isDomSelectionCorrect(r))return!0;const o=r&&this.domConverter.domSelectionToView(r);return!(o&&this.selection.isEqual(o)||!this.selection.isCollapsed&&this.selection.isSimilar(o))}_fakeSelectionNeedsUpdate(r){const o=this._fakeSelectionContainer,a=r.ownerDocument.getSelection();return!o||o.parentElement!==r||a.anchorNode!==o&&!o.contains(a.anchorNode)||o.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const r of this.domDocuments){const o=r.getSelection();if(o.rangeCount){const a=r.activeElement,u=this.domConverter.mapDomToView(a);a&&u&&o.removeAllRanges()}}}_removeFakeSelection(){const r=this._fakeSelectionContainer;r&&r.remove()}_updateFocus(){if(this.isFocused){const r=this.selection.editableElement;r&&this.domConverter.focus(r)}}}function Ap(l,r,o){const a=r instanceof Array?r:r.childNodes,u=a[o];if(Kn(u))return u.data=Il+u.data,u;{const h=l.createTextNode(Il);return Array.isArray(r)?a.splice(o,0,h):lc(r,o,h),h}}function OA(l,r){return In(l)&&In(r)&&!Kn(l)&&!Kn(r)&&!_n(l)&&!_n(r)&&l.tagName.toLowerCase()===r.tagName.toLowerCase()}function LA(l,r){return In(l)&&In(r)&&Kn(l)&&Kn(r)}function pP(l,r,o){return r===o||(Kn(r)&&Kn(o)?r.data===o.data:!(!l.isBlockFiller(r)||!l.isBlockFiller(o)))}function fc(l,r){const o=l.data;if(o==r)return;const a=L(o,r);for(const u of a)"insert"===u.type?l.insertData(u.index,u.values.join("")):l.deleteData(u.index,u.howMany)}const Ed=NA(ze.document),gP=PA(ze.document),K6=RA(ze.document),Dl="data-ck-unsafe-attribute-",mP="data-ck-unsafe-element";class Ep{constructor(r,{blockFillerMode:o,renderingMode:a="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new Wi,this._inlineObjectElementMatcher=new Wi,this.document=r,this.renderingMode=a,this.blockFillerMode=o||("editing"===a?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument="editing"===this.renderingMode?ze.document:ze.document.implementation.createHTMLDocument("")}bindFakeSelection(r,o){this._fakeSelectionMapping.set(r,new Qn(o))}fakeSelectionToView(r){return this._fakeSelectionMapping.get(r)}bindElements(r,o){this._domToViewMapping.set(r,o),this._viewToDomMapping.set(o,r)}unbindDomElement(r){const o=this._domToViewMapping.get(r);if(o){this._domToViewMapping.delete(r),this._viewToDomMapping.delete(o);for(const a of Array.from(r.children))this.unbindDomElement(a)}}bindDocumentFragments(r,o){this._domToViewMapping.set(r,o),this._viewToDomMapping.set(o,r)}shouldRenderAttribute(r,o,a){return"data"===this.renderingMode||!(r=r.toLowerCase()).startsWith("on")&&("srcdoc"!==r||!o.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&("img"===a&&("src"===r||"srcset"===r)||"source"===a&&"srcset"===r||!o.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(r,o){if("data"===this.renderingMode)return void(r.innerHTML=o);const a=(new DOMParser).parseFromString(o,"text/html"),u=a.createDocumentFragment(),h=a.body.childNodes;for(;h.length>0;)u.appendChild(h[0]);const f=a.createTreeWalker(u,NodeFilter.SHOW_ELEMENT),g=[];let _;for(;_=f.nextNode();)g.push(_);for(const b of g){for(const v of b.getAttributeNames())this.setDomElementAttribute(b,v,b.getAttribute(v));const w=b.tagName.toLowerCase();this._shouldRenameElement(w)&&(Tb(w),b.replaceWith(this._createReplacementDomElement(w,b)))}for(;r.firstChild;)r.firstChild.remove();r.append(u)}viewToDom(r,o={}){if(r.is("$text")){const a=this._processDataFromViewText(r);return this._domDocument.createTextNode(a)}{if(this.mapViewToDom(r))return this.mapViewToDom(r);let a;if(r.is("documentFragment"))a=this._domDocument.createDocumentFragment(),o.bind&&this.bindDocumentFragments(a,r);else{if(r.is("uiElement"))return a="$comment"===r.name?this._domDocument.createComment(r.getCustomProperty("$rawContent")):r.render(this._domDocument,this),o.bind&&this.bindElements(a,r),a;this._shouldRenameElement(r.name)?(Tb(r.name),a=this._createReplacementDomElement(r.name)):a=r.hasAttribute("xmlns")?this._domDocument.createElementNS(r.getAttribute("xmlns"),r.name):this._domDocument.createElement(r.name),r.is("rawElement")&&r.render(a,this),o.bind&&this.bindElements(a,r);for(const u of r.getAttributeKeys())this.setDomElementAttribute(a,u,r.getAttribute(u),r)}if(!1!==o.withChildren)for(const u of this.viewChildrenToDom(r,o))a.appendChild(u);return a}}setDomElementAttribute(r,o,a,u){const h=this.shouldRenderAttribute(o,a,r.tagName.toLowerCase())||u&&u.shouldRenderUnsafeAttribute(o);h||ke("domconverter-unsafe-attribute-detected",{domElement:r,key:o,value:a}),function(f){try{ze.document.createAttribute(f)}catch{return!1}return!0}(o)?(r.hasAttribute(o)&&!h?r.removeAttribute(o):r.hasAttribute(Dl+o)&&h&&r.removeAttribute(Dl+o),r.setAttribute(h?o:Dl+o,a)):ke("domconverter-invalid-attribute-detected",{domElement:r,key:o,value:a})}removeDomElementAttribute(r,o){o!=mP&&(r.removeAttribute(o),r.removeAttribute(Dl+o))}*viewChildrenToDom(r,o={}){const a=r.getFillerOffset&&r.getFillerOffset();let u=0;for(const h of r.getChildren()){a===u&&(yield this._getBlockFiller());const f=h.is("element")&&!!h.getCustomProperty("dataPipeline:transparentRendering")&&!Vn(h.getAttributes());f&&"data"==this.renderingMode?yield*this.viewChildrenToDom(h,o):(f&&ke("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:h}),yield this.viewToDom(h,o)),u++}a===u&&(yield this._getBlockFiller())}viewRangeToDom(r){const o=this.viewPositionToDom(r.start),a=this.viewPositionToDom(r.end),u=this._domDocument.createRange();return u.setStart(o.parent,o.offset),u.setEnd(a.parent,a.offset),u}viewPositionToDom(r){const o=r.parent;if(o.is("$text")){const a=this.findCorrespondingDomText(o);if(!a)return null;let u=r.offset;return Ti(a)&&(u+=Po),{parent:a,offset:u}}{let a,u,h;if(0===r.offset){if(a=this.mapViewToDom(o),!a)return null;h=a.childNodes[0]}else{const f=r.nodeBefore;if(u=f.is("$text")?this.findCorrespondingDomText(f):this.mapViewToDom(f),!u)return null;a=u.parentNode,h=u.nextSibling}return Kn(h)&&Ti(h)?{parent:h,offset:Po}:{parent:a,offset:u?gd(u)+1:0}}}domToView(r,o={}){const a=[],u=this._domToView(r,o,a),h=u.next().value;return h?(u.next(),this._processDomInlineNodes(null,a,o),h.is("$text")&&0==h.data.length?null:h):null}*domChildrenToView(r,o={},a=[]){for(let u=0;u<r.childNodes.length;u++){const f=this._domToView(r.childNodes[u],o,a),g=f.next().value;null!==g&&(this._isBlockViewElement(g)&&this._processDomInlineNodes(r,a,o),yield g,f.next())}this._processDomInlineNodes(r,a,o)}domSelectionToView(r){if(function(u){if(!F.isGecko||!u.rangeCount)return!1;const h=u.getRangeAt(0).startContainer;try{Object.prototype.toString.call(h)}catch{return!0}return!1}(r))return new Qn([]);if(1===r.rangeCount){let u=r.getRangeAt(0).startContainer;Kn(u)&&(u=u.parentNode);const h=this.fakeSelectionToView(u);if(h)return h}const o=this.isDomSelectionBackward(r),a=[];for(let u=0;u<r.rangeCount;u++){const h=r.getRangeAt(u),f=this.domRangeToView(h);f&&a.push(f)}return new Qn(a,{backward:o})}domRangeToView(r){const o=this.domPositionToView(r.startContainer,r.startOffset),a=this.domPositionToView(r.endContainer,r.endOffset);return o&&a?new $e(o,a):null}domPositionToView(r,o=0){if(this.isBlockFiller(r))return this.domPositionToView(r.parentNode,gd(r));const a=this.mapDomToView(r);if(a&&(a.is("uiElement")||a.is("rawElement")))return ue._createBefore(a);if(Kn(r)){if(ka(r))return this.domPositionToView(r.parentNode,gd(r));const u=this.findCorrespondingViewText(r);let h=o;return u?(Ti(r)&&(h-=Po,h=h<0?0:h),new ue(u,h)):null}if(0===o){const u=this.mapDomToView(r);if(u)return new ue(u,0)}else{const u=r.childNodes[o-1];if(Kn(u)&&ka(u)||u&&this.isBlockFiller(u))return this.domPositionToView(u.parentNode,gd(u));const h=Kn(u)?this.findCorrespondingViewText(u):this.mapDomToView(u);if(h&&h.parent)return new ue(h.parent,h.index+1)}return null}mapDomToView(r){return this.getHostViewElement(r)||this._domToViewMapping.get(r)}findCorrespondingViewText(r){if(ka(r))return null;const o=this.getHostViewElement(r);if(o)return o;const a=r.previousSibling;if(a){if(!this.isElement(a))return null;const u=this.mapDomToView(a);if(u){const h=u.nextSibling;return h instanceof Ht?h:null}}else{const u=this.mapDomToView(r.parentNode);if(u){const h=u.getChild(0);return h instanceof Ht?h:null}}return null}mapViewToDom(r){return this._viewToDomMapping.get(r)}findCorrespondingDomText(r){const o=r.previousSibling;return o&&this.mapViewToDom(o)?this.mapViewToDom(o).nextSibling:!o&&r.parent&&this.mapViewToDom(r.parent)?this.mapViewToDom(r.parent).childNodes[0]:null}focus(r){const o=this.mapViewToDom(r);if(o&&o.ownerDocument.activeElement!==o){const{scrollX:a,scrollY:u}=ze.window,h=[];bP(o,f=>{const{scrollLeft:g,scrollTop:_}=f;h.push([g,_])}),o.focus(),bP(o,f=>{const[g,_]=h.shift();f.scrollLeft=g,f.scrollTop=_}),ze.window.scrollTo(a,u)}}_clearDomSelection(){const r=this.mapViewToDom(this.document.selection.editableElement);if(!r)return;const o=r.ownerDocument.defaultView.getSelection(),a=this.domSelectionToView(o);a&&a.rangeCount>0&&o.removeAllRanges()}isElement(r){return r&&r.nodeType==Node.ELEMENT_NODE}isDocumentFragment(r){return r&&r.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(r){return"br"==this.blockFillerMode?r.isEqualNode(Ed):!("BR"!==r.tagName||!yP(r,this.blockElements)||1!==r.parentNode.childNodes.length)||r.isEqualNode(K6)||(a=this.blockElements,(o=r).isEqualNode(gP)&&yP(o,a)&&1===o.parentNode.childNodes.length);var o,a}isDomSelectionBackward(r){if(r.isCollapsed)return!1;const o=this._domDocument.createRange();try{o.setStart(r.anchorNode,r.anchorOffset),o.setEnd(r.focusNode,r.focusOffset)}catch{return!1}const a=o.collapsed;return o.detach(),a}getHostViewElement(r){const o=function(a){const u=[];let h=a;for(;h&&h.nodeType!=Node.DOCUMENT_NODE;)u.unshift(h),h=h.parentNode;return u}(r);for(o.pop();o.length;){const a=o.pop(),u=this._domToViewMapping.get(a);if(u&&(u.is("uiElement")||u.is("rawElement")))return u}return null}isDomSelectionCorrect(r){return this._isDomSelectionPositionCorrect(r.anchorNode,r.anchorOffset)&&this._isDomSelectionPositionCorrect(r.focusNode,r.focusOffset)}registerRawContentMatcher(r){this._rawContentElementMatcher.add(r)}registerInlineObjectMatcher(r){this._inlineObjectElementMatcher.add(r)}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return PA(this._domDocument);case"markedNbsp":return RA(this._domDocument);case"br":return NA(this._domDocument)}}_isDomSelectionPositionCorrect(r,o){if(Kn(r)&&Ti(r)&&o<Po||this.isElement(r)&&Ti(r.childNodes[o]))return!1;const a=this.mapDomToView(r);return!a||!a.is("uiElement")&&!a.is("rawElement")}*_domToView(r,o,a){if(this.isBlockFiller(r))return null;const u=this.getHostViewElement(r);if(u)return u;if(_n(r)&&o.skipComments)return null;if(Kn(r)){if(ka(r))return null;{const h=r.data;if(""===h)return null;const f=new Ht(this.document,h);return a.push(f),f}}{let h=this.mapDomToView(r);if(h)return this._isInlineObjectElement(h)&&a.push(h),h;if(this.isDocumentFragment(r))h=new wa(this.document),o.bind&&this.bindDocumentFragments(r,h);else{h=this._createViewElement(r,o),o.bind&&this.bindElements(r,h);const g=r.attributes;if(g)for(let _=g.length,b=0;b<_;b++)h._setAttribute(g[b].name,g[b].value);if(this._isViewElementWithRawContent(h,o))return h._setCustomProperty("$rawContent",r.innerHTML),this._isBlockViewElement(h)||a.push(h),h;if(_n(r))return h._setCustomProperty("$rawContent",r.data),h}yield h;const f=[];if(!1!==o.withChildren)for(const g of this.domChildrenToView(r,o,f))h._appendChild(g);if(this._isInlineObjectElement(h))a.push(h);else for(const g of f)a.push(g)}}_processDomInlineNodes(r,o,a){if(!o.length||r&&!this.isDocumentFragment(r)&&!this._isBlockDomElement(r))return;let u=!1;for(let h=0;h<o.length;h++){const f=o[h];if(!f.is("$text")){u=!1;continue}let g,_=!1;if(_P(f,this.preElements))g=Gs(f.data);else{g=f.data.replace(/[ \n\t\r]{1,}/g," "),_=/[^\S\u00A0]/.test(g.charAt(g.length-1));const b=h>0?o[h-1]:null,w=h+1<o.length?o[h+1]:null,v=!b||b.is("element")&&"br"==b.name||u,A=!w&&!Ti(f.data);!1!==a.withChildren&&(v&&(g=g.replace(/^ /,"")),A&&(g=g.replace(/ $/,""))),g=Gs(g),g=g.replace(/ \u00A0/g,"  ");const E=w&&w.is("element")&&"br"!=w.name,D=w&&w.is("$text")&&" "==w.data.charAt(0);(/[ \u00A0]\u00A0$/.test(g)||!w||E||D)&&(g=g.replace(/\u00A0$/," ")),(v||b&&b.is("element")&&"br"!=b.name)&&(g=g.replace(/^\u00A0/," "))}0==g.length&&f.parent?(f._remove(),o.splice(h,1),h--):(f._data=g,u=_)}o.length=0}_processDataFromViewText(r){let o=r.data;if(r.getAncestors().some(a=>this.preElements.includes(a.name)))return o;if(" "==o.charAt(0)){const a=this._getTouchingInlineViewNode(r,!1);!(a&&a.is("$textProxy")&&this._nodeEndsWithSpace(a))&&a||(o="\xa0"+o.substr(1))}if(" "==o.charAt(o.length-1)){const a=this._getTouchingInlineViewNode(r,!0),u=a&&a.is("$textProxy")&&" "==a.data.charAt(0);" "!=o.charAt(o.length-2)&&a&&!u||(o=o.substr(0,o.length-1)+"\xa0")}return o.replace(/ {2}/g," \xa0")}_nodeEndsWithSpace(r){if(r.getAncestors().some(a=>this.preElements.includes(a.name)))return!1;const o=this._processDataFromViewText(r);return" "==o.charAt(o.length-1)}_getTouchingInlineViewNode(r,o){const a=new Tn({startPosition:o?ue._createAfter(r):ue._createBefore(r),direction:o?"forward":"backward"});for(const u of a){if(u.item.is("element","br"))return null;if(this._isInlineObjectElement(u.item))return u.item;if(u.item.is("containerElement"))return null;if(u.item.is("$textProxy"))return u.item}return null}_isBlockDomElement(r){return this.isElement(r)&&this.blockElements.includes(r.tagName.toLowerCase())}_isBlockViewElement(r){return r.is("element")&&this.blockElements.includes(r.name)}_isInlineObjectElement(r){return!!r.is("element")&&("br"==r.name||this.inlineObjectElements.includes(r.name)||!!this._inlineObjectElementMatcher.match(r))}_createViewElement(r,o){if(_n(r))return new El(this.document,"$comment");const a=o.keepOriginalCase?r.tagName:r.tagName.toLowerCase();return new Ki(this.document,a)}_isViewElementWithRawContent(r,o){return!1!==o.withChildren&&r.is("element")&&!!this._rawContentElementMatcher.match(r)}_shouldRenameElement(r){const o=r.toLowerCase();return"editing"===this.renderingMode&&this.unsafeElements.includes(o)}_createReplacementDomElement(r,o){const a=this._domDocument.createElement("span");if(a.setAttribute(mP,r),o){for(;o.firstChild;)a.appendChild(o.firstChild);for(const u of o.getAttributeNames())a.setAttribute(u,o.getAttribute(u))}return a}}function _P(l,r){return l.getAncestors().some(o=>o.is("element")&&r.includes(o.name))}function bP(l,r){let o=l;for(;o;)r(o),o=o.parentElement}function yP(l,r){const o=l.parentNode;return!!o&&!!o.tagName&&r.includes(o.tagName.toLowerCase())}function Tb(l){"script"===l&&ke("domconverter-unsafe-script-element-detected"),"style"===l&&ke("domconverter-unsafe-style-element-detected")}class Qi extends(hn()){constructor(r){super(),this._isEnabled=!1,this.view=r,this.document=r.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(r){return r&&3===r.nodeType&&(r=r.parentNode),!(!r||1!==r.nodeType)&&r.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}const VA=vb(function(l,r){gr(r,ad(r),l)});class $s{constructor(r,o,a){this.view=r,this.document=r.document,this.domEvent=o,this.domTarget=o.target,VA(this,a)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class us extends Qi{constructor(){super(...arguments),this.useCapture=!1}observe(r){("string"==typeof this.domEventType?[this.domEventType]:this.domEventType).forEach(o=>{this.listenTo(r,o,(a,u)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(u.target)&&this.onDomEvent(u)},{useCapture:this.useCapture})})}stopObserving(r){this.stopListening(r)}fire(r,o,a){this.isEnabled&&this.document.fire(r,new $s(this.view,o,a))}}class Ip extends us{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(r){this.fire(r.type,r,{keyCode:r.keyCode,altKey:r.altKey,ctrlKey:r.ctrlKey,shiftKey:r.shiftKey,metaKey:r.metaKey,get keystroke(){return _r(this)}})}}const FA=function(){return co.Date.now()};var BA=/\s/,wP=/^\s+/,kP=/^[-+]0x[0-9a-f]+$/i,Dp=/^0b[01]+$/i,xb=/^0o[0-7]+$/i,jA=parseInt;const Tp=function(l){if("number"==typeof l)return l;if(dp(l))return NaN;if(dn(l)){var r="function"==typeof l.valueOf?l.valueOf():l;l=dn(r)?r+"":r}if("string"!=typeof l)return 0===l?l:+l;l=function(l){return l&&l.slice(0,function(l){for(var r=l.length;r--&&BA.test(l.charAt(r)););return r}(l)+1).replace(wP,"")}(l);var o=Dp.test(l);return o||xb.test(l)?jA(l.slice(2),o?2:8):kP.test(l)?NaN:+l};var Sb=Math.max,vP=Math.min;const pc=function(l,r,o){var a,u,h,f,g,_,b=0,w=!1,v=!1,A=!0;if("function"!=typeof l)throw new TypeError("Expected a function");function E(H){var J=a,ae=u;return a=u=void 0,b=H,f=l.apply(ae,J)}function D(H){var J=H-_;return void 0===_||J>=r||J<0||v&&H-b>=h}function x(){var J,ae,H=FA();if(D(H))return P(H);g=setTimeout(x,(ae=r-((J=H)-_),v?vP(ae,h-(J-b)):ae))}function P(H){return g=void 0,A&&a?E(H):(a=u=void 0,f)}function N(){var ae,H=FA(),J=D(H);if(a=arguments,u=this,_=H,J){if(void 0===g)return b=ae=_,g=setTimeout(x,r),w?E(ae):f;if(v)return clearTimeout(g),g=setTimeout(x,r),E(_)}return void 0===g&&(g=setTimeout(x,r)),f}return r=Tp(r)||0,dn(o)&&(w=!!o.leading,h=(v="maxWait"in o)?Sb(Tp(o.maxWait)||0,r):h,A="trailing"in o?!!o.trailing:A),N.cancel=function(){void 0!==g&&clearTimeout(g),b=0,a=_=u=g=void 0},N.flush=function(){return void 0===g?f:P(FA())},N};class UA extends Qi{constructor(r){super(r),this._fireSelectionChangeDoneDebounced=pc(o=>{this.document.fire("selectionChangeDone",o)},200)}observe(){const r=this.document;r.on("arrowKey",(o,a)=>{r.selection.isFake&&this.isEnabled&&a.preventDefault()},{context:"$capture"}),r.on("arrowKey",(o,a)=>{r.selection.isFake&&this.isEnabled&&this._handleSelectionMove(a.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(r){const o=this.document.selection,a=new Qn(o.getRanges(),{backward:o.isBackward,fake:!1});r!=Ge.arrowleft&&r!=Ge.arrowup||a.setTo(a.getFirstPosition()),r!=Ge.arrowright&&r!=Ge.arrowdown||a.setTo(a.getLastPosition());const u={oldSelection:o,newSelection:a,domSelection:null};this.document.fire("selectionChange",u),this._fireSelectionChangeDoneDebounced(u)}}function xp(l){var r=-1,o=null==l?0:l.length;for(this.__data__=new id;++r<o;)this.add(l[r])}xp.prototype.add=xp.prototype.push=function(l){return this.__data__.set(l,"__lodash_hash_undefined__"),this},xp.prototype.has=function(l){return this.__data__.has(l)};const Sp=xp,gc=function(l,r){for(var o=-1,a=null==l?0:l.length;++o<a;)if(r(l[o],o,l))return!0;return!1},CP=function(l,r){return l.has(r)},Mb=function(l,r,o,a,u,h){var f=1&o,g=l.length,_=r.length;if(g!=_&&!(f&&_>g))return!1;var b=h.get(l),w=h.get(r);if(b&&w)return b==r&&w==l;var v=-1,A=!0,E=2&o?new Sp:void 0;for(h.set(l,r),h.set(r,l);++v<g;){var D=l[v],x=r[v];if(a)var P=f?a(x,D,v,r,l,h):a(D,x,v,l,r,h);if(void 0!==P){if(P)continue;A=!1;break}if(E){if(!gc(r,function(N,H){if(!CP(E,H)&&(D===N||u(D,N,o,a,h)))return E.push(H)})){A=!1;break}}else if(D!==x&&!u(D,x,o,a,h)){A=!1;break}}return h.delete(l),h.delete(r),A},$A=function(l){var r=-1,o=Array(l.size);return l.forEach(function(a,u){o[++r]=[u,a]}),o},Tl=function(l){var r=-1,o=Array(l.size);return l.forEach(function(a){o[++r]=a}),o};var qA=Os?Os.prototype:void 0,Zn=qA?qA.valueOf:void 0,AP=Object.prototype.hasOwnProperty,Id="[object Arguments]",mc="[object Array]",qs="[object Object]",_c=Object.prototype.hasOwnProperty;const Mp=function l(r,o,a,u,h){return r===o||(null==r||null==o||!lo(r)&&!lo(o)?r!=r&&o!=o:function(l,r,o,a,u,h){var f=yi(l),g=yi(r),_=f?mc:bl(l),b=g?mc:bl(r),w=(_=_==Id?qs:_)==qs,v=(b=b==Id?qs:b)==qs,A=_==b;if(A&&od(l)){if(!od(r))return!1;f=!0,w=!1}if(A&&!w)return h||(h=new Ke),f||rp(l)?Mb(l,r,o,a,u,h):function(l,r,o,a,u,h,f){switch(o){case"[object DataView]":if(l.byteLength!=r.byteLength||l.byteOffset!=r.byteOffset)return!1;l=l.buffer,r=r.buffer;case"[object ArrayBuffer]":return!(l.byteLength!=r.byteLength||!h(new pd(l),new pd(r)));case"[object Boolean]":case"[object Date]":case"[object Number]":return hl(+l,+r);case"[object Error]":return l.name==r.name&&l.message==r.message;case"[object RegExp]":case"[object String]":return l==r+"";case"[object Map]":var g=$A;case"[object Set]":if(g||(g=Tl),l.size!=r.size&&!(1&a))return!1;var b=f.get(l);if(b)return b==r;a|=2,f.set(l,r);var w=Mb(g(l),g(r),a,u,h,f);return f.delete(l),w;case"[object Symbol]":if(Zn)return Zn.call(l)==Zn.call(r)}return!1}(l,r,_,o,a,u,h);if(!(1&o)){var E=w&&_c.call(l,"__wrapped__"),D=v&&_c.call(r,"__wrapped__");if(E||D){var x=E?l.value():l,P=D?r.value():r;return h||(h=new Ke),u(x,P,o,a,h)}}return!!A&&(h||(h=new Ke),function(l,r,o,a,u,h){var f=1&o,g=ud(l),_=g.length;if(_!=ud(r).length&&!f)return!1;for(var b=_;b--;){var w=g[b];if(!(f?w in r:AP.call(r,w)))return!1}var v=h.get(l),A=h.get(r);if(v&&A)return v==r&&A==l;var E=!0;h.set(l,r),h.set(r,l);for(var D=f;++b<_;){var x=l[w=g[b]],P=r[w];if(a)var N=f?a(P,x,w,r,l,h):a(x,P,w,l,r,h);if(!(void 0===N?x===P||u(x,P,o,a,h):N)){E=!1;break}D||(D="constructor"==w)}if(E&&!D){var H=l.constructor,J=r.constructor;H==J||!("constructor"in l)||!("constructor"in r)||"function"==typeof H&&H instanceof H&&"function"==typeof J&&J instanceof J||(E=!1)}return h.delete(l),h.delete(r),E}(l,r,o,a,u,h))}(r,o,a,u,l,h))},xl=function(l,r,o){var a=(o="function"==typeof o?o:void 0)?o(l,r):void 0;return void 0===a?Mp(l,r,void 0,o):!!a};class EP extends Qi{constructor(r){super(r),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=r.domConverter,this.renderer=r._renderer,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(r){this._domElements.add(r),this.isEnabled&&this._mutationObserver.observe(r,this._config)}stopObserving(r){if(this._domElements.delete(r),this.isEnabled){this._mutationObserver.disconnect();for(const o of this._domElements)this._mutationObserver.observe(o,this._config)}}enable(){super.enable();for(const r of this._domElements)this._mutationObserver.observe(r,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(r){if(0===r.length)return;const o=this.domConverter,a=new Set,u=new Set;for(const f of r){const g=o.mapDomToView(f.target);g&&(g.is("uiElement")||g.is("rawElement")||"childList"!==f.type||this._isBogusBrMutation(f)||u.add(g))}for(const f of r){const g=o.mapDomToView(f.target);if((!g||!g.is("uiElement")&&!g.is("rawElement"))&&"characterData"===f.type){const _=o.findCorrespondingViewText(f.target);_&&!u.has(_.parent)?a.add(_):!_&&Ti(f.target)&&u.add(o.mapDomToView(f.target.parentNode))}}let h=!1;for(const f of a)h=!0,this.renderer.markToSync("text",f);for(const f of u){const g=o.mapViewToDom(f),_=Array.from(f.getChildren()),b=Array.from(o.domChildrenToView(g,{withChildren:!1}));xl(_,b,IP)||(h=!0,this.renderer.markToSync("children",f))}h&&this.view.forceRender()}_isBogusBrMutation(r){let o=null;return null===r.nextSibling&&0===r.removedNodes.length&&1==r.addedNodes.length&&(o=this.domConverter.domToView(r.addedNodes[0],{withChildren:!1})),o&&o.is("element","br")}}function IP(l,r){if(!Array.isArray(l))return l===r||!(!l.is("$text")||!r.is("$text"))&&l.data===r.data}class Rb extends us{constructor(r){super(r),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const o=this.document;o.on("focus",()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this.flush(),r.change(()=>{})},50)}),o.on("blur",(a,u)=>{const h=o.selection.editableElement;null!==h&&h!==u.target||(o.isFocused=!1,this._isFocusChanging=!1,r.change(()=>{}))})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(r){this.fire(r.type,r)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class Q6 extends Qi{constructor(r){super(r),this.mutationObserver=r.getObserver(EP),this.focusObserver=r.getObserver(Rb),this.selection=this.document.selection,this.domConverter=r.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=pc(o=>{this.document.fire("selectionChangeDone",o)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=pc(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(r){const o=r.ownerDocument,a=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,o),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(r,"selectstart",()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},{priority:"highest"}),this.listenTo(r,"keydown",a,{priority:"highest",useCapture:!0}),this.listenTo(r,"keyup",a,{priority:"highest",useCapture:!0}),this._documents.has(o)||(this.listenTo(o,"mouseup",a,{priority:"highest",useCapture:!0}),this.listenTo(o,"selectionchange",(u,h)=>{this.document.isComposing&&!F.isAndroid||(this._handleSelectionChange(h,o),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(o))}stopObserving(r){this.stopListening(r)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(r,o){if(!this.isEnabled)return;const a=o.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(a.anchorNode))return;this.mutationObserver.flush();const u=this.domConverter.domSelectionToView(a);if(0!=u.rangeCount){if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!this.selection.isEqual(u)||!this.domConverter.isDomSelectionCorrect(a))if(++this._loopbackCounter>60)this._reportInfiniteLoop();else if(this.selection.isSimilar(u))this.view.forceRender();else{const h={oldSelection:this.selection,newSelection:u,domSelection:a};this.document.fire("selectionChange",h),this._fireSelectionChangeDoneDebounced(h)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class Y6 extends us{constructor(r){super(r),this.domEventType=["compositionstart","compositionupdate","compositionend"];const o=this.document;o.on("compositionstart",()=>{o.isComposing=!0},{priority:"low"}),o.on("compositionend",()=>{o.isComposing=!1},{priority:"low"})}onDomEvent(r){this.fire(r.type,r,{data:r.data})}}class DP{constructor(r,o={}){this._files=o.cacheFiles?TP(r):null,this._native=r}get files(){return this._files||(this._files=TP(this._native)),this._files}get types(){return this._native.types}getData(r){return this._native.getData(r)}setData(r,o){this._native.setData(r,o)}set effectAllowed(r){this._native.effectAllowed=r}get effectAllowed(){return this._native.effectAllowed}set dropEffect(r){this._native.dropEffect=r}get dropEffect(){return this._native.dropEffect}setDragImage(r,o,a){this._native.setDragImage(r,o,a)}get isCanceled(){return"none"==this._native.dropEffect||!!this._native.mozUserCancelled}}function TP(l){const r=Array.from(l.files||[]),o=Array.from(l.items||[]);return r.length?r:o.filter(a=>"file"===a.kind).map(a=>a.getAsFile())}class Z6 extends us{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(r){const o=r.getTargetRanges(),a=this.view,u=a.document;let h=null,f=null,g=[];if(r.dataTransfer&&(h=new DP(r.dataTransfer)),null!==r.data?f=r.data:h&&(f=h.getData("text/plain")),u.selection.isFake)g=Array.from(u.selection.getRanges());else if(o.length)g=o.map(_=>{const b=a.domConverter.domPositionToView(_.startContainer,_.startOffset),w=a.domConverter.domPositionToView(_.endContainer,_.endOffset);return b?a.createRange(b,w):w?a.createRange(w):void 0}).filter(_=>!!_);else if(F.isAndroid){const _=r.target.ownerDocument.defaultView.getSelection();g=Array.from(a.domConverter.domSelectionToView(_).getRanges())}if(F.isAndroid&&"insertCompositionText"==r.inputType&&f&&f.endsWith("\n"))this.fire(r.type,r,{inputType:"insertParagraph",targetRanges:[a.createRange(g[0].end)]});else if("insertText"==r.inputType&&f&&f.includes("\n")){const _=f.split(/\n{1,2}/g);let b=g;for(let w=0;w<_.length;w++){const v=_[w];""!=v&&(this.fire(r.type,r,{data:v,dataTransfer:h,targetRanges:b,inputType:r.inputType,isComposing:r.isComposing}),b=[u.selection.getFirstRange()]),w+1<_.length&&(this.fire(r.type,r,{inputType:"insertParagraph",targetRanges:b}),b=[u.selection.getFirstRange()])}}else this.fire(r.type,r,{data:f,dataTransfer:h,targetRanges:g,inputType:r.inputType,isComposing:r.isComposing})}}class Dd extends Qi{constructor(r){super(r),this.document.on("keydown",(o,a)=>{if(this.isEnabled&&((u=a.keyCode)==Ge.arrowright||u==Ge.arrowleft||u==Ge.arrowup||u==Ge.arrowdown)){const h=new ya(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(h,a),h.stop.called&&o.stop()}var u})}observe(){}stopObserving(){}}class J6 extends Qi{constructor(r){super(r);const o=this.document;o.on("keydown",(a,u)=>{if(!this.isEnabled||u.keyCode!=Ge.tab||u.ctrlKey)return;const h=new ya(o,"tab",o.selection.getFirstRange());o.fire(h,u),h.stop.called&&a.stop()})}observe(){}stopObserving(){}}const bc=function(l){return xr(l,5)};class cr extends(Pt()){constructor(r){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new Hs(r),this.domConverter=new Ep(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new Cp(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new bp(this.document),this.addObserver(EP),this.addObserver(Rb),this.addObserver(Q6),this.addObserver(Ip),this.addObserver(UA),this.addObserver(Y6),this.addObserver(Dd),this.addObserver(Z6),this.addObserver(J6),this.document.on("arrowKey",fP,{priority:"low"}),function Ib(l){l.document.on("arrowKey",(r,o)=>function(a,u,h){if(u.keyCode==Ge.arrowright){const f=u.domTarget.ownerDocument.defaultView.getSelection(),g=1==f.rangeCount&&f.getRangeAt(0).collapsed;if(g||u.shiftKey){const w=h.domPositionToView(f.focusNode,f.focusOffset);if(null===w)return;let v=!1;const A=w.getLastMatchingPosition(E=>(E.item.is("uiElement")&&(v=!0),!(!E.item.is("uiElement")&&!E.item.is("attributeElement"))));if(v){const E=h.viewPositionToDom(A);g?f.collapse(E.parent,E.offset):f.extend(E.parent,E.offset)}}}}(0,o,l.domConverter),{priority:"low"})}(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0}),F.isiOS&&this.listenTo(this.document,"blur",(o,a)=>{this.domConverter.mapDomToView(a.domEvent.relatedTarget)||this.domConverter._clearDomSelection()})}attachDomRoot(r,o="main"){const a=this.document.getRoot(o);a._name=r.tagName.toLowerCase();const u={};for(const{name:f,value:g}of Array.from(r.attributes))u[f]=g,"class"===f?this._writer.addClass(g.split(" "),a):this._writer.setAttribute(f,g,a);this._initialDomRootAttributes.set(r,u);const h=()=>{this._writer.setAttribute("contenteditable",(!a.isReadOnly).toString(),a),a.isReadOnly?this._writer.addClass("ck-read-only",a):this._writer.removeClass("ck-read-only",a)};h(),this.domRoots.set(o,r),this.domConverter.bindElements(r,a),this._renderer.markToSync("children",a),this._renderer.markToSync("attributes",a),this._renderer.domDocuments.add(r.ownerDocument),a.on("change:children",(f,g)=>this._renderer.markToSync("children",g)),a.on("change:attributes",(f,g)=>this._renderer.markToSync("attributes",g)),a.on("change:text",(f,g)=>this._renderer.markToSync("text",g)),a.on("change:isReadOnly",()=>this.change(h)),a.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const f of this._observers.values())f.observe(r,o)}detachDomRoot(r){const o=this.domRoots.get(r);Array.from(o.attributes).forEach(({name:u})=>o.removeAttribute(u));const a=this._initialDomRootAttributes.get(o);for(const u in a)o.setAttribute(u,a[u]);this.domRoots.delete(r),this.domConverter.unbindDomElement(o);for(const u of this._observers.values())u.stopObserving(o)}getDomRoot(r="main"){return this.domRoots.get(r)}addObserver(r){let o=this._observers.get(r);if(o)return o;o=new r(this),this._observers.set(r,o);for(const[a,u]of this.domRoots)o.observe(u,a);return o.enable(),o}getObserver(r){return this._observers.get(r)}disableObservers(){for(const r of this._observers.values())r.disable()}enableObservers(){for(const r of this._observers.values())r.enable()}scrollToTheSelection({alignToTop:r,forceScroll:o,viewportOffset:a=20,ancestorOffset:u=20}={}){const h=this.document.selection.getFirstRange();if(!h)return;const f=bc({alignToTop:r,forceScroll:o,viewportOffset:a,ancestorOffset:u});"number"==typeof a&&(a={top:a,bottom:a,left:a,right:a});const g={target:this.domConverter.viewRangeToDom(h),viewportOffset:a,ancestorOffset:u,alignToTop:r,forceScroll:o};this.fire("scrollToTheSelection",g,f),function({target:_,viewportOffset:b=0,ancestorOffset:w=0,alignToTop:v,forceScroll:A}){const E=lp(_);let D=E,x=null;for(b="number"==typeof(P=b)?{top:P,bottom:P,left:P,right:P}:P;D;){let P;P=is(D==E?_:x),ap({parent:P,getRect:()=>_d(_,D),alignToTop:v,ancestorOffset:w,forceScroll:A});const N=_d(_,D);if(zs({window:D,rect:N,viewportOffset:b,alignToTop:v,forceScroll:A}),D.parent!=D){if(x=D.frameElement,D=D.parent,!x)return}else D=null}var P}(g)}focus(){if(!this.document.isFocused){const r=this.document.selection.editableElement;r&&(this.domConverter.focus(r),this.forceRender())}}change(r){if(this.isRenderingInProgress||this._postFixersInProgress)throw new V("cannot-change-view-tree",this);try{if(this._ongoingChange)return r(this._writer);this._ongoingChange=!0;const o=r(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),o}catch(o){V.rethrowUnexpectedError(o,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(Rb).flush(),this.change(()=>{})}destroy(){for(const r of this._observers.values())r.destroy();this.document.destroy(),this.stopListening()}createPositionAt(r,o){return ue._createAt(r,o)}createPositionAfter(r){return ue._createAfter(r)}createPositionBefore(r){return ue._createBefore(r)}createRange(r,o){return new $e(r,o)}createRangeOn(r){return $e._createOn(r)}createRangeIn(r){return $e._createIn(r)}createSelection(...r){return new Qn(...r)}_disableRendering(r){this._renderingDisabled=r,0==r&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class va{is(){throw new Error("is() method is abstract")}}class Ro extends va{constructor(r){super(),this.parent=null,this._attrs=Us(r)}get document(){return null}get index(){let r;if(!this.parent)return null;if(null===(r=this.parent.getChildIndex(this)))throw new V("model-node-not-found-in-parent",this);return r}get startOffset(){let r;if(!this.parent)return null;if(null===(r=this.parent.getChildStartOffset(this)))throw new V("model-node-not-found-in-parent",this);return r}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const r=this.index;return null!==r&&this.parent.getChild(r+1)||null}get previousSibling(){const r=this.index;return null!==r&&this.parent.getChild(r-1)||null}get root(){let r=this;for(;r.parent;)r=r.parent;return r}isAttached(){return null!==this.parent&&this.root.isAttached()}getPath(){const r=[];let o=this;for(;o.parent;)r.unshift(o.startOffset),o=o.parent;return r}getAncestors(r={}){const o=[];let a=r.includeSelf?this:this.parent;for(;a;)o[r.parentFirst?"push":"unshift"](a),a=a.parent;return o}getCommonAncestor(r,o={}){const a=this.getAncestors(o),u=r.getAncestors(o);let h=0;for(;a[h]==u[h]&&a[h];)h++;return 0===h?null:a[h-1]}isBefore(r){if(this==r||this.root!==r.root)return!1;const o=this.getPath(),a=r.getPath(),u=ni(o,a);switch(u){case"prefix":return!0;case"extension":return!1;default:return o[u]<a[u]}}isAfter(r){return this!=r&&this.root===r.root&&!this.isBefore(r)}hasAttribute(r){return this._attrs.has(r)}getAttribute(r){return this._attrs.get(r)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const r={};return this._attrs.size&&(r.attributes=Array.from(this._attrs).reduce((o,a)=>(o[a[0]]=a[1],o),{})),r}_clone(r){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(r,o){this._attrs.set(r,o)}_setAttributesTo(r){this._attrs=Us(r)}_removeAttribute(r){return this._attrs.delete(r)}_clearAttributes(){this._attrs.clear()}}Ro.prototype.is=function(l){return"node"===l||"model:node"===l};class Td{constructor(r){this._nodes=[],r&&this._insertNodes(0,r)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((r,o)=>r+o.offsetSize,0)}getNode(r){return this._nodes[r]||null}getNodeIndex(r){const o=this._nodes.indexOf(r);return-1==o?null:o}getNodeStartOffset(r){const o=this.getNodeIndex(r);return null===o?null:this._nodes.slice(0,o).reduce((a,u)=>a+u.offsetSize,0)}indexToOffset(r){if(r==this._nodes.length)return this.maxOffset;const o=this._nodes[r];if(!o)throw new V("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(o)}offsetToIndex(r){let o=0;for(const a of this._nodes){if(r>=o&&r<o+a.offsetSize)return this.getNodeIndex(a);o+=a.offsetSize}if(o!=r)throw new V("model-nodelist-offset-out-of-bounds",this,{offset:r,nodeList:this});return this.length}_insertNodes(r,o){for(const a of o)if(!(a instanceof Ro))throw new V("model-nodelist-insertnodes-not-node",this);this._nodes=function(a,u,h,f){if(Math.max(u.length,a.length)>1e4)return a.slice(0,h).concat(u).concat(a.slice(h+0,a.length));{const g=Array.from(a);return g.splice(h,0,...u),g}}(this._nodes,Array.from(o),r)}_removeNodes(r,o=1){return this._nodes.splice(r,o)}toJSON(){return this._nodes.map(r=>r.toJSON())}}class mt extends Ro{constructor(r,o){super(o),this._data=r||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const r=super.toJSON();return r.data=this.data,r}_clone(){return new mt(this.data,this.getAttributes())}static fromJSON(r){return new mt(r.data,r.attributes)}}mt.prototype.is=function(l){return"$text"===l||"model:$text"===l||"text"===l||"model:text"===l||"node"===l||"model:node"===l};class si extends va{constructor(r,o,a){if(super(),this.textNode=r,o<0||o>r.offsetSize)throw new V("model-textproxy-wrong-offsetintext",this);if(a<0||o+a>r.offsetSize)throw new V("model-textproxy-wrong-length",this);this.data=r.data.substring(o,o+a),this.offsetInText=o}get startOffset(){return null!==this.textNode.startOffset?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return null!==this.startOffset?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const r=this.textNode.getPath();return r.length>0&&(r[r.length-1]+=this.offsetInText),r}getAncestors(r={}){const o=[];let a=r.includeSelf?this:this.parent;for(;a;)o[r.parentFirst?"push":"unshift"](a),a=a.parent;return o}hasAttribute(r){return this.textNode.hasAttribute(r)}getAttribute(r){return this.textNode.getAttribute(r)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}si.prototype.is=function(l){return"$textProxy"===l||"model:$textProxy"===l||"textProxy"===l||"model:textProxy"===l};class Ut extends Ro{constructor(r,o,a){super(o),this._children=new Td,this.name=r,a&&this._insertChild(0,a)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}getChild(r){return this._children.getNode(r)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(r){return this._children.getNodeIndex(r)}getChildStartOffset(r){return this._children.getNodeStartOffset(r)}offsetToIndex(r){return this._children.offsetToIndex(r)}getNodeByPath(r){let o=this;for(const a of r)o=o.getChild(o.offsetToIndex(a));return o}findAncestor(r,o={}){let a=o.includeSelf?this:this.parent;for(;a;){if(a.name===r)return a;a=a.parent}return null}toJSON(){const r=super.toJSON();if(r.name=this.name,this._children.length>0){r.children=[];for(const o of this._children)r.children.push(o.toJSON())}return r}_clone(r=!1){const o=r?Array.from(this._children).map(a=>a._clone(!0)):void 0;return new Ut(this.name,this.getAttributes(),o)}_appendChild(r){this._insertChild(this.childCount,r)}_insertChild(r,o){const a="string"==typeof(u=o)?[new mt(u)]:(ao(u)||(u=[u]),Array.from(u).map(h=>"string"==typeof h?new mt(h):h instanceof si?new mt(h.data,h.getAttributes()):h));var u;for(const u of a)null!==u.parent&&u._remove(),u.parent=this;this._children._insertNodes(r,a)}_removeChildren(r,o=1){const a=this._children._removeNodes(r,o);for(const u of a)u.parent=null;return a}static fromJSON(r){let o;if(r.children){o=[];for(const a of r.children)o.push(a.name?Ut.fromJSON(a):mt.fromJSON(a))}return new Ut(r.name,r.attributes,o)}}Ut.prototype.is=function(l,r){return r?r===this.name&&("element"===l||"model:element"===l):"element"===l||"model:element"===l||"node"===l||"model:node"===l};class Yi{constructor(r){if(!r||!r.boundaries&&!r.startPosition)throw new V("model-tree-walker-no-start-position",null);const o=r.direction||"forward";if("forward"!=o&&"backward"!=o)throw new V("model-tree-walker-unknown-direction",r,{direction:o});this.direction=o,this.boundaries=r.boundaries||null,this._position=r.startPosition?r.startPosition.clone():se._createAt(this.boundaries["backward"==this.direction?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!r.singleCharacters,this.shallow=!!r.shallow,this.ignoreElementEnd=!!r.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(r){let o,a,u,h;do{u=this.position,h=this._visitedParent,({done:o,value:a}=this.next())}while(!o&&r(a));o||(this._position=u,this._visitedParent=h)}next(){return"forward"==this.direction?this._next():this._previous()}_next(){const r=this.position,o=this.position.clone(),a=this._visitedParent;if(null===a.parent&&o.offset===a.maxOffset)return{done:!0,value:void 0};if(a===this._boundaryEndParent&&o.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const u=Pp(o,a),h=u||QA(o,a,u);if(h instanceof Ut){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(o))return{done:!0,value:void 0};o.offset++}else o.path.push(0),this._visitedParent=h;return this._position=o,No("elementStart",h,r,o,1)}if(h instanceof mt){let f;if(this.singleCharacters)f=1;else{let b=h.endOffset;this._boundaryEndParent==a&&this.boundaries.end.offset<b&&(b=this.boundaries.end.offset),f=b-o.offset}const _=new si(h,o.offset-h.startOffset,f);return o.offset+=f,this._position=o,No("text",_,r,o,f)}return o.path.pop(),o.offset++,this._position=o,this._visitedParent=a.parent,this.ignoreElementEnd?this._next():No("elementEnd",a,r,o)}_previous(){const r=this.position,o=this.position.clone(),a=this._visitedParent;if(null===a.parent&&0===o.offset)return{done:!0,value:void 0};if(a==this._boundaryStartParent&&o.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const u=o.parent,h=Pp(o,u),f=h||xP(o,u,h);if(f instanceof Ut)return o.offset--,this.shallow?(this._position=o,No("elementStart",f,r,o,1)):(o.path.push(f.maxOffset),this._position=o,this._visitedParent=f,this.ignoreElementEnd?this._previous():No("elementEnd",f,r,o));if(f instanceof mt){let g;if(this.singleCharacters)g=1;else{let w=f.startOffset;this._boundaryStartParent==a&&this.boundaries.start.offset>w&&(w=this.boundaries.start.offset),g=o.offset-w}const b=new si(f,o.offset-f.startOffset-g,g);return o.offset-=g,this._position=o,No("text",b,r,o,g)}return o.path.pop(),this._position=o,this._visitedParent=a.parent,No("elementStart",a,r,o,1)}}function No(l,r,o,a,u){return{done:!1,value:{type:l,item:r,previousPosition:o,nextPosition:a,length:u}}}class se extends va{constructor(r,o,a="toNone"){if(super(),!r.is("element")&&!r.is("documentFragment"))throw new V("model-position-root-invalid",r);if(!(o instanceof Array)||0===o.length)throw new V("model-position-path-incorrect-format",r,{path:o});r.is("rootElement")?o=o.slice():(o=[...r.getPath(),...o],r=r.root),this.root=r,this.path=o,this.stickiness=a}get offset(){return this.path[this.path.length-1]}set offset(r){this.path[this.path.length-1]=r}get parent(){let r=this.root;for(let o=0;o<this.path.length-1;o++)if(r=r.getChild(r.offsetToIndex(this.path[o])),!r)throw new V("model-position-path-incorrect",this,{position:this});if(r.is("$text"))throw new V("model-position-path-incorrect",this,{position:this});return r}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return Pp(this,this.parent)}get nodeAfter(){const r=this.parent;return QA(this,r,Pp(this,r))}get nodeBefore(){const r=this.parent;return xP(this,r,Pp(this,r))}get isAtStart(){return 0===this.offset}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(r){if(this.root!=r.root)return"different";const o=ni(this.path,r.path);switch(o){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[o]<r.path[o]?"before":"after"}}getLastMatchingPosition(r,o={}){o.startPosition=this;const a=new Yi(o);return a.skip(r),a.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const r=this.parent;return r.is("documentFragment")?[r]:r.getAncestors({includeSelf:!0})}findAncestor(r){const o=this.parent;return o.is("element")?o.findAncestor(r,{includeSelf:!0}):null}getCommonPath(r){if(this.root!=r.root)return[];const o=ni(this.path,r.path),a="string"==typeof o?Math.min(this.path.length,r.path.length):o;return this.path.slice(0,a)}getCommonAncestor(r){const o=this.getAncestors(),a=r.getAncestors();let u=0;for(;o[u]==a[u]&&o[u];)u++;return 0===u?null:o[u-1]}getShiftedBy(r){const o=this.clone(),a=o.offset+r;return o.offset=a<0?0:a,o}isAfter(r){return"after"==this.compareWith(r)}isBefore(r){return"before"==this.compareWith(r)}isEqual(r){return"same"==this.compareWith(r)}isTouching(r){if(this.root!==r.root)return!1;const o=Math.min(this.path.length,r.path.length);for(let a=0;a<o;a++){const u=this.path[a]-r.path[a];if(u<-1||u>1)return!1;if(1===u)return xi(r,this,a);if(-1===u)return xi(this,r,a)}return this.path.length===r.path.length||xd(this.path.length>r.path.length?this.path:r.path,o)}hasSameParentAs(r){return this.root===r.root&&"same"==ni(this.getParentPath(),r.getParentPath())}getTransformedByOperation(r){let o;switch(r.type){case"insert":o=this._getTransformedByInsertOperation(r);break;case"move":case"remove":case"reinsert":o=this._getTransformedByMoveOperation(r);break;case"split":o=this._getTransformedBySplitOperation(r);break;case"merge":o=this._getTransformedByMergeOperation(r);break;default:o=se._createAt(this)}return o}_getTransformedByInsertOperation(r){return this._getTransformedByInsertion(r.position,r.howMany)}_getTransformedByMoveOperation(r){return this._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany)}_getTransformedBySplitOperation(r){const o=r.movedRange;return o.containsPosition(this)||o.start.isEqual(this)&&"toNext"==this.stickiness?this._getCombined(r.splitPosition,r.moveTargetPosition):r.graveyardPosition?this._getTransformedByMove(r.graveyardPosition,r.insertionPosition,1):this._getTransformedByInsertion(r.insertionPosition,1)}_getTransformedByMergeOperation(r){const o=r.movedRange;let a;return o.containsPosition(this)||o.start.isEqual(this)?(a=this._getCombined(r.sourcePosition,r.targetPosition),r.sourcePosition.isBefore(r.targetPosition)&&(a=a._getTransformedByDeletion(r.deletionPosition,1))):a=this.isEqual(r.deletionPosition)?se._createAt(r.deletionPosition):this._getTransformedByMove(r.deletionPosition,r.graveyardPosition,1),a}_getTransformedByDeletion(r,o){const a=se._createAt(this);if(this.root!=r.root)return a;if("same"==ni(r.getParentPath(),this.getParentPath())){if(r.offset<this.offset){if(r.offset+o>this.offset)return null;a.offset-=o}}else if("prefix"==ni(r.getParentPath(),this.getParentPath())){const u=r.path.length-1;if(r.offset<=this.path[u]){if(r.offset+o>this.path[u])return null;a.path[u]-=o}}return a}_getTransformedByInsertion(r,o){const a=se._createAt(this);if(this.root!=r.root)return a;if("same"==ni(r.getParentPath(),this.getParentPath()))(r.offset<this.offset||r.offset==this.offset&&"toPrevious"!=this.stickiness)&&(a.offset+=o);else if("prefix"==ni(r.getParentPath(),this.getParentPath())){const u=r.path.length-1;r.offset<=this.path[u]&&(a.path[u]+=o)}return a}_getTransformedByMove(r,o,a){if(o=o._getTransformedByDeletion(r,a),r.isEqual(o))return se._createAt(this);const u=this._getTransformedByDeletion(r,a);return null===u||r.isEqual(this)&&"toNext"==this.stickiness||r.getShiftedBy(a).isEqual(this)&&"toPrevious"==this.stickiness?this._getCombined(r,o):u._getTransformedByInsertion(o,a)}_getCombined(r,o){const a=r.path.length-1,u=se._createAt(o);return u.stickiness=this.stickiness,u.offset=u.offset+this.path[a]-r.offset,u.path=[...u.path,...this.path.slice(a+1)],u}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(r,o,a="toNone"){if(r instanceof se)return new se(r.root,r.path,r.stickiness);{const u=r;if("end"==o)o=u.maxOffset;else{if("before"==o)return this._createBefore(u,a);if("after"==o)return this._createAfter(u,a);if(0!==o&&!o)throw new V("model-createpositionat-offset-required",[this,r])}if(!u.is("element")&&!u.is("documentFragment"))throw new V("model-position-parent-incorrect",[this,r]);const h=u.getPath();return h.push(o),new this(u.root,h,a)}}static _createAfter(r,o){if(!r.parent)throw new V("model-position-after-root",[this,r],{root:r});return this._createAt(r.parent,r.endOffset,o)}static _createBefore(r,o){if(!r.parent)throw new V("model-position-before-root",r,{root:r});return this._createAt(r.parent,r.startOffset,o)}static fromJSON(r,o){if("$graveyard"===r.root){const a=new se(o.graveyard,r.path);return a.stickiness=r.stickiness,a}if(!o.getRoot(r.root))throw new V("model-position-fromjson-no-root",o,{rootName:r.root});return new se(o.getRoot(r.root),r.path,r.stickiness)}}function Pp(l,r){const o=r.getChild(r.offsetToIndex(l.offset));return o&&o.is("$text")&&o.startOffset<l.offset?o:null}function QA(l,r,o){return null!==o?null:r.getChild(r.offsetToIndex(l.offset))}function xP(l,r,o){return null!==o?null:r.getChild(r.offsetToIndex(l.offset)-1)}function xi(l,r,o){return o+1!==l.path.length&&!!xd(r.path,o+1)&&!!function(a,u){let h=a.parent,f=a.path.length-1,g=0;for(;f>=u;){if(a.path[f]+g!==h.maxOffset)return!1;g=1,f--,h=h.parent}return!0}(l,o+1)}function xd(l,r){for(;r<l.length;){if(0!==l[r])return!1;r++}return!0}se.prototype.is=function(l){return"position"===l||"model:position"===l};class X extends va{constructor(r,o){super(),this.start=se._createAt(r),this.end=se._createAt(o||r),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new Yi({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return"same"==ni(this.start.getParentPath(),this.end.getParentPath())}get root(){return this.start.root}containsPosition(r){return r.isAfter(this.start)&&r.isBefore(this.end)}containsRange(r,o=!1){r.isCollapsed&&(o=!1);const a=this.containsPosition(r.start)||o&&this.start.isEqual(r.start),u=this.containsPosition(r.end)||o&&this.end.isEqual(r.end);return a&&u}containsItem(r){const o=se._createBefore(r);return this.containsPosition(o)||this.start.isEqual(o)}isEqual(r){return this.start.isEqual(r.start)&&this.end.isEqual(r.end)}isIntersecting(r){return this.start.isBefore(r.end)&&this.end.isAfter(r.start)}getDifference(r){const o=[];return this.isIntersecting(r)?(this.containsPosition(r.start)&&o.push(new X(this.start,r.start)),this.containsPosition(r.end)&&o.push(new X(r.end,this.end))):o.push(new X(this.start,this.end)),o}getIntersection(r){if(this.isIntersecting(r)){let o=this.start,a=this.end;return this.containsPosition(r.start)&&(o=r.start),this.containsPosition(r.end)&&(a=r.end),new X(o,a)}return null}getJoined(r,o=!1){let a=this.isIntersecting(r);if(a||(a=this.start.isBefore(r.start)?o?this.end.isTouching(r.start):this.end.isEqual(r.start):o?r.end.isTouching(this.start):r.end.isEqual(this.start)),!a)return null;let u=this.start,h=this.end;return r.start.isBefore(u)&&(u=r.start),r.end.isAfter(h)&&(h=r.end),new X(u,h)}getMinimalFlatRanges(){const r=[],o=this.start.getCommonPath(this.end).length,a=se._createAt(this.start);let u=a.parent;for(;a.path.length>o+1;){const h=u.maxOffset-a.offset;0!==h&&r.push(new X(a,a.getShiftedBy(h))),a.path=a.path.slice(0,-1),a.offset++,u=u.parent}for(;a.path.length<=this.end.path.length;){const h=this.end.path[a.path.length-1],f=h-a.offset;0!==f&&r.push(new X(a,a.getShiftedBy(f))),a.offset=h,a.path.push(0)}return r}getWalker(r={}){return r.boundaries=this,new Yi(r)}*getItems(r={}){r.boundaries=this,r.ignoreElementEnd=!0;const o=new Yi(r);for(const a of o)yield a.item}*getPositions(r={}){r.boundaries=this;const o=new Yi(r);yield o.position;for(const a of o)yield a.nextPosition}getTransformedByOperation(r){switch(r.type){case"insert":return this._getTransformedByInsertOperation(r);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(r);case"split":return[this._getTransformedBySplitOperation(r)];case"merge":return[this._getTransformedByMergeOperation(r)]}return[new X(this.start,this.end)]}getTransformedByOperations(r){const o=[new X(this.start,this.end)];for(const a of r)for(let u=0;u<o.length;u++){const h=o[u].getTransformedByOperation(a);o.splice(u,1,...h),u+=h.length-1}for(let a=0;a<o.length;a++){const u=o[a];for(let h=a+1;h<o.length;h++){const f=o[h];(u.containsRange(f)||f.containsRange(u)||u.isEqual(f))&&o.splice(h,1)}}return o}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const r=this.start.nodeAfter,o=this.end.nodeBefore;return r&&r.is("element")&&r===o?r:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(r,o=!1){return this._getTransformedByInsertion(r.position,r.howMany,o)}_getTransformedByMoveOperation(r,o=!1){return this._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany,o)}_getTransformedBySplitOperation(r){const o=this.start._getTransformedBySplitOperation(r);let a=this.end._getTransformedBySplitOperation(r);return this.end.isEqual(r.insertionPosition)&&(a=this.end.getShiftedBy(1)),o.root!=a.root&&(a=this.end.getShiftedBy(-1)),new X(o,a)}_getTransformedByMergeOperation(r){if(this.start.isEqual(r.targetPosition)&&this.end.isEqual(r.deletionPosition))return new X(this.start);let o=this.start._getTransformedByMergeOperation(r),a=this.end._getTransformedByMergeOperation(r);return o.root!=a.root&&(a=this.end.getShiftedBy(-1)),o.isAfter(a)?(r.sourcePosition.isBefore(r.targetPosition)?(o=se._createAt(a),o.offset=0):(r.deletionPosition.isEqual(o)||(a=r.deletionPosition),o=r.targetPosition),new X(o,a)):new X(o,a)}_getTransformedByInsertion(r,o,a=!1){if(a&&this.containsPosition(r))return[new X(this.start,r),new X(r.getShiftedBy(o),this.end._getTransformedByInsertion(r,o))];{const u=new X(this.start,this.end);return u.start=u.start._getTransformedByInsertion(r,o),u.end=u.end._getTransformedByInsertion(r,o),[u]}}_getTransformedByMove(r,o,a,u=!1){if(this.isCollapsed){const v=this.start._getTransformedByMove(r,o,a);return[new X(v)]}const h=X._createFromPositionAndShift(r,a),f=o._getTransformedByDeletion(r,a);if(this.containsPosition(o)&&!u&&(h.containsPosition(this.start)||h.containsPosition(this.end))){const v=this.start._getTransformedByMove(r,o,a),A=this.end._getTransformedByMove(r,o,a);return[new X(v,A)]}let g;const _=this.getDifference(h);let b=null;const w=this.getIntersection(h);if(1==_.length?b=new X(_[0].start._getTransformedByDeletion(r,a),_[0].end._getTransformedByDeletion(r,a)):2==_.length&&(b=new X(this.start,this.end._getTransformedByDeletion(r,a))),g=b?b._getTransformedByInsertion(f,a,null!==w||u):[],w){const v=new X(w.start._getCombined(h.start,f),w.end._getCombined(h.start,f));2==g.length?g.splice(1,0,v):g.push(v)}return g}_getTransformedByDeletion(r,o){let a=this.start._getTransformedByDeletion(r,o),u=this.end._getTransformedByDeletion(r,o);return null==a&&null==u?null:(null==a&&(a=r),null==u&&(u=r),new X(a,u))}static _createFromPositionAndShift(r,o){const a=r,u=r.getShiftedBy(o);return o>0?new this(a,u):new this(u,a)}static _createIn(r){return new this(se._createAt(r,0),se._createAt(r,r.maxOffset))}static _createOn(r){return this._createFromPositionAndShift(se._createBefore(r),r.offsetSize)}static _createFromRanges(r){if(0===r.length)throw new V("range-create-from-ranges-empty-array",null);if(1==r.length)return r[0].clone();const o=r[0];r.sort((h,f)=>h.start.isAfter(f.start)?1:-1);const a=r.indexOf(o),u=new this(o.start,o.end);if(a>0)for(let h=a-1;r[h].end.isEqual(u.start);h++)u.start=se._createAt(r[h].start);for(let h=a+1;h<r.length&&r[h].start.isEqual(u.end);h++)u.end=se._createAt(r[h].end);return u}static fromJSON(r,o){return new this(se.fromJSON(r.start,o),se.fromJSON(r.end,o))}}X.prototype.is=function(l){return"range"===l||"model:range"===l};class SP extends(xt()){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(r,o)=>{if(o.viewPosition)return;const a=this._modelToViewMapping.get(o.modelPosition.parent);if(!a)throw new V("mapping-model-position-view-parent-not-found",this,{modelPosition:o.modelPosition});o.viewPosition=this.findPositionIn(a,o.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(r,o)=>{if(o.modelPosition)return;const a=this.findMappedViewAncestor(o.viewPosition),u=this._viewToModelMapping.get(a),h=this._toModelOffset(o.viewPosition.parent,o.viewPosition.offset,a);o.modelPosition=se._createAt(u,h)},{priority:"low"})}bindElements(r,o){this._modelToViewMapping.set(r,o),this._viewToModelMapping.set(o,r)}unbindViewElement(r,o={}){const a=this.toModelElement(r);if(this._elementToMarkerNames.has(r))for(const u of this._elementToMarkerNames.get(r))this._unboundMarkerNames.add(u);o.defer?this._deferredBindingRemovals.set(r,r.root):(this._viewToModelMapping.delete(r),this._modelToViewMapping.get(a)==r&&this._modelToViewMapping.delete(a))}unbindModelElement(r){const o=this.toViewElement(r);this._modelToViewMapping.delete(r),this._viewToModelMapping.get(o)==r&&this._viewToModelMapping.delete(o)}bindElementToMarker(r,o){const a=this._markerNameToElements.get(o)||new Set;a.add(r);const u=this._elementToMarkerNames.get(r)||new Set;u.add(o),this._markerNameToElements.set(o,a),this._elementToMarkerNames.set(r,u)}unbindElementFromMarkerName(r,o){const a=this._markerNameToElements.get(o);a&&(a.delete(r),0==a.size&&this._markerNameToElements.delete(o));const u=this._elementToMarkerNames.get(r);u&&(u.delete(o),0==u.size&&this._elementToMarkerNames.delete(r))}flushUnboundMarkerNames(){const r=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),r}flushDeferredBindings(){for(const[r,o]of this._deferredBindingRemovals)r.root==o&&this.unbindViewElement(r);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(r){return this._viewToModelMapping.get(r)}toViewElement(r){return this._modelToViewMapping.get(r)}toModelRange(r){return new X(this.toModelPosition(r.start),this.toModelPosition(r.end))}toViewRange(r){return new $e(this.toViewPosition(r.start),this.toViewPosition(r.end))}toModelPosition(r){const o={viewPosition:r,mapper:this};return this.fire("viewToModelPosition",o),o.modelPosition}toViewPosition(r,o={}){const a={modelPosition:r,mapper:this,isPhantom:o.isPhantom};return this.fire("modelToViewPosition",a),a.viewPosition}markerNameToElements(r){const o=this._markerNameToElements.get(r);if(!o)return null;const a=new Set;for(const u of o)if(u.is("attributeElement"))for(const h of u.getElementsWithSameId())a.add(h);else a.add(u);return a}registerViewToModelLength(r,o){this._viewToModelLengthCallbacks.set(r,o)}findMappedViewAncestor(r){let o=r.parent;for(;!this._viewToModelMapping.has(o);)o=o.parent;return o}_toModelOffset(r,o,a){if(a!=r)return this._toModelOffset(r.parent,r.index,a)+this._toModelOffset(r,o,r);if(r.is("$text"))return o;let u=0;for(let h=0;h<o;h++)u+=this.getModelLength(r.getChild(h));return u}getModelLength(r){if(this._viewToModelLengthCallbacks.get(r.name))return this._viewToModelLengthCallbacks.get(r.name)(r);if(this._viewToModelMapping.has(r))return 1;if(r.is("$text"))return r.data.length;if(r.is("uiElement"))return 0;{let o=0;for(const a of r.getChildren())o+=this.getModelLength(a);return o}}findPositionIn(r,o){let a,u=0,h=0,f=0;if(r.is("$text"))return new ue(r,o);for(;h<o;)a=r.getChild(f),u=this.getModelLength(a),h+=u,f++;return h==o?this._moveViewPositionToTextNode(new ue(r,f)):this.findPositionIn(a,o-(h-u))}_moveViewPositionToTextNode(r){const o=r.nodeBefore,a=r.nodeAfter;return o instanceof Ht?new ue(o,o.data.length):a instanceof Ht?new ue(a,0):r}}class YA{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(r,o){o=Rp(o),r instanceof si&&(r=this._getSymbolForTextProxy(r)),this._consumable.has(r)||this._consumable.set(r,new Map),this._consumable.get(r).set(o,!0)}consume(r,o){return o=Rp(o),r instanceof si&&(r=this._getSymbolForTextProxy(r)),!!this.test(r,o)&&(this._consumable.get(r).set(o,!1),!0)}test(r,o){o=Rp(o),r instanceof si&&(r=this._getSymbolForTextProxy(r));const a=this._consumable.get(r);if(void 0===a)return null;const u=a.get(o);return void 0===u?null:u}revert(r,o){o=Rp(o),r instanceof si&&(r=this._getSymbolForTextProxy(r));const a=this.test(r,o);return!1===a?(this._consumable.get(r).set(o,!0),!0):!0!==a&&null}verifyAllConsumed(r){const o=[];for(const[a,u]of this._consumable)for(const[h,f]of u){const g=h.split(":")[0];f&&r==g&&o.push({event:h,item:a.name||a.description})}if(o.length)throw new V("conversion-model-consumable-not-consumed",null,{items:o})}_getSymbolForTextProxy(r){let o=null;const a=this._textProxyRegistry.get(r.startOffset);if(a){const u=a.get(r.endOffset);u&&(o=u.get(r.parent))}return o||(o=this._addSymbolForTextProxy(r)),o}_addSymbolForTextProxy(r){const o=r.startOffset,a=r.endOffset,u=r.parent,h=Symbol("$textProxy:"+r.data);let f,g;return f=this._textProxyRegistry.get(o),f||(f=new Map,this._textProxyRegistry.set(o,f)),g=f.get(a),g||(g=new Map,f.set(a,g)),g.set(u,h),h}}function Rp(l){const r=l.split(":");return"insert"==r[0]?r[0]:"addMarker"==r[0]||"removeMarker"==r[0]?l:r.length>1?r[0]+":"+r[1]:r[0]}var MP=Object.defineProperty,PP=Object.defineProperties,RP=Object.getOwnPropertyDescriptors,ZA=Object.getOwnPropertySymbols,NP=Object.prototype.hasOwnProperty,Nb=Object.prototype.propertyIsEnumerable,Sd=(l,r,o)=>r in l?MP(l,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):l[r]=o,Md=(l,r)=>{for(var o in r||(r={}))NP.call(r,o)&&Sd(l,o,r[o]);if(ZA)for(var o of ZA(r))Nb.call(r,o)&&Sd(l,o,r[o]);return l},Pd=(l,r)=>PP(l,RP(r));class JA extends(xt()){constructor(r){super(),this._conversionApi=Md({dispatcher:this},r),this._firedEventsMap=new WeakMap}convertChanges(r,o,a){const u=this._createConversionApi(a,r.getRefreshedItems());for(const f of r.getMarkersToRemove())this._convertMarkerRemove(f.name,f.range,u);const h=this._reduceChanges(r.getChanges());for(const f of h)"insert"===f.type?this._convertInsert(X._createFromPositionAndShift(f.position,f.length),u):"reinsert"===f.type?this._convertReinsert(X._createFromPositionAndShift(f.position,f.length),u):"remove"===f.type?this._convertRemove(f.position,f.length,f.name,u):this._convertAttribute(f.range,f.attributeKey,f.attributeOldValue,f.attributeNewValue,u);for(const f of u.mapper.flushUnboundMarkerNames()){const g=o.get(f).getRange();this._convertMarkerRemove(f,g,u),this._convertMarkerAdd(f,g,u)}for(const f of r.getMarkersToAdd())this._convertMarkerAdd(f.name,f.range,u);u.mapper.flushDeferredBindings(),u.consumable.verifyAllConsumed("insert")}convert(r,o,a,u={}){const h=this._createConversionApi(a,void 0,u);this._convertInsert(r,h);for(const[f,g]of o)this._convertMarkerAdd(f,g,h);h.consumable.verifyAllConsumed("insert")}convertSelection(r,o,a){const u=this._createConversionApi(a);this.fire("cleanSelection",{selection:r},u);const h=r.getFirstPosition().root;if(!u.mapper.toViewElement(h))return;const f=Array.from(o.getMarkersAtPosition(r.getFirstPosition()));if(this._addConsumablesForSelection(u.consumable,r,f),this.fire("selection",{selection:r},u),r.isCollapsed){for(const g of f)if(u.consumable.test(r,"addMarker:"+g.name)){const _=g.getRange();if(!Np(r.getFirstPosition(),g,u.mapper))continue;this.fire(`addMarker:${g.name}`,{item:r,markerName:g.name,markerRange:_},u)}for(const g of r.getAttributeKeys())if(u.consumable.test(r,"attribute:"+g)){const _={item:r,range:r.getFirstRange(),attributeKey:g,attributeOldValue:null,attributeNewValue:r.getAttribute(g)};this.fire(`attribute:${g}:$text`,_,u)}}}_convertInsert(r,o,a={}){a.doNotAddConsumables||this._addConsumablesForInsert(o.consumable,Array.from(r));for(const u of Array.from(r.getWalker({shallow:!0})).map(XA))this._testAndFire("insert",u,o)}_convertRemove(r,o,a,u){this.fire(`remove:${a}`,{position:r,length:o},u)}_convertAttribute(r,o,a,u,h){this._addConsumablesForRange(h.consumable,r,`attribute:${o}`);for(const f of r){const g={item:f.item,range:X._createFromPositionAndShift(f.previousPosition,f.length),attributeKey:o,attributeOldValue:a,attributeNewValue:u};this._testAndFire(`attribute:${o}`,g,h)}}_convertReinsert(r,o){const a=Array.from(r.getWalker({shallow:!0}));this._addConsumablesForInsert(o.consumable,a);for(const u of a.map(XA))this._testAndFire("insert",Pd(Md({},u),{reconversion:!0}),o)}_convertMarkerAdd(r,o,a){if("$graveyard"==o.root.rootName)return;const u=`addMarker:${r}`;if(a.consumable.add(o,u),this.fire(u,{markerName:r,markerRange:o},a),a.consumable.consume(o,u)){this._addConsumablesForRange(a.consumable,o,u);for(const h of o.getItems()){if(!a.consumable.test(h,u))continue;const f={item:h,range:X._createOn(h),markerName:r,markerRange:o};this.fire(u,f,a)}}}_convertMarkerRemove(r,o,a){"$graveyard"!=o.root.rootName&&this.fire(`removeMarker:${r}`,{markerName:r,markerRange:o},a)}_reduceChanges(r){const o={changes:r};return this.fire("reduceChanges",o),o.changes}_addConsumablesForInsert(r,o){for(const a of o){const u=a.item;if(null===r.test(u,"insert")){r.add(u,"insert");for(const h of u.getAttributeKeys())r.add(u,"attribute:"+h)}}return r}_addConsumablesForRange(r,o,a){for(const u of o.getItems())r.add(u,a);return r}_addConsumablesForSelection(r,o,a){r.add(o,"selection");for(const u of a)r.add(o,"addMarker:"+u.name);for(const u of o.getAttributeKeys())r.add(o,"attribute:"+u);return r}_testAndFire(r,o,a){const u=`${r}:${(b=o).item.is("element")?b.item.name:"$text"}`,h=o.item.is("$textProxy")?a.consumable._getSymbolForTextProxy(o.item):o.item,f=this._firedEventsMap.get(a),g=f.get(h);var b;if(g){if(g.has(u))return;g.add(u)}else f.set(h,new Set([u]));this.fire(u,o,a)}_testAndFireAddAttributes(r,o){const a={item:r,range:X._createOn(r)};for(const u of a.item.getAttributeKeys())a.attributeKey=u,a.attributeOldValue=null,a.attributeNewValue=a.item.getAttribute(u),this._testAndFire(`attribute:${u}`,a,o)}_createConversionApi(r,o=new Set,a={}){const u=Pd(Md({},this._conversionApi),{consumable:new YA,writer:r,options:a,convertItem:h=>this._convertInsert(X._createOn(h),u),convertChildren:h=>this._convertInsert(X._createIn(h),u,{doNotAddConsumables:!0}),convertAttributes:h=>this._testAndFireAddAttributes(h,u),canReuseView:h=>!o.has(u.mapper.toModelElement(h))});return this._firedEventsMap.set(u,new Map),u}}function Np(l,r,o){const a=r.getRange(),u=Array.from(l.getAncestors());return u.shift(),u.reverse(),!u.some(h=>{if(a.containsItem(h))return!!o.toViewElement(h).getCustomProperty("addHighlight")})}function XA(l){return{item:l.item,range:X._createFromPositionAndShift(l.previousPosition,l.length)}}class Si extends(xt(va)){constructor(...r){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],r.length&&this.setTo(...r)}get anchor(){if(this._ranges.length>0){const r=this._ranges[this._ranges.length-1];return this._lastRangeBackward?r.end:r.start}return null}get focus(){if(this._ranges.length>0){const r=this._ranges[this._ranges.length-1];return this._lastRangeBackward?r.start:r.end}return null}get isCollapsed(){return 1===this._ranges.length&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(r){if(this.rangeCount!=r.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(r.anchor)||!this.focus.isEqual(r.focus))return!1;for(const o of this._ranges){let a=!1;for(const u of r._ranges)if(o.isEqual(u)){a=!0;break}if(!a)return!1}return!0}*getRanges(){for(const r of this._ranges)yield new X(r.start,r.end)}getFirstRange(){let r=null;for(const o of this._ranges)r&&!o.start.isBefore(r.start)||(r=o);return r?new X(r.start,r.end):null}getLastRange(){let r=null;for(const o of this._ranges)r&&!o.end.isAfter(r.end)||(r=o);return r?new X(r.start,r.end):null}getFirstPosition(){const r=this.getFirstRange();return r?r.start.clone():null}getLastPosition(){const r=this.getLastRange();return r?r.end.clone():null}setTo(...r){let[o,a,u]=r;if("object"==typeof a&&(u=a,a=void 0),null===o)this._setRanges([]);else if(o instanceof Si)this._setRanges(o.getRanges(),o.isBackward);else if(o&&"function"==typeof o.getRanges)this._setRanges(o.getRanges(),o.isBackward);else if(o instanceof X)this._setRanges([o],!!u&&!!u.backward);else if(o instanceof se)this._setRanges([new X(o)]);else if(o instanceof Ro){const h=!!u&&!!u.backward;let f;if("in"==a)f=X._createIn(o);else if("on"==a)f=X._createOn(o);else{if(void 0===a)throw new V("model-selection-setto-required-second-parameter",[this,o]);f=new X(se._createAt(o,a))}this._setRanges([f],h)}else{if(!ao(o))throw new V("model-selection-setto-not-selectable",[this,o]);this._setRanges(o,u&&!!u.backward)}}_setRanges(r,o=!1){const a=Array.from(r),u=a.some(h=>{if(!(h instanceof X))throw new V("model-selection-set-ranges-not-range",[this,r]);return this._ranges.every(f=>!f.isEqual(h))});(a.length!==this._ranges.length||u)&&(this._replaceAllRanges(a),this._lastRangeBackward=!!o,this.fire("change:range",{directChange:!0}))}setFocus(r,o){if(null===this.anchor)throw new V("model-selection-setfocus-no-ranges",[this,r]);const a=se._createAt(r,o);if("same"==a.compareWith(this.focus))return;const u=this.anchor;this._ranges.length&&this._popRange(),"before"==a.compareWith(u)?(this._pushRange(new X(a,u)),this._lastRangeBackward=!0):(this._pushRange(new X(u,a)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(r){return this._attrs.get(r)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(r){return this._attrs.has(r)}removeAttribute(r){this.hasAttribute(r)&&(this._attrs.delete(r),this.fire("change:attribute",{attributeKeys:[r],directChange:!0}))}setAttribute(r,o){this.getAttribute(r)!==o&&(this._attrs.set(r,o),this.fire("change:attribute",{attributeKeys:[r],directChange:!0}))}getSelectedElement(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const r=new WeakSet;for(const o of this.getRanges()){const a=Ob(o.start,r);OP(a,o)&&(yield a);for(const h of o.getWalker()){const f=h.item;"elementEnd"==h.type&&Lp(f,r,o)&&(yield f)}const u=Ob(o.end,r);Sl(u,o)&&(yield u)}}containsEntireContent(r=this.anchor.root){const o=se._createAt(r,0),a=se._createAt(r,"end");return o.isTouching(this.getFirstPosition())&&a.isTouching(this.getLastPosition())}_pushRange(r){this._checkRange(r),this._ranges.push(new X(r.start,r.end))}_checkRange(r){for(let o=0;o<this._ranges.length;o++)if(r.isIntersecting(this._ranges[o]))throw new V("model-selection-range-intersects",[this,r],{addedRange:r,intersectingRange:this._ranges[o]})}_replaceAllRanges(r){this._removeAllRanges();for(const o of r)this._pushRange(o)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function Op(l,r){return!r.has(l)&&(r.add(l),l.root.document.model.schema.isBlock(l)&&!!l.parent)}function Lp(l,r,o){return Op(l,r)&&Lb(l,o)}function Ob(l,r){const o=l.parent.root.document.model.schema,a=l.parent.getAncestors({parentFirst:!0,includeSelf:!0});let u=!1;const h=a.find(f=>!u&&(u=o.isLimit(f),!u&&Op(f,r)));return a.forEach(f=>r.add(f)),h}function Lb(l,r){const o=function(a){const u=a.root.document.model.schema;let h=a.parent;for(;h;){if(u.isBlock(h))return h;h=h.parent}}(l);return!o||!r.containsRange(X._createOn(o),!0)}function OP(l,r){return!!l&&(!(!r.isCollapsed&&!l.isEmpty)||!r.start.isTouching(se._createAt(l,l.maxOffset))&&Lb(l,r))}function Sl(l,r){return!!l&&(!(!r.isCollapsed&&!l.isEmpty)||!r.end.isTouching(se._createAt(l,0))&&Lb(l,r))}Si.prototype.is=function(l){return"selection"===l||"model:selection"===l};class Nr extends(xt(X)){constructor(r,o){super(r,o),LP.call(this)}detach(){this.stopListening()}toRange(){return new X(this.start,this.end)}static fromRange(r){return new Nr(r.start,r.end)}}function LP(){this.listenTo(this.root.document.model,"applyOperation",(l,r)=>{const o=r[0];o.isDocumentOperation&&X6.call(this,o)},{priority:"low"})}function X6(l){const r=this.getTransformedByOperation(l),o=X._createFromRanges(r),a=!o.isEqual(this),u=function(f,g){switch(g.type){case"insert":return f.containsPosition(g.position);case"move":case"remove":case"reinsert":case"merge":return f.containsPosition(g.sourcePosition)||f.start.isEqual(g.sourcePosition)||f.containsPosition(g.targetPosition);case"split":return f.containsPosition(g.splitPosition)||f.containsPosition(g.insertionPosition)}return!1}(this,l);let h=null;if(a){"$graveyard"==o.root.rootName&&(h="remove"==l.type?l.sourcePosition:l.deletionPosition);const f=this.toRange();this.start=o.start,this.end=o.end,this.fire("change:range",f,{deletionPosition:h})}else u&&this.fire("change:content",this.toRange(),{deletionPosition:h})}Nr.prototype.is=function(l){return"liveRange"===l||"model:liveRange"===l||"range"==l||"model:range"===l};const Rd="selection:";class Oo extends(xt(va)){constructor(r){super(),this._selection=new e7(r),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(r){return this._selection.containsEntireContent(r)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(r){return this._selection.getAttribute(r)}hasAttribute(r){return this._selection.hasAttribute(r)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(r){this._selection.observeMarkers(r)}_setFocus(r,o){this._selection.setFocus(r,o)}_setTo(...r){this._selection.setTo(...r)}_setAttribute(r,o){this._selection.setAttribute(r,o)}_removeAttribute(r){this._selection.removeAttribute(r)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(r){this._selection.restoreGravity(r)}static _getStoreAttributeKey(r){return Rd+r}static _isStoreAttributeKey(r){return r.startsWith(Rd)}}Oo.prototype.is=function(l){return"selection"===l||"model:selection"==l||"documentSelection"==l||"model:documentSelection"==l};class e7 extends Si{constructor(r){super(),this.markers=new ii({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=r.model,this._document=r,this.listenTo(this._model,"applyOperation",(o,a)=>{const u=a[0];u.isDocumentOperation&&"marker"!=u.type&&"rename"!=u.type&&"noop"!=u.type&&(0==this._ranges.length&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(o,a,u,h)=>{this._updateMarker(a,h)}),this.listenTo(this._document,"change",(o,a)=>{!function(u,h){const f=u.document.differ;for(const g of f.getChanges()){if("insert"!=g.type)continue;const _=g.position.parent;g.length===_.maxOffset&&u.enqueueChange(h,b=>{const w=Array.from(_.getAttributeKeys()).filter(v=>v.startsWith(Rd));for(const v of w)b.removeAttribute(v,_)})}}(this._model,a)})}get isCollapsed(){return 0===this._ranges.length?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let r=0;r<this._ranges.length;r++)this._ranges[r].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...r){super.setTo(...r),this._updateAttributes(!0),this.updateMarkers()}setFocus(r,o){super.setFocus(r,o),this._updateAttributes(!0),this.updateMarkers()}setAttribute(r,o){this._setAttribute(r,o)&&this.fire("change:attribute",{attributeKeys:[r],directChange:!0})}removeAttribute(r){this._removeAttribute(r)&&this.fire("change:attribute",{attributeKeys:[r],directChange:!0})}overrideGravity(){const r=ce();return this._overriddenGravityRegister.add(r),1===this._overriddenGravityRegister.size&&this._updateAttributes(!0),r}restoreGravity(r){if(!this._overriddenGravityRegister.has(r))throw new V("document-selection-gravity-wrong-restore",this,{uid:r});this._overriddenGravityRegister.delete(r),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(r){this._observedMarkers.add(r),this.updateMarkers()}_replaceAllRanges(r){this._validateSelectionRanges(r),super._replaceAllRanges(r)}_popRange(){this._ranges.pop().detach()}_pushRange(r){const o=this._prepareRange(r);o&&this._ranges.push(o)}_validateSelectionRanges(r){for(const o of r)if(!this._document._validateSelectionRange(o))throw new V("document-selection-wrong-position",this,{range:o})}_prepareRange(r){if(this._checkRange(r),r.root==this._document.graveyard)return;const o=Nr.fromRange(r);return o.on("change:range",(a,u,h)=>{if(this._hasChangedRange=!0,o.root==this._document.graveyard){this._selectionRestorePosition=h.deletionPosition;const f=this._ranges.indexOf(o);this._ranges.splice(f,1),o.detach()}}),o}updateMarkers(){if(!this._observedMarkers.size)return;const r=[];let o=!1;for(const u of this._model.markers){const h=u.name.split(":",1)[0];if(!this._observedMarkers.has(h))continue;const f=u.getRange();for(const g of this.getRanges())f.containsRange(g,!g.isCollapsed)&&r.push(u)}const a=Array.from(this.markers);for(const u of r)this.markers.has(u)||(this.markers.add(u),o=!0);for(const u of Array.from(this.markers))r.includes(u)||(this.markers.remove(u),o=!0);o&&this.fire("change:marker",{oldMarkers:a,directChange:!1})}_updateMarker(r,o){const a=r.name.split(":",1)[0];if(!this._observedMarkers.has(a))return;let u=!1;const h=Array.from(this.markers),f=this.markers.has(r);if(o){let g=!1;for(const _ of this.getRanges())if(o.containsRange(_,!_.isCollapsed)){g=!0;break}g&&!f?(this.markers.add(r),u=!0):!g&&f&&(this.markers.remove(r),u=!0)}else f&&(this.markers.remove(r),u=!0);u&&this.fire("change:marker",{oldMarkers:h,directChange:!1})}_updateAttributes(r){const o=Us(this._getSurroundingAttributes()),a=Us(this.getAttributes());if(r)this._attributePriority=new Map,this._attrs=new Map;else for(const[h,f]of this._attributePriority)"low"==f&&(this._attrs.delete(h),this._attributePriority.delete(h));this._setAttributesTo(o);const u=[];for(const[h,f]of this.getAttributes())a.has(h)&&a.get(h)===f||u.push(h);for(const[h]of a)this.hasAttribute(h)||u.push(h);u.length>0&&this.fire("change:attribute",{attributeKeys:u,directChange:!1})}_setAttribute(r,o,a=!0){const u=a?"normal":"low";return("low"!=u||"normal"!=this._attributePriority.get(r))&&super.getAttribute(r)!==o&&(this._attrs.set(r,o),this._attributePriority.set(r,u),!0)}_removeAttribute(r,o=!0){const a=o?"normal":"low";return!("low"==a&&"normal"==this._attributePriority.get(r)||(this._attributePriority.set(r,a),!super.hasAttribute(r)||(this._attrs.delete(r),0)))}_setAttributesTo(r){const o=new Set;for(const[a,u]of this.getAttributes())r.get(a)!==u&&this._removeAttribute(a,!1);for(const[a,u]of r)this._setAttribute(a,u,!1)&&o.add(a);return o}*getStoredAttributes(){const r=this.getFirstPosition().parent;if(this.isCollapsed&&r.isEmpty)for(const o of r.getAttributeKeys())o.startsWith(Rd)&&(yield[o.substr(10),r.getAttribute(o)])}_getSurroundingAttributes(){const r=this.getFirstPosition(),o=this._model.schema;if("$graveyard"==r.root.rootName)return null;let a=null;if(this.isCollapsed){const u=r.textNode?r.textNode:r.nodeBefore,h=r.textNode?r.textNode:r.nodeAfter;if(this.isGravityOverridden||(a=Nd(u,o)),a||(a=Nd(h,o)),!this.isGravityOverridden&&!a){let f=u;for(;f&&!a;)f=f.previousSibling,a=Nd(f,o)}if(!a){let f=h;for(;f&&!a;)f=f.nextSibling,a=Nd(f,o)}a||(a=this.getStoredAttributes())}else{const u=this.getFirstRange();for(const h of u){if(h.item.is("element")&&o.isObject(h.item)){a=Nd(h.item,o);break}if("text"==h.type){a=h.item.getAttributes();break}}}return a}_fixGraveyardSelection(r){const o=this._model.schema.getNearestSelectionRange(r);o&&this._pushRange(o)}}function Nd(l,r){if(!l)return null;if(l instanceof si||l instanceof mt)return l.getAttributes();if(!r.isInline(l))return null;if(!r.isObject(l))return[];const o=[];for(const[a,u]of l.getAttributes())r.checkAttribute("$text",a)&&!1!==r.getAttributeProperties(a).copyFromObject&&o.push([a,u]);return o}class e1{constructor(r){this._dispatchers=r}add(r){for(const o of this._dispatchers)r(o);return this}}class VP extends e1{elementToElement(r){return this.add(function(o){const a=t1(o.model),u=Ml(o.view,"container");return a.attributes.length&&(a.children=!0),h=>{h.on(`insert:${a.name}`,function(f,g=n7){return(_,b,w)=>{if(!g(b.item,w.consumable,{preflight:!0}))return;const v=f(b.item,w,b);if(!v)return;g(b.item,w.consumable);const A=w.mapper.toViewPosition(b.range.start);w.mapper.bindElements(b.item,v),w.writer.insert(A,v),w.convertAttributes(b.item),Vp(v,b.item.getChildren(),w,{reconversion:b.reconversion})}}(u,i1(a)),{priority:o.converterPriority||"normal"}),(a.children||a.attributes.length)&&h.on("reduceChanges",r1(a),{priority:"low"})}}(r))}elementToStructure(r){return this.add(function(o){const a=t1(o.model),u=Ml(o.view,"container");return a.children=!0,h=>{if(h._conversionApi.schema.checkChild(a.name,"$text"))throw new V("conversion-element-to-structure-disallowed-text",h,{elementName:a.name});var f,g;h.on(`insert:${a.name}`,(f=u,g=i1(a),(_,b,w)=>{if(!g(b.item,w.consumable,{preflight:!0}))return;const v=new Map;var D,x,P;w.writer._registerSlotFactory((D=b.item,x=v,P=w,(N,H)=>{const J=N.createContainerElement("$slot");let ae=null;if("children"===H)ae=Array.from(D.getChildren());else{if("function"!=typeof H)throw new V("conversion-slot-mode-unknown",P.dispatcher,{modeOrFilter:H});ae=Array.from(D.getChildren()).filter(Pe=>H(Pe))}return x.set(J,ae),J}));const A=f(b.item,w,b);if(w.writer._clearSlotFactory(),!A)return;(function(D,x,P){const N=Array.from(x.values()).flat(),H=new Set(N);if(H.size!=N.length)throw new V("conversion-slot-filter-overlap",P.dispatcher,{element:D});if(H.size!=D.childCount)throw new V("conversion-slot-filter-incomplete",P.dispatcher,{element:D})})(b.item,v,w),g(b.item,w.consumable);const E=w.mapper.toViewPosition(b.range.start);w.mapper.bindElements(b.item,A),w.writer.insert(E,A),w.convertAttributes(b.item),function(D,x,P,N){P.mapper.on("modelToViewPosition",ae,{priority:"highest"});let H=null,J=null;for([H,J]of x)Vp(D,J,P,N),P.writer.move(P.writer.createRangeIn(H),P.writer.createPositionBefore(H)),P.writer.remove(H);function ae(Pe,ft){const Xt=J.indexOf(ft.modelPosition.nodeAfter);Xt<0||(ft.viewPosition=ft.mapper.findPositionIn(H,Xt))}P.mapper.off("modelToViewPosition",ae)}(A,v,w,{reconversion:b.reconversion})}),{priority:o.converterPriority||"normal"}),h.on("reduceChanges",r1(a),{priority:"low"})}}(r))}attributeToElement(r){return this.add(function(o){let a=(o=bc(o)).model;"string"==typeof a&&(a={key:a});let u=`attribute:${a.key}`;if(a.name&&(u+=":"+a.name),a.values)for(const f of a.values)o.view[f]=Ml(o.view[f],"attribute");else o.view=Ml(o.view,"attribute");const h=FP(o);return f=>{var g;f.on(u,(g=h,(_,b,w)=>{if(!w.consumable.test(b.item,_.name))return;const v=g(b.attributeOldValue,w,b),A=g(b.attributeNewValue,w,b);if(!v&&!A)return;w.consumable.consume(b.item,_.name);const E=w.writer;if(b.item instanceof Si||b.item instanceof Oo)E.wrap(E.document.selection.getFirstRange(),A);else{let x=w.mapper.toViewRange(b.range);null!==b.attributeOldValue&&v&&(x=E.unwrap(x,v)),null!==b.attributeNewValue&&A&&E.wrap(x,A)}}),{priority:o.converterPriority||"normal"})}}(r))}attributeToAttribute(r){return this.add(function(o){let a=(o=bc(o)).model;"string"==typeof a&&(a={key:a});let u=`attribute:${a.key}`;if(a.name&&(u+=":"+a.name),a.values)for(const f of a.values)o.view[f]=Fb(o.view[f]);else o.view=Fb(o.view);const h=FP(o);return f=>{var g;f.on(u,(g=h,(_,b,w)=>{if(!w.consumable.test(b.item,_.name))return;const v=g(b.attributeOldValue,w,b),A=g(b.attributeNewValue,w,b);if(!v&&!A)return;w.consumable.consume(b.item,_.name);const E=w.mapper.toViewElement(b.item),D=w.writer;if(!E)throw new V("conversion-attribute-to-attribute-on-text",w.dispatcher,b);if(null!==b.attributeOldValue&&v)if("class"==v.key){const x=Hn(v.value);for(const P of x)D.removeClass(P,E)}else if("style"==v.key){const x=Object.keys(v.value);for(const P of x)D.removeStyle(P,E)}else D.removeAttribute(v.key,E);if(null!==b.attributeNewValue&&A)if("class"==A.key){const x=Hn(A.value);for(const P of x)D.addClass(P,E)}else if("style"==A.key){const x=Object.keys(A.value);for(const P of x)D.setStyle(P,A.value[P],E)}else D.setAttribute(A.key,A.value,E)}),{priority:o.converterPriority||"normal"})}}(r))}markerToElement(r){return this.add(function(o){const a=Ml(o.view,"ui");return u=>{var h;u.on(`addMarker:${o.model}`,(h=a,(f,g,_)=>{g.isOpening=!0;const b=h(g,_);g.isOpening=!1;const w=h(g,_);if(!b||!w)return;const v=g.markerRange;if(v.isCollapsed&&!_.consumable.consume(v,f.name))return;for(const D of v)if(!_.consumable.consume(D.item,f.name))return;const A=_.mapper,E=_.writer;E.insert(A.toViewPosition(v.start),b),_.mapper.bindElementToMarker(b,g.markerName),v.isCollapsed||(E.insert(A.toViewPosition(v.end),w),_.mapper.bindElementToMarker(w,g.markerName)),f.stop()}),{priority:o.converterPriority||"normal"}),u.on(`removeMarker:${o.model}`,(f,g,_)=>{const b=_.mapper.markerNameToElements(g.markerName);if(b){for(const w of b)_.mapper.unbindElementFromMarkerName(w,g.markerName),_.writer.clear(_.writer.createRangeOn(w),w);_.writer.clearClonedElementsGroup(g.markerName),f.stop()}},{priority:o.converterPriority||"normal"})}}(r))}markerToHighlight(r){return this.add((o=r,a=>{var u,h;a.on(`addMarker:${o.model}`,(u=o.view,(h,f,g)=>{if(!f.item||!(f.item instanceof Si||f.item instanceof Oo||f.item.is("$textProxy")))return;const _=n1(u,f,g);if(!_||!g.consumable.consume(f.item,h.name))return;const b=g.writer,w=Od(b,_);if(f.item instanceof Si||f.item instanceof Oo)b.wrap(b.document.selection.getFirstRange(),w);else{const A=g.mapper.toViewRange(f.range),E=b.wrap(A,w);for(const D of E.getItems())if(D.is("attributeElement")&&D.isSimilar(w)){g.mapper.bindElementToMarker(D,f.markerName);break}}}),{priority:o.converterPriority||"normal"}),a.on(`addMarker:${o.model}`,(h=o.view,(f,g,_)=>{if(!(g.item&&g.item instanceof Ut))return;const b=n1(h,g,_);if(!b||!_.consumable.test(g.item,f.name))return;const w=_.mapper.toViewElement(g.item);if(w&&w.getCustomProperty("addHighlight")){_.consumable.consume(g.item,f.name);for(const v of X._createIn(g.item))_.consumable.consume(v.item,f.name);w.getCustomProperty("addHighlight")(w,b,_.writer),_.mapper.bindElementToMarker(w,g.markerName)}}),{priority:o.converterPriority||"normal"}),a.on(`removeMarker:${o.model}`,function(h){return(f,g,_)=>{if(g.markerRange.isCollapsed)return;const b=n1(h,g,_);if(!b)return;const w=Od(_.writer,b),v=_.mapper.markerNameToElements(g.markerName);if(v){for(const A of v)_.mapper.unbindElementFromMarkerName(A,g.markerName),A.is("attributeElement")?_.writer.unwrap(_.writer.createRangeOn(A),w):A.getCustomProperty("removeHighlight")(A,b.id,_.writer);_.writer.clearClonedElementsGroup(g.markerName),f.stop()}}}(o.view),{priority:o.converterPriority||"normal"})}));var o}markerToData(r){return this.add(function(o){const a=(o=bc(o)).model;let u=o.view;return u||(u=h=>({group:a,name:h.substr(o.model.length+1)})),h=>{var f,g;h.on(`addMarker:${a}`,(f=u,(g,_,b)=>{const w=f(_.markerName,b);if(!w)return;const v=_.markerRange;b.consumable.consume(v,g.name)&&(Vb(v,!1,b,_,w),Vb(v,!0,b,_,w),g.stop())}),{priority:o.converterPriority||"normal"}),h.on(`removeMarker:${a}`,(g=u,(_,b,w)=>{const v=g(b.markerName,w);if(!v)return;const A=w.mapper.markerNameToElements(b.markerName);if(A){for(const D of A)w.mapper.unbindElementFromMarkerName(D,b.markerName),D.is("containerElement")?(E(`data-${v.group}-start-before`,D),E(`data-${v.group}-start-after`,D),E(`data-${v.group}-end-before`,D),E(`data-${v.group}-end-after`,D)):w.writer.clear(w.writer.createRangeOn(D),D);w.writer.clearClonedElementsGroup(b.markerName),_.stop()}function E(D,x){if(x.hasAttribute(D)){const P=new Set(x.getAttribute(D).split(","));P.delete(v.name),0==P.size?w.writer.removeAttribute(D,x):w.writer.setAttribute(D,Array.from(P).join(","),x)}}}),{priority:o.converterPriority||"normal"})}}(r))}}function Od(l,r){const o=l.createAttributeElement("span",r.attributes);return r.classes&&o._addClass(r.classes),"number"==typeof r.priority&&(o._priority=r.priority),o._id=r.id,o}function Vb(l,r,o,a,u){const h=r?l.start:l.end,f=h.nodeAfter&&h.nodeAfter.is("element")?h.nodeAfter:null,g=h.nodeBefore&&h.nodeBefore.is("element")?h.nodeBefore:null;if(f||g){let _,b;r&&f||!r&&!g?(_=f,b=!0):(_=g,b=!1);const w=o.mapper.toViewElement(_);if(w)return void function(v,A,E,D,x,P){const N=`data-${P.group}-${A?"start":"end"}-${E?"before":"after"}`,H=v.hasAttribute(N)?v.getAttribute(N).split(","):[];H.unshift(P.name),D.writer.setAttribute(N,H.join(","),v),D.mapper.bindElementToMarker(v,x.markerName)}(w,r,b,o,a,u)}!function(_,b,w,v,A){const x=w.writer.createUIElement(`${A.group}-${b?"start":"end"}`,A.name?{name:A.name}:null);w.writer.insert(_,x),w.mapper.bindElementToMarker(x,v.markerName)}(o.mapper.toViewPosition(h),r,o,a,u)}function t1(l){return"string"==typeof l&&(l={name:l}),l.attributes?Array.isArray(l.attributes)||(l.attributes=[l.attributes]):l.attributes=[],l.children=!!l.children,l}function Ml(l,r){return"function"==typeof l?l:(o,a)=>function(u,h,f){let g;"string"==typeof u&&(u={name:u});const _=h.writer,b=Object.assign({},u.attributes);if(g="container"==f?_.createContainerElement(u.name,b):"attribute"==f?_.createAttributeElement(u.name,b,{priority:u.priority||oi.DEFAULT_PRIORITY}):_.createUIElement(u.name,b),u.styles){const w=Object.keys(u.styles);for(const v of w)_.setStyle(v,u.styles[v],g)}if(u.classes){const w=u.classes;if("string"==typeof w)_.addClass(w,g);else for(const v of w)_.addClass(v,g)}return g}(l,a,r)}function FP(l){return l.model.values?(r,o,a)=>{const u=l.view[r];return u?u(r,o,a):null}:l.view}function Fb(l){return"string"==typeof l?r=>({key:l,value:r}):"object"==typeof l?l.value?()=>l:r=>({key:l.key,value:r}):l}function n1(l,r,o){const a="function"==typeof l?l(r,o):l;return a?(a.priority||(a.priority=10),a.id||(a.id=r.markerName),a):null}function r1(l){const r=(o=l,(a,u)=>{if(!a.is("element",o.name))return!1;if("attribute"==u.type){if(o.attributes.includes(u.attributeKey))return!0}else if(o.children)return!0;return!1});var o;return(o,a)=>{const u=[];a.reconvertedElements||(a.reconvertedElements=new Set);for(const h of a.changes){const f="attribute"==h.type?h.range.start.nodeAfter:h.position.parent;if(f&&r(f,h)){if(!a.reconvertedElements.has(f)){a.reconvertedElements.add(f);const g=se._createBefore(f);let _=u.length;for(let b=u.length-1;b>=0;b--){const w=u[b],v=("attribute"==w.type?w.range.start:w.position).compareWith(g);if("before"==v||"remove"==w.type&&"same"==v)break;_=b}u.splice(_,0,{type:"remove",name:f.name,position:g,length:1},{type:"reinsert",name:f.name,position:g,length:1})}}else u.push(h)}a.changes=u}}function i1(l){return(r,o,a={})=>{const u=["insert"];for(const h of l.attributes)r.hasAttribute(h)&&u.push(`attribute:${h}`);return!!u.every(h=>o.test(r,h))&&(a.preflight||u.forEach(h=>o.consume(r,h)),!0)}}function Vp(l,r,o,a){for(const u of r)t7(l.root,u,o,a)||o.convertItem(u)}function t7(l,r,o,a){const{writer:u,mapper:h}=o;if(!a.reconversion)return!1;const f=h.toViewElement(r);return!(!f||f.root==l||!o.canReuseView(f)||(u.move(u.createRangeOn(f),h.toViewPosition(se._createBefore(r))),0))}function n7(l,r,{preflight:o}={}){return o?r.test(l,"insert"):r.consume(l,"insert")}function Fp(l){const{schema:r,document:o}=l.model;for(const a of o.getRoots())if(a.isEmpty&&!r.checkChild(a,"$text")&&r.checkChild(a,"paragraph"))return l.insertElement("paragraph",a),!0;return!1}function BP(l,r,o){const a=o.createContext(l);return!!o.checkChild(a,"paragraph")&&!!o.checkChild(a.push("paragraph"),r)}function zP(l,r){const o=r.createElement("paragraph");return r.insert(o,l),r.createPositionAt(o,0)}var r7=Object.defineProperty,i7=Object.defineProperties,o7=Object.getOwnPropertyDescriptors,o1=Object.getOwnPropertySymbols,Bb=Object.prototype.hasOwnProperty,zb=Object.prototype.propertyIsEnumerable,jb=(l,r,o)=>r in l?r7(l,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):l[r]=o;class s1 extends e1{elementToElement(r){return this.add(Ub(r))}elementToAttribute(r){return this.add(function(o){Ld(o=bc(o));const a=Vd(o,!1),u=Ca(o.view),h=u?`element:${u}`:"element";return f=>{f.on(h,a,{priority:o.converterPriority||"low"})}}(r))}attributeToAttribute(r){return this.add(function(o){let a=null;("string"==typeof(o=bc(o)).view||o.view.key)&&(a=function(h){"string"==typeof h.view&&(h.view={key:h.view});const f=h.view.key;let g;return g="class"==f||"style"==f?{["class"==f?"classes":"styles"]:h.view.value}:{attributes:{[f]:void 0===h.view.value?/[\s\S]*/:h.view.value}},h.view.name&&(g.name=h.view.name),h.view=g,f}(o)),Ld(o,a);const u=Vd(o,!0);return h=>{h.on("element",u,{priority:o.converterPriority||"low"})}}(r))}elementToMarker(r){return this.add(function(o){const a=(f=o.model,(g,_)=>{const b="string"==typeof f?f:f(g,_);return _.writer.createElement("$marker",{"data-name":b})});var f,u;return Ub((u=((f,g)=>{for(var _ in g||(g={}))Bb.call(g,_)&&jb(f,_,g[_]);if(o1)for(var _ of o1(g))zb.call(g,_)&&jb(f,_,g[_]);return f})({},o),i7(u,o7({model:a}))))}(r))}dataToMarker(r){return this.add(function(o){(o=bc(o)).model||(o.model=f=>f?o.view+":"+f:o.view);const a={view:o.view,model:o.model},u=Bp(ai(a,"start")),h=Bp(ai(a,"end"));return f=>{f.on(`element:${o.view}-start`,u,{priority:o.converterPriority||"normal"}),f.on(`element:${o.view}-end`,h,{priority:o.converterPriority||"normal"});const g=ye.low,_=ye.highest,b=ye.get(o.converterPriority)/_;var w;f.on("element",(w=a,(v,A,E)=>{const D=`data-${w.view}`;function x(P,N){for(const H of N){const J=w.model(H,E),ae=E.writer.createElement("$marker",{"data-name":J});E.writer.insert(ae,P),A.modelCursor=A.modelCursor.isEqual(P)?A.modelCursor.getShiftedBy(1):A.modelCursor._getTransformedByInsertion(P,1),A.modelRange=A.modelRange._getTransformedByInsertion(P,1)[0]}}(E.consumable.test(A.viewItem,{attributes:D+"-end-after"})||E.consumable.test(A.viewItem,{attributes:D+"-start-after"})||E.consumable.test(A.viewItem,{attributes:D+"-end-before"})||E.consumable.test(A.viewItem,{attributes:D+"-start-before"}))&&(A.modelRange||Object.assign(A,E.convertChildren(A.viewItem,A.modelCursor)),E.consumable.consume(A.viewItem,{attributes:D+"-end-after"})&&x(A.modelRange.end,A.viewItem.getAttribute(D+"-end-after").split(",")),E.consumable.consume(A.viewItem,{attributes:D+"-start-after"})&&x(A.modelRange.end,A.viewItem.getAttribute(D+"-start-after").split(",")),E.consumable.consume(A.viewItem,{attributes:D+"-end-before"})&&x(A.modelRange.start,A.viewItem.getAttribute(D+"-end-before").split(",")),E.consumable.consume(A.viewItem,{attributes:D+"-start-before"})&&x(A.modelRange.start,A.viewItem.getAttribute(D+"-start-before").split(",")))}),{priority:g+b})}}(r))}}function Ub(l){const r=Bp(l=bc(l)),o=Ca(l.view),a=o?`element:${o}`:"element";return u=>{u.on(a,r,{priority:l.converterPriority||"normal"})}}function Ca(l){return"string"==typeof l?l:"object"==typeof l&&"string"==typeof l.name?l.name:null}function Bp(l){const r=new Wi(l.view);return(o,a,u)=>{const h=r.match(a.viewItem);if(!h)return;const f=h.match;if(f.name=!0,!u.consumable.test(a.viewItem,f))return;const g=(w=u,(_=l.model)instanceof Function?_(a.viewItem,w):w.writer.createElement(_));var _,w;g&&u.safeInsert(g,a.modelCursor)&&(u.consumable.consume(a.viewItem,f),u.convertChildren(a.viewItem,g),u.updateConversionResult(g,a))}}function Ld(l,r=null){l.model={key:"object"!=typeof l.model?l.model:l.model.key,value:"object"!=typeof l.model||void 0===l.model.value?null===r||(h=>h.getAttribute(r)):l.model.value}}function Vd(l,r){const o=new Wi(l.view);return(a,u,h)=>{if(!u.modelRange&&r)return;const f=o.match(u.viewItem);if(!f||(function(w,v){const A="function"==typeof w?w(v):w;return!("object"==typeof A&&!Ca(A)||A.classes||A.attributes||A.styles)}(l.view,u.viewItem)?f.match.name=!0:delete f.match.name,!h.consumable.test(u.viewItem,f.match)))return;const g=l.model.key,_="function"==typeof l.model.value?l.model.value(u.viewItem,h):l.model.value;null!==_&&(u.modelRange||Object.assign(u,h.convertChildren(u.viewItem,u.modelCursor)),function(w,v,A,E){let D=!1;for(const x of Array.from(w.getItems({shallow:A})))E.schema.checkAttribute(x,v.key)&&(D=!0,x.hasAttribute(v.key)||E.writer.setAttribute(v.key,v.value,x));return D}(u.modelRange,{key:g,value:_},r,h)&&(h.consumable.test(u.viewItem,{name:!0})&&(f.match.name=!0),h.consumable.consume(u.viewItem,f.match)))}}function ai(l,r){return{view:`${l.view}-${r}`,model:(o,a)=>{const u=o.getAttribute("name"),h=l.model(u,a);return a.writer.createElement("$marker",{"data-name":h})}}}function a1(l,r){return l.isCollapsed?function(o,a){const u=o.start,h=a.getNearestSelectionRange(u);if(!h){const g=u.getAncestors().reverse().find(_=>a.isObject(_));return g?X._createOn(g):null}if(!h.isCollapsed)return h;const f=h.start;return u.isEqual(f)?null:new X(f)}(l,r):function(o,a){const{start:u,end:h}=o,f=a.checkChild(u,"$text"),g=a.checkChild(h,"$text"),_=a.getLimitElement(u),b=a.getLimitElement(h);if(_===b){if(f&&g)return null;if(function(A,E,D){const x=A.nodeAfter&&!D.isLimit(A.nodeAfter)||D.checkChild(A,"$text"),P=E.nodeBefore&&!D.isLimit(E.nodeBefore)||D.checkChild(E,"$text");return x||P}(u,h,a)){const A=u.nodeAfter&&a.isSelectable(u.nodeAfter)?null:a.getNearestSelectionRange(u,"forward"),E=h.nodeBefore&&a.isSelectable(h.nodeBefore)?null:a.getNearestSelectionRange(h,"backward");return new X(A?A.start:u,E?E.end:h)}}const w=_&&!_.is("rootElement"),v=b&&!b.is("rootElement");if(w||v){const A=u.nodeAfter&&h.nodeBefore&&u.nodeAfter.parent===h.nodeBefore.parent,E=w&&(!A||!Hb(u.nodeAfter,a)),D=v&&(!A||!Hb(h.nodeBefore,a));let x=u,P=h;return E&&(x=se._createBefore(c1(_,a))),D&&(P=se._createAfter(c1(b,a))),new X(x,P)}return null}(l,r)}function c1(l,r){let o=l,a=o;for(;r.isLimit(a)&&a.parent;)o=a,a=a.parent;return o}function Hb(l,r){return l&&r.isSelectable(l)}class Gb extends(Pt()){constructor(r,o){super(),this.model=r,this.view=new cr(o),this.mapper=new SP,this.downcastDispatcher=new JA({mapper:this.mapper,schema:r.schema});const a=this.model.document,u=a.selection,h=this.model.markers;var f,g,_,b,w;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(a,"change",()=>{this.view.change(b=>{this.downcastDispatcher.convertChanges(a.differ,h,b),this.downcastDispatcher.convertSelection(u,h,b)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",(b=this.model,w=this.mapper,(v,A)=>{const E=A.newSelection,D=[];for(const P of E.getRanges())D.push(w.toModelRange(P));const x=b.createSelection(D,{backward:E.isBackward});x.isEqual(b.document.selection)||b.change(P=>{P.setSelection(x)})})),this.listenTo(this.view.document,"beforeinput",(f=this.mapper,g=this.model.schema,_=this.view,(b,w)=>{if(!_.document.isComposing||F.isAndroid)for(let v=0;v<w.targetRanges.length;v++){const E=f.toModelRange(w.targetRanges[v]),D=a1(E,g);D&&!D.isEqual(E)&&(w.targetRanges[v]=f.toViewRange(D))}}),{priority:"high"}),this.downcastDispatcher.on("insert:$text",(b,w,v)=>{if(!v.consumable.consume(w.item,b.name))return;const A=v.writer,E=v.mapper.toViewPosition(w.range.start),D=A.createText(w.item.data);A.insert(E,D)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(b,w,v)=>{v.convertAttributes(w.item),w.reconversion||!w.item.is("element")||w.item.isEmpty||v.convertChildren(w.item)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(b,w,v)=>{const A=v.mapper.toViewPosition(w.position),E=w.position.getShiftedBy(w.length),D=v.mapper.toViewPosition(E,{isPhantom:!0}),x=v.writer.createRange(A,D),P=v.writer.remove(x.getTrimmed());for(const N of v.writer.createRangeIn(P).getItems())v.mapper.unbindViewElement(N,{defer:!0})},{priority:"low"}),this.downcastDispatcher.on("cleanSelection",(b,w,v)=>{const A=v.writer,E=A.document.selection;for(const D of E.getRanges())D.isCollapsed&&D.end.parent.isAttached()&&v.writer.mergeAttributes(D.start);A.setSelection(null)}),this.downcastDispatcher.on("selection",(b,w,v)=>{const A=w.selection;if(A.isCollapsed||!v.consumable.consume(A,"selection"))return;const E=[];for(const D of A.getRanges())E.push(v.mapper.toViewRange(D));v.writer.setSelection(E,{backward:A.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(b,w,v)=>{const A=w.selection;if(!A.isCollapsed||!v.consumable.consume(A,"selection"))return;const E=v.writer,D=A.getFirstPosition(),x=v.mapper.toViewPosition(D),P=E.breakAttributes(x);E.setSelection(P)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(b=>{if("$graveyard"==b.rootName)return null;const w=new yr(this.view.document,b.name);return w.rootName=b.rootName,this.mapper.bindElements(b,w),w})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(r){const o="string"==typeof r?r:r.name,a=this.model.markers.get(o);if(!a)throw new V("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:o});this.model.change(()=>{this.model.markers._refresh(a)})}reconvertItem(r){this.model.change(()=>{this.model.document.differ._refreshItem(r)})}}class Fd{constructor(){this._consumables=new Map}add(r,o){let a;r.is("$text")||r.is("documentFragment")?this._consumables.set(r,!0):(this._consumables.has(r)?a=this._consumables.get(r):(a=new UP(r),this._consumables.set(r,a)),a.add(o))}test(r,o){const a=this._consumables.get(r);return void 0===a?null:r.is("$text")||r.is("documentFragment")?a:a.test(o)}consume(r,o){return!!this.test(r,o)&&(r.is("$text")||r.is("documentFragment")?this._consumables.set(r,!1):this._consumables.get(r).consume(o),!0)}revert(r,o){const a=this._consumables.get(r);void 0!==a&&(r.is("$text")||r.is("documentFragment")?this._consumables.set(r,!0):a.revert(o))}static consumablesFromElement(r){const o={element:r,name:!0,attributes:[],classes:[],styles:[]},a=r.getAttributeKeys();for(const f of a)"style"!=f&&"class"!=f&&o.attributes.push(f);const u=r.getClassNames();for(const f of u)o.classes.push(f);const h=r.getStyleNames();for(const f of h)o.styles.push(f);return o}static createFrom(r,o){if(o||(o=new Fd),r.is("$text"))return o.add(r),o;r.is("element")&&o.add(r,Fd.consumablesFromElement(r)),r.is("documentFragment")&&o.add(r);for(const a of r.getChildren())o=Fd.createFrom(a,o);return o}}const zp=["attributes","classes","styles"];class UP{constructor(r){this.element=r,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(r){r.name&&(this._canConsumeName=!0);for(const o of zp)o in r&&this._add(o,r[o])}test(r){if(r.name&&!this._canConsumeName)return this._canConsumeName;for(const o of zp)if(o in r){const a=this._test(o,r[o]);if(!0!==a)return a}return!0}consume(r){r.name&&(this._canConsumeName=!1);for(const o of zp)o in r&&this._consume(o,r[o])}revert(r){r.name&&(this._canConsumeName=!0);for(const o of zp)o in r&&this._revert(o,r[o])}_add(r,o){const a=yi(o)?o:[o],u=this._consumables[r];for(const h of a){if("attributes"===r&&("class"===h||"style"===h))throw new V("viewconsumable-invalid-attribute",this);if(u.set(h,!0),"styles"===r)for(const f of this.element.document.stylesProcessor.getRelatedStyles(h))u.set(f,!0)}}_test(r,o){const a=yi(o)?o:[o],u=this._consumables[r];for(const h of a)if("attributes"!==r||"class"!==h&&"style"!==h){const f=u.get(h);if(void 0===f)return null;if(!f)return!1}else{const f="class"==h?"classes":"styles",g=this._test(f,[...this._consumables[f].keys()]);if(!0!==g)return g}return!0}_consume(r,o){const a=yi(o)?o:[o],u=this._consumables[r];for(const h of a)if("attributes"!==r||"class"!==h&&"style"!==h){if(u.set(h,!1),"styles"==r)for(const f of this.element.document.stylesProcessor.getRelatedStyles(h))u.set(f,!1)}else{const f="class"==h?"classes":"styles";this._consume(f,[...this._consumables[f].keys()])}}_revert(r,o){const a=yi(o)?o:[o],u=this._consumables[r];for(const h of a)if("attributes"!==r||"class"!==h&&"style"!==h)!1===u.get(h)&&u.set(h,!0);else{const f="class"==h?"classes":"styles";this._revert(f,[...this._consumables[f].keys()])}}}class l1 extends(Pt()){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(r,o)=>{o[0]=new yc(o[0])},{priority:"highest"}),this.on("checkChild",(r,o)=>{o[0]=new yc(o[0]),o[1]=this.getDefinition(o[1])},{priority:"highest"})}register(r,o){if(this._sourceDefinitions[r])throw new V("schema-cannot-register-item-twice",this,{itemName:r});this._sourceDefinitions[r]=[Object.assign({},o)],this._clearCache()}extend(r,o){if(!this._sourceDefinitions[r])throw new V("schema-cannot-extend-missing-item",this,{itemName:r});this._sourceDefinitions[r].push(Object.assign({},o)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(r){let o;return o="string"==typeof r?r:"is"in r&&(r.is("$text")||r.is("$textProxy"))?"$text":r.name,this.getDefinitions()[o]}isRegistered(r){return!!this.getDefinition(r)}isBlock(r){const o=this.getDefinition(r);return!(!o||!o.isBlock)}isLimit(r){const o=this.getDefinition(r);return!(!o||!o.isLimit&&!o.isObject)}isObject(r){const o=this.getDefinition(r);return!!o&&!!(o.isObject||o.isLimit&&o.isSelectable&&o.isContent)}isInline(r){const o=this.getDefinition(r);return!(!o||!o.isInline)}isSelectable(r){const o=this.getDefinition(r);return!(!o||!o.isSelectable&&!o.isObject)}isContent(r){const o=this.getDefinition(r);return!(!o||!o.isContent&&!o.isObject)}checkChild(r,o){return!!o&&this._checkContextMatch(o,r)}checkAttribute(r,o){const a=this.getDefinition(r.last);return!!a&&a.allowAttributes.includes(o)}checkMerge(r,o){if(r instanceof se){const a=r.nodeBefore,u=r.nodeAfter;if(!(a instanceof Ut))throw new V("schema-check-merge-no-element-before",this);if(!(u instanceof Ut))throw new V("schema-check-merge-no-element-after",this);return this.checkMerge(a,u)}for(const a of o.getChildren())if(!this.checkChild(r,a))return!1;return!0}addChildCheck(r){this.on("checkChild",(o,[a,u])=>{if(!u)return;const h=r(a,u);"boolean"==typeof h&&(o.stop(),o.return=h)},{priority:"high"})}addAttributeCheck(r){this.on("checkAttribute",(o,[a,u])=>{const h=r(a,u);"boolean"==typeof h&&(o.stop(),o.return=h)},{priority:"high"})}setAttributeProperties(r,o){this._attributeProperties[r]=Object.assign(this.getAttributeProperties(r),o)}getAttributeProperties(r){return this._attributeProperties[r]||{}}getLimitElement(r){let o;for(o=r instanceof se?r.parent:(r instanceof X?[r]:Array.from(r.getRanges())).reduce((a,u)=>{const h=u.getCommonAncestor();return a?a.getCommonAncestor(h,{includeSelf:!0}):h},null);!this.isLimit(o)&&o.parent;)o=o.parent;return o}checkAttributeInSelection(r,o){if(r.isCollapsed){const a=[...r.getFirstPosition().getAncestors(),new mt("",r.getAttributes())];return this.checkAttribute(a,o)}{const a=r.getRanges();for(const u of a)for(const h of u)if(this.checkAttribute(h.item,o))return!0}return!1}*getValidRanges(r,o){r=function*(a){for(const u of a)yield*u.getMinimalFlatRanges()}(r);for(const a of r)yield*this._getValidRangesForRange(a,o)}getNearestSelectionRange(r,o="both"){if("$graveyard"==r.root.rootName)return null;if(this.checkChild(r,"$text"))return new X(r);let a,u;const h=r.getAncestors().reverse().find(f=>this.isLimit(f))||r.root;"both"!=o&&"backward"!=o||(a=new Yi({boundaries:X._createIn(h),startPosition:r,direction:"backward"})),"both"!=o&&"forward"!=o||(u=new Yi({boundaries:X._createIn(h),startPosition:r}));for(const f of function*(g,_){let b=!1;for(;!b;){if(b=!0,g){const w=g.next();w.done||(b=!1,yield{walker:g,value:w.value})}if(_){const w=_.next();w.done||(b=!1,yield{walker:_,value:w.value})}}}(a,u)){const _=f.value;if(_.type==(f.walker==a?"elementEnd":"elementStart")&&this.isObject(_.item))return X._createOn(_.item);if(this.checkChild(_.nextPosition,"$text"))return new X(_.nextPosition)}return null}findAllowedParent(r,o){let a=r.parent;for(;a;){if(this.checkChild(a,o))return a;if(this.isLimit(a))return null;a=a.parent}return null}setAllowedAttributes(r,o,a){const u=a.model;for(const[h,f]of Object.entries(o))u.schema.checkAttribute(r,h)&&a.setAttribute(h,f,r)}removeDisallowedAttributes(r,o){for(const a of r)if(a.is("$text"))Wb(this,a,o);else{const u=X._createIn(a).getPositions();for(const h of u)Wb(this,h.nodeBefore||h.parent,o)}}getAttributesWithProperty(r,o,a){const u={};for(const[h,f]of r.getAttributes()){const g=this.getAttributeProperties(h);void 0!==g[o]&&(void 0!==a&&a!==g[o]||(u[h]=f))}return u}createContext(r){return new yc(r)}_clearCache(){this._compiledDefinitions=null}_compile(){const r={},o=this._sourceDefinitions,a=Object.keys(o);for(const u of a)r[u]=HP(o[u],u);for(const u of a)Mi(r,u);for(const u of a)$b(r,u);for(const u of a)u1(r,u);for(const u of a)qb(r,u),Ur(r,u);for(const u of a)Bd(r,u),d1(r,u),h1(r,u);this._compiledDefinitions=r}_checkContextMatch(r,o,a=o.length-1){const u=o.getItem(a);if(r.allowIn.includes(u.name)){if(0==a)return!0;{const h=this.getDefinition(u);return this._checkContextMatch(h,o,a-1)}}return!1}*_getValidRangesForRange(r,o){let a=r.start,u=r.start;for(const h of r.getItems({shallow:!0}))h.is("element")&&(yield*this._getValidRangesForRange(X._createIn(h),o)),this.checkAttribute(h,o)||(a.isEqual(u)||(yield new X(a,u)),a=se._createAfter(h)),u=se._createAfter(h);a.isEqual(u)||(yield new X(a,u))}}class yc{constructor(r){if(r instanceof yc)return r;let o;o="string"==typeof r?[r]:Array.isArray(r)?r:r.getAncestors({includeSelf:!0}),this._items=o.map(GP)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(r){const o=new yc([r]);return o._items=[...this._items,...o._items],o}getItem(r){return this._items[r]}*getNames(){yield*this._items.map(r=>r.name)}endsWith(r){return Array.from(this.getNames()).join(" ").endsWith(r)}startsWith(r){return Array.from(this.getNames()).join(" ").startsWith(r)}}function HP(l,r){const o={name:r,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(a,u){for(const h of a){const f=Object.keys(h).filter(g=>g.startsWith("is"));for(const g of f)u[g]=!!h[g]}}(l,o),wc(l,o,"allowIn"),wc(l,o,"allowContentOf"),wc(l,o,"allowWhere"),wc(l,o,"allowAttributes"),wc(l,o,"allowAttributesOf"),wc(l,o,"allowChildren"),wc(l,o,"inheritTypesFrom"),function(a,u){for(const h of a){const f=h.inheritAllFrom;f&&(u.allowContentOf.push(f),u.allowWhere.push(f),u.allowAttributesOf.push(f),u.inheritTypesFrom.push(f))}}(l,o),o}function Mi(l,r){const o=l[r];for(const a of o.allowChildren){const u=l[a];u&&u.allowIn.push(r)}o.allowChildren.length=0}function $b(l,r){for(const o of l[r].allowContentOf)l[o]&&f1(l,o).forEach(a=>{a.allowIn.push(r)});delete l[r].allowContentOf}function u1(l,r){for(const o of l[r].allowWhere){const a=l[o];a&&l[r].allowIn.push(...a.allowIn)}delete l[r].allowWhere}function qb(l,r){for(const o of l[r].allowAttributesOf){const a=l[o];a&&l[r].allowAttributes.push(...a.allowAttributes)}delete l[r].allowAttributesOf}function Ur(l,r){const o=l[r];for(const a of o.inheritTypesFrom){const u=l[a];if(u){const h=Object.keys(u).filter(f=>f.startsWith("is"));for(const f of h)f in o||(o[f]=u[f])}}delete o.inheritTypesFrom}function Bd(l,r){const o=l[r],a=o.allowIn.filter(u=>l[u]);o.allowIn=Array.from(new Set(a))}function d1(l,r){const o=l[r];for(const a of o.allowIn)l[a].allowChildren.push(r)}function h1(l,r){const o=l[r];o.allowAttributes=Array.from(new Set(o.allowAttributes))}function wc(l,r,o){for(const a of l){const u=a[o];"string"==typeof u?r[o].push(u):Array.isArray(u)&&r[o].push(...u)}}function f1(l,r){const o=l[r];return(a=l,Object.keys(a).map(u=>a[u])).filter(u=>u.allowIn.includes(o.name));var a}function GP(l){return"string"==typeof l||l.is("documentFragment")?{name:"string"==typeof l?l:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:l.is("element")?l.name:"$text",*getAttributeKeys(){yield*l.getAttributeKeys()},getAttribute:r=>l.getAttribute(r)}}function Wb(l,r,o){for(const a of r.getAttributeKeys())l.checkAttribute(r,a)||o.removeAttribute(a,r)}var $P=Object.defineProperty,p1=Object.defineProperties,qP=Object.getOwnPropertyDescriptors,g1=Object.getOwnPropertySymbols,Kb=Object.prototype.hasOwnProperty,Qb=Object.prototype.propertyIsEnumerable,m1=(l,r,o)=>r in l?$P(l,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):l[r]=o;class zd extends(xt()){constructor(r){var o;super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi=(o=((a,u)=>{for(var h in u||(u={}))Kb.call(u,h)&&m1(a,h,u[h]);if(g1)for(var h of g1(u))Qb.call(u,h)&&m1(a,h,u[h]);return a})({},r),p1(o,qP({consumable:null,writer:null,store:null,convertItem:(a,u)=>this._convertItem(a,u),convertChildren:(a,u)=>this._convertChildren(a,u),safeInsert:(a,u)=>this._safeInsert(a,u),updateConversionResult:(a,u)=>this._updateConversionResult(a,u),splitToAllowedParent:(a,u)=>this._splitToAllowedParent(a,u),getSplitParts:a=>this._getSplitParts(a),keepEmptyElement:a=>this._keepEmptyElement(a)})))}convert(r,o,a=["$root"]){this.fire("viewCleanup",r),this._modelCursor=function(f,g){let _;for(const b of new yc(f)){const w={};for(const A of b.getAttributeKeys())w[A]=b.getAttribute(A);const v=g.createElement(b.name,w);_&&g.insert(v,_),_=se._createAt(v,0)}return _}(a,o),this.conversionApi.writer=o,this.conversionApi.consumable=Fd.createFrom(r),this.conversionApi.store={};const{modelRange:u}=this._convertItem(r,this._modelCursor),h=o.createDocumentFragment();if(u){this._removeEmptyElements();for(const f of Array.from(this._modelCursor.parent.getChildren()))o.append(f,h);h.markers=function(f,g){const _=new Set,b=new Map,w=X._createIn(f).getItems();for(const v of w)v.is("element","$marker")&&_.add(v);for(const v of _){const A=v.getAttribute("data-name"),E=g.createPositionBefore(v);b.has(A)?b.get(A).end=E.clone():b.set(A,new X(E.clone())),g.remove(v)}return b}(h,o)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,h}_convertItem(r,o){const a={viewItem:r,modelCursor:o,modelRange:null};if(r.is("element")?this.fire(`element:${r.name}`,a,this.conversionApi):r.is("$text")?this.fire("text",a,this.conversionApi):this.fire("documentFragment",a,this.conversionApi),a.modelRange&&!(a.modelRange instanceof X))throw new V("view-conversion-dispatcher-incorrect-result",this);return{modelRange:a.modelRange,modelCursor:a.modelCursor}}_convertChildren(r,o){let a=o.is("position")?o:se._createAt(o,0);const u=new X(a);for(const h of Array.from(r.getChildren())){const f=this._convertItem(h,a);f.modelRange instanceof X&&(u.end=f.modelRange.end,a=f.modelCursor)}return{modelRange:u,modelCursor:a}}_safeInsert(r,o){const a=this._splitToAllowedParent(r,o);return!!a&&(this.conversionApi.writer.insert(r,a.position),!0)}_updateConversionResult(r,o){const a=this._getSplitParts(r),u=this.conversionApi.writer;o.modelRange||(o.modelRange=u.createRange(u.createPositionBefore(r),u.createPositionAfter(a[a.length-1])));const h=this._cursorParents.get(r);o.modelCursor=h?u.createPositionAt(h,0):o.modelRange.end}_splitToAllowedParent(r,o){const{schema:a,writer:u}=this.conversionApi;let h=a.findAllowedParent(o,r);if(h){if(h===o.parent)return{position:o};this._modelCursor.parent.getAncestors().includes(h)&&(h=null)}if(!h)return BP(o,r,a)?{position:zP(o,u)}:null;const f=this.conversionApi.writer.split(o,h),g=[];for(const b of f.range.getWalker())if("elementEnd"==b.type)g.push(b.item);else{const w=g.pop();this._registerSplitPair(w,b.item)}const _=f.range.end.parent;return this._cursorParents.set(r,_),{position:f.position,cursorParent:_}}_registerSplitPair(r,o){this._splitParts.has(r)||this._splitParts.set(r,[r]);const a=this._splitParts.get(r);this._splitParts.set(o,a),a.push(o)}_getSplitParts(r){let o;return o=this._splitParts.has(r)?this._splitParts.get(r):[r],o}_keepEmptyElement(r){this._emptyElementsToKeep.add(r)}_removeEmptyElements(){let r=!1;for(const o of this._splitParts.keys())o.isEmpty&&!this._emptyElementsToKeep.has(o)&&(this.conversionApi.writer.remove(o),this._splitParts.delete(o),r=!0);r&&this._removeEmptyElements()}}class WP{getHtml(r){const o=document.implementation.createHTMLDocument("").createElement("div");return o.appendChild(r),o.innerHTML}}class KP{constructor(r){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new Ep(r,{renderingMode:"data"}),this.htmlWriter=new WP}toData(r){const o=this.domConverter.viewToDom(r);return this.htmlWriter.getHtml(o)}toView(r){const o=this._toDom(r);return this.domConverter.domToView(o,{skipComments:this.skipComments})}registerRawContentMatcher(r){this.domConverter.registerRawContentMatcher(r)}useFillerType(r){this.domConverter.blockFillerMode="marked"==r?"markedNbsp":"nbsp"}_toDom(r){r.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(r=`<body>${r}</body>`);const o=this.domParser.parseFromString(r,"text/html"),a=o.createDocumentFragment(),u=o.body.childNodes;for(;u.length>0;)a.appendChild(u[0]);return a}}class Yb extends(xt()){constructor(r,o){super(),this.model=r,this.mapper=new SP,this.downcastDispatcher=new JA({mapper:this.mapper,schema:r.schema}),this.downcastDispatcher.on("insert:$text",(a,u,h)=>{if(!h.consumable.consume(u.item,a.name))return;const f=h.writer,g=h.mapper.toViewPosition(u.range.start),_=f.createText(u.item.data);f.insert(g,_)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(a,u,h)=>{h.convertAttributes(u.item),u.reconversion||!u.item.is("element")||u.item.isEmpty||h.convertChildren(u.item)},{priority:"lowest"}),this.upcastDispatcher=new zd({schema:r.schema}),this.viewDocument=new Hs(o),this.stylesProcessor=o,this.htmlProcessor=new KP(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new bp(this.viewDocument),this.upcastDispatcher.on("text",(a,u,{schema:h,consumable:f,writer:g})=>{let _=u.modelCursor;if(!f.test(u.viewItem))return;if(!h.checkChild(_,"$text")){if(!BP(_,"$text",h)||0==u.viewItem.data.trim().length)return;const w=_.nodeBefore;_=zP(_,g),w&&w.is("element","$marker")&&(g.move(g.createRangeOn(w),_),_=g.createPositionAfter(w))}f.consume(u.viewItem);const b=g.createText(u.viewItem.data);g.insert(b,_),u.modelRange=g.createRange(_,_.getShiftedBy(b.offsetSize)),u.modelCursor=u.modelRange.end},{priority:"lowest"}),this.upcastDispatcher.on("element",(a,u,h)=>{if(!u.modelRange&&h.consumable.consume(u.viewItem,{name:!0})){const{modelRange:f,modelCursor:g}=h.convertChildren(u.viewItem,u.modelCursor);u.modelRange=f,u.modelCursor=g}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(a,u,h)=>{if(!u.modelRange&&h.consumable.consume(u.viewItem,{name:!0})){const{modelRange:f,modelCursor:g}=h.convertChildren(u.viewItem,u.modelCursor);u.modelRange=f,u.modelCursor=g}},{priority:"lowest"}),Pt().prototype.decorate.call(this,"init"),Pt().prototype.decorate.call(this,"set"),Pt().prototype.decorate.call(this,"get"),Pt().prototype.decorate.call(this,"toView"),Pt().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},Fp)},{priority:"lowest"})}get(r={}){const{rootName:o="main",trim:a="empty"}=r;if(!this._checkIfRootsExists([o]))throw new V("datacontroller-get-non-existent-root",this);const u=this.model.document.getRoot(o);return u.isAttached()||ke("datacontroller-get-detached-root",this),"empty"!==a||this.model.hasContent(u,{ignoreWhitespaces:!0})?this.stringify(u,r):""}stringify(r,o={}){const a=this.toView(r,o);return this.processor.toData(a)}toView(r,o={}){const a=this.viewDocument,u=this._viewWriter;this.mapper.clearBindings();const h=X._createIn(r),f=new wa(a);this.mapper.bindElements(r,f);const g=r.is("documentFragment")?r.markers:function(_){const b=[],w=_.root.document;if(!w)return new Map;const v=X._createIn(_);for(const A of w.model.markers){const E=A.getRange(),D=E.isCollapsed,x=E.start.isEqual(v.start)||E.end.isEqual(v.end);if(D&&x)b.push([A.name,E]);else{const P=v.getIntersection(E);P&&b.push([A.name,P])}}return b.sort(([A,E],[D,x])=>{if("after"!==E.end.compareWith(x.start))return 1;if("before"!==E.start.compareWith(x.end))return-1;switch(E.start.compareWith(x.start)){case"before":return 1;case"after":return-1;default:switch(E.end.compareWith(x.end)){case"before":return 1;case"after":return-1;default:return D.localeCompare(A)}}}),new Map(b)}(r);return this.downcastDispatcher.convert(h,g,u,o),f}init(r){if(this.model.document.version)throw new V("datacontroller-init-document-not-empty",this);let o={};if("string"==typeof r?o.main=r:o=r,!this._checkIfRootsExists(Object.keys(o)))throw new V("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},a=>{for(const u of Object.keys(o)){const h=this.model.document.getRoot(u);a.insert(this.parse(o[u],h),h,0)}}),Promise.resolve()}set(r,o={}){let a={};if("string"==typeof r?a.main=r:a=r,!this._checkIfRootsExists(Object.keys(a)))throw new V("datacontroller-set-non-existent-root",this);this.model.enqueueChange(o.batchType||{},u=>{u.setSelection(null),u.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const h of Object.keys(a)){const f=this.model.document.getRoot(h);u.remove(u.createRangeIn(f)),u.insert(this.parse(a[h],f),f,0)}})}parse(r,o="$root"){const a=this.processor.toView(r);return this.toModel(a,o)}toModel(r,o="$root"){return this.model.change(a=>this.upcastDispatcher.convert(r,a,o))}addStyleProcessorRules(r){r(this.stylesProcessor)}registerRawContentMatcher(r){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(r),this.htmlProcessor.registerRawContentMatcher(r)}destroy(){this.stopListening()}_checkIfRootsExists(r){for(const o of r)if(!this.model.document.getRoot(o))return!1;return!0}}class Zb{constructor(r,o){this._helpers=new Map,this._downcast=Hn(r),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=Hn(o),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(r,o){const a=this._downcast.includes(o);if(!this._upcast.includes(o)&&!a)throw new V("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:r,dispatchers:[o],isDowncast:a})}for(r){if(!this._helpers.has(r))throw new V("conversion-for-unknown-group",this);return this._helpers.get(r)}elementToElement(r){this.for("downcast").elementToElement(r);for(const{model:o,view:a}of jp(r))this.for("upcast").elementToElement({model:o,view:a,converterPriority:r.converterPriority})}attributeToElement(r){this.for("downcast").attributeToElement(r);for(const{model:o,view:a}of jp(r))this.for("upcast").elementToAttribute({view:a,model:o,converterPriority:r.converterPriority})}attributeToAttribute(r){this.for("downcast").attributeToAttribute(r);for(const{model:o,view:a}of jp(r))this.for("upcast").attributeToAttribute({view:a,model:o})}_createConversionHelpers({name:r,dispatchers:o,isDowncast:a}){if(this._helpers.has(r))throw new V("conversion-group-exists",this);const u=a?new VP(o):new s1(o);this._helpers.set(r,u)}}function*jp(l){if(l.model.values)for(const r of l.model.values){const o={key:l.model.key,value:r},a=l.view[r],u=l.upcastAlso?l.upcastAlso[r]:void 0;yield*kc(o,a,u)}else yield*kc(l.model,l.view,l.upcastAlso)}function*kc(l,r,o){if(yield{model:l,view:r},o)for(const a of Hn(o))yield{model:l,view:a}}class Hr{constructor(r){this.baseVersion=r,this.isDocumentOperation=null!==this.baseVersion,this.batch=null}_validate(){}toJSON(){const r=Object.assign({},this);return r.__className=this.constructor.className,delete r.batch,delete r.isDocumentOperation,r}static get className(){return"Operation"}static fromJSON(r,o){return new this(r.baseVersion)}}function Up(l,r){const o=_1(r),a=o.reduce((f,g)=>f+g.offsetSize,0),u=l.parent;Ud(l);const h=l.index;return u._insertChild(h,o),jd(u,h+o.length),jd(u,h),new X(l,l.getShiftedBy(a))}function Hp(l){if(!l.isFlat)throw new V("operation-utils-remove-range-not-flat",this);const r=l.start.parent;Ud(l.start),Ud(l.end);const o=r._removeChildren(l.start.index,l.end.index-l.start.index);return jd(r,l.start.index),o}function Aa(l,r){if(!l.isFlat)throw new V("operation-utils-move-range-not-flat",this);const o=Hp(l);return Up(r=r._getTransformedByDeletion(l.start,l.end.offset-l.start.offset),o)}function _1(l){const r=[];!function o(a){if("string"==typeof a)r.push(new mt(a));else if(a instanceof si)r.push(new mt(a.data,a.getAttributes()));else if(a instanceof Ro)r.push(a);else if(ao(a))for(const u of a)o(u)}(l);for(let o=1;o<r.length;o++){const a=r[o],u=r[o-1];a instanceof mt&&u instanceof mt&&b1(a,u)&&(r.splice(o-1,2,new mt(u.data+a.data,u.getAttributes())),o--)}return r}function jd(l,r){const o=l.getChild(r-1),a=l.getChild(r);if(o&&a&&o.is("$text")&&a.is("$text")&&b1(o,a)){const u=new mt(o.data+a.data,o.getAttributes());l._removeChildren(r-1,2),l._insertChild(r-1,u)}}function Ud(l){const r=l.textNode,o=l.parent;if(r){const a=l.offset-r.startOffset,u=r.index;o._removeChildren(u,1);const h=new mt(r.data.substr(0,a),r.getAttributes()),f=new mt(r.data.substr(a),r.getAttributes());o._insertChild(u,[h,f])}}function b1(l,r){const o=l.getAttributes(),a=r.getAttributes();for(const u of o){if(u[1]!==r.getAttribute(u[0]))return!1;a.next()}return a.next().done}class Rt extends Hr{constructor(r,o,a,u){super(u),this.sourcePosition=r.clone(),this.sourcePosition.stickiness="toNext",this.howMany=o,this.targetPosition=a.clone(),this.targetPosition.stickiness="toNone"}get type(){return"$graveyard"==this.targetPosition.root.rootName?"remove":"$graveyard"==this.sourcePosition.root.rootName?"reinsert":"move"}get affectedSelectable(){return[X._createFromPositionAndShift(this.sourcePosition,this.howMany),X._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new Rt(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const r=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new Rt(this.getMovedRangeStart(),this.howMany,r,this.baseVersion+1)}_validate(){const r=this.sourcePosition.parent,o=this.targetPosition.parent,a=this.sourcePosition.offset,u=this.targetPosition.offset;if(a+this.howMany>r.maxOffset)throw new V("move-operation-nodes-do-not-exist",this);if(r===o&&a<u&&u<a+this.howMany)throw new V("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&"prefix"==ni(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())){const h=this.sourcePosition.path.length-1;if(this.targetPosition.path[h]>=a&&this.targetPosition.path[h]<a+this.howMany)throw new V("move-operation-node-into-itself",this)}}_execute(){Aa(X._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const r=super.toJSON();return r.sourcePosition=this.sourcePosition.toJSON(),r.targetPosition=this.targetPosition.toJSON(),r}static get className(){return"MoveOperation"}static fromJSON(r,o){const a=se.fromJSON(r.sourcePosition,o),u=se.fromJSON(r.targetPosition,o);return new this(a,r.howMany,u,r.baseVersion)}}class wr extends Hr{constructor(r,o,a){super(a),this.position=r.clone(),this.position.stickiness="toNone",this.nodes=new Td(_1(o)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const r=new Td([...this.nodes].map(a=>a._clone(!0))),o=new wr(this.position,r,this.baseVersion);return o.shouldReceiveAttributes=this.shouldReceiveAttributes,o}getReversed(){const o=new se(this.position.root.document.graveyard,[0]);return new Rt(this.position,this.nodes.maxOffset,o,this.baseVersion+1)}_validate(){const r=this.position.parent;if(!r||r.maxOffset<this.position.offset)throw new V("insert-operation-position-invalid",this)}_execute(){const r=this.nodes;this.nodes=new Td([...r].map(o=>o._clone(!0))),Up(this.position,r)}toJSON(){const r=super.toJSON();return r.position=this.position.toJSON(),r.nodes=this.nodes.toJSON(),r}static get className(){return"InsertOperation"}static fromJSON(r,o){const a=[];for(const h of r.nodes)a.push(h.name?Ut.fromJSON(h):mt.fromJSON(h));const u=new wr(se.fromJSON(r.position,o),a,r.baseVersion);return u.shouldReceiveAttributes=r.shouldReceiveAttributes,u}}class Gt extends Hr{constructor(r,o,a,u,h){super(h),this.splitPosition=r.clone(),this.splitPosition.stickiness="toNext",this.howMany=o,this.insertionPosition=a,this.graveyardPosition=u?u.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const r=this.insertionPosition.path.slice();return r.push(0),new se(this.insertionPosition.root,r)}get movedRange(){const r=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new X(this.splitPosition,r)}get affectedSelectable(){const r=[X._createFromPositionAndShift(this.splitPosition,0),X._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&r.push(X._createFromPositionAndShift(this.graveyardPosition,0)),r}clone(){return new Gt(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const o=new se(this.splitPosition.root.document.graveyard,[0]);return new yn(this.moveTargetPosition,this.howMany,this.splitPosition,o,this.baseVersion+1)}_validate(){const r=this.splitPosition.parent;if(!r||r.maxOffset<this.splitPosition.offset)throw new V("split-operation-position-invalid",this);if(!r.parent)throw new V("split-operation-split-in-root",this);if(this.howMany!=r.maxOffset-this.splitPosition.offset)throw new V("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new V("split-operation-graveyard-position-invalid",this)}_execute(){const r=this.splitPosition.parent;if(this.graveyardPosition)Aa(X._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const o=r._clone();Up(this.insertionPosition,o)}Aa(new X(se._createAt(r,this.splitPosition.offset),se._createAt(r,r.maxOffset)),this.moveTargetPosition)}toJSON(){const r=super.toJSON();return r.splitPosition=this.splitPosition.toJSON(),r.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(r.graveyardPosition=this.graveyardPosition.toJSON()),r}static get className(){return"SplitOperation"}static getInsertionPosition(r){const o=r.path.slice(0,-1);return o[o.length-1]++,new se(r.root,o,"toPrevious")}static fromJSON(r,o){const a=se.fromJSON(r.splitPosition,o),u=se.fromJSON(r.insertionPosition,o),h=r.graveyardPosition?se.fromJSON(r.graveyardPosition,o):null;return new this(a,r.howMany,u,h,r.baseVersion)}}class yn extends Hr{constructor(r,o,a,u,h){super(h),this.sourcePosition=r.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=o,this.targetPosition=a.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=u.clone()}get type(){return"merge"}get deletionPosition(){return new se(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const r=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new X(this.sourcePosition,r)}get affectedSelectable(){return[X._createOn(this.sourcePosition.parent),X._createFromPositionAndShift(this.targetPosition,0),X._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new yn(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const r=this.targetPosition._getTransformedByMergeOperation(this),o=this.sourcePosition.path.slice(0,-1),a=new se(this.sourcePosition.root,o)._getTransformedByMergeOperation(this);return new Gt(r,this.howMany,a,this.graveyardPosition,this.baseVersion+1)}_validate(){const r=this.sourcePosition.parent,o=this.targetPosition.parent;if(!r.parent)throw new V("merge-operation-source-position-invalid",this);if(!o.parent)throw new V("merge-operation-target-position-invalid",this);if(this.howMany!=r.maxOffset)throw new V("merge-operation-how-many-invalid",this)}_execute(){const r=this.sourcePosition.parent;Aa(X._createIn(r),this.targetPosition),Aa(X._createOn(r),this.graveyardPosition)}toJSON(){const r=super.toJSON();return r.sourcePosition=r.sourcePosition.toJSON(),r.targetPosition=r.targetPosition.toJSON(),r.graveyardPosition=r.graveyardPosition.toJSON(),r}static get className(){return"MergeOperation"}static fromJSON(r,o){const a=se.fromJSON(r.sourcePosition,o),u=se.fromJSON(r.targetPosition,o),h=se.fromJSON(r.graveyardPosition,o);return new this(a,r.howMany,u,h,r.baseVersion)}}class ci extends Hr{constructor(r,o,a,u,h,f){super(f),this.name=r,this.oldRange=o?o.clone():null,this.newRange=a?a.clone():null,this.affectsData=h,this._markers=u}get type(){return"marker"}get affectedSelectable(){const r=[];return this.oldRange&&r.push(this.oldRange.clone()),this.newRange&&(this.oldRange?r.push(...this.newRange.getDifference(this.oldRange)):r.push(this.newRange.clone())),r}clone(){return new ci(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new ci(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const r=super.toJSON();return this.oldRange&&(r.oldRange=this.oldRange.toJSON()),this.newRange&&(r.newRange=this.newRange.toJSON()),delete r._markers,r}static get className(){return"MarkerOperation"}static fromJSON(r,o){return new ci(r.name,r.oldRange?X.fromJSON(r.oldRange,o):null,r.newRange?X.fromJSON(r.newRange,o):null,o.model.markers,r.affectsData,r.baseVersion)}}const Gp=function(l,r){return Mp(l,r)};class Gn extends Hr{constructor(r,o,a,u,h){super(h),this.range=r.clone(),this.key=o,this.oldValue=void 0===a?null:a,this.newValue=void 0===u?null:u}get type(){return null===this.oldValue?"addAttribute":null===this.newValue?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new Gn(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Gn(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const r=super.toJSON();return r.range=this.range.toJSON(),r}_validate(){if(!this.range.isFlat)throw new V("attribute-operation-range-not-flat",this);for(const r of this.range.getItems({shallow:!0})){if(null!==this.oldValue&&!Gp(r.getAttribute(this.key),this.oldValue))throw new V("attribute-operation-wrong-old-value",this,{item:r,key:this.key,value:this.oldValue});if(null===this.oldValue&&null!==this.newValue&&r.hasAttribute(this.key))throw new V("attribute-operation-attribute-exists",this,{node:r,key:this.key})}}_execute(){Gp(this.oldValue,this.newValue)||function(r,o,a){Ud(r.start),Ud(r.end);for(const u of r.getItems({shallow:!0})){const h=u.is("$textProxy")?u.textNode:u;null!==a?h._setAttribute(o,a):h._removeAttribute(o),jd(h.parent,h.index)}jd(r.end.parent,r.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(r,o){return new Gn(X.fromJSON(r.range,o),r.key,r.oldValue,r.newValue,r.baseVersion)}}class Jn extends Hr{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new Jn(this.baseVersion)}getReversed(){return new Jn(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class Gr extends Hr{constructor(r,o,a,u){super(u),this.position=r,this.position.stickiness="toNext",this.oldName=o,this.newName=a}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new Gr(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new Gr(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const r=this.position.nodeAfter;if(!(r instanceof Ut))throw new V("rename-operation-wrong-position",this);if(r.name!==this.oldName)throw new V("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const r=super.toJSON();return r.position=this.position.toJSON(),r}static get className(){return"RenameOperation"}static fromJSON(r,o){return new Gr(se.fromJSON(r.position,o),r.oldName,r.newName,r.baseVersion)}}class hs extends Hr{constructor(r,o,a,u,h){super(h),this.root=r,this.key=o,this.oldValue=void 0===a?null:a,this.newValue=void 0===u?null:u}get type(){return null===this.oldValue?"addRootAttribute":null===this.newValue?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new hs(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new hs(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new V("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(null!==this.oldValue&&this.root.getAttribute(this.key)!==this.oldValue)throw new V("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(null===this.oldValue&&null!==this.newValue&&this.root.hasAttribute(this.key))throw new V("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){null!==this.newValue?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const r=super.toJSON();return r.root=this.root.toJSON(),r}static get className(){return"RootAttributeOperation"}static fromJSON(r,o){if(!o.getRoot(r.root))throw new V("rootattribute-operation-fromjson-no-root",this,{rootName:r.root});return new hs(o.getRoot(r.root),r.key,r.oldValue,r.newValue,r.baseVersion)}}class $r extends Hr{constructor(r,o,a,u,h){super(h),this.rootName=r,this.elementName=o,this.isAdd=a,this._document=u,!this._document.getRoot(this.rootName)&&(this._document.createRoot(this.elementName,this.rootName)._isAttached=!1)}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new $r(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new $r(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const r=super.toJSON();return delete r._document,r}static get className(){return"RootOperation"}static fromJSON(r,o){return new $r(r.rootName,r.elementName,r.isAdd,o,r.baseVersion)}}const Zi={};Zi[Gn.className]=Gn,Zi[wr.className]=wr,Zi[ci.className]=ci,Zi[Rt.className]=Rt,Zi[Jn.className]=Jn,Zi[Hr.className]=Hr,Zi[Gr.className]=Gr,Zi[hs.className]=hs,Zi[$r.className]=$r,Zi[Gt.className]=Gt,Zi[yn.className]=yn;class y1{static fromJSON(r,o){return Zi[r.__className].fromJSON(r,o)}}const Jb=new Map;function Mt(l,r,o){let a=Jb.get(l);a||(a=new Map,Jb.set(l,a)),a.set(r,o)}function $p(l){return[l]}function w1(l,r,o={}){const a=function(u,h){const f=Jb.get(u);return f&&f.has(h)?f.get(h):$p}(l.constructor,r.constructor);try{return a(l=l.clone(),r,o)}catch(u){throw u}}function k1(l,r,o){l=l.slice(),r=r.slice();const a=new v1(o.document,o.useRelations,o.forceWeakRemove);a.setOriginalOperations(l),a.setOriginalOperations(r);const u=a.originalOperations;if(0==l.length||0==r.length)return{operationsA:l,operationsB:r,originalOperations:u};const h=new WeakMap;for(const _ of l)h.set(_,0);const f={nextBaseVersionA:l[l.length-1].baseVersion+1,nextBaseVersionB:r[r.length-1].baseVersion+1,originalOperationsACount:l.length,originalOperationsBCount:r.length};let g=0;for(;g<l.length;){const _=l[g],b=h.get(_);if(b==r.length){g++;continue}const w=r[b],v=w1(_,w,a.getContext(_,w,!0)),A=w1(w,_,a.getContext(w,_,!1));a.updateRelation(_,w),a.setOriginalOperations(v,_),a.setOriginalOperations(A,w);for(const E of v)h.set(E,b+A.length);l.splice(g,1,...v),r.splice(b,1,...A)}if(o.padWithNoOps){const _=l.length-f.originalOperationsACount,b=r.length-f.originalOperationsBCount;qp(l,b-_),qp(r,_-b)}return Xb(l,f.nextBaseVersionB),Xb(r,f.nextBaseVersionA),{operationsA:l,operationsB:r,originalOperations:u}}class v1{constructor(r,o,a=!1){this.originalOperations=new Map,this._history=r.history,this._useRelations=o,this._forceWeakRemove=!!a,this._relations=new Map}setOriginalOperations(r,o=null){const a=o?this.originalOperations.get(o):null;for(const u of r)this.originalOperations.set(u,a||u)}updateRelation(r,o){if(r instanceof Rt)o instanceof yn?r.targetPosition.isEqual(o.sourcePosition)||o.movedRange.containsPosition(r.targetPosition)?this._setRelation(r,o,"insertAtSource"):r.targetPosition.isEqual(o.deletionPosition)?this._setRelation(r,o,"insertBetween"):r.targetPosition.isAfter(o.sourcePosition)&&this._setRelation(r,o,"moveTargetAfter"):o instanceof Rt&&(r.targetPosition.isEqual(o.sourcePosition)||r.targetPosition.isBefore(o.sourcePosition)?this._setRelation(r,o,"insertBefore"):this._setRelation(r,o,"insertAfter"));else if(r instanceof Gt){if(o instanceof yn)r.splitPosition.isBefore(o.sourcePosition)&&this._setRelation(r,o,"splitBefore");else if(o instanceof Rt)if(r.splitPosition.isEqual(o.sourcePosition)||r.splitPosition.isBefore(o.sourcePosition))this._setRelation(r,o,"splitBefore");else{const a=X._createFromPositionAndShift(o.sourcePosition,o.howMany);r.splitPosition.hasSameParentAs(o.sourcePosition)&&a.containsPosition(r.splitPosition)&&this._setRelation(r,o,{howMany:a.end.offset-r.splitPosition.offset,offset:r.splitPosition.offset-a.start.offset})}}else if(r instanceof yn)o instanceof yn?(r.targetPosition.isEqual(o.sourcePosition)||this._setRelation(r,o,"mergeTargetNotMoved"),r.sourcePosition.isEqual(o.targetPosition)&&this._setRelation(r,o,"mergeSourceNotMoved"),r.sourcePosition.isEqual(o.sourcePosition)&&this._setRelation(r,o,"mergeSameElement")):o instanceof Gt&&r.sourcePosition.isEqual(o.splitPosition)&&this._setRelation(r,o,"splitAtSource");else if(r instanceof ci){const a=r.newRange;if(!a)return;if(o instanceof Rt){const u=X._createFromPositionAndShift(o.sourcePosition,o.howMany),h=u.containsPosition(a.start)||u.start.isEqual(a.start),f=u.containsPosition(a.end)||u.end.isEqual(a.end);!h&&!f||u.containsRange(a)||this._setRelation(r,o,{side:h?"left":"right",path:h?a.start.path.slice():a.end.path.slice()})}else if(o instanceof yn){const u=a.start.isEqual(o.targetPosition),h=a.start.isEqual(o.deletionPosition),f=a.end.isEqual(o.deletionPosition),g=a.end.isEqual(o.sourcePosition);(u||h||f||g)&&this._setRelation(r,o,{wasInLeftElement:u,wasStartBeforeMergedElement:h,wasEndBeforeMergedElement:f,wasInRightElement:g})}}}getContext(r,o,a){return{aIsStrong:a,aWasUndone:this._wasUndone(r),bWasUndone:this._wasUndone(o),abRelation:this._useRelations?this._getRelation(r,o):null,baRelation:this._useRelations?this._getRelation(o,r):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(r){const o=this.originalOperations.get(r);return o.wasUndone||this._history.isUndoneOperation(o)}_getRelation(r,o){const a=this.originalOperations.get(o),u=this._history.getUndoneOperation(a);if(!u)return null;const h=this.originalOperations.get(r),f=this._relations.get(h);return f&&f.get(u)||null}_setRelation(r,o,a){const u=this.originalOperations.get(r),h=this.originalOperations.get(o);let f=this._relations.get(u);f||(f=new Map,this._relations.set(u,f)),f.set(h,a)}}function Xb(l,r){for(const o of l)o.baseVersion=r++}function qp(l,r){for(let o=0;o<r;o++)l.push(new Jn(0))}function ey(l,r,o){const a=l.nodes.getNode(0).getAttribute(r);if(a==o)return null;const u=new X(l.position,l.position.getShiftedBy(l.howMany));return new Gn(u,r,a,o,0)}function Hd(l,r){return null===l.targetPosition._getTransformedByDeletion(r.sourcePosition,r.howMany)}function fs(l,r){const o=[];for(let a=0;a<l.length;a++){const u=l[a],h=new Rt(u.start,u.end.offset-u.start.offset,r,0);o.push(h);for(let f=a+1;f<l.length;f++)l[f]=l[f]._getTransformedByMove(h.sourcePosition,h.targetPosition,h.howMany)[0];r=r._getTransformedByMove(h.sourcePosition,h.targetPosition,h.howMany)}return o}Mt(Gn,Gn,(l,r,o)=>{if(l.key===r.key&&l.range.start.hasSameParentAs(r.range.start)){const a=l.range.getDifference(r.range).map(h=>new Gn(h,l.key,l.oldValue,l.newValue,0)),u=l.range.getIntersection(r.range);return u&&o.aIsStrong&&a.push(new Gn(u,r.key,r.newValue,l.newValue,0)),0==a.length?[new Jn(0)]:a}return[l]}),Mt(Gn,wr,(l,r)=>{if(l.range.start.hasSameParentAs(r.position)&&l.range.containsPosition(r.position)){const o=l.range._getTransformedByInsertion(r.position,r.howMany,!r.shouldReceiveAttributes).map(a=>new Gn(a,l.key,l.oldValue,l.newValue,l.baseVersion));if(r.shouldReceiveAttributes){const a=ey(r,l.key,l.oldValue);a&&o.unshift(a)}return o}return l.range=l.range._getTransformedByInsertion(r.position,r.howMany,!1)[0],[l]}),Mt(Gn,yn,(l,r)=>{const o=[];l.range.start.hasSameParentAs(r.deletionPosition)&&(l.range.containsPosition(r.deletionPosition)||l.range.start.isEqual(r.deletionPosition))&&o.push(X._createFromPositionAndShift(r.graveyardPosition,1));const a=l.range._getTransformedByMergeOperation(r);return a.isCollapsed||o.push(a),o.map(u=>new Gn(u,l.key,l.oldValue,l.newValue,l.baseVersion))}),Mt(Gn,Rt,(l,r)=>function(a,u){const h=X._createFromPositionAndShift(u.sourcePosition,u.howMany);let f=null,g=[];h.containsRange(a,!0)?f=a:a.start.hasSameParentAs(h.start)?(g=a.getDifference(h),f=a.getIntersection(h)):g=[a];const _=[];for(let b of g){b=b._getTransformedByDeletion(u.sourcePosition,u.howMany);const w=u.getMovedRangeStart(),v=b.start.hasSameParentAs(w),A=b._getTransformedByInsertion(w,u.howMany,v);_.push(...A)}return f&&_.push(f._getTransformedByMove(u.sourcePosition,u.targetPosition,u.howMany,!1)[0]),_}(l.range,r).map(a=>new Gn(a,l.key,l.oldValue,l.newValue,l.baseVersion))),Mt(Gn,Gt,(l,r)=>{if(l.range.end.isEqual(r.insertionPosition))return r.graveyardPosition||l.range.end.offset++,[l];if(l.range.start.hasSameParentAs(r.splitPosition)&&l.range.containsPosition(r.splitPosition)){const o=l.clone();return o.range=new X(r.moveTargetPosition.clone(),l.range.end._getCombined(r.splitPosition,r.moveTargetPosition)),l.range.end=r.splitPosition.clone(),l.range.end.stickiness="toPrevious",[l,o]}return l.range=l.range._getTransformedBySplitOperation(r),[l]}),Mt(wr,Gn,(l,r)=>{const o=[l];if(l.shouldReceiveAttributes&&l.position.hasSameParentAs(r.range.start)&&r.range.containsPosition(l.position)){const a=ey(l,r.key,r.newValue);a&&o.push(a)}return o}),Mt(wr,wr,(l,r,o)=>(l.position.isEqual(r.position)&&o.aIsStrong||(l.position=l.position._getTransformedByInsertOperation(r)),[l])),Mt(wr,Rt,(l,r)=>(l.position=l.position._getTransformedByMoveOperation(r),[l])),Mt(wr,Gt,(l,r)=>(l.position=l.position._getTransformedBySplitOperation(r),[l])),Mt(wr,yn,(l,r)=>(l.position=l.position._getTransformedByMergeOperation(r),[l])),Mt(ci,wr,(l,r)=>(l.oldRange&&(l.oldRange=l.oldRange._getTransformedByInsertOperation(r)[0]),l.newRange&&(l.newRange=l.newRange._getTransformedByInsertOperation(r)[0]),[l])),Mt(ci,ci,(l,r,o)=>{if(l.name==r.name){if(!o.aIsStrong)return[new Jn(0)];l.oldRange=r.newRange?r.newRange.clone():null}return[l]}),Mt(ci,yn,(l,r)=>(l.oldRange&&(l.oldRange=l.oldRange._getTransformedByMergeOperation(r)),l.newRange&&(l.newRange=l.newRange._getTransformedByMergeOperation(r)),[l])),Mt(ci,Rt,(l,r,o)=>{if(l.oldRange&&(l.oldRange=X._createFromRanges(l.oldRange._getTransformedByMoveOperation(r))),l.newRange){if(o.abRelation){const a=X._createFromRanges(l.newRange._getTransformedByMoveOperation(r));if("left"==o.abRelation.side&&r.targetPosition.isEqual(l.newRange.start))return l.newRange.end=a.end,l.newRange.start.path=o.abRelation.path,[l];if("right"==o.abRelation.side&&r.targetPosition.isEqual(l.newRange.end))return l.newRange.start=a.start,l.newRange.end.path=o.abRelation.path,[l]}l.newRange=X._createFromRanges(l.newRange._getTransformedByMoveOperation(r))}return[l]}),Mt(ci,Gt,(l,r,o)=>{if(l.oldRange&&(l.oldRange=l.oldRange._getTransformedBySplitOperation(r)),l.newRange){if(o.abRelation){const a=l.newRange._getTransformedBySplitOperation(r);return l.newRange.start.isEqual(r.splitPosition)&&o.abRelation.wasStartBeforeMergedElement?l.newRange.start=se._createAt(r.insertionPosition):l.newRange.start.isEqual(r.splitPosition)&&!o.abRelation.wasInLeftElement&&(l.newRange.start=se._createAt(r.moveTargetPosition)),l.newRange.end=l.newRange.end.isEqual(r.splitPosition)&&o.abRelation.wasInRightElement?se._createAt(r.moveTargetPosition):l.newRange.end.isEqual(r.splitPosition)&&o.abRelation.wasEndBeforeMergedElement?se._createAt(r.insertionPosition):a.end,[l]}l.newRange=l.newRange._getTransformedBySplitOperation(r)}return[l]}),Mt(yn,wr,(l,r)=>(l.sourcePosition.hasSameParentAs(r.position)&&(l.howMany+=r.howMany),l.sourcePosition=l.sourcePosition._getTransformedByInsertOperation(r),l.targetPosition=l.targetPosition._getTransformedByInsertOperation(r),[l])),Mt(yn,yn,(l,r,o)=>{if(l.sourcePosition.isEqual(r.sourcePosition)&&l.targetPosition.isEqual(r.targetPosition)){if(o.bWasUndone){const a=r.graveyardPosition.path.slice();return a.push(0),l.sourcePosition=new se(r.graveyardPosition.root,a),l.howMany=0,[l]}return[new Jn(0)]}if(l.sourcePosition.isEqual(r.sourcePosition)&&!l.targetPosition.isEqual(r.targetPosition)&&!o.bWasUndone&&"splitAtSource"!=o.abRelation){const a="$graveyard"==l.targetPosition.root.rootName,u="$graveyard"==r.targetPosition.root.rootName;if(u&&!a||(!a||u)&&o.aIsStrong){const h=r.targetPosition._getTransformedByMergeOperation(r),f=l.targetPosition._getTransformedByMergeOperation(r);return[new Rt(h,l.howMany,f,0)]}return[new Jn(0)]}return l.sourcePosition.hasSameParentAs(r.targetPosition)&&(l.howMany+=r.howMany),l.sourcePosition=l.sourcePosition._getTransformedByMergeOperation(r),l.targetPosition=l.targetPosition._getTransformedByMergeOperation(r),l.graveyardPosition.isEqual(r.graveyardPosition)&&o.aIsStrong||(l.graveyardPosition=l.graveyardPosition._getTransformedByMergeOperation(r)),[l]}),Mt(yn,Rt,(l,r,o)=>{const a=X._createFromPositionAndShift(r.sourcePosition,r.howMany);return"remove"==r.type&&!o.bWasUndone&&!o.forceWeakRemove&&l.deletionPosition.hasSameParentAs(r.sourcePosition)&&a.containsPosition(l.sourcePosition)?[new Jn(0)]:(l.sourcePosition.hasSameParentAs(r.targetPosition)&&(l.howMany+=r.howMany),l.sourcePosition.hasSameParentAs(r.sourcePosition)&&(l.howMany-=r.howMany),l.sourcePosition=l.sourcePosition._getTransformedByMoveOperation(r),l.targetPosition=l.targetPosition._getTransformedByMoveOperation(r),l.graveyardPosition.isEqual(r.targetPosition)||(l.graveyardPosition=l.graveyardPosition._getTransformedByMoveOperation(r)),[l])}),Mt(yn,Gt,(l,r,o)=>{if(r.graveyardPosition&&(l.graveyardPosition=l.graveyardPosition._getTransformedByDeletion(r.graveyardPosition,1),l.deletionPosition.isEqual(r.graveyardPosition)&&(l.howMany=r.howMany)),l.targetPosition.isEqual(r.splitPosition)){const a=0!=r.howMany,u=r.graveyardPosition&&l.deletionPosition.isEqual(r.graveyardPosition);if(a||u||"mergeTargetNotMoved"==o.abRelation)return l.sourcePosition=l.sourcePosition._getTransformedBySplitOperation(r),[l]}if(l.sourcePosition.isEqual(r.splitPosition)){if("mergeSourceNotMoved"==o.abRelation)return l.howMany=0,l.targetPosition=l.targetPosition._getTransformedBySplitOperation(r),[l];if("mergeSameElement"==o.abRelation||l.sourcePosition.offset>0)return l.sourcePosition=r.moveTargetPosition.clone(),l.targetPosition=l.targetPosition._getTransformedBySplitOperation(r),[l]}return l.sourcePosition.hasSameParentAs(r.splitPosition)&&(l.howMany=r.splitPosition.offset),l.sourcePosition=l.sourcePosition._getTransformedBySplitOperation(r),l.targetPosition=l.targetPosition._getTransformedBySplitOperation(r),[l]}),Mt(Rt,wr,(l,r)=>{const o=X._createFromPositionAndShift(l.sourcePosition,l.howMany)._getTransformedByInsertOperation(r,!1)[0];return l.sourcePosition=o.start,l.howMany=o.end.offset-o.start.offset,l.targetPosition.isEqual(r.position)||(l.targetPosition=l.targetPosition._getTransformedByInsertOperation(r)),[l]}),Mt(Rt,Rt,(l,r,o)=>{const a=X._createFromPositionAndShift(l.sourcePosition,l.howMany),u=X._createFromPositionAndShift(r.sourcePosition,r.howMany);let h,f=o.aIsStrong,g=!o.aIsStrong;if("insertBefore"==o.abRelation||"insertAfter"==o.baRelation?g=!0:"insertAfter"!=o.abRelation&&"insertBefore"!=o.baRelation||(g=!1),h=l.targetPosition.isEqual(r.targetPosition)&&g?l.targetPosition._getTransformedByDeletion(r.sourcePosition,r.howMany):l.targetPosition._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany),Hd(l,r)&&Hd(r,l))return[r.getReversed()];if(a.containsPosition(r.targetPosition)&&a.containsRange(u,!0))return a.start=a.start._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany),a.end=a.end._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany),fs([a],h);if(u.containsPosition(l.targetPosition)&&u.containsRange(a,!0))return a.start=a.start._getCombined(r.sourcePosition,r.getMovedRangeStart()),a.end=a.end._getCombined(r.sourcePosition,r.getMovedRangeStart()),fs([a],h);const _=ni(l.sourcePosition.getParentPath(),r.sourcePosition.getParentPath());if("prefix"==_||"extension"==_)return a.start=a.start._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany),a.end=a.end._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany),fs([a],h);"remove"!=l.type||"remove"==r.type||o.aWasUndone||o.forceWeakRemove?"remove"==l.type||"remove"!=r.type||o.bWasUndone||o.forceWeakRemove||(f=!1):f=!0;const b=[],w=a.getDifference(u);for(const A of w){A.start=A.start._getTransformedByDeletion(r.sourcePosition,r.howMany),A.end=A.end._getTransformedByDeletion(r.sourcePosition,r.howMany);const E="same"==ni(A.start.getParentPath(),r.getMovedRangeStart().getParentPath()),D=A._getTransformedByInsertion(r.getMovedRangeStart(),r.howMany,E);b.push(...D)}const v=a.getIntersection(u);return null!==v&&f&&(v.start=v.start._getCombined(r.sourcePosition,r.getMovedRangeStart()),v.end=v.end._getCombined(r.sourcePosition,r.getMovedRangeStart()),0===b.length?b.push(v):1==b.length?u.start.isBefore(a.start)||u.start.isEqual(a.start)?b.unshift(v):b.push(v):b.splice(1,0,v)),0===b.length?[new Jn(l.baseVersion)]:fs(b,h)}),Mt(Rt,Gt,(l,r,o)=>{let a=l.targetPosition.clone();l.targetPosition.isEqual(r.insertionPosition)&&r.graveyardPosition&&"moveTargetAfter"!=o.abRelation||(a=l.targetPosition._getTransformedBySplitOperation(r));const u=X._createFromPositionAndShift(l.sourcePosition,l.howMany);if(u.end.isEqual(r.insertionPosition))return r.graveyardPosition||l.howMany++,l.targetPosition=a,[l];if(u.start.hasSameParentAs(r.splitPosition)&&u.containsPosition(r.splitPosition)){let f=new X(r.splitPosition,u.end);return f=f._getTransformedBySplitOperation(r),fs([new X(u.start,r.splitPosition),f],a)}l.targetPosition.isEqual(r.splitPosition)&&"insertAtSource"==o.abRelation&&(a=r.moveTargetPosition),l.targetPosition.isEqual(r.insertionPosition)&&"insertBetween"==o.abRelation&&(a=l.targetPosition);const h=[u._getTransformedBySplitOperation(r)];if(r.graveyardPosition){const f=u.start.isEqual(r.graveyardPosition)||u.containsPosition(r.graveyardPosition);l.howMany>1&&f&&!o.aWasUndone&&h.push(X._createFromPositionAndShift(r.insertionPosition,1))}return fs(h,a)}),Mt(Rt,yn,(l,r,o)=>{const a=X._createFromPositionAndShift(l.sourcePosition,l.howMany);if(r.deletionPosition.hasSameParentAs(l.sourcePosition)&&a.containsPosition(r.sourcePosition))if("remove"!=l.type||o.forceWeakRemove){if(1==l.howMany)return o.bWasUndone?(l.sourcePosition=r.graveyardPosition.clone(),l.targetPosition=l.targetPosition._getTransformedByMergeOperation(r),[l]):[new Jn(0)]}else if(!o.aWasUndone){const h=[];let f=r.graveyardPosition.clone(),g=r.targetPosition._getTransformedByMergeOperation(r);l.howMany>1&&(h.push(new Rt(l.sourcePosition,l.howMany-1,l.targetPosition,0)),f=f._getTransformedByMove(l.sourcePosition,l.targetPosition,l.howMany-1),g=g._getTransformedByMove(l.sourcePosition,l.targetPosition,l.howMany-1));const _=r.deletionPosition._getCombined(l.sourcePosition,l.targetPosition),b=new Rt(f,1,_,0),w=b.getMovedRangeStart().path.slice();w.push(0);const v=new se(b.targetPosition.root,w);g=g._getTransformedByMove(f,_,1);const A=new Rt(g,r.howMany,v,0);return h.push(b),h.push(A),h}const u=X._createFromPositionAndShift(l.sourcePosition,l.howMany)._getTransformedByMergeOperation(r);return l.sourcePosition=u.start,l.howMany=u.end.offset-u.start.offset,l.targetPosition=l.targetPosition._getTransformedByMergeOperation(r),[l]}),Mt(Gr,wr,(l,r)=>(l.position=l.position._getTransformedByInsertOperation(r),[l])),Mt(Gr,yn,(l,r)=>l.position.isEqual(r.deletionPosition)?(l.position=r.graveyardPosition.clone(),l.position.stickiness="toNext",[l]):(l.position=l.position._getTransformedByMergeOperation(r),[l])),Mt(Gr,Rt,(l,r)=>(l.position=l.position._getTransformedByMoveOperation(r),[l])),Mt(Gr,Gr,(l,r,o)=>{if(l.position.isEqual(r.position)){if(!o.aIsStrong)return[new Jn(0)];l.oldName=r.newName}return[l]}),Mt(Gr,Gt,(l,r)=>{if("same"==ni(l.position.path,r.splitPosition.getParentPath())&&!r.graveyardPosition){const o=new Gr(l.position.getShiftedBy(1),l.oldName,l.newName,0);return[l,o]}return l.position=l.position._getTransformedBySplitOperation(r),[l]}),Mt(hs,hs,(l,r,o)=>{if(l.root===r.root&&l.key===r.key){if(!o.aIsStrong||l.newValue===r.newValue)return[new Jn(0)];l.oldValue=r.newValue}return[l]}),Mt($r,$r,(l,r)=>l.rootName===r.rootName&&l.isAdd===r.isAdd?[new Jn(0)]:[l]),Mt(Gt,wr,(l,r)=>(l.splitPosition.hasSameParentAs(r.position)&&l.splitPosition.offset<r.position.offset&&(l.howMany+=r.howMany),l.splitPosition=l.splitPosition._getTransformedByInsertOperation(r),l.insertionPosition=l.insertionPosition._getTransformedByInsertOperation(r),[l])),Mt(Gt,yn,(l,r,o)=>{if(!l.graveyardPosition&&!o.bWasUndone&&l.splitPosition.hasSameParentAs(r.sourcePosition)){const a=r.graveyardPosition.path.slice();a.push(0);const u=new se(r.graveyardPosition.root,a),h=Gt.getInsertionPosition(new se(r.graveyardPosition.root,a)),f=new Gt(u,0,h,null,0);return l.splitPosition=l.splitPosition._getTransformedByMergeOperation(r),l.insertionPosition=Gt.getInsertionPosition(l.splitPosition),l.graveyardPosition=f.insertionPosition.clone(),l.graveyardPosition.stickiness="toNext",[f,l]}return l.splitPosition.hasSameParentAs(r.deletionPosition)&&!l.splitPosition.isAfter(r.deletionPosition)&&l.howMany--,l.splitPosition.hasSameParentAs(r.targetPosition)&&(l.howMany+=r.howMany),l.splitPosition=l.splitPosition._getTransformedByMergeOperation(r),l.insertionPosition=Gt.getInsertionPosition(l.splitPosition),l.graveyardPosition&&(l.graveyardPosition=l.graveyardPosition._getTransformedByMergeOperation(r)),[l]}),Mt(Gt,Rt,(l,r,o)=>{const a=X._createFromPositionAndShift(r.sourcePosition,r.howMany);if(l.graveyardPosition){const h=a.start.isEqual(l.graveyardPosition)||a.containsPosition(l.graveyardPosition);if(!o.bWasUndone&&h){const f=l.splitPosition._getTransformedByMoveOperation(r),g=l.graveyardPosition._getTransformedByMoveOperation(r),_=g.path.slice();_.push(0);const b=new se(g.root,_);return[new Rt(f,l.howMany,b,0)]}l.graveyardPosition=l.graveyardPosition._getTransformedByMoveOperation(r)}const u=l.splitPosition.isEqual(r.targetPosition);if(u&&("insertAtSource"==o.baRelation||"splitBefore"==o.abRelation))return l.howMany+=r.howMany,l.splitPosition=l.splitPosition._getTransformedByDeletion(r.sourcePosition,r.howMany),l.insertionPosition=Gt.getInsertionPosition(l.splitPosition),[l];if(u&&o.abRelation&&o.abRelation.howMany){const{howMany:h,offset:f}=o.abRelation;return l.howMany+=h,l.splitPosition=l.splitPosition.getShiftedBy(f),[l]}return l.splitPosition.hasSameParentAs(r.sourcePosition)&&a.containsPosition(l.splitPosition)?(l.howMany-=r.howMany-(l.splitPosition.offset-r.sourcePosition.offset),l.splitPosition.hasSameParentAs(r.targetPosition)&&l.splitPosition.offset<r.targetPosition.offset&&(l.howMany+=r.howMany),l.splitPosition=r.sourcePosition.clone(),l.insertionPosition=Gt.getInsertionPosition(l.splitPosition),[l]):(r.sourcePosition.isEqual(r.targetPosition)||(l.splitPosition.hasSameParentAs(r.sourcePosition)&&l.splitPosition.offset<=r.sourcePosition.offset&&(l.howMany-=r.howMany),l.splitPosition.hasSameParentAs(r.targetPosition)&&l.splitPosition.offset<r.targetPosition.offset&&(l.howMany+=r.howMany)),l.splitPosition.stickiness="toNone",l.splitPosition=l.splitPosition._getTransformedByMoveOperation(r),l.splitPosition.stickiness="toNext",l.insertionPosition=l.graveyardPosition?l.insertionPosition._getTransformedByMoveOperation(r):Gt.getInsertionPosition(l.splitPosition),[l])}),Mt(Gt,Gt,(l,r,o)=>{if(l.splitPosition.isEqual(r.splitPosition)){if(!l.graveyardPosition&&!r.graveyardPosition)return[new Jn(0)];if(l.graveyardPosition&&r.graveyardPosition&&l.graveyardPosition.isEqual(r.graveyardPosition))return[new Jn(0)];if("splitBefore"==o.abRelation)return l.howMany=0,l.graveyardPosition=l.graveyardPosition._getTransformedBySplitOperation(r),[l]}if(l.graveyardPosition&&r.graveyardPosition&&l.graveyardPosition.isEqual(r.graveyardPosition)){const a="$graveyard"==l.splitPosition.root.rootName,u="$graveyard"==r.splitPosition.root.rootName;if(u&&!a||(!a||u)&&o.aIsStrong){const h=[];return r.howMany&&h.push(new Rt(r.moveTargetPosition,r.howMany,r.splitPosition,0)),l.howMany&&h.push(new Rt(l.splitPosition,l.howMany,l.moveTargetPosition,0)),h}return[new Jn(0)]}if(l.graveyardPosition&&(l.graveyardPosition=l.graveyardPosition._getTransformedBySplitOperation(r)),l.splitPosition.isEqual(r.insertionPosition)&&"splitBefore"==o.abRelation)return l.howMany++,[l];if(r.splitPosition.isEqual(l.insertionPosition)&&"splitBefore"==o.baRelation){const a=r.insertionPosition.path.slice();a.push(0);const u=new se(r.insertionPosition.root,a);return[l,new Rt(l.insertionPosition,1,u,0)]}return l.splitPosition.hasSameParentAs(r.splitPosition)&&l.splitPosition.offset<r.splitPosition.offset&&(l.howMany-=r.howMany),l.splitPosition=l.splitPosition._getTransformedBySplitOperation(r),l.insertionPosition=Gt.getInsertionPosition(l.splitPosition),[l]});class kr extends(xt(se)){constructor(r,o,a="toNone"){if(super(r,o,a),!this.root.is("rootElement"))throw new V("model-liveposition-root-not-rootelement",r);ty.call(this)}detach(){this.stopListening()}toPosition(){return new se(this.root,this.path.slice(),this.stickiness)}static fromPosition(r,o){return new this(r.root,r.path.slice(),o||r.stickiness)}}function ty(){this.listenTo(this.root.document.model,"applyOperation",(l,r)=>{const o=r[0];o.isDocumentOperation&&Wp.call(this,o)},{priority:"low"})}function Wp(l){const r=this.getTransformedByOperation(l);if(!this.isEqual(r)){const o=this.toPosition();this.path=r.path,this.root=r.root,this.fire("change",o)}}kr.prototype.is=function(l){return"livePosition"===l||"model:livePosition"===l||"position"==l||"model:position"===l};class vc{constructor(r={}){"string"==typeof r&&(r="transparent"===r?{isUndoable:!1}:{},ke("batch-constructor-deprecated-string-type"));const{isUndoable:o=!0,isLocal:a=!0,isUndo:u=!1,isTyping:h=!1}=r;this.operations=[],this.isUndoable=o,this.isLocal=a,this.isUndo=u,this.isTyping=h}get type(){return ke("batch-type-deprecated"),"default"}get baseVersion(){for(const r of this.operations)if(null!==r.baseVersion)return r.baseVersion;return null}addOperation(r){return r.batch=this,this.operations.push(r),r}}var ny=Object.defineProperty,Gd=Object.defineProperties,QP=Object.getOwnPropertyDescriptors,ry=Object.getOwnPropertySymbols,YP=Object.prototype.hasOwnProperty,ZP=Object.prototype.propertyIsEnumerable,C1=(l,r,o)=>r in l?ny(l,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):l[r]=o,iy=(l,r)=>{for(var o in r||(r={}))YP.call(r,o)&&C1(l,o,r[o]);if(ry)for(var o of ry(r))ZP.call(r,o)&&C1(l,o,r[o]);return l};class A1{constructor(r){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=r}get isEmpty(){return 0==this._changesInElement.size&&0==this._changedMarkers.size&&0==this._changedRoots.size}bufferOperation(r){const o=r;switch(o.type){case"insert":if(this._isInInsertedElement(o.position.parent))return;this._markInsert(o.position.parent,o.position.offset,o.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const a of o.range.getItems({shallow:!0}))this._isInInsertedElement(a.parent)||this._markAttribute(a);break;case"remove":case"move":case"reinsert":{if(o.sourcePosition.isEqual(o.targetPosition)||o.sourcePosition.getShiftedBy(o.howMany).isEqual(o.targetPosition))return;const a=this._isInInsertedElement(o.sourcePosition.parent),u=this._isInInsertedElement(o.targetPosition.parent);a||this._markRemove(o.sourcePosition.parent,o.sourcePosition.offset,o.howMany),u||this._markInsert(o.targetPosition.parent,o.getMovedRangeStart().offset,o.howMany);break}case"rename":{if(this._isInInsertedElement(o.position.parent))return;this._markRemove(o.position.parent,o.position.offset,1),this._markInsert(o.position.parent,o.position.offset,1);const a=X._createFromPositionAndShift(o.position,1);for(const u of this._markerCollection.getMarkersIntersectingRange(a)){const h=u.getData();this.bufferMarkerChange(u.name,h,h)}break}case"split":{const a=o.splitPosition.parent;this._isInInsertedElement(a)||this._markRemove(a,o.splitPosition.offset,o.howMany),this._isInInsertedElement(o.insertionPosition.parent)||this._markInsert(o.insertionPosition.parent,o.insertionPosition.offset,1),o.graveyardPosition&&this._markRemove(o.graveyardPosition.parent,o.graveyardPosition.offset,1);break}case"merge":{const a=o.sourcePosition.parent;this._isInInsertedElement(a.parent)||this._markRemove(a.parent,a.startOffset,1),this._markInsert(o.graveyardPosition.parent,o.graveyardPosition.offset,1);const h=o.targetPosition.parent;this._isInInsertedElement(h)||this._markInsert(h,o.targetPosition.offset,a.maxOffset);break}case"detachRoot":case"addRoot":{const a=o.affectedSelectable;if(!a._isLoaded||a.isAttached()==o.isAdd)return;this._bufferRootStateChange(o.rootName,o.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":if(!o.root._isLoaded)return;this._bufferRootAttributeChange(o.root.rootName,o.key,o.oldValue,o.newValue)}this._cachedChanges=null}bufferMarkerChange(r,o,a){o.range&&o.range.root.is("rootElement")&&!o.range.root._isLoaded&&(o.range=null),a.range&&a.range.root.is("rootElement")&&!a.range.root._isLoaded&&(a.range=null);let u=this._changedMarkers.get(r);u?u.newMarkerData=a:(u={newMarkerData:a,oldMarkerData:o},this._changedMarkers.set(r,u)),null==u.oldMarkerData.range&&null==a.range&&this._changedMarkers.delete(r)}getMarkersToRemove(){const r=[];for(const[o,a]of this._changedMarkers)null!=a.oldMarkerData.range&&r.push({name:o,range:a.oldMarkerData.range});return r}getMarkersToAdd(){const r=[];for(const[o,a]of this._changedMarkers)null!=a.newMarkerData.range&&r.push({name:o,range:a.newMarkerData.range});return r}getChangedMarkers(){return Array.from(this._changedMarkers).map(([r,o])=>({name:r,data:{oldRange:o.oldMarkerData.range,newRange:o.newMarkerData.range}}))}hasDataChanges(){if(this._changesInElement.size>0||this._changedRoots.size>0)return!0;for(const{newMarkerData:r,oldMarkerData:o}of this._changedMarkers.values()){if(r.affectsData!==o.affectsData)return!0;if(r.affectsData){const a=r.range&&!o.range,u=!r.range&&o.range,h=r.range&&o.range&&!r.range.isEqual(o.range);if(a||u||h)return!0}}return!1}getChanges(r={}){if(this._cachedChanges)return r.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let o=[];for(const a of this._changesInElement.keys()){const u=this._changesInElement.get(a).sort((w,v)=>w.offset===v.offset?w.type!=v.type?"remove"==w.type?-1:1:0:w.offset<v.offset?-1:1),h=this._elementSnapshots.get(a),f=$d(a.getChildren()),g=oy(h.length,u);let _=0,b=0;for(const w of g)if("i"===w)o.push(this._getInsertDiff(a,_,f[_])),_++;else if("r"===w)o.push(this._getRemoveDiff(a,_,h[b])),b++;else if("a"===w){const v=f[_].attributes,A=h[b].attributes;let E;if("$text"==f[_].name)E=new X(se._createAt(a,_),se._createAt(a,_+1));else{const D=a.offsetToIndex(_);E=new X(se._createAt(a,_),se._createAt(a.getChild(D),0))}o.push(...this._getAttributesDiff(E,A,v)),_++,b++}else _++,b++}o.sort((a,u)=>a.position.root!=u.position.root?a.position.root.rootName<u.position.root.rootName?-1:1:a.position.isEqual(u.position)?a.changeCount-u.changeCount:a.position.isBefore(u.position)?-1:1);for(let a=1,u=0;a<o.length;a++){const h=o[u],f=o[a],g="remove"==h.type&&"remove"==f.type&&"$text"==h.name&&"$text"==f.name&&h.position.isEqual(f.position),b="attribute"==h.type&&"attribute"==f.type&&h.position.parent==f.position.parent&&h.range.isFlat&&f.range.isFlat&&h.position.offset+h.length==f.position.offset&&h.attributeKey==f.attributeKey&&h.attributeOldValue==f.attributeOldValue&&h.attributeNewValue==f.attributeNewValue;g||"insert"==h.type&&"insert"==f.type&&"$text"==h.name&&"$text"==f.name&&h.position.parent==f.position.parent&&h.position.offset+h.length==f.position.offset||b?(h.length++,b&&(h.range.end=h.range.end.getShiftedBy(1)),o[a]=null):u=a}o=o.filter(a=>a);for(const a of o)delete a.changeCount,"attribute"==a.type&&(delete a.position,delete a.length);return this._changeCount=0,this._cachedChangesWithGraveyard=o,this._cachedChanges=o.filter(Pl),r.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(r=>{const o=iy({},r);return void 0!==o.state&&delete o.attributes,o})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_bufferRootStateChange(r,o){if(!this._changedRoots.has(r))return void this._changedRoots.set(r,{name:r,state:o?"attached":"detached"});const a=this._changedRoots.get(r);void 0!==a.state?(delete a.state,void 0===a.attributes&&this._changedRoots.delete(r)):a.state=o?"attached":"detached"}_bufferRootAttributeChange(r,o,a,u){const h=this._changedRoots.get(r)||{name:r},f=h.attributes||{};if(f[o]){const g=f[o];u===g.oldValue?delete f[o]:g.newValue=u}else f[o]={oldValue:a,newValue:u};0===Object.entries(f).length?(delete h.attributes,void 0===h.state&&this._changedRoots.delete(r)):(h.attributes=f,this._changedRoots.set(r,h))}_refreshItem(r){if(this._isInInsertedElement(r.parent))return;this._markRemove(r.parent,r.startOffset,r.offsetSize),this._markInsert(r.parent,r.startOffset,r.offsetSize),this._refreshedItems.add(r);const o=X._createOn(r);for(const a of this._markerCollection.getMarkersIntersectingRange(o)){const u=a.getData();this.bufferMarkerChange(a.name,u,u)}this._cachedChanges=null}_bufferRootLoad(r){if(r.isAttached()){this._bufferRootStateChange(r.rootName,!0),this._markInsert(r,0,r.maxOffset);for(const a of r.getAttributeKeys())this._bufferRootAttributeChange(r.rootName,a,null,r.getAttribute(a));for(const a of this._markerCollection)if(a.getRange().root==r){const u=a.getData();this.bufferMarkerChange(a.name,(o=iy({},u),Gd(o,QP({range:null}))),u)}var o}}_markInsert(r,o,a){if(r.root.is("rootElement")&&!r.root._isLoaded)return;const u={type:"insert",offset:o,howMany:a,count:this._changeCount++};this._markChange(r,u)}_markRemove(r,o,a){if(r.root.is("rootElement")&&!r.root._isLoaded)return;const u={type:"remove",offset:o,howMany:a,count:this._changeCount++};this._markChange(r,u),this._removeAllNestedChanges(r,o,a)}_markAttribute(r){if(r.root.is("rootElement")&&!r.root._isLoaded)return;const o={type:"attribute",offset:r.startOffset,howMany:r.offsetSize,count:this._changeCount++};this._markChange(r.parent,o)}_markChange(r,o){this._makeSnapshot(r);const a=this._getChangesForElement(r);this._handleChange(o,a),a.push(o);for(let u=0;u<a.length;u++)a[u].howMany<1&&(a.splice(u,1),u--)}_getChangesForElement(r){let o;return this._changesInElement.has(r)?o=this._changesInElement.get(r):(o=[],this._changesInElement.set(r,o)),o}_makeSnapshot(r){this._elementSnapshots.has(r)||this._elementSnapshots.set(r,$d(r.getChildren()))}_handleChange(r,o){r.nodesToHandle=r.howMany;for(const a of o){const u=r.offset+r.howMany,h=a.offset+a.howMany;if("insert"==r.type&&("insert"==a.type&&(r.offset<=a.offset?a.offset+=r.howMany:r.offset<h&&(a.howMany+=r.nodesToHandle,r.nodesToHandle=0)),"remove"==a.type&&r.offset<a.offset&&(a.offset+=r.howMany),"attribute"==a.type))if(r.offset<=a.offset)a.offset+=r.howMany;else if(r.offset<h){const f=a.howMany;a.howMany=r.offset-a.offset,o.unshift({type:"attribute",offset:u,howMany:f-a.howMany,count:this._changeCount++})}if("remove"==r.type){if("insert"==a.type)if(u<=a.offset)a.offset-=r.howMany;else if(u<=h)if(r.offset<a.offset){const f=u-a.offset;a.offset=r.offset,a.howMany-=f,r.nodesToHandle-=f}else a.howMany-=r.nodesToHandle,r.nodesToHandle=0;else if(r.offset<=a.offset)r.nodesToHandle-=a.howMany,a.howMany=0;else if(r.offset<h){const f=h-r.offset;a.howMany-=f,r.nodesToHandle-=f}if("remove"==a.type&&(u<=a.offset?a.offset-=r.howMany:r.offset<a.offset&&(r.nodesToHandle+=a.howMany,a.howMany=0)),"attribute"==a.type)if(u<=a.offset)a.offset-=r.howMany;else if(r.offset<a.offset){const f=u-a.offset;a.offset=r.offset,a.howMany-=f}else if(r.offset<h)if(u<=h){const f=a.howMany;a.howMany=r.offset-a.offset,o.unshift({type:"attribute",offset:r.offset,howMany:f-a.howMany-r.nodesToHandle,count:this._changeCount++})}else a.howMany-=h-r.offset}if("attribute"==r.type){if("insert"==a.type)if(r.offset<a.offset&&u>a.offset){if(u>h){const f={type:"attribute",offset:h,howMany:u-h,count:this._changeCount++};this._handleChange(f,o),o.push(f)}r.nodesToHandle=a.offset-r.offset,r.howMany=r.nodesToHandle}else r.offset>=a.offset&&r.offset<h&&(u>h?(r.nodesToHandle=u-h,r.offset=h):r.nodesToHandle=0);if("remove"==a.type&&r.offset<a.offset&&u>a.offset){const f={type:"attribute",offset:a.offset,howMany:u-a.offset,count:this._changeCount++};this._handleChange(f,o),o.push(f),r.nodesToHandle=a.offset-r.offset,r.howMany=r.nodesToHandle}"attribute"==a.type&&(r.offset>=a.offset&&u<=h?(r.nodesToHandle=0,r.howMany=0,r.offset=0):r.offset<=a.offset&&u>=h&&(a.howMany=0))}}r.howMany=r.nodesToHandle,delete r.nodesToHandle}_getInsertDiff(r,o,a){return{type:"insert",position:se._createAt(r,o),name:a.name,attributes:new Map(a.attributes),length:1,changeCount:this._changeCount++}}_getRemoveDiff(r,o,a){return{type:"remove",position:se._createAt(r,o),name:a.name,attributes:new Map(a.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(r,o,a){const u=[];a=new Map(a);for(const[h,f]of o){const g=a.has(h)?a.get(h):null;g!==f&&u.push({type:"attribute",position:r.start,range:r.clone(),length:1,attributeKey:h,attributeOldValue:f,attributeNewValue:g,changeCount:this._changeCount++}),a.delete(h)}for(const[h,f]of a)u.push({type:"attribute",position:r.start,range:r.clone(),length:1,attributeKey:h,attributeOldValue:null,attributeNewValue:f,changeCount:this._changeCount++});return u}_isInInsertedElement(r){const o=r.parent;if(!o)return!1;const a=this._changesInElement.get(o),u=r.startOffset;if(a)for(const h of a)if("insert"==h.type&&u>=h.offset&&u<h.offset+h.howMany)return!0;return this._isInInsertedElement(o)}_removeAllNestedChanges(r,o,a){const u=new X(se._createAt(r,o),se._createAt(r,o+a));for(const h of u.getItems({shallow:!0}))h.is("element")&&(this._elementSnapshots.delete(h),this._changesInElement.delete(h),this._removeAllNestedChanges(h,0,h.maxOffset))}}function $d(l){const r=[];for(const o of l)if(o.is("$text"))for(let a=0;a<o.data.length;a++)r.push({name:"$text",attributes:new Map(o.getAttributes())});else r.push({name:o.name,attributes:new Map(o.getAttributes())});return r}function oy(l,r){const o=[];let a=0,u=0;for(const h of r){if(h.offset>a){for(let f=0;f<h.offset-a;f++)o.push("e");u+=h.offset-a}if("insert"==h.type){for(let f=0;f<h.howMany;f++)o.push("i");a=h.offset+h.howMany}else if("remove"==h.type){for(let f=0;f<h.howMany;f++)o.push("r");a=h.offset,u+=h.howMany}else o.push(..."a".repeat(h.howMany).split("")),a=h.offset+h.howMany,u+=h.howMany}if(u<l)for(let h=0;h<l-u-a;h++)o.push("e");return o}function Pl(l){return!("position"in l&&"$graveyard"==l.position.root.rootName||"range"in l&&"$graveyard"==l.range.root.rootName)}class JP{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(r){this._operations.length&&r>this._version+1&&this._gaps.set(this._version,r),this._version=r}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(r){if(r.baseVersion!==this.version)throw new V("model-document-history-addoperation-incorrect-version",this,{operation:r,historyVersion:this.version});this._operations.push(r),this._version++,this._baseVersionToOperationIndex.set(r.baseVersion,this._operations.length-1)}getOperations(r,o=this.version){if(!this._operations.length)return[];const a=this._operations[0];void 0===r&&(r=a.baseVersion);let u=o-1;for(const[g,_]of this._gaps)r>g&&r<_&&(r=_),u>g&&u<_&&(u=g-1);if(u<a.baseVersion||r>this.lastOperation.baseVersion)return[];let h=this._baseVersionToOperationIndex.get(r);void 0===h&&(h=0);let f=this._baseVersionToOperationIndex.get(u);return void 0===f&&(f=this._operations.length-1),this._operations.slice(h,f+1)}getOperation(r){const o=this._baseVersionToOperationIndex.get(r);if(void 0!==o)return this._operations[o]}setOperationAsUndone(r,o){this._undoPairs.set(o,r),this._undoneOperations.add(r)}isUndoingOperation(r){return this._undoPairs.has(r)}isUndoneOperation(r){return this._undoneOperations.has(r)}getUndoneOperation(r){return this._undoPairs.get(r)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class Kp extends Ut{constructor(r,o,a="main"){super(o),this._isAttached=!0,this._isLoaded=!0,this._document=r,this.rootName=a}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}Kp.prototype.is=function(l,r){return r?r===this.name&&("rootElement"===l||"model:rootElement"===l||"element"===l||"model:element"===l):"rootElement"===l||"model:rootElement"===l||"element"===l||"model:element"===l||"node"===l||"model:node"===l};var s7=Object.defineProperty,XP=Object.defineProperties,sy=Object.getOwnPropertyDescriptors,E1=Object.getOwnPropertySymbols,qd=Object.prototype.hasOwnProperty,Qp=Object.prototype.propertyIsEnumerable,Yp=(l,r,o)=>r in l?s7(l,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):l[r]=o,ay=(l,r)=>{for(var o in r||(r={}))qd.call(r,o)&&Yp(l,o,r[o]);if(E1)for(var o of E1(r))Qp.call(r,o)&&Yp(l,o,r[o]);return l},cy=(l,r)=>XP(l,sy(r));const ly="$graveyard";class I1 extends(xt()){constructor(r){super(),this.model=r,this.history=new JP,this.selection=new Oo(this),this.roots=new ii({idProperty:"rootName"}),this.differ=new A1(r.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",ly),this.listenTo(r,"applyOperation",(o,a)=>{const u=a[0];u.isDocumentOperation&&this.differ.bufferOperation(u)},{priority:"high"}),this.listenTo(r,"applyOperation",(o,a)=>{const u=a[0];u.isDocumentOperation&&this.history.addOperation(u)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(r.markers,"update",(o,a,u,h,f)=>{const g=cy(ay({},a.getData()),{range:h});this.differ.bufferMarkerChange(a.name,f,g),null===u&&a.on("change",(_,b)=>{const w=a.getData();this.differ.bufferMarkerChange(a.name,cy(ay({},w),{range:b}),w)})}),this.registerPostFixer(o=>{let a=!1;for(const u of this.roots)u.isAttached()||u.isEmpty||(o.remove(o.createRangeIn(u)),a=!0);for(const u of this.model.markers)u.getRange().root.isAttached()||(o.removeMarker(u),a=!0);return a})}get version(){return this.history.version}set version(r){this.history.version=r}get graveyard(){return this.getRoot(ly)}createRoot(r="$root",o="main"){if(this.roots.get(o))throw new V("model-document-createroot-name-exists",this,{name:o});const a=new Kp(this,r,o);return this.roots.add(a),a}destroy(){this.selection.destroy(),this.stopListening()}getRoot(r="main"){return this.roots.get(r)}getRootNames(r=!1){return this.getRoots(r).map(o=>o.rootName)}getRoots(r=!1){return Array.from(this.roots).filter(o=>o!=this.graveyard&&(r||o.isAttached())&&o._isLoaded)}registerPostFixer(r){this._postFixers.add(r)}toJSON(){const r=ar(this);return r.selection="[engine.model.DocumentSelection]",r.model="[engine.model.Model]",r}_handleChangeBlock(r){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(r),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",r.batch):this.fire("change",r.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const r=this.getRoots();return r.length?r[0]:this.graveyard}_getDefaultRange(){const r=this._getDefaultRoot(),o=this.model,a=o.schema,u=o.createPositionFromPath(r,[0]);return a.getNearestSelectionRange(u)||o.createRange(u)}_validateSelectionRange(r){return D1(r.start)&&D1(r.end)}_callPostFixers(r){let o=!1;do{for(const a of this._postFixers)if(this.selection.refresh(),o=a(r),o)break}while(o)}}function D1(l){const r=l.textNode;if(r){const o=r.data,a=l.offset-r.startOffset;return!aA(o,a)&&!cA(o,a)}return!0}var eR=Object.defineProperty,tR=Object.defineProperties,nR=Object.getOwnPropertyDescriptors,T1=Object.getOwnPropertySymbols,Ea=Object.prototype.hasOwnProperty,Wd=Object.prototype.propertyIsEnumerable,x1=(l,r,o)=>r in l?eR(l,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):l[r]=o;class a7 extends(xt()){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(r){return this._markers.has(r instanceof Kd?r.name:r)}get(r){return this._markers.get(r)||null}_set(r,o,a=!1,u=!1){const h=r instanceof Kd?r.name:r;if(h.includes(","))throw new V("markercollection-incorrect-marker-name",this);const f=this._markers.get(h);if(f){const w=f.getData(),v=f.getRange();let A=!1;return v.isEqual(o)||(f._attachLiveRange(Nr.fromRange(o)),A=!0),a!=f.managedUsingOperations&&(f._managedUsingOperations=a,A=!0),"boolean"==typeof u&&u!=f.affectsData&&(f._affectsData=u,A=!0),A&&this.fire(`update:${h}`,f,v,o,w),f}const g=Nr.fromRange(o),_=new Kd(h,g,a,u);var b;return this._markers.set(h,_),this.fire(`update:${h}`,_,null,o,(b=((w,v)=>{for(var A in v||(v={}))Ea.call(v,A)&&x1(w,A,v[A]);if(T1)for(var A of T1(v))Wd.call(v,A)&&x1(w,A,v[A]);return w})({},_.getData()),tR(b,nR({range:null})))),_}_remove(r){const o=r instanceof Kd?r.name:r,a=this._markers.get(o);return!!a&&(this._markers.delete(o),this.fire(`update:${o}`,a,a.getRange(),null,a.getData()),this._destroyMarker(a),!0)}_refresh(r){const o=r instanceof Kd?r.name:r,a=this._markers.get(o);if(!a)throw new V("markercollection-refresh-marker-not-exists",this);const u=a.getRange();this.fire(`update:${o}`,a,u,u,a.getData())}*getMarkersAtPosition(r){for(const o of this)o.getRange().containsPosition(r)&&(yield o)}*getMarkersIntersectingRange(r){for(const o of this)null!==o.getRange().getIntersection(r)&&(yield o)}destroy(){for(const r of this._markers.values())this._destroyMarker(r);this._markers=null,this.stopListening()}*getMarkersGroup(r){for(const o of this._markers.values())o.name.startsWith(r+":")&&(yield o)}_destroyMarker(r){r.stopListening(),r._detachLiveRange()}}class Kd extends(xt(va)){constructor(r,o,a,u){super(),this.name=r,this._liveRange=this._attachLiveRange(o),this._managedUsingOperations=a,this._affectsData=u}get managedUsingOperations(){if(!this._liveRange)throw new V("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new V("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new V("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new V("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new V("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(r){return this._liveRange&&this._detachLiveRange(),r.delegate("change:range").to(this),r.delegate("change:content").to(this),this._liveRange=r,r}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}Kd.prototype.is=function(l){return"marker"===l||"model:marker"===l};class c7 extends Hr{constructor(r,o){super(null),this.sourcePosition=r.clone(),this.howMany=o}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const r=super.toJSON();return r.sourcePosition=this.sourcePosition.toJSON(),r}_validate(){if(this.sourcePosition.root.document)throw new V("detach-operation-on-document-node",this)}_execute(){Hp(X._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class Ia extends va{constructor(r){super(),this.markers=new Map,this._children=new Td,r&&this._insertChild(0,r)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(r){return this._children.getNode(r)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(r){return this._children.getNodeIndex(r)}getChildStartOffset(r){return this._children.getNodeStartOffset(r)}getPath(){return[]}getNodeByPath(r){let o=this;for(const a of r)o=o.getChild(o.offsetToIndex(a));return o}offsetToIndex(r){return this._children.offsetToIndex(r)}toJSON(){const r=[];for(const o of this._children)r.push(o.toJSON());return r}static fromJSON(r){const o=[];for(const a of r)o.push(a.name?Ut.fromJSON(a):mt.fromJSON(a));return new Ia(o)}_appendChild(r){this._insertChild(this.childCount,r)}_insertChild(r,o){const a="string"==typeof(u=o)?[new mt(u)]:(ao(u)||(u=[u]),Array.from(u).map(h=>"string"==typeof h?new mt(h):h instanceof si?new mt(h.data,h.getAttributes()):h));var u;for(const u of a)null!==u.parent&&u._remove(),u.parent=this;this._children._insertNodes(r,a)}_removeChildren(r,o=1){const a=this._children._removeNodes(r,o);for(const u of a)u.parent=null;return a}}Ia.prototype.is=function(l){return"documentFragment"===l||"model:documentFragment"===l};class l7{constructor(r,o){this.model=r,this.batch=o}createText(r,o){return new mt(r,o)}createElement(r,o){return new Ut(r,o)}createDocumentFragment(){return new Ia}cloneElement(r,o=!0){return r._clone(o)}insert(r,o,a=0){if(this._assertWriterUsedCorrectly(),r instanceof mt&&""==r.data)return;const u=se._createAt(o,a);if(r.parent){if(M1(r.root,u.root))return void this.move(X._createOn(r),u);if(r.root.document)throw new V("model-writer-insert-forbidden-move",this);this.remove(r)}const f=new wr(u,r,u.root.document?u.root.document.version:null);if(r instanceof mt&&(f.shouldReceiveAttributes=!0),this.batch.addOperation(f),this.model.applyOperation(f),r instanceof Ia)for(const[g,_]of r.markers){const b=se._createAt(_.root,0),w={range:new X(_.start._getCombined(b,u),_.end._getCombined(b,u)),usingOperation:!0,affectsData:!0};this.model.markers.has(g)?this.updateMarker(g,w):this.addMarker(g,w)}}insertText(r,o,a,u){o instanceof Ia||o instanceof Ut||o instanceof se?this.insert(this.createText(r),o,a):this.insert(this.createText(r,o),a,u)}insertElement(r,o,a,u){o instanceof Ia||o instanceof Ut||o instanceof se?this.insert(this.createElement(r),o,a):this.insert(this.createElement(r,o),a,u)}append(r,o){this.insert(r,o,"end")}appendText(r,o,a){o instanceof Ia||o instanceof Ut?this.insert(this.createText(r),o,"end"):this.insert(this.createText(r,o),a,"end")}appendElement(r,o,a){o instanceof Ia||o instanceof Ut?this.insert(this.createElement(r),o,"end"):this.insert(this.createElement(r,o),a,"end")}setAttribute(r,o,a){if(this._assertWriterUsedCorrectly(),a instanceof X){const u=a.getMinimalFlatRanges();for(const h of u)uy(this,r,o,h)}else S1(this,r,o,a)}setAttributes(r,o){for(const[a,u]of Us(r))this.setAttribute(a,u,o)}removeAttribute(r,o){if(this._assertWriterUsedCorrectly(),o instanceof X){const a=o.getMinimalFlatRanges();for(const u of a)uy(this,r,null,u)}else S1(this,r,null,o)}clearAttributes(r){this._assertWriterUsedCorrectly();const o=a=>{for(const u of a.getAttributeKeys())this.removeAttribute(u,a)};if(r instanceof X)for(const a of r.getItems())o(a);else o(r)}move(r,o,a){if(this._assertWriterUsedCorrectly(),!(r instanceof X))throw new V("writer-move-invalid-range",this);if(!r.isFlat)throw new V("writer-move-range-not-flat",this);const u=se._createAt(o,a);if(u.isEqual(r.start))return;if(this._addOperationForAffectedMarkers("move",r),!M1(r.root,u.root))throw new V("writer-move-different-document",this);const f=new Rt(r.start,r.end.offset-r.start.offset,u,r.root.document?r.root.document.version:null);this.batch.addOperation(f),this.model.applyOperation(f)}remove(r){this._assertWriterUsedCorrectly();const o=(r instanceof X?r:X._createOn(r)).getMinimalFlatRanges().reverse();for(const a of o)this._addOperationForAffectedMarkers("move",a),rR(a.start,a.end.offset-a.start.offset,this.batch,this.model)}merge(r){this._assertWriterUsedCorrectly();const o=r.nodeBefore,a=r.nodeAfter;if(this._addOperationForAffectedMarkers("merge",r),!(o instanceof Ut))throw new V("writer-merge-no-element-before",this);if(!(a instanceof Ut))throw new V("writer-merge-no-element-after",this);r.root.document?this._merge(r):this._mergeDetached(r)}createPositionFromPath(r,o,a){return this.model.createPositionFromPath(r,o,a)}createPositionAt(r,o){return this.model.createPositionAt(r,o)}createPositionAfter(r){return this.model.createPositionAfter(r)}createPositionBefore(r){return this.model.createPositionBefore(r)}createRange(r,o){return this.model.createRange(r,o)}createRangeIn(r){return this.model.createRangeIn(r)}createRangeOn(r){return this.model.createRangeOn(r)}createSelection(...r){return this.model.createSelection(...r)}_mergeDetached(r){const o=r.nodeBefore,a=r.nodeAfter;this.move(X._createIn(a),se._createAt(o,"end")),this.remove(a)}_merge(r){const o=se._createAt(r.nodeBefore,"end"),a=se._createAt(r.nodeAfter,0),h=new se(r.root.document.graveyard,[0]),g=new yn(a,r.nodeAfter.maxOffset,o,h,r.root.document.version);this.batch.addOperation(g),this.model.applyOperation(g)}rename(r,o){if(this._assertWriterUsedCorrectly(),!(r instanceof Ut))throw new V("writer-rename-not-element-instance",this);const a=r.root.document?r.root.document.version:null,u=new Gr(se._createBefore(r),r.name,o,a);this.batch.addOperation(u),this.model.applyOperation(u)}split(r,o){this._assertWriterUsedCorrectly();let a,u,h=r.parent;if(!h.parent)throw new V("writer-split-element-no-parent",this);if(o||(o=h.parent),!r.parent.getAncestors({includeSelf:!0}).includes(o))throw new V("writer-split-invalid-limit-element",this);do{const f=h.root.document?h.root.document.version:null,g=h.maxOffset-r.offset,_=Gt.getInsertionPosition(r),b=new Gt(r,g,_,null,f);this.batch.addOperation(b),this.model.applyOperation(b),a||u||(a=h,u=r.parent.nextSibling),h=(r=this.createPositionAfter(r.parent)).parent}while(h!==o);return{position:r,range:new X(se._createAt(a,"end"),se._createAt(u,0))}}wrap(r,o){if(this._assertWriterUsedCorrectly(),!r.isFlat)throw new V("writer-wrap-range-not-flat",this);const a=o instanceof Ut?o:new Ut(o);if(a.childCount>0)throw new V("writer-wrap-element-not-empty",this);if(null!==a.parent)throw new V("writer-wrap-element-attached",this);this.insert(a,r.start);const u=new X(r.start.getShiftedBy(1),r.end.getShiftedBy(1));this.move(u,se._createAt(a,0))}unwrap(r){if(this._assertWriterUsedCorrectly(),null===r.parent)throw new V("writer-unwrap-element-no-parent",this);this.move(X._createIn(r),this.createPositionAfter(r)),this.remove(r)}addMarker(r,o){if(this._assertWriterUsedCorrectly(),!o||"boolean"!=typeof o.usingOperation)throw new V("writer-addmarker-no-usingoperation",this);const a=o.usingOperation,u=o.range,h=void 0!==o.affectsData&&o.affectsData;if(this.model.markers.has(r))throw new V("writer-addmarker-marker-exists",this);if(!u)throw new V("writer-addmarker-no-range",this);return a?(Qd(this,r,null,u,h),this.model.markers.get(r)):this.model.markers._set(r,u,a,h)}updateMarker(r,o){this._assertWriterUsedCorrectly();const a="string"==typeof r?r:r.name,u=this.model.markers.get(a);if(!u)throw new V("writer-updatemarker-marker-not-exists",this);if(!o)return ke("writer-updatemarker-reconvert-using-editingcontroller",{markerName:a}),void this.model.markers._refresh(u);const h="boolean"==typeof o.usingOperation,f="boolean"==typeof o.affectsData,g=f?o.affectsData:u.affectsData;if(!h&&!o.range&&!f)throw new V("writer-updatemarker-wrong-options",this);const _=u.getRange(),b=o.range?o.range:_;h&&o.usingOperation!==u.managedUsingOperations?o.usingOperation?Qd(this,a,null,b,g):(Qd(this,a,_,null,g),this.model.markers._set(a,b,void 0,g)):u.managedUsingOperations?Qd(this,a,_,b,g):this.model.markers._set(a,b,void 0,g)}removeMarker(r){this._assertWriterUsedCorrectly();const o="string"==typeof r?r:r.name;if(!this.model.markers.has(o))throw new V("writer-removemarker-no-marker",this);const a=this.model.markers.get(o);a.managedUsingOperations?Qd(this,o,a.getRange(),null,a.affectsData):this.model.markers._remove(o)}addRoot(r,o="$root"){this._assertWriterUsedCorrectly();const a=this.model.document.getRoot(r);if(a&&a.isAttached())throw new V("writer-addroot-root-exists",this);const u=this.model.document,h=new $r(r,o,!0,u,u.version);return this.batch.addOperation(h),this.model.applyOperation(h),this.model.document.getRoot(r)}detachRoot(r){this._assertWriterUsedCorrectly();const o="string"==typeof r?this.model.document.getRoot(r):r;if(!o||!o.isAttached())throw new V("writer-detachroot-no-root",this);for(const h of this.model.markers)h.getRange().root===o&&this.removeMarker(h);for(const h of o.getAttributeKeys())this.removeAttribute(h,o);this.remove(this.createRangeIn(o));const a=this.model.document,u=new $r(o.rootName,o.name,!1,a,a.version);this.batch.addOperation(u),this.model.applyOperation(u)}setSelection(...r){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...r)}setSelectionFocus(r,o){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(r,o)}setSelectionAttribute(r,o){if(this._assertWriterUsedCorrectly(),"string"==typeof r)this._setSelectionAttribute(r,o);else for(const[a,u]of Us(r))this._setSelectionAttribute(a,u)}removeSelectionAttribute(r){if(this._assertWriterUsedCorrectly(),"string"==typeof r)this._removeSelectionAttribute(r);else for(const o of r)this._removeSelectionAttribute(o)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(r){this.model.document.selection._restoreGravity(r)}_setSelectionAttribute(r,o){const a=this.model.document.selection;if(a.isCollapsed&&a.anchor.parent.isEmpty){const u=Oo._getStoreAttributeKey(r);this.setAttribute(u,o,a.anchor.parent)}a._setAttribute(r,o)}_removeSelectionAttribute(r){const o=this.model.document.selection;if(o.isCollapsed&&o.anchor.parent.isEmpty){const a=Oo._getStoreAttributeKey(r);this.removeAttribute(a,o.anchor.parent)}o._removeAttribute(r)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new V("writer-incorrect-use",this)}_addOperationForAffectedMarkers(r,o){for(const a of this.model.markers){if(!a.managedUsingOperations)continue;const u=a.getRange();let h=!1;if("move"===r){const f=o;h=f.containsPosition(u.start)||f.start.isEqual(u.start)||f.containsPosition(u.end)||f.end.isEqual(u.end)}else{const _=o.nodeAfter;h=u.start.parent==o.nodeBefore&&u.start.isAtEnd||u.end.parent==_&&0==u.end.offset||u.end.nodeAfter==_||u.start.nodeAfter==_}h&&this.updateMarker(a.name,{range:u})}}}function uy(l,r,o,a){const u=l.model,h=u.document;let f,g,_,b=a.start;for(const v of a.getWalker({shallow:!0}))_=v.item.getAttribute(r),f&&g!=_&&(g!=o&&w(),b=f),f=v.nextPosition,g=_;function w(){const v=new X(b,f),E=new Gn(v,r,g,o,v.root.document?h.version:null);l.batch.addOperation(E),u.applyOperation(E)}f instanceof se&&f!=b&&g!=o&&w()}function S1(l,r,o,a){const u=l.model,h=u.document,f=a.getAttribute(r);let g,_;f!=o&&(a.root===a?_=new hs(a,r,f,o,a.document?h.version:null):(g=new X(se._createBefore(a),l.createPositionAfter(a)),_=new Gn(g,r,f,o,g.root.document?h.version:null)),l.batch.addOperation(_),u.applyOperation(_))}function Qd(l,r,o,a,u){const h=l.model,g=new ci(r,o,a,h.markers,!!u,h.document.version);l.batch.addOperation(g),h.applyOperation(g)}function rR(l,r,o,a){let u;if(l.root.document){const h=a.document,f=new se(h.graveyard,[0]);u=new Rt(l,r,f,h.version)}else u=new c7(l,r);o.addOperation(u),a.applyOperation(u)}function M1(l,r){return l===r||l instanceof Kp&&r instanceof Kp}function dy(l,r,o={}){if(r.isCollapsed)return;const a=r.getFirstRange();if("$graveyard"==a.root.rootName)return;const u=l.schema;l.change(h=>{if(!o.doNotResetEntireContent&&function(b,w){const v=b.getLimitElement(w);if(!w.containsEntireContent(v))return!1;const A=w.getFirstRange();return A.start.parent!=A.end.parent&&b.checkChild(v,"paragraph")}(u,r))return void function(b,w){const v=b.model.schema.getLimitElement(w);b.remove(b.createRangeIn(v)),hy(b,b.createPositionAt(v,0),w)}(h,r);const f={};if(!o.doNotAutoparagraph){const b=r.getSelectedElement();b&&Object.assign(f,u.getAttributesWithProperty(b,"copyOnReplace",!0))}const[g,_]=function(b){const w=b.root.document.model,v=b.start;let A=b.end;if(w.hasContent(b,{ignoreMarkers:!0})){const E=function(D){const x=D.parent,P=x.root.document.model.schema,N=x.getAncestors({parentFirst:!0,includeSelf:!0});for(const H of N){if(P.isLimit(H))return null;if(P.isBlock(H))return H}}(A);if(E&&A.isTouching(w.createPositionAt(E,0))){const D=w.createSelection(b);w.modifySelection(D,{direction:"backward"});const x=D.getLastPosition(),P=w.createRange(x,A);w.hasContent(P,{ignoreMarkers:!0})||(A=x)}}return[kr.fromPosition(v,"toPrevious"),kr.fromPosition(A,"toNext")]}(a);g.isTouching(_)||h.remove(h.createRange(g,_)),o.leaveUnmerged||(function(b,w,v){const A=b.model;if(!Zp(b.model.schema,w,v))return;const[E,D]=function(x,P){const N=x.getAncestors(),H=P.getAncestors();let J=0;for(;N[J]&&N[J]==H[J];)J++;return[N[J],H[J]]}(w,v);!E||!D||(!A.hasContent(E,{ignoreMarkers:!0})&&A.hasContent(D,{ignoreMarkers:!0})?Rl(b,w,v,E.parent):ps(b,w,v,E.parent))}(h,g,_),u.removeDisallowedAttributes(g.parent.getChildren(),h)),fy(h,r,g),!o.doNotAutoparagraph&&function(b,w){const v=b.checkChild(w,"$text"),A=b.checkChild(w,"paragraph");return!v&&A}(u,g)&&hy(h,g,r,f),g.detach(),_.detach()})}function ps(l,r,o,a){const u=r.parent,h=o.parent;if(u!=a&&h!=a){for(r=l.createPositionAfter(u),(o=l.createPositionBefore(h)).isEqual(r)||l.insert(h,r),l.merge(r);o.parent.isEmpty;){const f=o.parent;o=l.createPositionBefore(f),l.remove(f)}Zp(l.model.schema,r,o)&&ps(l,r,o,a)}}function Rl(l,r,o,a){const u=r.parent,h=o.parent;if(u!=a&&h!=a){for(r=l.createPositionAfter(u),(o=l.createPositionBefore(h)).isEqual(r)||l.insert(u,o);r.parent.isEmpty;){const f=r.parent;r=l.createPositionBefore(f),l.remove(f)}o=l.createPositionBefore(h),function(f,g){const _=g.nodeBefore,b=g.nodeAfter;_.name!=b.name&&f.rename(_,b.name),f.clearAttributes(_),f.setAttributes(Object.fromEntries(b.getAttributes()),_),f.merge(g)}(l,o),Zp(l.model.schema,r,o)&&Rl(l,r,o,a)}}function Zp(l,r,o){const a=r.parent,u=o.parent;return a!=u&&!l.isLimit(a)&&!l.isLimit(u)&&function(h,f,g){const _=new X(h,f);for(const b of _.getWalker())if(g.isLimit(b.item))return!1;return!0}(r,o,l)}function hy(l,r,o,a={}){const u=l.createElement("paragraph");l.model.schema.setAllowedAttributes(u,a,l),l.insert(u,r),fy(l,o,l.createPositionAt(u,0))}function fy(l,r,o){r instanceof Oo?l.setSelection(o):r.setTo(o)}function iR(l,r){const o=[];Array.from(l.getItems({direction:"backward"})).map(a=>r.createRangeOn(a)).filter(a=>(a.start.isAfter(l.start)||a.start.isEqual(l.start))&&(a.end.isBefore(l.end)||a.end.isEqual(l.end))).forEach(a=>{o.push(a.start.parent),r.remove(a)}),o.forEach(a=>{let u=a;for(;u.parent&&u.isEmpty;){const h=r.createRangeOn(u);u=u.parent,r.remove(h)}})}class u7{constructor(r,o,a){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=r,this.writer=o,this.position=a,this.canMergeWith=new Set([this.position.parent]),this.schema=r.schema,this._documentFragment=o.createDocumentFragment(),this._documentFragmentPosition=o.createPositionAt(this._documentFragment,0)}handleNodes(r){for(const o of Array.from(r))this._handleNode(o);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(r){const o=this.writer.createPositionAfter(this._lastNode),a=this.writer.createPositionAfter(r);if(a.isAfter(o)){if(this._lastNode=r,this.position.parent!=r||!this.position.isAtEnd)throw new V("insertcontent-invalid-insertion-position",this);this.position=a,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?X._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new X(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(r){if(this.schema.isObject(r))return void this._handleObject(r);let o=this._checkAndAutoParagraphToAllowedPosition(r);o||(o=this._checkAndSplitToAllowedPosition(r),o)?(this._appendToFragment(r),this._firstNode||(this._firstNode=r),this._lastNode=r):this._handleDisallowedNode(r)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const r=kr.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=r.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=r.toPosition(),r.detach()}_handleObject(r){this._checkAndSplitToAllowedPosition(r)?this._appendToFragment(r):this._tryAutoparagraphing(r)}_handleDisallowedNode(r){r.is("element")?this.handleNodes(r.getChildren()):this._tryAutoparagraphing(r)}_appendToFragment(r){if(!this.schema.checkChild(this.position,r))throw new V("insertcontent-wrong-position",this,{node:r,position:this.position});this.writer.insert(r,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(r.offsetSize),this._nodeToSelect=this.schema.isObject(r)&&!this.schema.checkChild(this.position,"$text")?r:null,this._filterAttributesOf.push(r)}_setAffectedBoundaries(r){this._affectedStart||(this._affectedStart=kr.fromPosition(r,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(r)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=kr.fromPosition(r,"toNext"))}_mergeOnLeft(){const r=this._firstNode;if(!(r instanceof Ut&&this._canMergeLeft(r)))return;const o=kr._createBefore(r);o.stickiness="toNext";const a=kr.fromPosition(this.position,"toNext");this._affectedStart.isEqual(o)&&(this._affectedStart.detach(),this._affectedStart=kr._createAt(o.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=o.nodeBefore,this._lastNode=o.nodeBefore),this.writer.merge(o),o.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=kr._createAt(o.nodeBefore,"end","toNext")),this.position=a.toPosition(),a.detach(),this._filterAttributesOf.push(this.position.parent),o.detach()}_mergeOnRight(){const r=this._lastNode;if(!(r instanceof Ut&&this._canMergeRight(r)))return;const o=kr._createAfter(r);if(o.stickiness="toNext",!this.position.isEqual(o))throw new V("insertcontent-invalid-insertion-position",this);this.position=se._createAt(o.nodeBefore,"end");const a=kr.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(o)&&(this._affectedEnd.detach(),this._affectedEnd=kr._createAt(o.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=o.nodeBefore,this._lastNode=o.nodeBefore),this.writer.merge(o),o.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=kr._createAt(o.nodeBefore,0,"toPrevious")),this.position=a.toPosition(),a.detach(),this._filterAttributesOf.push(this.position.parent),o.detach()}_canMergeLeft(r){const o=r.previousSibling;return o instanceof Ut&&this.canMergeWith.has(o)&&this.model.schema.checkMerge(o,r)}_canMergeRight(r){const o=r.nextSibling;return o instanceof Ut&&this.canMergeWith.has(o)&&this.model.schema.checkMerge(r,o)}_tryAutoparagraphing(r){const o=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,o)&&this.schema.checkChild(o,r)&&(o._appendChild(r),this._handleNode(o))}_checkAndAutoParagraphToAllowedPosition(r){if(this.schema.checkChild(this.position.parent,r))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",r))return!1;this._insertPartialFragment();const o=this.writer.createElement("paragraph");return this.writer.insert(o,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=o,this.position=this.writer.createPositionAt(o,0),!0}_checkAndSplitToAllowedPosition(r){const o=this._getAllowedIn(this.position.parent,r);if(!o)return!1;for(o!=this.position.parent&&this._insertPartialFragment();o!=this.position.parent;)if(this.position.isAtStart){const a=this.position.parent;this.position=this.writer.createPositionBefore(a),a.isEmpty&&a.parent===o&&this.writer.remove(a)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const a=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=a,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(r,o){return this.schema.checkChild(r,o)?r:this.schema.isLimit(r)?null:this._getAllowedIn(r.parent,o)}}function oR(l,r,o="auto"){const a=l.getSelectedElement();if(a&&r.schema.isObject(a)&&!r.schema.isInline(a))return"before"==o||"after"==o?r.createRange(r.createPositionAt(a,o)):r.createRangeOn(a);const u=Vn(l.getSelectedBlocks());if(!u)return r.createRange(l.focus);if(u.isEmpty)return r.createRange(r.createPositionAt(u,0));const h=r.createPositionAfter(u);return l.focus.isTouching(h)?r.createRange(h):r.createRange(r.createPositionBefore(u))}const gy=' ,.?!:;"-()';function d7(l,r){const{isForward:o,walker:a,unit:u,schema:h,treatEmojiAsSingleUnit:f}=l,{type:g,item:_,nextPosition:b}=r;if("text"==g)return"word"===l.unit?function(w,v){let A=w.position.textNode;for(A||(A=v?w.position.nodeAfter:w.position.nodeBefore);A&&A.is("$text");){const E=w.position.offset-A.startOffset;if(sR(A,E,v))A=v?w.position.nodeAfter:w.position.nodeBefore;else{if(P1(A.data,E,v))break;w.next()}}return w.position}(a,o):function(w,v,A){const E=w.position.textNode;if(E){const D=E.data;let x=w.position.offset-E.startOffset;for(;aA(D,x)||"character"==v&&cA(D,x)||A&&$2(D,x);)w.next(),x=w.position.offset-E.startOffset}return w.position}(a,u,f);if(g==(o?"elementStart":"elementEnd")){if(h.isSelectable(_))return se._createAt(_,o?"after":"before");if(h.checkChild(b,"$text"))return b}else{if(h.isLimit(_))return void a.skip(()=>!0);if(h.checkChild(b,"$text"))return b}}function h7(l,r){const a=se._createAt(l.root,r?"end":0);return r?new X(l,a):new X(a,l)}function P1(l,r,o){return gy.includes(l.charAt(r+(o?0:-1)))}function sR(l,r,o){return r===(o?l.offsetSize:0)}class aR extends(Pt()){constructor(){super(),this.markers=new a7,this.document=new I1(this),this.schema=new l1,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(r=>this.decorate(r)),this.on("applyOperation",(r,o)=>{o[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((r,o)=>{if("$marker"===o.name)return!0}),function jP(l){l.document.registerPostFixer(r=>function(o,a){const u=a.document.selection,h=a.schema,f=[];let g=!1;for(const _ of u.getRanges()){const b=a1(_,h);b&&!b.isEqual(_)?(f.push(b),g=!0):f.push(_)}return g&&o.setSelection(function(_){const b=[..._],w=new Set;let v=1;for(;v<b.length;){const A=b[v],E=b.slice(0,v);for(const[D,x]of E.entries())if(!w.has(D))if(A.isEqual(x))w.add(D);else if(A.isIntersecting(x)){w.add(D),w.add(v);const P=A.getJoined(x);b.push(P)}v++}return b.filter((A,E)=>!w.has(E))}(f),{backward:u.isBackward}),!1}(r,l))}(this),this.document.registerPostFixer(Fp),this.on("insertContent",(r,[o,a])=>{var u,h,f;r.return=(h=o,f=a,(u=this).change(g=>{const _=f||u.document.selection;_.isCollapsed||u.deleteContent(_,{doNotAutoparagraph:!0});const b=new u7(u,g,_.anchor),w=[];let v;if(h.is("documentFragment")){if(h.markers.size){const D=[];for(const[x,P]of h.markers){const{start:N,end:H}=P,J=N.isEqual(H);D.push({position:N,name:x,isCollapsed:J},{position:H,name:x,isCollapsed:J})}D.sort(({position:x},{position:P})=>x.isBefore(P)?1:-1);for(const{position:x,name:P,isCollapsed:N}of D){let H=null,J=null;const ae=x.parent===h&&x.isAtStart;ae||x.parent===h&&x.isAtEnd?N&&(J=ae?"start":"end"):(H=g.createElement("$marker"),g.insert(H,x)),w.push({name:P,element:H,collapsed:J})}}v=h.getChildren()}else v=[h];b.handleNodes(v);let A=b.getSelectionRange();if(h.is("documentFragment")&&w.length){const D=A?Nr.fromRange(A):null,x={};for(let P=w.length-1;P>=0;P--){const{name:N,element:H,collapsed:J}=w[P],ae=!x[N];if(ae&&(x[N]=[]),H){const Pe=g.createPositionAt(H,"before");x[N].push(Pe),g.remove(H)}else{const Pe=b.getAffectedRange();if(!Pe){J&&x[N].push(b.position);continue}x[N].push(J?Pe[J]:ae?Pe.start:Pe.end)}}for(const[P,[N,H]]of Object.entries(x))N&&H&&N.root===H.root&&g.addMarker(P,{usingOperation:!0,affectsData:!0,range:new X(N,H)});D&&(A=D.toRange(),D.detach())}A&&(_ instanceof Oo?g.setSelection(A):_.setTo(A));const E=b.getAffectedRange()||u.createRange(_.anchor);return b.destroy(),E}))}),this.on("insertObject",(r,[o,a,u])=>{r.return=function py(l,r,o,a={}){if(!l.schema.isObject(r))throw new V("insertobject-element-not-an-object",l,{object:r});const u=o||l.document.selection;let h=u;a.findOptimalPosition&&l.schema.isBlock(r)&&(h=l.createSelection(oR(u,l,a.findOptimalPosition)));const f=Vn(u.getSelectedBlocks()),g={};return f&&Object.assign(g,l.schema.getAttributesWithProperty(f,"copyOnReplace",!0)),l.change(_=>{h.isCollapsed||l.deleteContent(h,{doNotAutoparagraph:!0});let b=r;const w=h.anchor.parent;!l.schema.checkChild(w,r)&&l.schema.checkChild(w,"paragraph")&&l.schema.checkChild("paragraph",r)&&(b=_.createElement("paragraph"),_.insert(r,b)),l.schema.setAllowedAttributes(b,g,_);const v=l.insertContent(b,h);return v.isCollapsed||a.setSelection&&function(A,E,D,x){const P=A.model;if("on"==D)return void A.setSelection(E,"on");if("after"!=D)throw new V("insertobject-invalid-place-parameter-value",P);let N=E.nextSibling;P.schema.isInline(E)?A.setSelection(E,"after"):(!(N&&P.schema.checkChild(N,"$text"))&&P.schema.checkChild(E.parent,"paragraph")&&(N=A.createElement("paragraph"),P.schema.setAllowedAttributes(N,x,A),P.insertContent(N,A.createPositionAfter(E))),N&&A.setSelection(N,0))}(_,r,a.setSelection,g),v})}(this,o,a,u)}),this.on("canEditAt",r=>{const o=!this.document.isReadOnly;r.return=o,o||r.stop()})}change(r){try{return 0===this._pendingChanges.length?(this._pendingChanges.push({batch:new vc,callback:r}),this._runPendingChanges()[0]):r(this._currentWriter)}catch(o){V.rethrowUnexpectedError(o,this)}}enqueueChange(r,o){try{r?"function"==typeof r?(o=r,r=new vc):r instanceof vc||(r=new vc(r)):r=new vc,this._pendingChanges.push({batch:r,callback:o}),1==this._pendingChanges.length&&this._runPendingChanges()}catch(a){V.rethrowUnexpectedError(a,this)}}applyOperation(r){r._execute()}insertContent(r,o,a,...u){const h=my(o,a);return this.fire("insertContent",[r,h,a,...u])}insertObject(r,o,a,u,...h){const f=my(o,a);return this.fire("insertObject",[r,f,u,u,...h])}deleteContent(r,o){dy(this,r,o)}modifySelection(r,o){!function(a,u,h={}){const f=a.schema,g="backward"!=h.direction,_=h.unit?h.unit:"character",b=!!h.treatEmojiAsSingleUnit,v=new Yi({boundaries:h7(u.focus,g),singleCharacters:!0,direction:g?"forward":"backward"}),A={walker:v,schema:f,isForward:g,unit:_,treatEmojiAsSingleUnit:b};let E;for(;E=v.next();){if(E.done)return;const D=d7(A,E.value);if(D)return void(u instanceof Oo?a.change(x=>{x.setSelectionFocus(D)}):u.setFocus(D))}}(this,r,o)}getSelectedContent(r){return a=r,this.change(u=>{const h=u.createDocumentFragment(),f=a.getFirstRange();if(!f||f.isCollapsed)return h;const g=f.start.root,_=f.start.getCommonPath(f.end),b=g.getNodeByPath(_);let w;w=f.start.parent==f.end.parent?f:u.createRange(u.createPositionAt(b,f.start.path[_.length]),u.createPositionAt(b,f.end.path[_.length]+1));const v=w.end.offset-w.start.offset;for(const A of w.getItems({shallow:!0}))A.is("$textProxy")?u.appendText(A.data,A.getAttributes(),h):u.append(u.cloneElement(A,!0),h);if(w!=f){const A=f._getTransformedByMove(w.start,u.createPositionAt(h,0),v)[0],E=u.createRange(u.createPositionAt(h,0),A.start);iR(u.createRange(A.end,u.createPositionAt(h,"end")),u),iR(E,u)}return h});var a}hasContent(r,o={}){const a=r instanceof X?r:X._createIn(r);if(a.isCollapsed)return!1;const{ignoreWhitespaces:u=!1,ignoreMarkers:h=!1}=o;if(!h)for(const f of this.markers.getMarkersIntersectingRange(a))if(f.affectsData)return!0;for(const f of a.getItems())if(this.schema.isContent(f)&&(!f.is("$textProxy")||!u||-1!==f.data.search(/\S/)))return!0;return!1}canEditAt(r){const o=my(r);return this.fire("canEditAt",[o])}createPositionFromPath(r,o,a){return new se(r,o,a)}createPositionAt(r,o){return se._createAt(r,o)}createPositionAfter(r){return se._createAfter(r)}createPositionBefore(r){return se._createBefore(r)}createRange(r,o){return new X(r,o)}createRangeIn(r){return X._createIn(r)}createRangeOn(r){return X._createOn(r)}createSelection(...r){return new Si(...r)}createBatch(r){return new vc(r)}createOperationFromJSON(r){return y1.fromJSON(r,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const r=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){this._currentWriter=new l7(this,this._pendingChanges[0].batch);const a=this._pendingChanges[0].callback(this._currentWriter);r.push(a),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return r}}function my(l,r){if(l)return l instanceof Si||l instanceof Oo?l:l instanceof Ro?r||0===r?new Si(l,r):l.is("rootElement")?new Si(l,"in"):new Si(l,"on"):new Si(l)}class cR extends us{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(r){this.fire(r.type,r)}}class Yd extends us{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(r){this.fire(r.type,r)}}class gs{constructor(r){this.document=r}createDocumentFragment(r){return new wa(this.document,r)}createElement(r,o,a){return new Ki(this.document,r,o,a)}createText(r){return new Ht(this.document,r)}clone(r,o=!1){return r._clone(o)}appendChild(r,o){return o._appendChild(r)}insertChild(r,o,a){return a._insertChild(r,o)}removeChildren(r,o,a){return a._removeChildren(r,o)}remove(r){const o=r.parent;return o?this.removeChildren(o.getChildIndex(r),1,o):[]}replace(r,o){const a=r.parent;if(a){const u=a.getChildIndex(r);return this.removeChildren(u,1,a),this.insertChild(u,o,a),!0}return!1}unwrapElement(r){const o=r.parent;if(o){const a=o.getChildIndex(r);this.remove(r),this.insertChild(a,r.getChildren(),o)}}rename(r,o){const a=new Ki(this.document,r,o.getAttributes(),o.getChildren());return this.replace(o,a)?a:null}setAttribute(r,o,a){a._setAttribute(r,o)}removeAttribute(r,o){o._removeAttribute(r)}addClass(r,o){o._addClass(r)}removeClass(r,o){o._removeClass(r)}setStyle(r,o,a){wi(r)&&void 0===a?o._setStyle(r):a._setStyle(r,o)}removeStyle(r,o){o._removeStyle(r)}setCustomProperty(r,o,a){a._setCustomProperty(r,o)}removeCustomProperty(r,o){return o._removeCustomProperty(r)}createPositionAt(r,o){return ue._createAt(r,o)}createPositionAfter(r){return ue._createAfter(r)}createPositionBefore(r){return ue._createBefore(r)}createRange(r,o){return new $e(r,o)}createRangeOn(r){return $e._createOn(r)}createRangeIn(r){return $e._createIn(r)}createSelection(...r){return new Qn(...r)}}const lR=/^#([0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/i,_y=/^rgb\([ ]?([0-9]{1,3}[ %]?,[ ]?){2,3}[0-9]{1,3}[ %]?\)$/i,uR=/^rgba\([ ]?([0-9]{1,3}[ %]?,[ ]?){3}(1|[0-9]+%|[0]?\.?[0-9]+)\)$/i,Xn=/^hsl\([ ]?([0-9]{1,3}[ %]?[,]?[ ]*){3}(1|[0-9]+%|[0]?\.?[0-9]+)?\)$/i,R1=/^hsla\([ ]?([0-9]{1,3}[ %]?,[ ]?){2,3}(1|[0-9]+%|[0]?\.?[0-9]+)\)$/i,dR=/\w+\((?:[^()]|\([^()]*\))*\)|\S+/gi,N1=new Set(["black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","orange","aliceblue","antiquewhite","aquamarine","azure","beige","bisque","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","gainsboro","ghostwhite","gold","goldenrod","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","limegreen","linen","magenta","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","oldlace","olivedrab","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","thistle","tomato","turquoise","violet","wheat","whitesmoke","yellowgreen","activeborder","activecaption","appworkspace","background","buttonface","buttonhighlight","buttonshadow","buttontext","captiontext","graytext","highlight","highlighttext","inactiveborder","inactivecaption","inactivecaptiontext","infobackground","infotext","menu","menutext","scrollbar","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","window","windowframe","windowtext","rebeccapurple","currentcolor","transparent"]);function O1(l){return l.startsWith("#")?lR.test(l):l.startsWith("rgb")?_y.test(l)||uR.test(l):l.startsWith("hsl")?Xn.test(l)||R1.test(l):N1.has(l.toLowerCase())}const hR=/^([+-]?[0-9]*([.][0-9]+)?(px|cm|mm|in|pc|pt|ch|em|ex|rem|vh|vw|vmin|vmax)|0)$/,fR=/^[+-]?[0-9]*([.][0-9]+)?%$/,pR=["repeat-x","repeat-y","repeat","space","round","no-repeat"];function gR(l){return pR.includes(l)}const L1=["center","top","bottom","left","right"];function f7(l){return L1.includes(l)}const p7=["fixed","scroll","local"];function Zd(l){return p7.includes(l)}const fe=/^url\(/;function Cc(l){return fe.test(l)}function V1(l=""){if(""===l)return{top:void 0,right:void 0,bottom:void 0,left:void 0};const r=by(l),o=r[0],u=r[1]||o;return{top:o,bottom:r[2]||o,right:u,left:r[3]||u}}function F1({top:l,right:r,bottom:o,left:a}){const u=[];return a!==r?u.push(l,r,o,a):o!==l?u.push(l,r,o):r!==l?u.push(l,r):u.push(l),u.join(" ")}function by(l){const r=l.matchAll(dR);return Array.from(r).map(o=>o[0])}function yy(l){l.setNormalizer("background",r=>{const o={},a=by(r);for(const u of a)gR(u)?(o.repeat=o.repeat||[],o.repeat.push(u)):f7(u)?(o.position=o.position||[],o.position.push(u)):Zd(u)?o.attachment=u:O1(u)?o.color=u:Cc(u)&&(o.image=u);return{path:"background",value:o}}),l.setNormalizer("background-color",r=>({path:"background.color",value:r})),l.setReducer("background",r=>{const o=[];return o.push(["background-color",r.color]),o}),l.setStyleRelation("background",["background-color"])}function mR(l){var o;l.setNormalizer("margin",a=>({path:"margin",value:V1(a)})),l.setNormalizer("margin-top",a=>({path:"margin.top",value:a})),l.setNormalizer("margin-right",a=>({path:"margin.right",value:a})),l.setNormalizer("margin-bottom",a=>({path:"margin.bottom",value:a})),l.setNormalizer("margin-left",a=>({path:"margin.left",value:a})),l.setReducer("margin",(o="margin",a=>{const{top:u,right:h,bottom:f,left:g}=a,_=[];return[u,h,g,f].every(b=>!!b)?_.push([o,F1(a)]):(u&&_.push([o+"-top",u]),h&&_.push([o+"-right",h]),f&&_.push([o+"-bottom",f]),g&&_.push([o+"-left",g])),_})),l.setStyleRelation("margin",["margin-top","margin-right","margin-bottom","margin-left"])}class B1{constructor(){this._commands=new Map}add(r,o){this._commands.set(r,o)}get(r){return this._commands.get(r)}execute(r,...o){const a=this.get(r);if(!a)throw new V("commandcollection-command-not-found",this,{commandName:r});return a.execute(...o)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const r of this.commands())r.destroy()}}class z1 extends(Pt()){constructor(r={}){super();const o=this.constructor;this._context=r.context||new K2({language:r.language||o.defaultConfig&&o.defaultConfig.language}),this._context._addEditor(this,!r.context);const u=Array.from(o.builtinPlugins||[]);this.config=new Qe(r,o.defaultConfig),this.config.define("plugins",u),this.config.define(this._context._getEditorConfig()),this.plugins=new hb(this,u,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new B1,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new aR,this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const h=new EA;this.data=new Yb(this.model,h),this.editing=new Gb(this.model,h),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new Zb([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new $6(this),this.keystrokes.listenTo(this.editing.view.document)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(r){throw new V("editor-isreadonly-has-no-setter")}enableReadOnlyMode(r){if("string"!=typeof r&&"symbol"!=typeof r)throw new V("editor-read-only-lock-id-invalid",null,{lockId:r});this._readOnlyLocks.has(r)||(this._readOnlyLocks.add(r),1===this._readOnlyLocks.size&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(r){if("string"!=typeof r&&"symbol"!=typeof r)throw new V("editor-read-only-lock-id-invalid",null,{lockId:r});this._readOnlyLocks.has(r)&&(this._readOnlyLocks.delete(r),0===this._readOnlyLocks.size&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}initPlugins(){const r=this.config,o=r.get("plugins"),a=r.get("removePlugins")||[],u=r.get("extraPlugins")||[],h=r.get("substitutePlugins")||[];return this.plugins.init(o.concat(u),a,h)}destroy(){let r=Promise.resolve();return"initializing"==this.state&&(r=new Promise(o=>this.once("ready",o))),r.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(r,...o){try{return this.commands.execute(r,...o)}catch(a){V.rethrowUnexpectedError(a,this)}}focus(){this.editing.view.focus()}static create(...r){throw new Error("This is an abstract method.")}}function Nl(l){return class extends l{setData(r){this.data.set(r)}getData(r){return this.data.get(r)}}}{const l=Nl(Object);Nl.setData=l.prototype.setData,Nl.getData=l.prototype.getData}function j1(l){return class extends l{updateSourceElement(r=this.data.get()){if(!this.sourceElement)throw new V("editor-missing-sourceelement",this);const o=this.config.get("updateSourceElementOnDestroy"),a=this.sourceElement instanceof HTMLTextAreaElement;!function ot(l,r){l instanceof HTMLTextAreaElement&&(l.value=r),l.innerHTML=r}(this.sourceElement,o||a?r:"")}}}j1.updateSourceElement=j1(Object).prototype.updateSourceElement;class Jp extends fb{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new ii({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(r){if("string"!=typeof r)throw new V("pendingactions-add-invalid-message",this);const o=new(Pt());return o.set("message",r),this._actions.add(o),this.hasAny=!0,o}remove(r){this._actions.remove(r),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const U1='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',Xp='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',wy='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',It={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:U1,caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:Xp,cog:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',eraser:wy,history:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11 1a9 9 0 1 1-8.027 13.075l1.128-1.129A7.502 7.502 0 0 0 18.5 10a7.5 7.5 0 1 0-14.962.759l-.745-.746-.76.76A9 9 0 0 1 11 1z"/><path d="M.475 8.17a.75.75 0 0 1 .978.047l.075.082 1.284 1.643 1.681-1.284a.75.75 0 0 1 .978.057l.073.083a.75.75 0 0 1-.057.978l-.083.073-2.27 1.737a.75.75 0 0 1-.973-.052l-.074-.082-1.741-2.23a.75.75 0 0 1 .13-1.052z"/><path d="M11.5 5v4.999l3.196 3.196-1.06 1.06L10.1 10.72l-.1-.113V5z"/></svg>',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',lowVision:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',loupe:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.68 13.74h-.001l4.209 4.208a1 1 0 1 0 1.414-1.414l-4.267-4.268a6 6 0 1 0-1.355 1.474ZM13 9a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',alignBottom:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',alignMiddle:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',alignTop:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',alignCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',alignRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',alignJustify:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectSizeFull:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',objectSizeLarge:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M13 6H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V8a.5.5 0 0 1 .5-.5h11z"/></svg>',objectSizeSmall:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M7 10H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 .5-.5h5z"/></svg>',objectSizeMedium:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M10 8H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6a.5.5 0 0 1 .5-.5h8z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',dragIndicator:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/></svg>'};class Da{constructor(r){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit="number"==typeof r.crashNumberLimit?r.crashNumberLimit:3,this._minimumNonErrorTimePeriod="number"==typeof r.minimumNonErrorTimePeriod?r.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=o=>{const a="error"in o?o.error:o.reason;a instanceof Error&&this._handleError(a,o)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(r,o){this._listeners[r]||(this._listeners[r]=[]),this._listeners[r].push(o)}off(r,o){this._listeners[r]=this._listeners[r].filter(a=>a!==o)}_fire(r,...o){const a=this._listeners[r]||[];for(const u of a)u.apply(this,[null,...o])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(r,o){if(this._shouldReactToError(r)){this.crashes.push({message:r.message,stack:r.stack,filename:o instanceof ErrorEvent?o.filename:void 0,lineno:o instanceof ErrorEvent?o.lineno:void 0,colno:o instanceof ErrorEvent?o.colno:void 0,date:this._now()});const a=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:r,causesRestart:a}),a?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(r){return r.is&&r.is("CKEditorError")&&null!=r.context&&"ready"===this.state&&this._isErrorComingFromThisItem(r)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit||(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function ky(l,r=new Set){const o=[l],a=new Set;let u=0;for(;o.length>u;){const h=o[u++];if(!a.has(h)&&vy(h)&&!r.has(h))if(a.add(h),Symbol.iterator in h)try{for(const f of h)o.push(f)}catch{}else for(const f in h)"defaultValue"!==f&&o.push(h[f])}return a}function vy(l){const r=Object.prototype.toString.call(l),o=typeof l;return!("number"===o||"boolean"===o||"string"===o||"symbol"===o||"function"===o||"[object Date]"===r||"[object RegExp]"===r||"[object Module]"===r||null==l||l._watchdogExcluded||l instanceof EventTarget||l instanceof Event)}function Jd(l,r,o=new Set){if(l===r&&"object"==typeof(a=l)&&null!==a)return!0;var a;const u=ky(l,o),h=ky(r,o);for(const f of u)if(h.has(f))return!0;return!1}const Xd=function(l,r,o){var a=!0,u=!0;if("function"!=typeof l)throw new TypeError("Expected a function");return dn(o)&&(a="leading"in o?!!o.leading:a,u="trailing"in o?!!o.trailing:u),pc(l,r,{leading:a,maxWait:r,trailing:u})};var Cy=Object.defineProperty,eg=Object.defineProperties,ms=Object.getOwnPropertyDescriptors,Ol=Object.getOwnPropertySymbols,tg=Object.prototype.hasOwnProperty,H1=Object.prototype.propertyIsEnumerable,G1=(l,r,o)=>r in l?Cy(l,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):l[r]=o,ng=(l,r)=>{for(var o in r||(r={}))tg.call(r,o)&&G1(l,o,r[o]);if(Ol)for(var o of Ol(r))H1.call(r,o)&&G1(l,o,r[o]);return l};class Ac extends Da{constructor(r,o={}){super(o),this._editor=null,this._initUsingData=!0,this._editables={},this._throttledSave=Xd(this._save.bind(this),"number"==typeof o.saveInterval?o.saveInterval:5e3),r&&(this._creator=(a,u)=>r.create(a,u)),this._destructor=a=>a.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(r){this._creator=r}setDestructor(r){this._destructor=r}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(r=>{console.error("An error happened during the editor destroying.",r)}).then(()=>{const r={},o=[],a=this._config.rootsAttributes||{},u={};for(const[_,b]of Object.entries(this._data.roots))b.isLoaded?(r[_]="",u[_]=a[_]||{}):o.push(_);const h=(f=ng({},this._config),eg(f,ms({extraPlugins:this._config.extraPlugins||[],lazyRoots:o,rootsAttributes:u,_watchdogInitialData:this._data})));var f;return delete h.initialData,h.extraPlugins.push(_R),this._initUsingData?this.create(r,h,h.context):pa(this._elementOrData)?this.create(this._elementOrData,h,h.context):this.create(this._editables,h,h.context)}).then(()=>{this._fire("restart")})}create(r=this._elementOrData,o=this._config,a){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=r,this._initUsingData="string"==typeof r||Object.keys(r).length>0&&"string"==typeof Object.values(r)[0],this._config=this._cloneEditorConfiguration(o)||{},this._config.context=a,this._creator(r,this._config))).then(u=>{this._editor=u,u.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=u.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const r=this._editor;return this._editor=null,r.model.document.off("change:data",this._throttledSave),this._destructor(r)})}_save(){const r=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=r}catch(o){console.error(o,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(r){this._excludedProps=r}_getData(){const r=this._editor,o=r.model.document.roots.filter(g=>g.isAttached()&&"$graveyard"!=g.rootName),{plugins:a}=r,u=a.has("CommentsRepository")&&a.get("CommentsRepository"),h=a.has("TrackChanges")&&a.get("TrackChanges"),f={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};o.forEach(g=>{f.roots[g.rootName]={content:JSON.stringify(Array.from(g.getChildren())),attributes:JSON.stringify(Array.from(g.getAttributes())),isLoaded:g._isLoaded}});for(const g of r.model.markers)g._affectsData&&(f.markers[g.name]={rangeJSON:g.getRange().toJSON(),usingOperation:g._managedUsingOperations,affectsData:g._affectsData});return u&&(f.commentThreads=JSON.stringify(u.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),h&&(f.suggestions=JSON.stringify(h.getSuggestions({toJSON:!0,skipNotAttached:!0}))),f}_getEditables(){const r={};for(const o of this.editor.model.document.getRootNames()){const a=this.editor.ui.getEditableElement(o);a&&(r[o]=a)}return r}_isErrorComingFromThisItem(r){return Jd(this._editor,r.context,this._excludedProps)}_cloneEditorConfiguration(r){return ab(r,(o,a)=>pa(o)||"context"===a?o:void 0)}}class _R{constructor(r){this.editor=r,this._data=r.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",r=>{r.stop(),this.editor.model.enqueueChange({isUndoable:!1},o=>{this._restoreCollaborationData(),this._restoreEditorData(o)}),this.editor.data.fire("ready")},{priority:999})}_createNode(r,o){if("name"in o){const a=r.createElement(o.name,o.attributes);if(o.children)for(const u of o.children)a._appendChild(this._createNode(r,u));return a}return r.createText(o.data,o.attributes)}_restoreEditorData(r){const o=this.editor;Object.entries(this._data.roots).forEach(([a,{content:u,attributes:h}])=>{const f=JSON.parse(u),g=JSON.parse(h),_=o.model.document.getRoot(a);for(const[b,w]of g)r.setAttribute(b,w,_);for(const b of f){const w=this._createNode(r,b);r.insert(w,_,"end")}}),Object.entries(this._data.markers).forEach(([a,u])=>{const{document:h}=o.model,f=u,{rangeJSON:{start:g,end:_}}=f,b=((D,x)=>{var P={};for(var N in D)tg.call(D,N)&&x.indexOf(N)<0&&(P[N]=D[N]);if(null!=D&&Ol)for(var N of Ol(D))x.indexOf(N)<0&&H1.call(D,N)&&(P[N]=D[N]);return P})(f,["rangeJSON"]),w=h.getRoot(g.root),v=r.createPositionFromPath(w,g.path,g.stickiness),A=r.createPositionFromPath(w,_.path,_.stickiness),E=r.createRange(v,A);r.addMarker(a,ng({range:E},b))})}_restoreCollaborationData(){const r=JSON.parse(this._data.commentThreads),o=JSON.parse(this._data.suggestions);r.forEach(a=>{const u=this.editor.config.get("collaboration.channelId"),h=this.editor.plugins.get("CommentsRepository");h.hasCommentThread(a.threadId)&&h.getCommentThread(a.threadId).remove(),h.addCommentThread(ng({channelId:u},a))}),o.forEach(a=>{const u=this.editor.plugins.get("TrackChangesEditing");u.hasSuggestion(a.id)?u.getSuggestion(a.id).attributes=a.attributes:u.addSuggestionData(a)})}}const eh=Symbol("MainQueueId");class bR{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(r){this._onEmptyCallbacks.push(r)}enqueue(r,o){const a=r===eh;this._activeActions++,this._queues.get(r)||this._queues.set(r,Promise.resolve());const u=Promise.all(a?this._queues.values():[this._queues.get(eh),this._queues.get(r)]).then(o),h=u.catch(()=>{});return this._queues.set(r,h),u.finally(()=>{this._activeActions--,this._queues.get(r)===h&&0===this._activeActions&&this._onEmptyCallbacks.forEach(f=>f())})}}function rg(l){return Array.isArray(l)?l:[l]}function Ll({emitter:l,activator:r,callback:o,contextElements:a}){l.listenTo(document,"mousedown",(u,h)=>{if(!r())return;const f="function"==typeof h.composedPath?h.composedPath():[],g="function"==typeof a?a():a;for(const _ of g)if(_.contains(h.target)||f.includes(_))return;o()})}function Ay(l){return class extends l{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...r){super(...r),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}}function ig({view:l}){l.listenTo(l.element,"submit",(r,o)=>{o.preventDefault(),l.fire("submit")},{useCapture:!0})}function Ws({keystrokeHandler:l,focusTracker:r,gridItems:o,numberOfColumns:a,uiLanguageDirection:u}){const h="number"==typeof a?()=>a:a;function f(b){return w=>{const v=o.find(D=>D.element===r.focusedElement),A=o.getIndex(v),E=b(A,o);o.get(E).focus(),w.stopPropagation(),w.preventDefault()}}function g(b,w){return b===w-1?0:b+1}function _(b,w){return 0===b?w-1:b-1}l.set("arrowright",f((b,w)=>"rtl"===u?_(b,w.length):g(b,w.length))),l.set("arrowleft",f((b,w)=>"rtl"===u?g(b,w.length):_(b,w.length))),l.set("arrowup",f((b,w)=>{let v=b-h();return v<0&&(v=b+h()*Math.floor(w.length/h()),v>w.length-1&&(v-=h())),v})),l.set("arrowdown",f((b,w)=>{let v=b+h();return v>w.length-1&&(v=b%h()),v}))}class _s extends ii{constructor(r=[]){super(r,{idProperty:"viewUid"}),this.on("add",(o,a,u)=>{this._renderViewIntoCollectionParent(a,u)}),this.on("remove",(o,a)=>{a.element&&this._parentElement&&a.element.remove()}),this._parentElement=null}destroy(){this.map(r=>r.destroy())}setParent(r){this._parentElement=r;for(const o of this)this._renderViewIntoCollectionParent(o)}delegate(...r){if(!r.length||!r.every(o=>"string"==typeof o))throw new V("ui-viewcollection-delegate-wrong-events",this);return{to:o=>{for(const a of this)for(const u of r)a.delegate(u).to(o);this.on("add",(a,u)=>{for(const h of r)u.delegate(h).to(o)}),this.on("remove",(a,u)=>{for(const h of r)u.stopDelegating(h,o)})}}}_renderViewIntoCollectionParent(r,o){r.isRendered||r.render(),r.element&&this._parentElement&&this._parentElement.insertBefore(r.element,this._parentElement.children[o])}remove(r){return super.remove(r)}}var yR=ge(4793);Ee()(yR.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Be extends(hn(Pt())){constructor(r){super(),this.element=null,this.isRendered=!1,this.locale=r,this.t=r&&r.t,this._viewCollections=new ii,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(o,a)=>{a.locale=r,a.t=r&&r.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=Lo.bind(this,this)}createCollection(r){const o=new _s(r);return this._viewCollections.add(o),o}registerChild(r){ao(r)||(r=[r]);for(const o of r)this._unboundChildren.add(o)}deregisterChild(r){ao(r)||(r=[r]);for(const o of r)this._unboundChildren.remove(o)}setTemplate(r){this.template=new Lo(r)}extendTemplate(r){Lo.extend(this.template,r)}render(){if(this.isRendered)throw new V("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(r=>r.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}class Lo extends(xt()){constructor(r){super(),Object.assign(this,sg(og(r))),this._isRendered=!1,this._revertData=null}render(){const r=this._renderNode({intoFragment:!0});return this._isRendered=!0,r}apply(r){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:r,intoFragment:!1,isApplying:!0,revertData:this._revertData}),r}revert(r){if(!this._revertData)throw new V("ui-template-revert-not-applied",[this,r]);this._revertTemplateFromNode(r,this._revertData)}*getViews(){yield*function*r(o){if(o.children)for(const a of o.children)Ic(a)?yield a:W1(a)&&(yield*r(a))}(this)}static bind(r,o){return{to:(a,u)=>new g7({eventNameOrFunction:a,attribute:a,observable:r,emitter:o,callback:u}),if:(a,u,h)=>new wR({observable:r,emitter:o,attribute:a,valueIfTrue:u,callback:h})}}static extend(r,o){if(r._isRendered)throw new V("template-extend-render",[this,r]);Dy(r,sg(og(o)))}_renderNode(r){let o;if(o=r.node?this.tag&&this.text:this.tag?this.text:!this.text,o)throw new V("ui-template-wrong-syntax",this);return this.text?this._renderText(r):this._renderElement(r)}_renderElement(r){let o=r.node;return o||(o=r.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(r),this._renderElementChildren(r),this._setUpListeners(r),o}_renderText(r){let o=r.node;return o?r.revertData.text=o.textContent:o=r.node=document.createTextNode(""),Ec(this.text)?this._bindToObservable({schema:this.text,updater:Ey(o),data:r}):o.textContent=this.text.join(""),o}_renderAttributes(r){if(!this.attributes)return;const o=r.node,a=r.revertData;for(const u in this.attributes){const h=o.getAttribute(u),f=this.attributes[u];a&&(a.attributes[u]=h);const g=ag(f)?f[0].ns:null;if(Ec(f)){const _=ag(f)?f[0].value:f;a&&Ty(u)&&_.unshift(h),this._bindToObservable({schema:_,updater:Iy(o,u,g),data:r})}else if("style"==u&&"string"!=typeof f[0])this._renderStyleAttribute(f[0],r);else{a&&h&&Ty(u)&&f.unshift(h);const _=f.map(b=>b&&b.value||b).reduce((b,w)=>b.concat(w),[]).reduce(rh,"");Ta(_)||o.setAttributeNS(g,u,_)}}}_renderStyleAttribute(r,o){const a=o.node;for(const u in r){const h=r[u];Ec(h)?this._bindToObservable({schema:[h],updater:nh(a,u),data:o}):a.style[u]=h}}_renderElementChildren(r){const o=r.node,a=r.intoFragment?document.createDocumentFragment():o,u=r.isApplying;let h=0;for(const f of this.children)if(ih(f)){if(!u){f.setParent(o);for(const g of f)a.appendChild(g.element)}}else if(Ic(f))u||(f.isRendered||f.render(),a.appendChild(f.element));else if(In(f))a.appendChild(f);else if(u){const g={children:[],bindings:[],attributes:{}};r.revertData.children.push(g),f._renderNode({intoFragment:!1,node:a.childNodes[h++],isApplying:!0,revertData:g})}else a.appendChild(f.render());r.intoFragment&&o.appendChild(a)}_setUpListeners(r){if(this.eventListeners)for(const o in this.eventListeners){const a=this.eventListeners[o].map(u=>{const[h,f]=o.split("@");return u.activateDomEventListener(h,f,r)});r.revertData&&r.revertData.bindings.push(a)}}_bindToObservable({schema:r,updater:o,data:a}){const u=a.revertData;q1(r,o,a);const h=r.filter(f=>!Ta(f)).filter(f=>f.observable).map(f=>f.activateAttributeListener(r,o,a));u&&u.bindings.push(h)}_revertTemplateFromNode(r,o){for(const u of o.bindings)for(const h of u)h();if(o.text)return void(r.textContent=o.text);const a=r;for(const u in o.attributes){const h=o.attributes[u];null===h?a.removeAttribute(u):a.setAttribute(u,h)}for(let u=0;u<o.children.length;++u)this._revertTemplateFromNode(a.childNodes[u],o.children[u])}}class th{constructor(r){this.attribute=r.attribute,this.observable=r.observable,this.emitter=r.emitter,this.callback=r.callback}getValue(r){const o=this.observable[this.attribute];return this.callback?this.callback(o,r):o}activateAttributeListener(r,o,a){const u=()=>q1(r,o,a);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,u),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,u)}}}class g7 extends th{constructor(r){super(r),this.eventNameOrFunction=r.eventNameOrFunction}activateDomEventListener(r,o,a){const u=(h,f)=>{o&&!f.target.matches(o)||("function"==typeof this.eventNameOrFunction?this.eventNameOrFunction(f):this.observable.fire(this.eventNameOrFunction,f))};return this.emitter.listenTo(a.node,r,u),()=>{this.emitter.stopListening(a.node,r,u)}}}class wR extends th{constructor(r){super(r),this.valueIfTrue=r.valueIfTrue}getValue(r){return!Ta(super.getValue(r))&&(this.valueIfTrue||!0)}}function Ec(l){return!!l&&(l.value&&(l=l.value),Array.isArray(l)?l.some(Ec):l instanceof th)}function q1(l,r,{node:o}){const a=(f=o,l.map(g=>g instanceof th?g.getValue(f):g));var f;let u;u=1==l.length&&l[0]instanceof wR?a[0]:a.reduce(rh,""),Ta(u)?r.remove():r.set(u)}function Ey(l){return{set(r){l.textContent=r},remove(){l.textContent=""}}}function Iy(l,r,o){return{set(a){l.setAttributeNS(o,r,a)},remove(){l.removeAttributeNS(o,r)}}}function nh(l,r){return{set(o){l.style[r]=o},remove(){l.style[r]=null}}}function og(l){return ab(l,r=>{if(r&&(r instanceof th||W1(r)||Ic(r)||ih(r)))return r})}function sg(l){if("string"==typeof l?l={text:[l]}:l.text&&function(r){r.text=Hn(r.text)}(l),l.on&&(l.eventListeners=function(r){for(const o in r)Vl(r,o);return r}(l.on),delete l.on),!l.text){l.attributes&&function(o){for(const a in o)o[a].value&&(o[a].value=Hn(o[a].value)),Vl(o,a)}(l.attributes);const r=[];if(l.children)if(ih(l.children))r.push(l.children);else for(const o of l.children)W1(o)||Ic(o)||In(o)?r.push(o):r.push(new Lo(o));l.children=r}return l}function Vl(l,r){l[r]=Hn(l[r])}function rh(l,r){return Ta(r)?l:Ta(l)?r:`${l} ${r}`}function Fl(l,r){for(const o in r)l[o]?l[o].push(...r[o]):l[o]=r[o]}function Dy(l,r){if(r.attributes&&(l.attributes||(l.attributes={}),Fl(l.attributes,r.attributes)),r.eventListeners&&(l.eventListeners||(l.eventListeners={}),Fl(l.eventListeners,r.eventListeners)),r.text&&l.text.push(...r.text),r.children&&r.children.length){if(l.children.length!=r.children.length)throw new V("ui-template-extend-children-mismatch",l);let o=0;for(const a of r.children)Dy(l.children[o++],a)}}function Ta(l){return!l&&0!==l}function Ic(l){return l instanceof Be}function W1(l){return l instanceof Lo}function ih(l){return l instanceof _s}function ag(l){return dn(l[0])&&l[0].ns}function Ty(l){return"class"==l||"style"==l}class kR extends _s{constructor(r,o=[]){super(o),this.locale=r}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new Lo({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let r=document.querySelector(".ck-body-wrapper");r||(r=j_(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(r)),r.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const r=document.querySelector(".ck-body-wrapper");r&&0==r.childElementCount&&r.remove()}}var K1=ge(6574);Ee()(K1.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const xy=class extends Be{constructor(){super();const l=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.set("isVisible",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon",l.if("isVisible","ck-hidden",r=>!r),"ck-reset_all-excluded",l.if("isColorInherited","ck-icon_inherit-color")],viewBox:l.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const l=(new DOMParser).parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),r=l.getAttribute("viewBox");r&&(this.viewBox=r);for(const{name:o,value:a}of Array.from(l.attributes))xy.presentationalAttributeNames.includes(o)&&this.element.setAttribute(o,a);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;l.childNodes.length>0;)this.element.appendChild(l.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(l=>{l.style.fill=this.fillColor})}};let Dc=xy;Dc.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];class vR extends Be{constructor(){super(),this.set({style:void 0,text:void 0,id:void 0});const r=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:r.to("style"),id:r.to("id")},children:[{text:r.to("text")}]})}}var CR=ge(4906);Ee()(CR.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class ht extends Be{constructor(r,o=new vR){super(r),this._focusDelayed=null;const a=this.bindTemplate,u=ce();this.set("ariaChecked",void 0),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${u}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._setupLabelView(o),this.iconView=new Dc,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const h={tag:"button",attributes:{class:["ck","ck-button",a.to("class"),a.if("isEnabled","ck-disabled",f=>!f),a.if("isVisible","ck-hidden",f=>!f),a.to("isOn",f=>f?"ck-on":"ck-off"),a.if("withText","ck-button_with-text"),a.if("withKeystroke","ck-button_with-keystroke")],role:a.to("role"),type:a.to("type",f=>f||"button"),tabindex:a.to("tabindex"),"aria-label":a.to("ariaLabel"),"aria-labelledby":a.to("ariaLabelledBy"),"aria-disabled":a.if("isEnabled",!0,f=>!f),"aria-checked":a.to("isOn"),"aria-pressed":a.to("isOn",f=>!!this.isToggleable&&String(!!f)),"data-cke-tooltip-text":a.to("_tooltipString"),"data-cke-tooltip-position":a.to("tooltipPosition")},children:this.children,on:{click:a.to(f=>{this.isEnabled?this.fire("execute"):f.preventDefault()})}};F.isSafari&&(this._focusDelayed||(this._focusDelayed=sA(()=>this.focus(),0)),h.on.mousedown=a.to(()=>{this._focusDelayed()}),h.on.mouseup=a.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(h)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_setupLabelView(r){return r.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"),r}_createKeystrokeView(){const r=new Be;return r.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",o=>up(o))}]}),r}_getTooltipString(r,o,a){return r?"string"==typeof r?r:(a&&(a=up(a)),r instanceof Function?r(o,a):`${o}${a?` (${a})`:""}`):""}}var cg=ge(5332);Ee()(cg.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Bl extends ht{constructor(r){super(r),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const r=new Be;return r.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),r}}function Sy(l){return"string"==typeof l?{model:l,label:l,hasBorder:!1,view:{name:"span",styles:{color:l}}}:{model:l.color,label:l.label||l.color,hasBorder:void 0!==l.hasBorder&&l.hasBorder,view:{name:"span",styles:{color:`${l.color}`}}}}class oh extends ht{constructor(r){super(r);const o=this.bindTemplate;this.set("color",void 0),this.set("hasBorder",!1),this.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M16.935 5.328a2 2 0 0 1 0 2.829l-7.778 7.778a2 2 0 0 1-2.829 0L3.5 13.107a1.999 1.999 0 1 1 2.828-2.829l.707.707a1 1 0 0 0 1.414 0l5.658-5.657a2 2 0 0 1 2.828 0z"/><path d="M14.814 6.035 8.448 12.4a1 1 0 0 1-1.414 0l-1.413-1.415A1 1 0 1 0 4.207 12.4l2.829 2.829a1 1 0 0 0 1.414 0l7.778-7.778a1 1 0 1 0-1.414-1.415z"/></svg>',this.extendTemplate({attributes:{style:{backgroundColor:o.to("color")},class:["ck","ck-color-grid__tile",o.if("hasBorder","ck-color-selector__color-tile_bordered")]}})}render(){super.render(),this.iconView.fillColor="hsl(0, 0%, 100%)"}}var Y1=ge(6781);Ee()(Y1.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class J1 extends Be{constructor(r,o){super(r);const a=o&&o.colorDefinitions?o.colorDefinitions:[];this.columns=o&&o.columns?o.columns:5;const u={gridTemplateColumns:`repeat( ${this.columns}, 1fr)`};this.set("selectedColor",void 0),this.items=this.createCollection(),this.focusTracker=new Pr,this.keystrokes=new Ai,this.items.on("add",(h,f)=>{f.isOn=f.color===this.selectedColor}),a.forEach(h=>{const f=new oh;f.set({color:h.color,label:h.label,tooltip:!0,hasBorder:h.options.hasBorder}),f.on("execute",()=>{this.fire("execute",{value:h.color,hasBorder:h.options.hasBorder,label:h.label})}),this.items.add(f)}),this.setTemplate({tag:"div",children:this.items,attributes:{class:["ck","ck-color-grid"],style:u}}),this.on("change:selectedColor",(h,f,g)=>{for(const _ of this.items)_.isOn=_.color===g})}focus(){this.items.length&&this.items.first.focus()}focusLast(){this.items.length&&this.items.last.focus()}render(){super.render();for(const r of this.items)this.focusTracker.add(r.element);this.items.on("add",(r,o)=>{this.focusTracker.add(o.element)}),this.items.on("remove",(r,o)=>{this.focusTracker.remove(o.element)}),this.keystrokes.listenTo(this.element),Ws({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:this.columns,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}}var My=ge(1103);const IR=function(l){var r,o,a=[],u=1;if("string"==typeof l)if(My[l])a=My[l].slice(),o="rgb";else if("transparent"===l)u=0,o="rgb",a=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(l)){var h=l.slice(1);u=1,(_=h.length)<=4?(a=[parseInt(h[0]+h[0],16),parseInt(h[1]+h[1],16),parseInt(h[2]+h[2],16)],4===_&&(u=parseInt(h[3]+h[3],16)/255)):(a=[parseInt(h[0]+h[1],16),parseInt(h[2]+h[3],16),parseInt(h[4]+h[5],16)],8===_&&(u=parseInt(h[6]+h[7],16)/255)),a[0]||(a[0]=0),a[1]||(a[1]=0),a[2]||(a[2]=0),o="rgb"}else if(r=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(l)){var f=r[1],g="rgb"===f;o=h=f.replace(/a$/,"");var _="cmyk"===h?4:"gray"===h?1:3;a=r[2].trim().split(/\s*[,\/]\s*|\s+/).map(function(b,w){if(/%$/.test(b))return w===_?parseFloat(b)/100:"rgb"===h?255*parseFloat(b)/100:parseFloat(b);if("h"===h[w]){if(/deg$/.test(b))return parseFloat(b);if(void 0!==X1[b])return X1[b]}return parseFloat(b)}),f===h&&a.push(1),u=g||void 0===a[_]?1:a[_],a=a.slice(0,_)}else l.length>10&&/[0-9](?:\s|\/)/.test(l)&&(a=l.match(/([0-9]+)/g).map(function(b){return parseFloat(b)}),o=l.match(/([a-z])/gi).join("").toLowerCase());else isNaN(l)?Array.isArray(l)||l.length?(a=[l[0],l[1],l[2]],o="rgb",u=4===l.length?l[3]:1):l instanceof Object&&(null!=l.r||null!=l.red||null!=l.R?(o="rgb",a=[l.r||l.red||l.R||0,l.g||l.green||l.G||0,l.b||l.blue||l.B||0]):(o="hsl",a=[l.h||l.hue||l.H||0,l.s||l.saturation||l.S||0,l.l||l.lightness||l.L||l.b||l.brightness]),u=l.a||l.alpha||l.opacity||1,null!=l.opacity&&(u/=100)):(o="rgb",a=[l>>>16,(65280&l)>>>8,255&l]);return{space:o,values:a,alpha:u}};var X1={red:0,orange:60,yellow:120,green:180,blue:240,purple:300},sh=ge(841);function eE(l,r){if(!l)return"";const o=Tc(l);if(!o)return"";if(o.space===r)return l;if(a=o,!Object.keys(sh).includes(a.space))return"";var a;const u=sh[o.space][r];return u?function(h,f){switch(f){case"hex":return`#${h}`;case"rgb":return`rgb( ${h[0]}, ${h[1]}, ${h[2]} )`;case"hsl":return`hsl( ${h[0]}, ${h[1]}%, ${h[2]}% )`;case"hwb":return`hwb( ${h[0]}, ${h[1]}, ${h[2]} )`;case"lab":return`lab( ${h[0]}% ${h[1]} ${h[2]} )`;case"lch":return`lch( ${h[0]}% ${h[1]} ${h[2]} )`;default:return""}}(u("hex"===o.space?o.hexValue:o.values),r):""}function Tc(l){if(l.startsWith("#")){const o=IR(l);return{space:"hex",values:o.values,hexValue:l,alpha:o.alpha}}const r=IR(l);return r.space?r:null}var li=ge(3662);Ee()(li.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Py extends Be{constructor(r){super(r),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${ce()}`;const o=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:o.to("for")},children:[{text:o.to("text")}]})}}var bs=ge(2577);Ee()(bs.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class zl extends Be{constructor(r,o){super(r);const a=`ck-labeled-field-view-${ce()}`,u=`ck-labeled-field-view-status-${ce()}`;this.fieldView=o(this,a,u),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(a),this.statusView=this._createStatusView(u),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(f,g)=>f||g);const h=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",h.to("class"),h.if("isEnabled","ck-disabled",f=>!f),h.if("isEmpty","ck-labeled-field-view_empty"),h.if("isFocused","ck-labeled-field-view_focused"),h.if("placeholder","ck-labeled-field-view_placeholder"),h.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(r){const o=new Py(this.locale);return o.for=r,o.bind("text").to(this,"label"),o}_createStatusView(r){const o=new Be(this.locale),a=this.bindTemplate;return o.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",a.if("errorText","ck-labeled-field-view__status_error"),a.if("_statusText","ck-hidden",u=>!u)],id:r,role:a.if("errorText","alert")},children:[{text:a.to("_statusText")}]}),o}focus(r){this.fieldView.focus(r)}}class ah extends Be{constructor(r){super(r),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.focusTracker=new Pr,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);const o=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",o.if("isFocused","ck-input_focused"),o.if("isEmpty","ck-input-text_empty"),o.if("hasError","ck-error")],id:o.to("id"),placeholder:o.to("placeholder"),readonly:o.to("isReadOnly"),"aria-invalid":o.if("hasError",!0),"aria-describedby":o.to("ariaDescribedById")},on:{input:o.to((...a)=>{this.fire("input",...a),this._updateIsEmpty()}),change:o.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(r,o,a)=>{this._setDomElementValue(a),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}reset(){this.value=this.element.value="",this._updateIsEmpty()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(r){this.element.value=r||0===r?r:""}}var tE=ge(4879);Ee()(tE.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class jl extends ah{constructor(r){super(r),this.set("inputMode","text"),this.extendTemplate({attributes:{inputmode:this.bindTemplate.to("inputMode")}})}}class nE extends jl{constructor(r){super(r),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}class m7 extends jl{constructor(r,{min:o,max:a,step:u}={}){super(r);const h=this.bindTemplate;this.set("min",o),this.set("max",a),this.set("step",u),this.extendTemplate({attributes:{type:"number",class:["ck-input-number"],min:h.to("min"),max:h.to("max"),step:h.to("step")}})}}var lg=ge(8182);Ee()(lg.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class ug extends Be{constructor(r){super(r);const o=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",o.to("position",a=>`ck-dropdown__panel_${a}`),o.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:o.to(a=>{"input"!==a.target.tagName.toLocaleLowerCase()&&a.preventDefault()})}})}focus(){if(this.children.length){const r=this.children.first;"function"==typeof r.focus?r.focus():ke("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const r=this.children.last;"function"==typeof r.focusLast?r.focusLast():r.focus()}}}var Ny=ge(5485);Ee()(Ny.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const Oy=class extends Be{constructor(l,r,o){super(l);const a=this.bindTemplate;this.buttonView=r,this.panelView=o,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.keystrokes=new Ai,this.focusTracker=new Pr,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",a.to("class"),a.if("isEnabled","ck-disabled",u=>!u)],id:a.to("id"),"aria-describedby":a.to("ariaDescribedById")},children:[r,o]}),r.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":a.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",(r,o,a)=>{if(a)if("auto"===this.panelPosition){const u=Oy._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=u?u.name:this._panelPositions[0].name}else this.panelView.position=this.panelPosition}),this.keystrokes.listenTo(this.element);const l=(r,o)=>{this.isOpen&&(this.isOpen=!1,o())};this.keystrokes.set("arrowdown",(r,o)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,o())}),this.keystrokes.set("arrowright",(r,o)=>{this.isOpen&&o()}),this.keystrokes.set("arrowleft",l),this.keystrokes.set("esc",l)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:l,north:r,southEast:o,southWest:a,northEast:u,northWest:h,southMiddleEast:f,southMiddleWest:g,northMiddleEast:_,northMiddleWest:b}=Oy.defaultPanelPositions;return"rtl"!==this.locale.uiLanguageDirection?[o,a,f,g,l,u,h,_,b,r]:[a,o,g,f,l,h,u,b,_,r]}};let Ly=Oy;Ly.defaultPanelPositions={south:(l,r)=>({top:l.bottom,left:l.left-(r.width-l.width)/2,name:"s"}),southEast:l=>({top:l.bottom,left:l.left,name:"se"}),southWest:(l,r)=>({top:l.bottom,left:l.left-r.width+l.width,name:"sw"}),southMiddleEast:(l,r)=>({top:l.bottom,left:l.left-(r.width-l.width)/4,name:"sme"}),southMiddleWest:(l,r)=>({top:l.bottom,left:l.left-3*(r.width-l.width)/4,name:"smw"}),north:(l,r)=>({top:l.top-r.height,left:l.left-(r.width-l.width)/2,name:"n"}),northEast:(l,r)=>({top:l.top-r.height,left:l.left,name:"ne"}),northWest:(l,r)=>({top:l.top-r.height,left:l.left-r.width+l.width,name:"nw"}),northMiddleEast:(l,r)=>({top:l.top-r.height,left:l.left-(r.width-l.width)/4,name:"nme"}),northMiddleWest:(l,r)=>({top:l.top-r.height,left:l.left-3*(r.width-l.width)/4,name:"nmw"})},Ly._getOptimalPosition=fo;const Vy='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';class iE extends ht{constructor(r){super(r),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",o=>String(o))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const r=new Dc;return r.content=Vy,r.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),r}}class ys extends(xt()){constructor(r){if(super(),this.focusables=r.focusables,this.focusTracker=r.focusTracker,this.keystrokeHandler=r.keystrokeHandler,this.actions=r.actions,r.actions&&r.keystrokeHandler)for(const o in r.actions){let a=r.actions[o];"string"==typeof a&&(a=[a]);for(const u of a)r.keystrokeHandler.set(u,(h,f)=>{this[o](),f()})}this.on("forwardCycle",()=>this.focusFirst(),{priority:"low"}),this.on("backwardCycle",()=>this.focusLast(),{priority:"low"})}get first(){return this.focusables.find(Fy)||null}get last(){return this.focusables.filter(Fy).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let r=null;return null===this.focusTracker.focusedElement?null:(this.focusables.find((o,a)=>{const u=o.element===this.focusTracker.focusedElement;return u&&(r=a),u}),r)}focusFirst(){this._focus(this.first,1)}focusLast(){this._focus(this.last,-1)}focusNext(){const r=this.next;r&&this.focusables.getIndex(r)===this.current||(r===this.first?this.fire("forwardCycle"):this._focus(r,1))}focusPrevious(){const r=this.previous;r&&this.focusables.getIndex(r)===this.current||(r===this.last?this.fire("backwardCycle"):this._focus(r,-1))}_focus(r,o){r&&r.focus(o)}_getFocusableItem(r){const o=this.current,a=this.focusables.length;if(!a)return null;if(null===o)return this[1===r?"first":"last"];let u=(o+a+r)%a;do{const h=this.focusables.get(u);if(Fy(h))return h;u=(u+a+r)%a}while(u!==o);return null}}function Fy(l){return!(!("focus"in l)||!xo(l.element))}class By extends Be{constructor(r){super(r),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class Ul extends Be{constructor(r){super(r),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}var ws=ge(5542);Ee()(ws.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const{threeVerticalDots:oE}=It,b7={alignLeft:It.alignLeft,bold:It.bold,importExport:It.importExport,paragraph:It.paragraph,plus:It.plus,text:It.text,threeVerticalDots:It.threeVerticalDots,pilcrow:It.pilcrow,dragIndicator:It.dragIndicator};class sE extends Be{constructor(r,o){super(r);const a=this.bindTemplate,u=this.t;this.options=o||{},this.set("ariaLabel",u("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new Pr,this.keystrokes=new Ai,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new aE(r),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const h="rtl"===r.uiLanguageDirection;this._focusCycler=new ys({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[h?"arrowright":"arrowleft","arrowup"],focusNext:[h?"arrowleft":"arrowright","arrowdown"]}});const f=["ck","ck-toolbar",a.to("class"),a.if("isCompact","ck-toolbar_compact")];var g;this.options.shouldGroupWhenFull&&this.options.isFloating&&f.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:f,role:"toolbar","aria-label":a.to("ariaLabel"),style:{maxWidth:a.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:(g=this,g.bindTemplate.to(_=>{_.target===g.element&&_.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new cE(this):new y7(this)}render(){super.render(),this.focusTracker.add(this.element);for(const r of this.items)this.focusTracker.add(r.element);this.items.on("add",(r,o)=>{this.focusTracker.add(o.element)}),this.items.on("remove",(r,o)=>{this.focusTracker.remove(o.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(r,o,a){this.items.addMany(this._buildItemsFromConfig(r,o,a))}_buildItemsFromConfig(r,o,a){const u=(f=r,Array.isArray(f)?{items:f,removeItems:[]}:f?Object.assign({items:[],removeItems:[]},f):{items:[],removeItems:[]}),h=a||u.removeItems;var f;return this._cleanItemsConfiguration(u.items,o,h).map(f=>dn(f)?this._createNestedToolbarDropdown(f,o,h):"|"===f?new By:"-"===f?new Ul:o.create(f)).filter(f=>!!f)}_cleanItemsConfiguration(r,o,a){const u=r.filter((h,f,g)=>"|"===h||-1===a.indexOf(h)&&("-"===h?!this.options.shouldGroupWhenFull||(ke("toolbarview-line-break-ignored-when-grouping-items",g),!1):!(!dn(h)&&!o.has(h)&&(ke("toolbarview-item-unavailable",{item:h}),1))));return this._cleanSeparatorsAndLineBreaks(u)}_cleanSeparatorsAndLineBreaks(r){const o=f=>"-"!==f&&"|"!==f,a=r.length,u=r.findIndex(o);if(-1===u)return[];const h=a-r.slice().reverse().findIndex(o);return r.slice(u,h).filter((f,g,_)=>!!o(f)||!(g>0&&_[g-1]===f))}_createNestedToolbarDropdown(r,o,a){let{label:u,icon:h,items:f,tooltip:g=!0,withText:_=!1}=r;if(f=this._cleanItemsConfiguration(f,o,a),!f.length)return null;const b=Pi(this.locale);return u||ke("toolbarview-nested-toolbar-dropdown-missing-label",r),b.class="ck-toolbar__nested-toolbar-dropdown",b.buttonView.set({label:u,tooltip:g,withText:!!_}),!1!==h?b.buttonView.icon=b7[h]||h||oE:b.buttonView.withText=!0,lh(b,()=>b.toolbarView._buildItemsFromConfig(f,o,a)),b}}class aE extends Be{constructor(r){super(r),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class y7{constructor(r){const o=r.bindTemplate;r.set("isVertical",!1),r.itemsView.children.bindTo(r.items).using(a=>a),r.focusables.bindTo(r.items).using(a=>a),r.extendTemplate({attributes:{class:[o.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class cE{constructor(r){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=r,this.viewChildren=r.children,this.viewFocusables=r.focusables,this.viewItemsView=r.itemsView,this.viewFocusTracker=r.focusTracker,this.viewLocale=r.locale,this.ungroupedItems=r.createCollection(),this.groupedItems=r.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),r.itemsView.children.bindTo(this.ungroupedItems).using(o=>o),this.ungroupedItems.on("change",this._updateFocusCycleableItems.bind(this)),r.children.on("change",this._updateFocusCycleableItems.bind(this)),r.items.on("change",(o,a)=>{const u=a.index,h=Array.from(a.added);for(const f of a.removed)u>=this.ungroupedItems.length?this.groupedItems.remove(f):this.ungroupedItems.remove(f);for(let f=u;f<u+h.length;f++){const g=h[f-u];f>this.ungroupedItems.length?this.groupedItems.add(g,f-this.ungroupedItems.length):this.ungroupedItems.add(g,f)}this._updateGrouping()}),r.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(r){this.viewElement=r.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(r)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!xo(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const r=this.groupedItems.length;let o;for(;this._areItemsOverflowing;)this._groupLastItem(),o=!0;if(!o&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==r&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const r=this.viewElement,o=this.viewLocale.uiLanguageDirection,a=new it(r.lastChild),u=new it(r);if(!this.cachedPadding){const h=ze.window.getComputedStyle(r);this.cachedPadding=Number.parseInt(h["ltr"===o?"paddingRight":"paddingLeft"])}return"ltr"===o?a.right>u.right-this.cachedPadding:a.left<u.left+this.cachedPadding}_enableGroupingOnResize(){let r;this.resizeObserver=new To(this.viewElement,o=>{r&&r===o.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),r=o.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(r){r.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new By),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const r=this.viewLocale,o=r.t,a=Pi(r);return a.class="ck-toolbar__grouped-dropdown",a.panelPosition="ltr"===r.uiLanguageDirection?"sw":"se",lh(a,this.groupedItems),a.buttonView.set({label:o("Show more items"),tooltip:!0,tooltipPosition:"rtl"===r.uiLanguageDirection?"se":"sw",icon:oE}),a}_updateFocusCycleableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(r=>{this.viewFocusables.add(r)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}class Sc extends Be{constructor(r){super(r);const o=this.bindTemplate,a=`ck-editor__label_${ce()}`,u=new jy(r);this.children=this.createCollection(),this.children.addMany([this._createLabel(a),u]),this.set({label:"",isVisible:!0}),u.set({role:"group",ariaLabelledBy:a}),u.focusTracker.destroy(),u.keystrokes.destroy(),this.items=u.items,this.setTemplate({tag:"li",attributes:{role:"presentation",class:["ck","ck-list__group",o.if("isVisible","ck-hidden",h=>!h)]},children:this.children})}_createLabel(r){const o=new Be(this.locale);return o.setTemplate({tag:"span",attributes:{id:r},children:[{text:this.bindTemplate.to("label")}]}),o}focus(){this.items.first&&this.items.first.focus()}}var zy=ge(1046);Ee()(zy.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class jy extends Be{constructor(r){super(r),this._listItemGroupToChangeListeners=new WeakMap;const o=this.bindTemplate;this.focusables=new _s,this.items=this.createCollection(),this.focusTracker=new Pr,this.keystrokes=new Ai,this._focusCycler=new ys({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:o.to("role"),"aria-label":o.to("ariaLabel"),"aria-labelledby":o.to("ariaLabelledBy")},children:this.items})}render(){super.render();for(const r of this.items)r instanceof Sc?this._registerFocusableItemsGroup(r):this._registerFocusableListItem(r);this.items.on("change",(r,o)=>{for(const a of o.removed)a instanceof Sc?this._deregisterFocusableItemsGroup(a):this._deregisterFocusableListItem(a);for(const a of Array.from(o.added).reverse())a instanceof Sc?this._registerFocusableItemsGroup(a,o.index):this._registerFocusableListItem(a,o.index)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_registerFocusableListItem(r,o){this.focusTracker.add(r.element),this.focusables.add(r,o)}_deregisterFocusableListItem(r){this.focusTracker.remove(r.element),this.focusables.remove(r)}_getOnGroupItemsChangeCallback(r){return(o,a)=>{for(const u of a.removed)this._deregisterFocusableListItem(u);for(const u of Array.from(a.added).reverse())this._registerFocusableListItem(u,this.items.getIndex(r)+a.index)}}_registerFocusableItemsGroup(r,o){Array.from(r.items).forEach((u,h)=>{this._registerFocusableListItem(u,void 0!==o?o+h:void 0)});const a=this._getOnGroupItemsChangeCallback(r);this._listItemGroupToChangeListeners.set(r,a),r.items.on("change",a)}_deregisterFocusableItemsGroup(r){for(const o of r.items)this._deregisterFocusableListItem(o);r.items.off("change",this._listItemGroupToChangeListeners.get(r)),this._listItemGroupToChangeListeners.delete(r)}}class et extends Be{constructor(r){super(r);const o=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",o.if("isVisible","ck-hidden",a=>!a)],role:"presentation"},children:this.children})}focus(){this.children.first&&this.children.first.focus()}}class Me extends Be{constructor(r){super(r),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}var Uy=ge(7686);Ee()(Uy.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class ch extends Be{constructor(r){super(r);const o=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(),this.arrowView=this._createArrowView(),this.keystrokes=new Ai,this.focusTracker=new Pr,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",o.to("class"),o.if("isVisible","ck-hidden",a=>!a),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(r,o)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),o())}),this.keystrokes.set("arrowleft",(r,o)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),o())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(){const r=new ht;return r.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),r.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),r.delegate("execute").to(this),r}_createArrowView(){const r=new ht,o=r.bindTemplate;return r.icon=Vy,r.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":o.to("isOn"),"aria-haspopup":!0,"aria-expanded":o.to("isOn",a=>String(a))}}),r.bind("isEnabled").to(this),r.bind("label").to(this),r.bind("tooltip").to(this),r.delegate("execute").to(this,"open"),r}}var Hy=ge(7339);Ee()(Hy.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var uE=ge(3949);function Pi(l,r=iE){const o=new r(l),a=new ug(l),u=new Ly(l,o,a);return o.bind("isEnabled").to(u),o instanceof ch?o.arrowView.bind("isOn").to(u,"isOpen"):o.bind("isOn").to(u,"isOpen"),(f=h=u).on("render",()=>{Ll({emitter:f,activator:()=>f.isOpen,callback:()=>{f.isOpen=!1},contextElements:()=>[f.element,...f.focusTracker._elements]})}),function(f){f.on("execute",g=>{g.source instanceof Bl||(f.isOpen=!1)})}(h),function(f){f.focusTracker.on("change:isFocused",(g,_,b)=>{f.isOpen&&!b&&(f.isOpen=!1)})}(h),function(f){f.keystrokes.set("arrowdown",(g,_)=>{f.isOpen&&(f.panelView.focus(),_())}),f.keystrokes.set("arrowup",(g,_)=>{f.isOpen&&(f.panelView.focusLast(),_())})}(h),function(f){f.on("change:isOpen",(g,_,b)=>{if(b)return;const w=f.panelView.element;w&&w.contains(ze.document.activeElement)&&f.buttonView.focus()})}(h),function(f){f.on("change:isOpen",(g,_,b)=>{b&&f.panelView.focus()},{priority:"low"})}(h),u;var h,f}function lh(l,r,o={}){l.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),l.isOpen?hE(l,r,o):l.once("change:isOpen",()=>hE(l,r,o),{priority:"highest"}),o.enableActiveItemFocusOnDropdownOpen&&dh(l,()=>l.toolbarView.items.find(a=>a.isOn))}function hE(l,r,o){const a=l.locale,u=a.t,h=l.toolbarView=new sE(a),f="function"==typeof r?r():r;h.ariaLabel=o.ariaLabel||u("Dropdown toolbar"),o.maxWidth&&(h.maxWidth=o.maxWidth),o.class&&(h.class=o.class),o.isCompact&&(h.isCompact=o.isCompact),o.isVertical&&(h.isVertical=!0),f instanceof _s?h.items.bindTo(f).using(g=>g):h.items.addMany(f),l.panelView.children.add(h),h.items.delegate("execute").to(l)}function uh(l,r,o={}){l.isOpen?SR(l,r,o):l.once("change:isOpen",()=>SR(l,r,o),{priority:"highest"}),dh(l,()=>l.listView.items.find(a=>a instanceof et&&a.children.first.isOn))}function SR(l,r,o){const a=l.locale,u=l.listView=new jy(a),h="function"==typeof r?r():r;u.ariaLabel=o.ariaLabel,u.role=o.role,Gy(l,u.items,h,a),l.panelView.children.add(u),u.items.delegate("execute").to(l)}function dh(l,r){l.on("change:isOpen",()=>{if(!l.isOpen)return;const o=r();o&&("function"==typeof o.focus?o.focus():ke("ui-dropdown-focus-child-on-open-child-missing-focus",{view:o}))},{priority:ye.low-10})}function Gy(l,r,o,a){r.bindTo(o).using(u=>{if("separator"===u.type)return new Me(a);if("group"===u.type){const h=new Sc(a);return h.set({label:u.label}),Gy(l,h.items,u.items,a),h.items.delegate("execute").to(l),h}if("button"===u.type||"switchbutton"===u.type){const h=new et(a);let f;return f="button"===u.type?new ht(a):new Bl(a),f.bind(...Object.keys(u.model)).to(u.model),f.delegate("execute").to(h),h.children.add(f),h}return null})}Ee()(uE.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const Ri=(l,r,o)=>{const a=new nE(l.locale);return a.set({id:r,ariaDescribedById:o}),a.bind("isReadOnly").to(l,"isEnabled",u=>!u),a.bind("hasError").to(l,"errorText",u=>!!u),a.on("input",()=>{l.errorText=null}),l.bind("isEmpty","isFocused","placeholder").to(a),a},ie=(l,r,o)=>{const a=new m7(l.locale);return a.set({id:r,ariaDescribedById:o,inputMode:"numeric"}),a.bind("isReadOnly").to(l,"isEnabled",u=>!u),a.bind("hasError").to(l,"errorText",u=>!!u),a.on("input",()=>{l.errorText=null}),l.bind("isEmpty","isFocused","placeholder").to(a),a},Hl=(l,r=0,o=1)=>l>o?o:l<r?r:l,Or=(l,r=0,o=Math.pow(10,r))=>Math.round(o*l)/o,Gl=l=>("#"===l[0]&&(l=l.substring(1)),l.length<6?{r:parseInt(l[0]+l[0],16),g:parseInt(l[1]+l[1],16),b:parseInt(l[2]+l[2],16),a:4===l.length?Or(parseInt(l[3]+l[3],16)/255,2):1}:{r:parseInt(l.substring(0,2),16),g:parseInt(l.substring(2,4),16),b:parseInt(l.substring(4,6),16),a:8===l.length?Or(parseInt(l.substring(6,8),16)/255,2):1}),hh=l=>{const{h:r,s:o,l:a}=(({h:l,s:r,v:o,a})=>{const u=(200-r)*o/100;return{h:Or(l),s:Or(u>0&&u<200?r*o/100/(u<=100?u:200-u)*100:0),l:Or(u/2),a:Or(a,2)}})(l);return`hsl(${r}, ${o}%, ${a}%)`},ph=l=>{const r=l.toString(16);return r.length<2?"0"+r:r},dg=(l,r)=>{if(l===r)return!0;for(const o in l)if(l[o]!==r[o])return!1;return!0},Wy={},hg=l=>{let r=Wy[l];return r||(r=document.createElement("template"),r.innerHTML=l,Wy[l]=r),r},Ky=(l,r,o)=>{l.dispatchEvent(new CustomEvent(r,{bubbles:!0,detail:o}))};let ql=!1;const Qy=l=>"touches"in l,Yy=(l,r)=>{const o=Qy(r)?r.touches[0]:r,a=l.el.getBoundingClientRect();Ky(l.el,"move",l.getMove({x:Hl((o.pageX-(a.left+window.pageXOffset))/a.width),y:Hl((o.pageY-(a.top+window.pageYOffset))/a.height)}))};class fE{constructor(r,o,a,u){const h=hg(`<div role="slider" tabindex="0" part="${o}" ${a}><div part="${o}-pointer"></div></div>`);r.appendChild(h.content.cloneNode(!0));const f=r.querySelector(`[part=${o}]`);f.addEventListener("mousedown",this),f.addEventListener("touchstart",this),f.addEventListener("keydown",this),this.el=f,this.xy=u,this.nodes=[f.firstChild,f]}set dragging(r){const o=r?document.addEventListener:document.removeEventListener;o(ql?"touchmove":"mousemove",this),o(ql?"touchend":"mouseup",this)}handleEvent(r){switch(r.type){case"mousedown":case"touchstart":if(r.preventDefault(),o=r,ql&&!Qy(o)||(ql||(ql=Qy(o)),0)||!ql&&0!=r.button)return;this.el.focus(),Yy(this,r),this.dragging=!0;break;case"mousemove":case"touchmove":r.preventDefault(),Yy(this,r);break;case"mouseup":case"touchend":this.dragging=!1;break;case"keydown":((o,a)=>{const u=a.keyCode;u>40||o.xy&&u<37||u<33||(a.preventDefault(),Ky(o.el,"move",o.getMove({x:39===u?.01:37===u?-.01:34===u?.05:33===u?-.05:35===u?1:36===u?-1:0,y:40===u?.01:38===u?-.01:0},!0)))})(this,r)}var o}style(r){r.forEach((o,a)=>{for(const u in o)this.nodes[a].style.setProperty(u,o[u])})}}class MR extends fE{constructor(r){super(r,"hue",'aria-label="Hue" aria-valuemin="0" aria-valuemax="360"',!1)}update({h:r}){this.h=r,this.style([{left:r/360*100+"%",color:hh({h:r,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuenow",`${Or(r)}`)}getMove(r,o){return{h:o?Hl(this.h+360*r.x,0,360):360*r.x}}}class PR extends fE{constructor(r){super(r,"saturation",'aria-label="Color"',!0)}update(r){this.hsva=r,this.style([{top:100-r.v+"%",left:`${r.s}%`,color:hh(r)},{"background-color":hh({h:r.h,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuetext",`Saturation ${Or(r.s)}%, Brightness ${Or(r.v)}%`)}getMove(r,o){return{s:o?Hl(this.hsva.s+100*r.x,0,100):100*r.x,v:o?Hl(this.hsva.v-100*r.y,0,100):Math.round(100-100*r.y)}}}const fg=Symbol("same"),pg=Symbol("color"),Zy=Symbol("hsva"),Jy=Symbol("update"),pE=Symbol("parts"),Ni=Symbol("css"),gE=Symbol("sliders");class RR extends HTMLElement{static get observedAttributes(){return["color"]}get[Ni](){return[':host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;display:flex;place-content:center center;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{content:"";width:100%;height:100%;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}',"[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}","[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}"]}get[gE](){return[PR,MR]}get color(){return this[pg]}set color(r){if(!this[fg](r)){const o=this.colorModel.toHsva(r);this[Jy](o),this[pg]=r}}constructor(){super();const r=hg(`<style>${this[Ni].join("")}</style>`),o=this.attachShadow({mode:"open"});o.appendChild(r.content.cloneNode(!0)),o.addEventListener("move",this),this[pE]=this[gE].map(a=>new a(o))}connectedCallback(){if(this.hasOwnProperty("color")){const r=this.color;delete this.color,this.color=r}else this.color||(this.color=this.colorModel.defaultColor)}attributeChangedCallback(r,o,a){const u=this.colorModel.fromAttr(a);this[fg](u)||(this.color=u)}handleEvent(r){const o=this[Zy],a={...o,...r.detail};let u;this[Jy](a),dg(a,o)||this[fg](u=this.colorModel.fromHsva(a))||(this[pg]=u,Ky(this,"color-changed",{value:u}))}[fg](r){return this.color&&this.colorModel.equal(r,this.color)}[Jy](r){this[Zy]=r,this[pE].forEach(o=>o.update(r))}}const k7={defaultColor:"#000",toHsva:l=>(({r:l,g:r,b:o,a})=>{const u=Math.max(l,r,o),h=u-Math.min(l,r,o),f=h?u===l?(r-o)/h:u===r?2+(o-l)/h:4+(l-r)/h:0;return{h:Or(60*(f<0?f+6:f)),s:Or(u?h/u*100:0),v:Or(u/255*100),a}})(Gl(l)),fromHsva:({h:l,s:r,v:o})=>(({r:l,g:r,b:o,a})=>{const u=a<1?ph(Or(255*a)):"";return"#"+ph(l)+ph(r)+ph(o)+u})((({h:l,s:r,v:o,a})=>{l=l/360*6,r/=100,o/=100;const u=Math.floor(l),h=o*(1-r),f=o*(1-(l-u)*r),g=o*(1-(1-l+u)*r),_=u%6;return{r:Or(255*[o,f,h,h,g,o][_]),g:Or(255*[g,o,o,f,h,h][_]),b:Or(255*[h,h,g,o,o,f][_]),a:Or(a,2)}})({h:l,s:r,v:o,a:1})),equal:(l,r)=>l.toLowerCase()===r.toLowerCase()||dg(Gl(l),Gl(r)),fromAttr:l=>l};class Xy extends RR{get colorModel(){return k7}}customElements.define("hex-color-picker",class extends Xy{});var ew=ge(3398);Ee()(ew.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class OR extends Be{constructor(r,o={}){super(r),this.set({color:"",_hexColor:""}),this.hexInputRow=this._createInputRow();const a=this.createCollection();o.hideInput||a.add(this.hexInputRow),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-picker"],tabindex:-1},children:a}),this._config=o,this._debounceColorPickerEvent=pc(u=>{this.set("color",u),this.fire("colorSelected",{color:this.color})},150,{leading:!0}),this.on("set:color",(u,h,f)=>{u.return=eE(f,this._config.format||"hsl")}),this.on("change:color",()=>{this._hexColor=tw(this.color)}),this.on("change:_hexColor",()=>{document.activeElement!==this.picker&&this.picker.setAttribute("color",this._hexColor),tw(this.color)!=tw(this._hexColor)&&(this.color=this._hexColor)})}render(){if(super.render(),this.picker=ze.document.createElement("hex-color-picker"),this.picker.setAttribute("class","hex-color-picker"),this.picker.setAttribute("tabindex","-1"),this._createSlidersView(),this.element){this.hexInputRow.element?this.element.insertBefore(this.picker,this.hexInputRow.element):this.element.appendChild(this.picker);const r=document.createElement("style");r.textContent='[role="slider"]:focus [part$="pointer"] {border: 1px solid #fff;outline: 1px solid var(--ck-color-focus-border);box-shadow: 0 0 0 2px #fff;}',this.picker.shadowRoot.appendChild(r)}this.picker.addEventListener("color-changed",r=>{this._debounceColorPickerEvent(r.detail.value)})}focus(){!this._config.hideInput&&(F.isGecko||F.isiOS||F.isSafari)&&this.hexInputRow.children.get(1).focus(),this.slidersView.first.focus()}_createSlidersView(){const r=[...this.picker.shadowRoot.children].filter(o=>"slider"===o.getAttribute("role")).map(o=>new mE(o));this.slidersView=this.createCollection(),r.forEach(o=>{this.slidersView.add(o)})}_createInputRow(){const r=new LR,o=this._createColorInput();return new VR(this.locale,[r,o])}_createColorInput(){const r=new zl(this.locale,Ri),{t:o}=this.locale;return r.set({label:o("HEX"),class:"color-picker-hex-input"}),r.fieldView.bind("value").to(this,"_hexColor",a=>r.isFocused?r.fieldView.value:a.startsWith("#")?a.substring(1):a),r.fieldView.on("input",()=>{const a=r.fieldView.element.value;if(a){const u=a.trim(),h=u.startsWith("#")?u.substring(1):u;[3,4,6,8].includes(h.length)&&/(([0-9a-fA-F]{2}){3,4}|([0-9a-fA-F]){3,4})/.test(h)&&this._debounceColorPickerEvent("#"+h)}}),r}}function tw(l){let r=function(o){if(!o)return"";const a=Tc(o);return a?"hex"===a.space?a.hexValue:eE(o,"hex"):"#000"}(l);return r||(r="#000"),4===r.length&&(r="#"+[r[1],r[1],r[2],r[2],r[3],r[3]].join("")),r.toLowerCase()}class mE extends Be{constructor(r){super(),this.element=r}focus(){this.element.focus()}}class LR extends Be{constructor(r){super(r),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-picker__hash-view"]},children:"#"})}}class VR extends Be{constructor(r,o){super(r),this.children=this.createCollection(o),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-picker__row"]},children:this.children})}}class nw extends(Pt(ii)){constructor(r){super(r),this.set("isEmpty",!0),this.on("change",()=>{this.set("isEmpty",0===this.length)})}add(r,o){return this.find(a=>a.color===r.color)?this:super.add(r,o)}hasColor(r){return!!this.find(o=>o.color===r)}}class BR extends Be{constructor(r,{colors:o,columns:a,removeButtonLabel:u,documentColorsLabel:h,documentColorsCount:f,colorPickerLabel:g,focusTracker:_,focusables:b}){super(r);const w=this.bindTemplate;this.set("isVisible",!0),this.focusTracker=_,this.items=this.createCollection(),this.colorDefinitions=o,this.columns=a,this.documentColors=new nw,this.documentColorsCount=f,this._focusables=b,this._removeButtonLabel=u,this._colorPickerLabel=g,this._documentColorsLabel=h,this.setTemplate({tag:"div",attributes:{class:["ck-color-grids-fragment",w.if("isVisible","ck-hidden",v=>!v)]},children:this.items}),this.removeColorButtonView=this._createRemoveColorButton(),this.items.add(this.removeColorButtonView)}updateDocumentColors(r,o){const a=r.document,u=this.documentColorsCount;this.documentColors.clear();for(const h of a.getRoots()){const f=r.createRangeIn(h);for(const g of f.getItems())if(g.is("$textProxy")&&g.hasAttribute(o)&&(this._addColorToDocumentColors(g.getAttribute(o)),this.documentColors.length>=u))return}}updateSelectedColors(){const r=this.documentColorsGrid,a=this.selectedColor;this.staticColorsGrid.selectedColor=a,r&&(r.selectedColor=a)}render(){if(super.render(),this.staticColorsGrid=this._createStaticColorsGrid(),this.items.add(this.staticColorsGrid),this.documentColorsCount){const r=Lo.bind(this.documentColors,this.documentColors),o=new Py(this.locale);o.text=this._documentColorsLabel,o.extendTemplate({attributes:{class:["ck","ck-color-grid__label",r.if("isEmpty","ck-hidden")]}}),this.items.add(o),this.documentColorsGrid=this._createDocumentColorsGrid(),this.items.add(this.documentColorsGrid)}this._createColorPickerButton(),this._addColorSelectorElementsToFocusTracker(),this.focus()}focus(){this.removeColorButtonView.focus()}destroy(){super.destroy()}addColorPickerButton(){this.colorPickerButtonView&&(this.items.add(this.colorPickerButtonView),this.focusTracker.add(this.colorPickerButtonView.element),this._focusables.add(this.colorPickerButtonView))}_addColorSelectorElementsToFocusTracker(){this.focusTracker.add(this.removeColorButtonView.element),this._focusables.add(this.removeColorButtonView),this.staticColorsGrid&&(this.focusTracker.add(this.staticColorsGrid.element),this._focusables.add(this.staticColorsGrid)),this.documentColorsGrid&&(this.focusTracker.add(this.documentColorsGrid.element),this._focusables.add(this.documentColorsGrid))}_createColorPickerButton(){this.colorPickerButtonView=new ht,this.colorPickerButtonView.set({label:this._colorPickerLabel,withText:!0,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.209 18.717A8.5 8.5 0 1 1 18.686 9.6h-.008l.002.12a3 3 0 0 1-2.866 2.997h-.268l-.046-.002v.002h-4.791a2 2 0 1 0 0 4 1 1 0 1 1-.128 1.992 8.665 8.665 0 0 1-.372.008Zm-3.918-7.01a1.25 1.25 0 1 0-2.415-.648 1.25 1.25 0 0 0 2.415.647ZM5.723 8.18a1.25 1.25 0 1 0 .647-2.414 1.25 1.25 0 0 0-.647 2.414ZM9.76 6.155a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Zm4.028 1.759a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Z"/></svg>',class:"ck-color-selector__color-picker"}),this.colorPickerButtonView.on("execute",()=>{this.fire("colorPicker:show")})}_createRemoveColorButton(){const r=new ht;return r.set({withText:!0,icon:wy,label:this._removeButtonLabel}),r.class="ck-color-selector__remove-color",r.on("execute",()=>{this.fire("execute",{value:null,source:"removeColorButton"})}),r.render(),r}_createStaticColorsGrid(){const r=new J1(this.locale,{colorDefinitions:this.colorDefinitions,columns:this.columns});return r.on("execute",(o,a)=>{this.fire("execute",{value:a.value,source:"staticColorsGrid"})}),r}_createDocumentColorsGrid(){const r=Lo.bind(this.documentColors,this.documentColors),o=new J1(this.locale,{columns:this.columns});return o.extendTemplate({attributes:{class:r.if("isEmpty","ck-hidden")}}),o.items.bindTo(this.documentColors).using(a=>{const u=new oh;return u.set({color:a.color,hasBorder:a.options&&a.options.hasBorder}),a.label&&u.set({label:a.label,tooltip:!0}),u.on("execute",()=>{this.fire("execute",{value:a.color,source:"documentColorsGrid"})}),u}),this.documentColors.on("change:isEmpty",(a,u,h)=>{h&&(o.selectedColor=null)}),o}_addColorToDocumentColors(r){const o=this.colorDefinitions.find(a=>a.color===r);this.documentColors.add(o?Object.assign({},o):{color:r,label:r,options:{hasBorder:!1}})}}var zR=Object.defineProperty,_E=Object.getOwnPropertySymbols,jR=Object.prototype.hasOwnProperty,ks=Object.prototype.propertyIsEnumerable,gg=(l,r,o)=>r in l?zR(l,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):l[r]=o;class UR extends Be{constructor(r,{focusTracker:o,focusables:a,keystrokes:u,colorPickerViewConfig:h}){super(r),this.items=this.createCollection(),this.focusTracker=o,this.keystrokes=u,this.set("isVisible",!1),this.set("selectedColor",void 0),this._focusables=a,this._colorPickerViewConfig=h;const f=this.bindTemplate,{saveButtonView:g,cancelButtonView:_}=this._createActionButtons();this.saveButtonView=g,this.cancelButtonView=_,this.actionBarView=this._createActionBarView({saveButtonView:g,cancelButtonView:_}),this.setTemplate({tag:"div",attributes:{class:["ck-color-picker-fragment",f.if("isVisible","ck-hidden",b=>!b)]},children:this.items})}render(){super.render();const r=new OR(this.locale,((o,a)=>{for(var u in a||(a={}))jR.call(a,u)&&gg(o,u,a[u]);if(_E)for(var u of _E(a))ks.call(a,u)&&gg(o,u,a[u]);return o})({},this._colorPickerViewConfig));this.colorPickerView=r,this.colorPickerView.render(),this.selectedColor&&(r.color=this.selectedColor),this.listenTo(this,"change:selectedColor",(o,a,u)=>{r.color=u}),this.items.add(this.colorPickerView),this.items.add(this.actionBarView),this._addColorPickersElementsToFocusTracker(),this._stopPropagationOnArrowsKeys(),this._executeOnEnterPress(),this._executeUponColorChange()}destroy(){super.destroy()}focus(){this.colorPickerView.focus()}_executeOnEnterPress(){this.keystrokes.set("enter",r=>{this.isVisible&&this.focusTracker.focusedElement!==this.cancelButtonView.element&&(this.fire("execute",{value:this.selectedColor}),r.stopPropagation(),r.preventDefault())})}_stopPropagationOnArrowsKeys(){const r=o=>o.stopPropagation();this.keystrokes.set("arrowright",r),this.keystrokes.set("arrowleft",r),this.keystrokes.set("arrowup",r),this.keystrokes.set("arrowdown",r)}_addColorPickersElementsToFocusTracker(){for(const o of this.colorPickerView.slidersView)this.focusTracker.add(o.element),this._focusables.add(o);const r=this.colorPickerView.hexInputRow.children.get(1);r.element&&(this.focusTracker.add(r.element),this._focusables.add(r)),this.focusTracker.add(this.saveButtonView.element),this._focusables.add(this.saveButtonView),this.focusTracker.add(this.cancelButtonView.element),this._focusables.add(this.cancelButtonView)}_createActionBarView({saveButtonView:r,cancelButtonView:o}){const a=new Be,u=this.createCollection();return u.add(r),u.add(o),a.setTemplate({tag:"div",attributes:{class:["ck","ck-color-selector_action-bar"]},children:u}),a}_createActionButtons(){const r=this.locale,o=r.t,a=new ht(r),u=new ht(r);return a.set({icon:Xp,class:"ck-button-save",type:"button",withText:!1,label:o("Accept")}),u.set({icon:U1,class:"ck-button-cancel",type:"button",withText:!1,label:o("Cancel")}),a.on("execute",()=>{this.fire("execute",{source:"colorPickerSaveButton",value:this.selectedColor})}),u.on("execute",()=>{this.fire("colorPicker:cancel")}),{saveButtonView:a,cancelButtonView:u}}_executeUponColorChange(){this.colorPickerView.on("colorSelected",(r,o)=>{this.fire("execute",{value:o.color,source:"colorPicker"}),this.set("selectedColor",o.color)})}}var rw=ge(4157);Ee()(rw.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class bE extends Be{constructor(r,{colors:o,columns:a,removeButtonLabel:u,documentColorsLabel:h,documentColorsCount:f,colorPickerLabel:g,colorPickerViewConfig:_}){super(r),this.items=this.createCollection(),this.focusTracker=new Pr,this.keystrokes=new Ai,this._focusables=new _s,this._colorPickerViewConfig=_,this._focusCycler=new ys({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.colorGridsFragmentView=new BR(r,{colors:o,columns:a,removeButtonLabel:u,documentColorsLabel:h,documentColorsCount:f,colorPickerLabel:g,focusTracker:this.focusTracker,focusables:this._focusables}),this.colorPickerFragmentView=new UR(r,{focusables:this._focusables,focusTracker:this.focusTracker,keystrokes:this.keystrokes,colorPickerViewConfig:_}),this.set("_isColorGridsFragmentVisible",!0),this.set("_isColorPickerFragmentVisible",!1),this.set("selectedColor",void 0),this.colorGridsFragmentView.bind("isVisible").to(this,"_isColorGridsFragmentVisible"),this.colorPickerFragmentView.bind("isVisible").to(this,"_isColorPickerFragmentVisible"),this.on("change:selectedColor",(b,w,v)=>{this.colorGridsFragmentView.set("selectedColor",v),this.colorPickerFragmentView.set("selectedColor",v)}),this.colorGridsFragmentView.on("change:selectedColor",(b,w,v)=>{this.set("selectedColor",v)}),this.colorPickerFragmentView.on("change:selectedColor",(b,w,v)=>{this.set("selectedColor",v)}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-selector"]},children:this.items})}render(){super.render(),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}appendUI(){this._appendColorGridsFragment(),this._colorPickerViewConfig&&this._appendColorPickerFragment()}showColorPickerFragment(){this.colorPickerFragmentView.colorPickerView&&!this._isColorPickerFragmentVisible&&(this._isColorPickerFragmentVisible=!0,this.colorPickerFragmentView.focus(),this._isColorGridsFragmentVisible=!1)}showColorGridsFragment(){this._isColorGridsFragmentVisible||(this._isColorGridsFragmentVisible=!0,this.colorGridsFragmentView.focus(),this._isColorPickerFragmentVisible=!1)}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}updateDocumentColors(r,o){this.colorGridsFragmentView.updateDocumentColors(r,o)}updateSelectedColors(){this.colorGridsFragmentView.updateSelectedColors()}_appendColorGridsFragment(){this.items.length||(this.items.add(this.colorGridsFragmentView),this.colorGridsFragmentView.delegate("execute").to(this),this.colorGridsFragmentView.delegate("colorPicker:show").to(this))}_appendColorPickerFragment(){2!==this.items.length&&(this.items.add(this.colorPickerFragmentView),this.colorGridsFragmentView.colorPickerButtonView&&this.colorGridsFragmentView.colorPickerButtonView.on("execute",()=>{this.showColorPickerFragment()}),this.colorGridsFragmentView.addColorPickerButton(),this.colorPickerFragmentView.delegate("execute").to(this),this.colorPickerFragmentView.delegate("colorPicker:cancel").to(this))}}class yE{constructor(r){this._components=new Map,this.editor=r}*names(){for(const r of this._components.values())yield r.originalName}add(r,o){this._components.set(Wl(r),{callback:o,originalName:r})}create(r){if(!this.has(r))throw new V("componentfactory-item-missing",this,{name:r});return this._components.get(Wl(r)).callback(this.editor.locale)}has(r){return this._components.has(Wl(r))}}function Wl(l){return String(l).toLowerCase()}var mg=ge(8793);Ee()(mg.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var wE=Object.defineProperty,iw=Object.getOwnPropertySymbols,kE=Object.prototype.hasOwnProperty,vE=Object.prototype.propertyIsEnumerable,_g=(l,r,o)=>r in l?wE(l,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):l[r]=o,dt=(l,r)=>{for(var o in r||(r={}))kE.call(r,o)&&_g(l,o,r[o]);if(iw)for(var o of iw(r))vE.call(r,o)&&_g(l,o,r[o]);return l};const CE=ho("px"),AE=ze.document.body,ow={top:-99999,left:-99999,name:"arrowless",config:{withArrow:!1}},sw=class extends Be{constructor(l){super(l);const r=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",r.to("position",o=>`ck-balloon-panel_${o}`),r.if("isVisible","ck-balloon-panel_visible"),r.if("withArrow","ck-balloon-panel_with-arrow"),r.to("class")],style:{top:r.to("top",CE),left:r.to("left",CE)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(l){this.show();const r=sw.defaultPositions,o=Object.assign({},{element:this.element,positions:[r.southArrowNorth,r.southArrowNorthMiddleWest,r.southArrowNorthMiddleEast,r.southArrowNorthWest,r.southArrowNorthEast,r.northArrowSouth,r.northArrowSouthMiddleWest,r.northArrowSouthMiddleEast,r.northArrowSouthWest,r.northArrowSouthEast,r.viewportStickyNorth],limiter:AE,fitInViewport:!0},l),a=sw._getOptimalPosition(o)||ow,u=parseInt(a.left),h=parseInt(a.top),f=a.name,g=a.config||{},{withArrow:_=!0}=g;this.top=h,this.left=u,this.position=f,this.withArrow=_}pin(l){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(l):this._stopPinning()},this._startPinning(l),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(l){this.attachTo(l);const r=aw(l.target),o=l.limiter?aw(l.limiter):AE;this.listenTo(ze.document,"scroll",(a,u)=>{const h=u.target,f=r&&h.contains(r),g=o&&h.contains(o);!f&&!g&&r&&o||this.attachTo(l)},{useCapture:!0}),this.listenTo(ze.window,"resize",()=>{this.attachTo(l)})}_stopPinning(){this.stopListening(ze.document,"scroll"),this.stopListening(ze.window,"resize")}};let Lr=sw;function aw(l){return pa(l)?l:Ln(l)?l.commonAncestorContainer:"function"==typeof l?aw(l()):null}function EE(l={}){const{sideOffset:r=Lr.arrowSideOffset,heightOffset:o=Lr.arrowHeightOffset,stickyVerticalOffset:a=Lr.stickyVerticalOffset,config:u}=l;return{northWestArrowSouthWest:(g,_)=>dt({top:h(g,_),left:g.left-r,name:"arrow_sw"},u&&{config:u}),northWestArrowSouthMiddleWest:(g,_)=>dt({top:h(g,_),left:g.left-.25*_.width-r,name:"arrow_smw"},u&&{config:u}),northWestArrowSouth:(g,_)=>dt({top:h(g,_),left:g.left-_.width/2,name:"arrow_s"},u&&{config:u}),northWestArrowSouthMiddleEast:(g,_)=>dt({top:h(g,_),left:g.left-.75*_.width+r,name:"arrow_sme"},u&&{config:u}),northWestArrowSouthEast:(g,_)=>dt({top:h(g,_),left:g.left-_.width+r,name:"arrow_se"},u&&{config:u}),northArrowSouthWest:(g,_)=>dt({top:h(g,_),left:g.left+g.width/2-r,name:"arrow_sw"},u&&{config:u}),northArrowSouthMiddleWest:(g,_)=>dt({top:h(g,_),left:g.left+g.width/2-.25*_.width-r,name:"arrow_smw"},u&&{config:u}),northArrowSouth:(g,_)=>dt({top:h(g,_),left:g.left+g.width/2-_.width/2,name:"arrow_s"},u&&{config:u}),northArrowSouthMiddleEast:(g,_)=>dt({top:h(g,_),left:g.left+g.width/2-.75*_.width+r,name:"arrow_sme"},u&&{config:u}),northArrowSouthEast:(g,_)=>dt({top:h(g,_),left:g.left+g.width/2-_.width+r,name:"arrow_se"},u&&{config:u}),northEastArrowSouthWest:(g,_)=>dt({top:h(g,_),left:g.right-r,name:"arrow_sw"},u&&{config:u}),northEastArrowSouthMiddleWest:(g,_)=>dt({top:h(g,_),left:g.right-.25*_.width-r,name:"arrow_smw"},u&&{config:u}),northEastArrowSouth:(g,_)=>dt({top:h(g,_),left:g.right-_.width/2,name:"arrow_s"},u&&{config:u}),northEastArrowSouthMiddleEast:(g,_)=>dt({top:h(g,_),left:g.right-.75*_.width+r,name:"arrow_sme"},u&&{config:u}),northEastArrowSouthEast:(g,_)=>dt({top:h(g,_),left:g.right-_.width+r,name:"arrow_se"},u&&{config:u}),southWestArrowNorthWest:g=>dt({top:f(g),left:g.left-r,name:"arrow_nw"},u&&{config:u}),southWestArrowNorthMiddleWest:(g,_)=>dt({top:f(g),left:g.left-.25*_.width-r,name:"arrow_nmw"},u&&{config:u}),southWestArrowNorth:(g,_)=>dt({top:f(g),left:g.left-_.width/2,name:"arrow_n"},u&&{config:u}),southWestArrowNorthMiddleEast:(g,_)=>dt({top:f(g),left:g.left-.75*_.width+r,name:"arrow_nme"},u&&{config:u}),southWestArrowNorthEast:(g,_)=>dt({top:f(g),left:g.left-_.width+r,name:"arrow_ne"},u&&{config:u}),southArrowNorthWest:g=>dt({top:f(g),left:g.left+g.width/2-r,name:"arrow_nw"},u&&{config:u}),southArrowNorthMiddleWest:(g,_)=>dt({top:f(g),left:g.left+g.width/2-.25*_.width-r,name:"arrow_nmw"},u&&{config:u}),southArrowNorth:(g,_)=>dt({top:f(g),left:g.left+g.width/2-_.width/2,name:"arrow_n"},u&&{config:u}),southArrowNorthMiddleEast:(g,_)=>dt({top:f(g),left:g.left+g.width/2-.75*_.width+r,name:"arrow_nme"},u&&{config:u}),southArrowNorthEast:(g,_)=>dt({top:f(g),left:g.left+g.width/2-_.width+r,name:"arrow_ne"},u&&{config:u}),southEastArrowNorthWest:g=>dt({top:f(g),left:g.right-r,name:"arrow_nw"},u&&{config:u}),southEastArrowNorthMiddleWest:(g,_)=>dt({top:f(g),left:g.right-.25*_.width-r,name:"arrow_nmw"},u&&{config:u}),southEastArrowNorth:(g,_)=>dt({top:f(g),left:g.right-_.width/2,name:"arrow_n"},u&&{config:u}),southEastArrowNorthMiddleEast:(g,_)=>dt({top:f(g),left:g.right-.75*_.width+r,name:"arrow_nme"},u&&{config:u}),southEastArrowNorthEast:(g,_)=>dt({top:f(g),left:g.right-_.width+r,name:"arrow_ne"},u&&{config:u}),westArrowEast:(g,_)=>dt({top:g.top+g.height/2-_.height/2,left:g.left-_.width-o,name:"arrow_e"},u&&{config:u}),eastArrowWest:(g,_)=>dt({top:g.top+g.height/2-_.height/2,left:g.right+o,name:"arrow_w"},u&&{config:u}),viewportStickyNorth:(g,_,b,w)=>{const v=w||b;return g.getIntersection(v)?v.height-g.height>a?null:{top:v.top+a,left:g.left+g.width/2-_.width/2,name:"arrowless",config:dt({withArrow:!1},u)}:null}};function h(g,_){return g.top-_.height-o}function f(g){return g.bottom+o}}Lr.arrowSideOffset=25,Lr.arrowHeightOffset=10,Lr.stickyVerticalOffset=20,Lr._getOptimalPosition=fo,Lr.defaultPositions=EE();var cw=ge(3332);Ee()(cw.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const gh="ck-tooltip",vr=class extends(hn()){constructor(l){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver=null,vr._editors.add(l),vr._instance)return vr._instance;vr._instance=this,this.tooltipTextView=new Be(l.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new Lr(l.locale),this.balloonPanelView.class=gh,this.balloonPanelView.content.add(this.tooltipTextView),this._pinTooltipDebounced=pc(this._pinTooltip,600),this.listenTo(ze.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(ze.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(ze.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(ze.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(ze.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(l){const r=l.ui.view&&l.ui.view.body;vr._editors.delete(l),this.stopListening(l.ui),r&&r.has(this.balloonPanelView)&&r.remove(this.balloonPanelView),vr._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),vr._instance=null)}static getPositioningFunctions(l){const r=vr.defaultBalloonPositions;return{s:[r.southArrowNorth,r.southArrowNorthEast,r.southArrowNorthWest],n:[r.northArrowSouth],e:[r.eastArrowWest],w:[r.westArrowEast],sw:[r.southArrowNorthEast],se:[r.southArrowNorthWest]}[l]}_onEnterOrFocus(l,{target:r}){const o=IE(r);var a;o&&o!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(o,{text:(a=o).dataset.ckeTooltipText,position:a.dataset.ckeTooltipPosition||"s",cssClass:a.dataset.ckeTooltipClass||""}))}_onLeaveOrBlur(l,{target:r,relatedTarget:o}){if("mouseleave"===l.name){if(!pa(r)||this._currentElementWithTooltip&&r!==this._currentElementWithTooltip)return;const a=IE(r),u=IE(o);a&&a!==u&&this._unpinTooltip()}else{if(this._currentElementWithTooltip&&r!==this._currentElementWithTooltip)return;this._unpinTooltip()}}_onScroll(l,{target:r}){this._currentElementWithTooltip&&(r.contains(this.balloonPanelView.element)&&r.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(l,{text:r,position:o,cssClass:a}){const u=Vn(vr._editors.values()).ui.view.body;u.has(this.balloonPanelView)||u.add(this.balloonPanelView),this.tooltipTextView.text=r,this.balloonPanelView.pin({target:l,positions:vr.getPositioningFunctions(o)}),this._resizeObserver=new To(l,()=>{xo(l)||this._unpinTooltip()}),this.balloonPanelView.class=[gh,a].filter(h=>h).join(" ");for(const h of vr._editors)this.listenTo(h.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=l,this._currentTooltipPosition=o}_unpinTooltip(){this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const l of vr._editors)this.stopListening(l.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver&&this._resizeObserver.destroy()}_updateTooltipPosition(){xo(this._currentElementWithTooltip)?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:vr.getPositioningFunctions(this._currentTooltipPosition)}):this._unpinTooltip()}};let Mc=vr;function IE(l){return pa(l)?l.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}Mc.defaultBalloonPositions=EE({heightOffset:5,sideOffset:13}),Mc._editors=new Set,Mc._instance=null;var $R=Object.defineProperty,mh=Object.getOwnPropertySymbols,qR=Object.prototype.hasOwnProperty,WR=Object.prototype.propertyIsEnumerable,DE=(l,r,o)=>r in l?$R(l,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):l[r]=o;class TE extends(hn()){constructor(r){super(),this.editor=r,this._balloonView=null,this._lastFocusedEditableElement=null,this._showBalloonThrottled=Xd(this._showBalloon.bind(this),50,{leading:!0}),r.on("ready",this._handleEditorReady.bind(this))}destroy(){const r=this._balloonView;r&&(r.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const r=this.editor;(r.config.get("ui.poweredBy.forceVisible")||"VALID"!==function(o){function a(E){return E.length>=40&&E.length<=255?"VALID":"INVALID"}if(!o)return"INVALID";let u="";try{u=atob(o)}catch{return"INVALID"}const h=u.split("-"),f=h[0],g=h[1];if(!g)return a(o);try{atob(g)}catch{try{if(atob(f),!atob(f).length)return a(o)}catch{return a(o)}}if(f.length<40||f.length>255)return"INVALID";let _="";try{atob(f),_=atob(g)}catch{return"INVALID"}if(8!==_.length)return"INVALID";const b=Number(_.substring(0,4)),w=Number(_.substring(4,6))-1,v=Number(_.substring(6,8)),A=new Date(b,w,v);return A<En||isNaN(Number(A))?"INVALID":"VALID"}(r.config.get("licenseKey")))&&r.ui.view&&(r.ui.focusTracker.on("change:isFocused",(o,a,u)=>{this._updateLastFocusedEditableElement(),u?this._showBalloon():this._hideBalloon()}),r.ui.focusTracker.on("change:focusedElement",(o,a,u)=>{this._updateLastFocusedEditableElement(),u&&this._showBalloon()}),r.ui.on("update",()=>{this._showBalloonThrottled()}))}_createBalloonView(){const r=this.editor,o=this._balloonView=new Lr,a=ME(r),u=new xE(r.locale,a.label);o.content.add(u),o.set({class:"ck-powered-by-balloon"}),r.ui.view.body.add(o),r.ui.focusTracker.add(o.element),this._balloonView=o}_showBalloon(){if(!this._lastFocusedEditableElement)return;const r=function(o,a){const u=ME(o);var g;return{target:a,positions:["right"===u.side?SE(a,g=u,(_,b)=>_.left+_.width-b.width-g.horizontalOffset):function(f,g){return SE(f,g,_=>_.left+g.horizontalOffset)}(a,u)]}}(this.editor,this._lastFocusedEditableElement);r&&(this._balloonView||this._createBalloonView(),this._balloonView.pin(r))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_updateLastFocusedEditableElement(){const r=this.editor,a=r.ui.focusTracker.focusedElement;if(!r.ui.focusTracker.isFocused||!a)return void(this._lastFocusedEditableElement=null);const u=Array.from(r.ui.getEditableElementsNames()).map(h=>r.ui.getEditableElement(h));this._lastFocusedEditableElement=u.includes(a)?a:u[0]}}class xE extends Be{constructor(r,o){super(r);const a=new Dc,u=this.bindTemplate;a.set({content:'<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>\n',isColorInherited:!1}),a.extendTemplate({attributes:{style:{width:"53px",height:"10px"}}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...o?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[o]}]:[],a],on:{dragstart:u.to(h=>h.preventDefault())}}]})}}function SE(l,r,o){return(a,u)=>{const h=new it(l);if(h.width<350||h.height<50)return null;let f;f="inside"===r.position?h.bottom-u.height:h.bottom-u.height/2,f-=r.verticalOffset;const g=o(h,u),_=a.clone().moveTo(g,f).getIntersection(u.clone().moveTo(g,f)).getVisible();return!_||_.getArea()<u.getArea()?null:{top:f,left:g,name:`position_${r.position}-side_${r.side}`,config:{withArrow:!1}}}}function ME(l){const r=l.config.get("ui.poweredBy"),o=r&&r.position||"border";return((l,r)=>{for(var o in r||(r={}))qR.call(r,o)&&DE(l,o,r[o]);if(mh)for(var o of mh(r))WR.call(r,o)&&DE(l,o,r[o]);return l})({position:o,label:"Powered by",verticalOffset:"inside"===o?5:0,horizontalOffset:5,side:"ltr"===l.locale.contentLanguageDirection?"right":"left"},r)}var bh=Object.defineProperty,PE=Object.getOwnPropertySymbols,C7=Object.prototype.hasOwnProperty,YR=Object.prototype.propertyIsEnumerable,RE=(l,r,o)=>r in l?bh(l,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):l[r]=o;class ZR extends(Pt()){constructor(r){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[];const o=r.editing.view;this.editor=r,this.componentFactory=new yE(r),this.focusTracker=new Pr,this.tooltipManager=new Mc(r),this.poweredBy=new TE(r),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this.isReady=!0}),this.listenTo(o.document,"layoutChanged",this.update.bind(this)),this.listenTo(o,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy();for(const r of this._editableElementsMap.values())r.ckeditorInstance=null,this.editor.keystrokes.stopListening(r);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(r,o){this._editableElementsMap.set(r,o),o.ckeditorInstance||(o.ckeditorInstance=this.editor),this.focusTracker.add(o);const a=()=>{this.editor.editing.view.getDomRoot(r)||this.editor.keystrokes.listenTo(o)};this.isReady?a():this.once("ready",a)}removeEditableElement(r){const o=this._editableElementsMap.get(r);o&&(this._editableElementsMap.delete(r),this.editor.keystrokes.stopListening(o),this.focusTracker.remove(o),o.ckeditorInstance=null)}getEditableElement(r="main"){return this._editableElementsMap.get(r)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(r,o={}){r.isRendered?(this.focusTracker.add(r.element),this.editor.keystrokes.listenTo(r.element)):r.once("render",()=>{this.focusTracker.add(r.element),this.editor.keystrokes.listenTo(r.element)}),this._focusableToolbarDefinitions.push({toolbarView:r,options:o})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const r=this.editor,o=r.config.get("ui.viewportOffset");if(o)return o;const a=r.config.get("toolbar.viewportTopOffset");return a?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:a}):{top:0}}_initFocusTracking(){const r=this.editor,o=r.editing.view;let a,u;r.keystrokes.set("Alt+F10",(h,f)=>{const g=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(g)&&!Array.from(o.domRoots.values()).includes(g)&&(a=g);const _=this._getCurrentFocusedToolbarDefinition();_&&u||(u=this._getFocusableCandidateToolbarDefinitions());for(let b=0;b<u.length;b++){const w=u.shift();if(u.push(w),w!==_&&this._focusFocusableCandidateToolbar(w)){_&&_.options.afterBlur&&_.options.afterBlur();break}}f()}),r.keystrokes.set("Esc",(h,f)=>{const g=this._getCurrentFocusedToolbarDefinition();g&&(a?(a.focus(),a=null):r.editing.view.focus(),g.options.afterBlur&&g.options.afterBlur(),f())})}_getFocusableCandidateToolbarDefinitions(){const r=[];for(const o of this._focusableToolbarDefinitions){const{toolbarView:a,options:u}=o;(xo(a.element)||u.beforeFocus)&&r.push(o)}return r.sort((o,a)=>NE(o)-NE(a)),r}_getCurrentFocusedToolbarDefinition(){for(const r of this._focusableToolbarDefinitions)if(r.toolbarView.element&&r.toolbarView.element.contains(this.focusTracker.focusedElement))return r;return null}_focusFocusableCandidateToolbar(r){const{toolbarView:o,options:{beforeFocus:a}}=r;return a&&a(),!!xo(o.element)&&(o.focus(),!0)}_handleScrollToTheSelection(r,o){const a=((u,h)=>{for(var f in h||(h={}))C7.call(h,f)&&RE(u,f,h[f]);if(PE)for(var f of PE(h))YR.call(h,f)&&RE(u,f,h[f]);return u})({top:0,bottom:0,left:0,right:0},this.viewportOffset);o.viewportOffset.top+=a.top,o.viewportOffset.bottom+=a.bottom,o.viewportOffset.left+=a.left,o.viewportOffset.right+=a.right}}function NE(l){const{toolbarView:r,options:o}=l;let a=10;return xo(r.element)&&a--,o.isContextual&&a--,a}var OE=ge(9688);Ee()(OE.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class XR extends Be{constructor(r){super(r),this.body=new kR(r)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class LE extends Be{constructor(r,o,a){super(r),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:r.contentLanguage,dir:r.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=a,this._hasExternalElement=!!this._editableElement,this._editingView=o}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const r=this._editingView;function o(a){r.change(u=>{const h=r.document.getRoot(a.name);u.addClass(a.isFocused?"ck-focused":"ck-blurred",h),u.removeClass(a.isFocused?"ck-blurred":"ck-focused",h)})}r.isRenderingInProgress?function a(u){r.once("change:isRenderingInProgress",(h,f,g)=>{g?a(u):o(u)})}(this):o(this)}}class $t extends LE{constructor(r,o,a,u={}){super(r,o,a);const h=r.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=u.label||(()=>h("Editor editing area: %0",this.name))}render(){super.render();const r=this._editingView;r.change(o=>{const a=r.document.getRoot(this.name);o.setAttribute("aria-label",this._generateLabel(this),a)})}}var VE=ge(8847);Ee()(VE.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class dw extends fb{static get pluginName(){return"Notification"}init(){this.on("show:warning",(r,o)=>{window.alert(o.message)},{priority:"lowest"})}showSuccess(r,o={}){this._showNotification({message:r,type:"success",namespace:o.namespace,title:o.title})}showInfo(r,o={}){this._showNotification({message:r,type:"info",namespace:o.namespace,title:o.title})}showWarning(r,o={}){this._showNotification({message:r,type:"warning",namespace:o.namespace,title:o.title})}_showNotification(r){this.fire(r.namespace?`show:${r.type}:${r.namespace}`:`show:${r.type}`,{message:r.message,type:r.type,title:r.title||""})}}class yh extends(Pt()){constructor(r,o){super(),o&&VA(this,o),r&&this.set(r)}}var FE=ge(4650);Ee()(FE.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var BE=ge(7676);Ee()(BE.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const bg=ho("px");class wh extends ne{constructor(r){super(r),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const o=this.editor.editing.view,a=o.document.selection.editableElement;return a?o.domConverter.mapViewToDom(a.root):null},this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}static get pluginName(){return"ContextualBalloon"}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(r){return Array.from(this._viewToStack.keys()).includes(r)}add(r){if(this._view||this._createPanelView(),this.hasView(r.view))throw new V("contextualballoon-add-view-exist",[this,r]);const o=r.stackId||"main";if(!this._idToStack.has(o))return this._idToStack.set(o,new Map([[r.view,r]])),this._viewToStack.set(r.view,this._idToStack.get(o)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!r.singleViewMode||this.showStack(o));const a=this._idToStack.get(o);r.singleViewMode&&this.showStack(o),a.set(r.view,r),this._viewToStack.set(r.view,a),a===this._visibleStack&&this._showView(r)}remove(r){if(!this.hasView(r))throw new V("contextualballoon-remove-view-not-exist",[this,r]);const o=this._viewToStack.get(r);this._singleViewMode&&this.visibleView===r&&(this._singleViewMode=!1),this.visibleView===r&&(1===o.size?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(o.values())[o.size-2])),1===o.size?(this._idToStack.delete(this._getStackId(o)),this._numberOfStacks=this._idToStack.size):o.delete(r),this._viewToStack.delete(r)}updatePosition(r){r&&(this._visibleStack.get(this.visibleView).position=r),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(r){this.visibleStack=r;const o=this._idToStack.get(r);if(!o)throw new V("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==o&&this._showView(Array.from(o.values()).pop())}_createPanelView(){this._view=new Lr(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(r){return Array.from(this._idToStack.entries()).find(o=>o[1]===r)[0]}_showNextStack(){const r=Array.from(this._idToStack.values());let o=r.indexOf(this._visibleStack)+1;r[o]||(o=0),this.showStack(this._getStackId(r[o]))}_showPrevStack(){const r=Array.from(this._idToStack.values());let o=r.indexOf(this._visibleStack)-1;r[o]||(o=r.length-1),this.showStack(this._getStackId(r[o]))}_createRotatorView(){const r=new zE(this.editor.locale),o=this.editor.locale.t;return this.view.content.add(r),r.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(a,u)=>!u&&a>1),r.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),r.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(a,u)=>{if(u<2)return"";const h=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return o("%0 of %1",[h,u])}),r.buttonNextView.on("execute",()=>{r.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),r.buttonPrevView.on("execute",()=>{r.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),r}_createFakePanelsView(){const r=new nN(this.editor.locale,this.view);return r.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(o,a)=>!a&&o>=2?Math.min(o-1,2):0),r.listenTo(this.view,"change:top",()=>r.updatePosition()),r.listenTo(this.view,"change:left",()=>r.updatePosition()),this.editor.ui.view.body.add(r),r}_showView({view:r,balloonClassName:o="",withArrow:a=!0,singleViewMode:u=!1}){this.view.class=o,this.view.withArrow=a,this._rotatorView.showView(r),this.visibleView=r,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),u&&(this._singleViewMode=!0)}_getBalloonPosition(){let r=Array.from(this._visibleStack.values()).pop().position;return r&&(r.limiter||(r=Object.assign({},r,{limiter:this.positionLimiter})),r=Object.assign({},r,{viewportOffsetConfig:this.editor.ui.viewportOffset})),r}}class zE extends Be{constructor(r){super(r);const o=r.t,a=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new Pr,this.buttonPrevView=this._createButtonView(o("Previous"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>'),this.buttonNextView=this._createButtonView(o("Next"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>'),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",a.to("isNavigationVisible",u=>u?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:a.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(r){this.hideView(),this.content.add(r)}hideView(){this.content.clear()}_createButtonView(r,o){const a=new ht(this.locale);return a.set({label:r,icon:o,tooltip:!0}),a}}class nN extends Be{constructor(r,o){super(r);const a=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=o,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",a.to("numberOfPanels",u=>u?"":"ck-hidden")],style:{top:a.to("top",bg),left:a.to("left",bg),width:a.to("width",bg),height:a.to("height",bg)}},children:this.content}),this.on("change:numberOfPanels",(u,h,f,g)=>{f>g?this._addPanels(f-g):this._removePanels(g-f),this.updatePosition()})}_addPanels(r){for(;r--;){const o=new Be;o.setTemplate({tag:"div"}),this.content.add(o),this.registerChild(o)}}_removePanels(r){for(;r--;){const o=this.content.last;this.content.remove(o),this.deregisterChild(o),o.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:r,left:o}=this._balloonPanelView,{width:a,height:u}=new it(this._balloonPanelView.element);Object.assign(this,{top:r,left:o,width:a,height:u})}}}var rN=ge(5868);Ee()(rN.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),ho("px");class A7 extends zl{constructor(r,o){const a=r.t,u=Object.assign({},{showResetButton:!0,showIcon:!0,creator:Ri},o);super(r,u.creator),this.label=o.label,this._viewConfig=u,this._viewConfig.showIcon&&(this.iconView=new Dc,this.iconView.content=It.loupe,this.fieldWrapperChildren.add(this.iconView,0),this.extendTemplate({attributes:{class:"ck-search__query_with-icon"}})),this._viewConfig.showResetButton&&(this.resetButtonView=new ht(r),this.resetButtonView.set({label:a("Clear"),icon:It.cancel,class:"ck-search__reset",isVisible:!1,tooltip:!0}),this.resetButtonView.on("execute",()=>{this.reset(),this.focus(),this.fire("reset")}),this.resetButtonView.bind("isVisible").to(this.fieldView,"isEmpty",h=>!h),this.fieldWrapperChildren.add(this.resetButtonView),this.extendTemplate({attributes:{class:"ck-search__query_with-reset"}}))}reset(){this.fieldView.reset(),this._viewConfig.showResetButton&&(this.resetButtonView.isVisible=!1)}}class yg extends Be{constructor(){super();const r=this.bindTemplate;this.set({isVisible:!1,primaryText:"",secondaryText:""}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__info",r.if("isVisible","ck-hidden",o=>!o)],tabindex:-1},children:[{tag:"span",children:[{text:[r.to("primaryText")]}]},{tag:"span",children:[{text:[r.to("secondaryText")]}]}]})}focus(){this.element.focus()}}class iN extends Be{constructor(r){super(r),this.children=this.createCollection(),this.focusTracker=new Pr,this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__results"],tabindex:-1},children:this.children}),this._focusCycler=new ys({focusables:this.children,focusTracker:this.focusTracker})}render(){super.render();for(const r of this.children)this.focusTracker.add(r.element)}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}var UE=/[\\^$.*+?()[\]{}|]/g,hw=RegExp(UE.source);const HE=function(l){return(l=bb(l))&&hw.test(l)?l.replace(UE,"\\$&"):l};var Vo=ge(6770);Ee()(Vo.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var qr=Object.defineProperty,xa=Object.getOwnPropertySymbols,wg=Object.prototype.hasOwnProperty,go=Object.prototype.propertyIsEnumerable,Fo=(l,r,o)=>r in l?qr(l,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):l[r]=o;class Kl extends Be{constructor(r,o){super(r),this._config=o,this.filteredView=o.filteredView,this.queryView=this._createSearchTextQueryView(),this.focusTracker=new Pr,this.keystrokes=new Ai,this.resultsView=new iN(r),this.children=this.createCollection(),this.focusableChildren=this.createCollection([this.queryView,this.resultsView]),this.set("isEnabled",!0),this.set("resultsCount",0),this.set("totalItemsCount",0),o.infoView&&o.infoView.instance?this.infoView=o.infoView.instance:(this.infoView=new yg,this._enableDefaultInfoViewBehavior(),this.on("render",()=>{this.search("")})),this.resultsView.children.addMany([this.infoView,this.filteredView]),this.focusCycler=new ys({focusables:this.focusableChildren,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.on("search",(a,{resultsCount:u,totalItemsCount:h})=>{this.resultsCount=u,this.totalItemsCount=h}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search",o.class||null],tabindex:"-1"},children:this.children})}render(){super.render(),this.children.addMany([this.queryView,this.resultsView]);const r=o=>o.stopPropagation();for(const o of this.focusableChildren)this.focusTracker.add(o.element);this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",r),this.keystrokes.set("arrowleft",r),this.keystrokes.set("arrowup",r),this.keystrokes.set("arrowdown",r)}focus(){this.queryView.focus()}reset(){this.queryView.reset(),this.search("")}search(r){const o=r?new RegExp(HE(r),"ig"):null,a=this.filteredView.filter(o);this.fire("search",((u,h)=>{for(var f in h||(h={}))wg.call(h,f)&&Fo(u,f,h[f]);if(xa)for(var f of xa(h))go.call(h,f)&&Fo(u,f,h[f]);return u})({query:r},a))}_createSearchTextQueryView(){const r=new A7(this.locale,this._config.queryView);return this.listenTo(r.fieldView,"input",()=>{this.search(r.fieldView.element.value)}),r.on("reset",()=>this.reset()),r.bind("isEnabled").to(this),r}_enableDefaultInfoViewBehavior(){const r=this.locale.t,o=this.infoView;function a(u,{query:h,resultsCount:f,totalItemsCount:g}){return"function"==typeof u?u(h,f,g):u}this.on("search",(u,h)=>{if(h.resultsCount)o.set({isVisible:!1});else{const f=this._config.infoView&&this._config.infoView.text;let g,_;h.totalItemsCount?f&&f.notFound?(g=f.notFound.primary,_=f.notFound.secondary):(g=r("No results found"),_=""):f&&f.noSearchableItems?(g=f.noSearchableItems.primary,_=f.noSearchableItems.secondary):(g=r("No searchable items"),_=""),o.set({primaryText:a(g,h),secondaryText:a(_,h),isVisible:!0})}})}}var Pc=ge(8157);Ee()(Pc.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const Sa=class extends Kl{constructor(l,r){super(l,r),this._config=r;const o=ho("px");this.extendTemplate({attributes:{class:["ck-autocomplete"]}});const a=this.resultsView.bindTemplate;this.resultsView.set("isVisible",!1),this.resultsView.set("_position","s"),this.resultsView.set("_width",0),this.resultsView.extendTemplate({attributes:{class:[a.if("isVisible","ck-hidden",u=>!u),a.to("_position",u=>`ck-search__results_${u}`)],style:{width:a.to("_width",o)}}}),this.focusTracker.on("change:isFocused",(u,h,f)=>{this._updateResultsVisibility(),f?this.resultsView.element.scrollTop=0:r.resetOnBlur&&this.queryView.reset()}),this.on("search",()=>{this._updateResultsVisibility(),this._updateResultsViewWidthAndPosition()}),this.keystrokes.set("esc",(u,h)=>{this.resultsView.isVisible=!1,h()}),this.listenTo(ze.document,"scroll",()=>{this._updateResultsViewWidthAndPosition()}),this.on("change:isEnabled",()=>{this._updateResultsVisibility()}),this.filteredView.on("execute",(u,{value:h})=>{this.focus(),this.reset(),this.queryView.fieldView.value=this.queryView.fieldView.element.value=h,this.resultsView.isVisible=!1}),this.resultsView.on("change:isVisible",()=>{this._updateResultsViewWidthAndPosition()})}_updateResultsViewWidthAndPosition(){if(!this.resultsView.isVisible)return;this.resultsView._width=new it(this.queryView.fieldView.element).width;const l=Sa._getOptimalPosition({element:this.resultsView.element,target:this.queryView.element,fitInViewport:!0,positions:Sa.defaultResultsPositions});this.resultsView._position=l?l.name:"s"}_updateResultsVisibility(){this.resultsView.isVisible=this.focusTracker.isFocused&&this.isEnabled&&this.queryView.fieldView.element.value.length>=(void 0===this._config.queryMinChars?0:this._config.queryMinChars)}};let Rc=Sa;Rc.defaultResultsPositions=[l=>({top:l.bottom,left:l.left,name:"s"}),(l,r)=>({top:l.top-r.height,left:l.left,name:"n"})],Rc._getOptimalPosition=fo;var Nc=ge(8960);Ee()(Nc.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Oc=ge(498);Ee()(Oc.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),ho("px");var fw=ge(9695);Ee()(fw.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),ho("px"),ho("px");class $E extends ZR{constructor(r,o){super(r),this.view=o}init(){const o=this.view,a=this.editor.editing.view,u=o.editable,h=a.document.getRoot();u.name=h.rootName,o.render();const f=u.element;this.setEditableElement(u.name,f),o.editable.bind("isFocused").to(this.focusTracker),a.attachDomRoot(f),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}destroy(){super.destroy();const r=this.view;this.editor.editing.view.detachDomRoot(r.editable.name),r.destroy()}_initToolbar(){const o=this.view;o.toolbar.fillFromConfig(this.editor.config.get("toolbar"),this.componentFactory),this.addToolbar(o.toolbar)}_initPlaceholder(){const r=this.editor,o=r.editing.view,a=o.document.getRoot(),u=r.config.get("placeholder");if(u){const h="string"==typeof u?u:u[a.rootName];h&&(a.placeholder=h)}uA({view:o,element:a,isDirectHost:!1,keepOnFocus:!0})}}class qE extends XR{constructor(r,o,a={}){super(r);const u=r.t;this.toolbar=new sE(r,{shouldGroupWhenFull:a.shouldToolbarGroupWhenFull}),this.editable=new $t(r,o,a.editableElement,{label:h=>u("Rich Text Editor. Editing area: %0",h.name)}),this.toolbar.extendTemplate({attributes:{class:["ck-reset_all","ck-rounded-corners"],dir:r.uiLanguageDirection}})}render(){super.render(),this.registerChild([this.toolbar,this.editable])}}class vh extends(Nl(j1(z1))){constructor(r,o={}){if(!Ch(r)&&void 0!==o.initialData)throw new V("editor-create-initial-data",null);var h,f;super(o),void 0===this.config.get("initialData")&&this.config.set("initialData",Ch(h=r)?(f=h)instanceof HTMLTextAreaElement?f.value:f.innerHTML:h),Ch(r)&&(this.sourceElement=r,function(h,f){if(f.ckeditorInstance)throw new V("editor-source-element-already-used",h);f.ckeditorInstance=h,h.once("destroy",()=>{delete f.ckeditorInstance})}(this,r)),this.model.document.createRoot();const a=!this.config.get("toolbar.shouldNotGroupWhenFull"),u=new qE(this.locale,this.editing.view,{editableElement:this.sourceElement,shouldToolbarGroupWhenFull:a});this.ui=new $E(this,u)}destroy(){const r=this.getData();return this.ui.destroy(),super.destroy().then(()=>{this.sourceElement&&this.updateSourceElement(r)})}static create(r,o={}){return new Promise(a=>{if(Ch(r)&&"TEXTAREA"===r.tagName)throw new V("editor-wrong-element",null);const u=new this(r,o);a(u.initPlugins().then(()=>u.ui.init()).then(()=>u.data.init(u.config.get("initialData"))).then(()=>u.fire("ready")).then(()=>u))})}}function Ch(l){return pa(l)}vh.Context=K2,vh.EditorWatchdog=Ac,vh.ContextWatchdog=class extends Da{constructor(l,r={}){super(r),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new bR,this._watchdogConfig=r,this._creator=o=>l.create(o),this._destructor=o=>o.destroy(),this._actionQueues.onEmpty(()=>{"initializing"===this.state&&(this.state="ready",this._fire("stateChange"))})}setCreator(l){this._creator=l}setDestructor(l){this._destructor=l}get context(){return this._context}create(l={}){return this._actionQueues.enqueue(eh,()=>(this._contextConfig=l,this._create()))}getItem(l){return this._getWatchdog(l)._item}getItemState(l){return this._getWatchdog(l).state}add(l){const r=rg(l);return Promise.all(r.map(o=>this._actionQueues.enqueue(o.id,()=>{if("destroyed"===this.state)throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let a;if(this._watchdogs.has(o.id))throw new Error(`Item with the given id is already added: '${o.id}'.`);if("editor"===o.type)return a=new Ac(null,this._watchdogConfig),a.setCreator(o.creator),a._setExcludedProperties(this._contextProps),o.destructor&&a.setDestructor(o.destructor),this._watchdogs.set(o.id,a),a.on("error",(u,{error:h,causesRestart:f})=>{this._fire("itemError",{itemId:o.id,error:h}),f&&this._actionQueues.enqueue(o.id,()=>new Promise(g=>{const _=()=>{a.off("restart",_),this._fire("itemRestart",{itemId:o.id}),g()};a.on("restart",_)}))}),a.create(o.sourceElementOrData,o.config,this._context);throw new Error(`Not supported item type: '${o.type}'.`)})))}remove(l){const r=rg(l);return Promise.all(r.map(o=>this._actionQueues.enqueue(o,()=>{const a=this._getWatchdog(o);return this._watchdogs.delete(o),a.destroy()})))}destroy(){return this._actionQueues.enqueue(eh,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(eh,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(l=>{console.error("An error happened during destroying the context or items.",l)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(l=>(this._context=l,this._contextProps=ky(this._context),Promise.all(Array.from(this._watchdogs.values()).map(r=>(r._setExcludedProperties(this._contextProps),r.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const l=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(r=>r.destroy())).then(()=>this._destructor(l))})}_getWatchdog(l){const r=this._watchdogs.get(l);if(!r)throw new Error(`Item with the given id was not registered: ${l}.`);return r}_isErrorComingFromThisItem(l){for(const r of this._watchdogs.values())if(r._isErrorComingFromThisItem(l))return!1;return Jd(this._context,l.context)}};class Jl extends us{constructor(r){super(r),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const o=this.document;function a(u){return(h,f)=>{f.preventDefault();const g=f.dropRange?[f.dropRange]:null,_=new K(o,u);o.fire(_,{dataTransfer:f.dataTransfer,method:h.name,targetRanges:g,target:f.target,domEvent:f.domEvent}),_.stop.called&&f.stopPropagation()}}this.listenTo(o,"paste",a("clipboardInput"),{priority:"low"}),this.listenTo(o,"drop",a("clipboardInput"),{priority:"low"}),this.listenTo(o,"dragover",a("dragging"),{priority:"low"})}onDomEvent(r){const u={dataTransfer:new DP("clipboardData"in r?r.clipboardData:r.dataTransfer,{cacheFiles:"drop"==r.type||"paste"==r.type})};"drop"!=r.type&&"dragover"!=r.type||(u.dropRange=function(h,f){const g=f.target.ownerDocument,_=f.clientX,b=f.clientY;let w;return g.caretRangeFromPoint&&g.caretRangeFromPoint(_,b)?w=g.caretRangeFromPoint(_,b):f.rangeParent&&(w=g.createRange(),w.setStart(f.rangeParent,f.rangeOffset),w.collapse(!0)),w?h.domConverter.domRangeToView(w):null}(this.view,r)),this.fire(r.type,r,u)}}const pw=["figcaption","li"];function gw(l){let r="";if(l.is("$text")||l.is("$textProxy"))r=l.data;else if(l.is("element","img")&&l.hasAttribute("alt"))r=l.getAttribute("alt");else if(l.is("element","br"))r="\n";else{let o=null;for(const a of l.getChildren()){const u=gw(a);o&&(o.is("containerElement")||a.is("containerElement"))&&(pw.includes(o.name)||pw.includes(a.name)?r+="\n":r+="\n\n"),r+=u,o=a}}return r}class mo extends ne{static get pluginName(){return"ClipboardPipeline"}init(){this.editor.editing.view.addObserver(Jl),this._setupPasteDrop(),this._setupCopyCut()}_fireOutputTransformationEvent(r,o,a){const u=this.editor.model.getSelectedContent(o);this.fire("outputTransformation",{dataTransfer:r,content:u,method:a})}_setupPasteDrop(){const r=this.editor,o=r.model,a=r.editing.view,u=a.document;this.listenTo(u,"clipboardInput",(h,f)=>{"paste"!=f.method||r.model.canEditAt(r.model.document.selection)||h.stop()},{priority:"highest"}),this.listenTo(u,"clipboardInput",(h,f)=>{const g=f.dataTransfer;let _;if(f.content)_=f.content;else{let v="";g.getData("text/html")?v=g.getData("text/html").replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(E,D)=>1==D.length?" ":D).replace(/<!--[\s\S]*?-->/g,""):g.getData("text/plain")&&(((b=(b=g.getData("text/plain")).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||b.includes("<br>"))&&(b=`<p>${b}</p>`),v=b),_=this.editor.data.htmlProcessor.toView(v)}var b;const w=new K(this,"inputTransformation");this.fire(w,{content:_,dataTransfer:g,targetRanges:f.targetRanges,method:f.method}),w.stop.called&&h.stop(),a.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(h,f)=>{if(f.content.isEmpty)return;const g=this.editor.data.toModel(f.content,"$clipboardHolder");0!=g.childCount&&(h.stop(),o.change(()=>{this.fire("contentInsertion",{content:g,method:f.method,dataTransfer:f.dataTransfer,targetRanges:f.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(h,f)=>{f.resultRange=o.insertContent(f.content)},{priority:"low"})}_setupCopyCut(){const r=this.editor,o=r.model.document,a=r.editing.view.document,u=(h,f)=>{const g=f.dataTransfer;f.preventDefault(),this._fireOutputTransformationEvent(g,o.selection,h.name)};this.listenTo(a,"copy",u,{priority:"low"}),this.listenTo(a,"cut",(h,f)=>{r.model.canEditAt(r.model.document.selection)?u(h,f):f.preventDefault()},{priority:"low"}),this.listenTo(this,"outputTransformation",(h,f)=>{const g=r.data.toView(f.content);a.fire("clipboardOutput",{dataTransfer:f.dataTransfer,content:g,method:f.method})},{priority:"low"}),this.listenTo(a,"clipboardOutput",(h,f)=>{f.content.isEmpty||(f.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(f.content)),f.dataTransfer.setData("text/plain",gw(f.content))),"cut"==f.method&&r.model.deleteContent(o.selection)},{priority:"low"})}}class WE{constructor(r,o=20){this._batch=null,this.model=r,this._size=0,this.limit=o,this._isLocked=!1,this._changeCallback=(a,u)=>{u.isLocal&&u.isUndoable&&u!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(r){this._size+=r,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(r=!1){this.isLocked&&!r||(this._batch=null,this._size=0)}}class E7 extends st{constructor(r,o){super(r),this._buffer=new WE(r.model,o),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(r={}){const o=this.editor.model,a=o.document,u=r.text||"",h=u.length;let f=a.selection;if(r.selection?f=r.selection:r.range&&(f=o.createSelection(r.range)),!o.canEditAt(f))return;const g=r.resultRange;o.enqueueChange(this._buffer.batch,_=>{this._buffer.lock(),o.deleteContent(f),u&&o.insertContent(_.createText(u,a.selection.getAttributes()),f),g?_.setSelection(g):f.is("documentSelection")||_.setSelection(f),this._buffer.unlock(),this._buffer.input(h)})}}const oN=["insertText","insertReplacementText"];class sN extends Qi{constructor(r){super(r),this.focusObserver=r.getObserver(Rb),F.isAndroid&&oN.push("insertCompositionText");const o=r.document;o.on("beforeinput",(a,u)=>{if(!this.isEnabled)return;const{data:h,targetRanges:f,inputType:g,domEvent:_}=u;if(!oN.includes(g))return;this.focusObserver.flush();const b=new K(o,"insertText");o.fire(b,new $s(r,_,{text:h,selection:r.createSelection(f)})),b.stop.called&&a.stop()}),o.on("compositionend",(a,{data:u,domEvent:h})=>{this.isEnabled&&!F.isAndroid&&u&&o.fire("insertText",new $s(r,h,{text:u,selection:o.selection}))},{priority:"lowest"})}observe(){}stopObserving(){}}class KE extends ne{static get pluginName(){return"Input"}init(){const r=this.editor,o=r.model,a=r.editing.view,u=o.document.selection;a.addObserver(sN);const h=new E7(r,r.config.get("typing.undoStep")||20);r.commands.add("insertText",h),r.commands.add("input",h),this.listenTo(a.document,"insertText",(f,g)=>{a.document.isComposing||g.preventDefault();const{text:_,selection:b,resultRange:w}=g,v=Array.from(b.getRanges()).map(D=>r.editing.mapper.toModelRange(D));let A=_;if(F.isAndroid){const D=Array.from(v[0].getItems()).reduce((x,P)=>x+(P.is("$textProxy")?P.data:""),"");D&&(D.length<=A.length?A.startsWith(D)&&(A=A.substring(D.length),v[0].start=v[0].start.getShiftedBy(D.length)):D.startsWith(A)&&(v[0].start=v[0].start.getShiftedBy(A.length),A=""))}const E={text:A,selection:o.createSelection(v)};w&&(E.resultRange=r.editing.mapper.toModelRange(w)),r.execute("insertText",E),a.scrollToTheSelection()}),F.isAndroid?this.listenTo(a.document,"keydown",(f,g)=>{!u.isCollapsed&&229==g.keyCode&&a.document.isComposing&&aN(o,h)}):this.listenTo(a.document,"compositionstart",()=>{u.isCollapsed||aN(o,h)})}}function aN(l,r){if(!r.isEnabled)return;const o=r.buffer;o.lock(),l.enqueueChange(o.batch,()=>{l.deleteContent(l.document.selection)}),o.unlock()}class QE extends st{constructor(r,o){super(r),this.direction=o,this._buffer=new WE(r.model,r.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(r={}){const o=this.editor.model,a=o.document;o.enqueueChange(this._buffer.batch,u=>{this._buffer.lock();const h=u.createSelection(r.selection||a.selection);if(!o.canEditAt(h))return;const f=r.sequence||1,g=h.isCollapsed;if(h.isCollapsed&&o.modifySelection(h,{direction:this.direction,unit:r.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(f))return void this._replaceEntireContentWithParagraph(u);if(this._shouldReplaceFirstBlockWithParagraph(h,f))return void this.editor.execute("paragraph",{selection:h});if(h.isCollapsed)return;let _=0;h.getFirstRange().getMinimalFlatRanges().forEach(b=>{_+=EC(b.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),o.deleteContent(h,{doNotResetEntireContent:g,direction:this.direction}),this._buffer.input(_),u.setSelection(h),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(r){if(r>1)return!1;const o=this.editor.model,a=o.document.selection,u=o.schema.getLimitElement(a);if(!a.isCollapsed||!a.containsEntireContent(u)||!o.schema.checkChild(u,"paragraph"))return!1;const h=u.getChild(0);return!h||!h.is("element","paragraph")}_replaceEntireContentWithParagraph(r){const o=this.editor.model,u=o.schema.getLimitElement(o.document.selection),h=r.createElement("paragraph");r.remove(r.createRangeIn(u)),r.insert(h,u),r.setSelection(h,0)}_shouldReplaceFirstBlockWithParagraph(r,o){const a=this.editor.model;if(o>1||"backward"!=this.direction||!r.isCollapsed)return!1;const u=r.getFirstPosition(),h=a.schema.getLimitElement(u),f=h.getChild(0);return u.parent==f&&!!r.containsEntireContent(f)&&!!a.schema.checkChild(h,"paragraph")&&"paragraph"!=f.name}}const Ma="selection",Xl="backward",Ah="forward",kg={deleteContent:{unit:Ma,direction:Xl},deleteContentBackward:{unit:"codePoint",direction:Xl},deleteWordBackward:{unit:"word",direction:Xl},deleteHardLineBackward:{unit:Ma,direction:Xl},deleteSoftLineBackward:{unit:Ma,direction:Xl},deleteContentForward:{unit:"character",direction:Ah},deleteWordForward:{unit:"word",direction:Ah},deleteHardLineForward:{unit:Ma,direction:Ah},deleteSoftLineForward:{unit:Ma,direction:Ah}};class Eh extends Qi{constructor(r){super(r);const o=r.document;let a=0;o.on("keydown",()=>{a++}),o.on("keyup",()=>{a=0}),o.on("beforeinput",(u,h)=>{if(!this.isEnabled)return;const{targetRanges:f,domEvent:g,inputType:_}=h,b=kg[_];if(!b)return;const w={direction:b.direction,unit:b.unit,sequence:a};w.unit==Ma&&(w.selectionToRemove=r.createSelection(f[0])),"deleteContentBackward"===_&&(F.isAndroid&&(w.sequence=1),function(A){if(1!=A.length||A[0].isCollapsed)return!1;const E=A[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let D=0;for(const{nextPosition:x}of E){if(x.parent.is("$text")){const P=x.parent.data,N=x.offset;if(aA(P,N)||cA(P,N)||$2(P,N))continue;D++}else D++;if(D>1)return!0}return!1}(f)&&(w.unit=Ma,w.selectionToRemove=r.createSelection(f)));const v=new ya(o,"delete",f[0]);o.fire(v,new $s(r,g,w)),v.stop.called&&u.stop()}),F.isBlink&&function(u){const h=u.view,f=h.document;let g=null,_=!1;function b(v){return v==Ge.backspace||v==Ge.delete}function w(v){return v==Ge.backspace?Xl:Ah}f.on("keydown",(v,{keyCode:A})=>{g=A,_=!1}),f.on("keyup",(v,{keyCode:A,domEvent:E})=>{const D=f.selection,x=u.isEnabled&&A==g&&b(A)&&!D.isCollapsed&&!_;if(g=null,x){const P=D.getFirstRange(),N=new ya(f,"delete",P),H={unit:Ma,direction:w(A),selectionToRemove:D};f.fire(N,new $s(h,E,H))}}),f.on("beforeinput",(v,{inputType:A})=>{const E=kg[A];b(g)&&E&&E.direction==w(g)&&(_=!0)},{priority:"high"}),f.on("beforeinput",(v,{inputType:A,data:E})=>{g==Ge.delete&&"insertText"==A&&"\x7f"==E&&v.stop()},{priority:"high"})}(this)}observe(){}stopObserving(){}}class Bo extends ne{static get pluginName(){return"Delete"}init(){const r=this.editor,o=r.editing.view,a=o.document,u=r.model.document;o.addObserver(Eh),this._undoOnBackspace=!1;const h=new QE(r,"forward");r.commands.add("deleteForward",h),r.commands.add("forwardDelete",h),r.commands.add("delete",new QE(r,"backward")),this.listenTo(a,"delete",(f,g)=>{a.isComposing||g.preventDefault();const{direction:_,sequence:b,selectionToRemove:w,unit:v}=g,A="forward"===_?"deleteForward":"delete",E={sequence:b};if("selection"==v){const D=Array.from(w.getRanges()).map(x=>r.editing.mapper.toModelRange(x));E.selection=r.model.createSelection(D)}else E.unit=v;r.execute(A,E),o.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(a,"delete",(f,g)=>{this._undoOnBackspace&&"backward"==g.direction&&1==g.sequence&&"codePoint"==g.unit&&(this._undoOnBackspace=!1,r.execute("undo"),g.preventDefault(),f.stop())},{context:"$capture"}),this.listenTo(u,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class vg extends ne{static get requires(){return[KE,Bo]}static get pluginName(){return"Typing"}}function mw(l,r){let o=l.start;return{text:Array.from(l.getWalker({ignoreElementEnd:!1})).reduce((a,{item:u})=>u.is("$text")||u.is("$textProxy")?a+u.data:(o=r.createPositionAfter(u),""),""),range:r.createRange(o,l.end)}}class eu extends(Pt()){constructor(r,o){super(),this.model=r,this.testCallback=o,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(r.document.selection),this.stopListening(r.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const r=this.model.document;this.listenTo(r.selection,"change:range",(o,{directChange:a})=>{a&&(r.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))}),this.listenTo(r,"change:data",(o,a)=>{!a.isUndo&&a.isLocal&&this._evaluateTextBeforeSelection("data",{batch:a})})}_evaluateTextBeforeSelection(r,o={}){const a=this.model,u=a.document.selection,h=a.createRange(a.createPositionAt(u.focus.parent,0),u.focus),{text:f,range:g}=mw(h,a),_=this.testCallback(f);if(!_&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!_,_){const b=Object.assign(o,{text:f,range:g});"object"==typeof _&&Object.assign(b,_),this.fire(`matched:${r}`,b)}}}class _w extends ne{constructor(r){super(r),this.attributes=new Set,this._overrideUid=null}static get pluginName(){return"TwoStepCaretMovement"}init(){const r=this.editor,u=r.locale,h=r.model.document.selection;this.listenTo(r.editing.view.document,"arrowKey",(f,g)=>{if(!h.isCollapsed||g.shiftKey||g.altKey||g.ctrlKey)return;const _=g.keyCode==Ge.arrowright,b=g.keyCode==Ge.arrowleft;if(!_&&!b)return;const w=u.contentLanguageDirection;let v=!1;v="ltr"===w&&_||"rtl"===w&&b?this._handleForwardMovement(g):this._handleBackwardMovement(g),!0===v&&f.stop()},{context:"$text",priority:"highest"}),this._isNextGravityRestorationSkipped=!1,this.listenTo(h,"change:range",(f,g)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!g.directChange&&Ag(h.getFirstPosition(),this.attributes)||this._restoreGravity())})}registerAttribute(r){this.attributes.add(r)}_handleForwardMovement(r){const o=this.attributes,a=this.editor.model.document.selection,u=a.getFirstPosition();return!(this._isGravityOverridden||u.isAtStart&&bw(a,o)||!Ag(u,o)||(Cg(r),this._overrideGravity(),0))}_handleBackwardMovement(r){const o=this.attributes,a=this.editor.model,u=a.document.selection,h=u.getFirstPosition();return this._isGravityOverridden?(Cg(r),this._restoreGravity(),Lc(a,o,h),!0):h.isAtStart?!!bw(u,o)&&(Cg(r),Lc(a,o,h),!0):(g=o,!(!Ag(h.getShiftedBy(-1),g)||(h.isAtEnd&&!bw(u,o)&&Ag(h,o)?(Cg(r),Lc(a,o,h),0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),1))));var g}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(r=>r.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(r=>{r.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function bw(l,r){for(const o of r)if(l.hasAttribute(o))return!0;return!1}function Lc(l,r,o){const a=o.nodeBefore;l.change(u=>{if(a){const h=[],f=l.schema.isObject(a)&&l.schema.isInline(a);for(const[g,_]of a.getAttributes())!l.schema.checkAttribute("$text",g)||f&&!1===l.schema.getAttributeProperties(g).copyFromObject||h.push([g,_]);u.setSelectionAttribute(h)}else u.removeSelectionAttribute(r)})}function Cg(l){l.preventDefault()}function Ag(l,r){const{nodeBefore:o,nodeAfter:a}=l;for(const u of r){const h=o?o.getAttribute(u):void 0;if((a?a.getAttribute(u):void 0)!==h)return!0}return!1}const YE={copyright:{from:"(c)",to:"\xa9"},registeredTrademark:{from:"(r)",to:"\xae"},trademark:{from:"(tm)",to:"\u2122"},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"\xbd",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"\u2153",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"\u2154",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"\xbc",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"\xbe",null]},lessThanOrEqual:{from:"<=",to:"\u2264"},greaterThanOrEqual:{from:">=",to:"\u2265"},notEqual:{from:"!=",to:"\u2260"},arrowLeft:{from:"<-",to:"\u2190"},arrowRight:{from:"->",to:"\u2192"},horizontalEllipsis:{from:"...",to:"\u2026"},enDash:{from:/(^| )(--)( )$/,to:[null,"\u2013",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"\u2014",null]},quotesPrimary:{from:tu('"'),to:[null,"\u201c",null,"\u201d"]},quotesSecondary:{from:tu("'"),to:[null,"\u2018",null,"\u2019"]},quotesPrimaryEnGb:{from:tu("'"),to:[null,"\u2018",null,"\u2019"]},quotesSecondaryEnGb:{from:tu('"'),to:[null,"\u201c",null,"\u201d"]},quotesPrimaryPl:{from:tu('"'),to:[null,"\u201e",null,"\u201d"]},quotesSecondaryPl:{from:tu("'"),to:[null,"\u201a",null,"\u2019"]}},ZE={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},yw=["symbols","mathematical","typography","quotes"];function Eg(l){return"string"==typeof l?new RegExp(`(${HE(l)})$`):l}function Ig(l){return"string"==typeof l?()=>[l]:l instanceof Array?()=>l:l}function I7(l){return(l.textNode?l.textNode:l.nodeAfter).getAttributes()}function tu(l){return new RegExp(`(^|\\s)(${l})([^${l}]*)(${l})$`)}function nu(l,r,o,a){return a.createRange(Dg(l,r,o,!0,a),Dg(l,r,o,!1,a))}function Dg(l,r,o,a,u){let h=l.textNode||(a?l.nodeBefore:l.nodeAfter),f=null;for(;h&&h.getAttribute(r)==o;)f=h,h=a?h.previousSibling:h.nextSibling;return f?u.createPositionAt(f,a?"before":"after"):l}function*JE(l,r){for(const o of r)o&&l.getAttributeProperties(o[0]).copyOnEnter&&(yield o)}class XE extends st{execute(){this.editor.model.change(r=>{this.enterBlock(r),this.fire("afterExecute",{writer:r})})}enterBlock(r){const o=this.editor.model,a=o.document.selection,u=o.schema,h=a.isCollapsed,f=a.getFirstRange(),g=f.start.parent,_=f.end.parent;if(u.isLimit(g)||u.isLimit(_))return h||g!=_||o.deleteContent(a),!1;if(h){const b=JE(r.model.schema,a.getAttributes());return eI(r,f.start),r.setSelectionAttribute(b),!0}{const b=!(f.start.isAtStart&&f.end.isAtEnd),w=g==_;if(o.deleteContent(a,{leaveUnmerged:b}),b){if(w)return eI(r,a.focus),!0;r.setSelection(_,0)}}return!1}}function eI(l,r){l.split(r),l.setSelection(r.parent.nextSibling,0)}const lN={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class Qt extends Qi{constructor(r){super(r);const o=this.document;let a=!1;o.on("keydown",(u,h)=>{a=h.shiftKey}),o.on("beforeinput",(u,h)=>{if(!this.isEnabled)return;let f=h.inputType;F.isSafari&&a&&"insertParagraph"==f&&(f="insertLineBreak");const g=h.domEvent,_=lN[f];if(!_)return;const b=new ya(o,"enter",h.targetRanges[0]);o.fire(b,new $s(r,g,{isSoft:_.isSoft})),b.stop.called&&u.stop()})}observe(){}stopObserving(){}}class Ih extends ne{static get pluginName(){return"Enter"}init(){const r=this.editor,o=r.editing.view,a=o.document;o.addObserver(Qt),r.commands.add("enter",new XE(r)),this.listenTo(a,"enter",(u,h)=>{a.isComposing||h.preventDefault(),h.isSoft||(r.execute("enter"),o.scrollToTheSelection())},{priority:"low"})}}class tI extends st{execute(){const r=this.editor.model,o=r.document;r.change(a=>{(function(u,h,f){const g=f.isCollapsed,_=f.getFirstRange(),w=_.end.parent,v=_.start.parent==w;if(g){const A=JE(u.schema,f.getAttributes());nI(u,h,_.end),h.removeSelectionAttribute(f.getAttributeKeys()),h.setSelectionAttribute(A)}else{const A=!(_.start.isAtStart&&_.end.isAtEnd);u.deleteContent(f,{leaveUnmerged:A}),v?nI(u,h,f.focus):A&&h.setSelection(w,0)}})(r,a,o.selection),this.fire("afterExecute",{writer:a})})}refresh(){const r=this.editor.model;this.isEnabled=function(a,u){if(u.rangeCount>1)return!1;const h=u.anchor;if(!h||!a.checkChild(h,"softBreak"))return!1;const f=u.getFirstRange(),g=f.start.parent,_=f.end.parent;return!((ww(g,a)||ww(_,a))&&g!==_)}(r.schema,r.document.selection)}}function nI(l,r,o){const a=r.createElement("softBreak");l.insertContent(a,o),r.setSelection(a,"after")}function ww(l,r){return!l.is("rootElement")&&(r.isLimit(l)||ww(l.parent,r))}class uN extends ne{static get pluginName(){return"ShiftEnter"}init(){const r=this.editor,a=r.conversion,u=r.editing.view,h=u.document;r.model.schema.register("softBreak",{allowWhere:"$text",isInline:!0}),a.for("upcast").elementToElement({model:"softBreak",view:"br"}),a.for("downcast").elementToElement({model:"softBreak",view:(f,{writer:g})=>g.createEmptyElement("br")}),u.addObserver(Qt),r.commands.add("shiftEnter",new tI(r)),this.listenTo(h,"enter",(f,g)=>{h.isComposing||g.preventDefault(),g.isSoft&&(r.execute("shiftEnter"),u.scrollToTheSelection())},{priority:"low"})}}class dN extends(xt()){constructor(){super(...arguments),this._stack=[]}add(r,o){const a=this._stack,u=a[0];this._insertDescriptor(r);const h=a[0];u===h||Ve(u,h)||this.fire("change:top",{oldDescriptor:u,newDescriptor:h,writer:o})}remove(r,o){const a=this._stack,u=a[0];this._removeDescriptor(r);const h=a[0];u===h||Ve(u,h)||this.fire("change:top",{oldDescriptor:u,newDescriptor:h,writer:o})}_insertDescriptor(r){const o=this._stack,a=o.findIndex(h=>h.id===r.id);if(Ve(r,o[a]))return;a>-1&&o.splice(a,1);let u=0;for(;o[u]&&kw(o[u],r);)u++;o.splice(u,0,r)}_removeDescriptor(r){const o=this._stack,a=o.findIndex(u=>u.id===r);a>-1&&o.splice(a,1)}}function Ve(l,r){return l&&r&&l.priority==r.priority&&Tg(l.classes)==Tg(r.classes)}function kw(l,r){return l.priority>r.priority||!(l.priority<r.priority)&&Tg(l.classes)>Tg(r.classes)}function Tg(l){return Array.isArray(l)?l.sort().join(","):l}const _e='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',be="ck-widget",Ze="ck-widget_selected";function er(l){return!!l.is("element")&&!!l.getCustomProperty("widget")}function vw(l,r,o={}){if(!l.is("containerElement"))throw new V("widget-to-widget-wrong-element-type",null,{element:l});return r.setAttribute("contenteditable","false",l),r.addClass(be,l),r.setCustomProperty("widget",!0,l),l.getFillerOffset=rI,r.setCustomProperty("widgetLabel",[],l),o.label&&(u=o.label,l.getCustomProperty("widgetLabel").push(u)),o.hasSelectionHandle&&function(a,u){const h=u.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(f){const g=this.toDomElement(f),_=new Dc;return _.set("content",_e),_.render(),g.appendChild(_.element),g});u.insert(u.createPositionAt(a,0),h),u.addClass(["ck-widget_with-selection-handle"],a)}(l,r),xg(l,r),l;var u}function hN(l,r,o){if(r.classes&&o.addClass(Hn(r.classes),l),r.attributes)for(const a in r.attributes)o.setAttribute(a,r.attributes[a],l)}function fN(l,r,o){if(r.classes&&o.removeClass(Hn(r.classes),l),r.attributes)for(const a in r.attributes)o.removeAttribute(a,l)}function xg(l,r,o=hN,a=fN){const u=new dN;u.on("change:top",(h,f)=>{f.oldDescriptor&&a(l,f.oldDescriptor,f.writer),f.newDescriptor&&o(l,f.newDescriptor,f.writer)}),r.setCustomProperty("addHighlight",(h,f,g)=>u.add(f,g),l),r.setCustomProperty("removeHighlight",(h,f,g)=>u.remove(f,g),l)}function Sg(l,r,o={}){return r.addClass(["ck-editor__editable","ck-editor__nested-editable"],l),r.setAttribute("role","textbox",l),o.label&&r.setAttribute("aria-label",o.label,l),r.setAttribute("contenteditable",l.isReadOnly?"false":"true",l),l.on("change:isReadOnly",(a,u,h)=>{r.setAttribute("contenteditable",h?"false":"true",l)}),l.on("change:isFocused",(a,u,h)=>{h?r.addClass("ck-editor__nested-editable_focused",l):r.removeClass("ck-editor__nested-editable_focused",l)}),xg(l,r),l}function Cw(l,r){const o=l.getSelectedElement();if(o){const a=ui(l);if(a)return r.createRange(r.createPositionAt(o,a))}return oR(l,r)}function rI(){return null}const Ks="widget-type-around";function Vc(l,r,o){return!!l&&er(l)&&!o.isInline(r)}function ui(l){return l.getAttribute(Ks)}var ru=ge(4921);Ee()(ru.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const bt=["before","after"],oI=(new DOMParser).parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,sI="ck-widget__type-around_disabled";class aI extends ne{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[Ih,Bo]}init(){const r=this.editor,o=r.editing.view;this.on("change:isEnabled",(a,u,h)=>{o.change(f=>{for(const g of o.document.roots)h?f.removeClass(sI,g):f.addClass(sI,g)}),h||r.model.change(f=>{f.removeSelectionAttribute(Ks)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(r,o){const a=this.editor,u=a.editing.view,h=a.model.schema.getAttributesWithProperty(r,"copyOnReplace",!0);a.execute("insertParagraph",{position:a.model.createPositionAt(r,o),attributes:h}),u.focus(),u.scrollToTheSelection()}_listenToIfEnabled(r,o,a,u){this.listenTo(r,o,(...h)=>{this.isEnabled&&a(...h)},u)}_insertParagraphAccordingToFakeCaretPosition(){const r=this.editor.model.document.selection,o=ui(r);if(!o)return!1;const a=r.getSelectedElement();return this._insertParagraph(a,o),!0}_enableTypeAroundUIInjection(){const r=this.editor,o=r.model.schema,a=r.locale.t,u={before:a("Insert paragraph before block"),after:a("Insert paragraph after block")};r.editing.downcastDispatcher.on("insert",(h,f,g)=>{const _=g.mapper.toViewElement(f.item);_&&Vc(_,f.item,o)&&(function(b,w,v){const A=b.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(E){const D=this.toDomElement(E);return function(x,P){for(const N of bt){const H=new Lo({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${N}`],title:P[N],"aria-hidden":"true"},children:[x.ownerDocument.importNode(oI,!0)]});x.appendChild(H.render())}}(D,w),function(x){const P=new Lo({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});x.appendChild(P.render())}(D),D});b.insert(b.createPositionAt(v,"end"),A)}(g.writer,u,_),_.getCustomProperty("widgetLabel").push(()=>this.isEnabled?a("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const r=this.editor,o=r.model,a=o.document.selection,u=o.schema;function f(g){return`ck-widget_type-around_show-fake-caret_${g}`}this._listenToIfEnabled(r.editing.view.document,"arrowKey",(g,_)=>{this._handleArrowKeyPress(g,_)},{context:[er,"$text"],priority:"high"}),this._listenToIfEnabled(a,"change:range",(g,_)=>{_.directChange&&r.model.change(b=>{b.removeSelectionAttribute(Ks)})}),this._listenToIfEnabled(o.document,"change:data",()=>{const g=a.getSelectedElement();g&&Vc(r.editing.mapper.toViewElement(g),g,u)||r.model.change(_=>{_.removeSelectionAttribute(Ks)})}),this._listenToIfEnabled(r.editing.downcastDispatcher,"selection",(g,_,b)=>{const w=b.writer;if(this._currentFakeCaretModelElement){const D=b.mapper.toViewElement(this._currentFakeCaretModelElement);D&&(w.removeClass(bt.map(f),D),this._currentFakeCaretModelElement=null)}const v=_.selection.getSelectedElement();if(!v)return;const A=b.mapper.toViewElement(v);if(!Vc(A,v,u))return;const E=ui(_.selection);E&&(w.addClass(f(E),A),this._currentFakeCaretModelElement=v)}),this._listenToIfEnabled(r.ui.focusTracker,"change:isFocused",(g,_,b)=>{b||r.model.change(w=>{w.removeSelectionAttribute(Ks)})})}_handleArrowKeyPress(r,o){const a=this.editor,u=a.model,h=u.document.selection,f=u.schema,g=a.editing.view,_=function(v,A){const E=js(v,A);return"down"===E||"right"===E}(o.keyCode,a.locale.contentLanguageDirection),b=g.document.selection.getSelectedElement();let w;Vc(b,a.editing.mapper.toModelElement(b),f)?w=this._handleArrowKeyPressOnSelectedWidget(_):h.isCollapsed?w=this._handleArrowKeyPressWhenSelectionNextToAWidget(_):o.shiftKey||(w=this._handleArrowKeyPressWhenNonCollapsedSelection(_)),w&&(o.preventDefault(),r.stop())}_handleArrowKeyPressOnSelectedWidget(r){const o=this.editor.model,a=ui(o.document.selection);return o.change(u=>a?a!==(r?"after":"before")&&(u.removeSelectionAttribute(Ks),!0):(u.setSelectionAttribute(Ks,r?"after":"before"),!0))}_handleArrowKeyPressWhenSelectionNextToAWidget(r){const o=this.editor,a=o.model,u=a.schema,h=o.plugins.get("Widget"),f=h._getObjectElementNextToSelection(r);return!!Vc(o.editing.mapper.toViewElement(f),f,u)&&(a.change(g=>{h._setSelectionOverElement(f),g.setSelectionAttribute(Ks,r?"before":"after")}),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(r){const o=this.editor,a=o.model,u=a.schema,h=o.editing.mapper,f=a.document.selection,g=r?f.getLastPosition().nodeBefore:f.getFirstPosition().nodeAfter;return!!Vc(h.toViewElement(g),g,u)&&(a.change(_=>{_.setSelection(g,"on"),_.setSelectionAttribute(Ks,r?"after":"before")}),!0)}_enableInsertingParagraphsOnButtonClick(){const r=this.editor,o=r.editing.view;this._listenToIfEnabled(o.document,"mousedown",(a,u)=>{const h=u.domTarget.closest(".ck-widget__type-around__button");if(!h)return;const f=h.classList.contains("ck-widget__type-around__button_before")?"before":"after",g=function(b,w){const v=b.closest(".ck-widget");return w.mapDomToView(v)}(h,o.domConverter),_=r.editing.mapper.toModelElement(g);this._insertParagraph(_,f),u.preventDefault(),a.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const r=this.editor,o=r.model.document.selection;this._listenToIfEnabled(r.editing.view.document,"enter",(u,h)=>{if("atTarget"!=u.eventPhase)return;const f=o.getSelectedElement(),g=r.editing.mapper.toViewElement(f),_=r.model.schema;let b;this._insertParagraphAccordingToFakeCaretPosition()?b=!0:Vc(g,f,_)&&(this._insertParagraph(f,h.isSoft?"before":"after"),b=!0),b&&(h.preventDefault(),u.stop())},{context:er})}_enableInsertingParagraphsOnTypingKeystroke(){const r=this.editor.editing.view.document;this._listenToIfEnabled(r,"insertText",(o,a)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(a.selection=r.selection)},{priority:"high"}),F.isAndroid?this._listenToIfEnabled(r,"keydown",(o,a)=>{229==a.keyCode&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(r,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const r=this.editor,a=r.model,u=a.schema;this._listenToIfEnabled(r.editing.view.document,"delete",(h,f)=>{if("atTarget"!=h.eventPhase)return;const g=ui(a.document.selection);if(!g)return;const _=f.direction,b=a.document.selection.getSelectedElement(),w="forward"==_;if("before"===g===w)r.execute("delete",{selection:a.createSelection(b,"on")});else{const v=u.getNearestSelectionRange(a.createPositionAt(b,g),_);if(v)if(v.isCollapsed){const A=a.createSelection(v.start);if(a.modifySelection(A,{direction:_}),A.focus.isEqual(v.start)){const E=function(D,x){let P=x;for(const N of x.getAncestors({parentFirst:!0})){if(N.childCount>1||D.isLimit(N))break;P=N}return P}(u,v.start.parent);a.deleteContent(a.createSelection(E,"on"),{doNotAutoparagraph:!0})}else a.change(E=>{E.setSelection(v),r.execute(w?"deleteForward":"delete")})}else a.change(A=>{A.setSelection(v),r.execute(w?"deleteForward":"delete")})}f.preventDefault(),h.stop()},{context:er})}_enableInsertContentIntegration(){const o=this.editor.model,a=o.document.selection;this._listenToIfEnabled(this.editor.model,"insertContent",(u,[h,f])=>{if(f&&!f.is("documentSelection"))return;const g=ui(a);return g?(u.stop(),o.change(_=>{const b=a.getSelectedElement(),w=o.createPositionAt(b,g),v=_.createSelection(w),A=o.insertContent(h,v);return _.setSelection(v),A})):void 0},{priority:"high"})}_enableInsertObjectIntegration(){const o=this.editor.model.document.selection;this._listenToIfEnabled(this.editor.model,"insertObject",(a,u)=>{const[,h,f={}]=u;if(h&&!h.is("documentSelection"))return;const g=ui(o);g&&(f.findOptimalPosition=g,u[3]=f)},{priority:"high"})}_enableDeleteContentIntegration(){const o=this.editor.model.document.selection;this._listenToIfEnabled(this.editor.model,"deleteContent",(a,[u])=>{u&&!u.is("documentSelection")||ui(o)&&a.stop()},{priority:"high"})}}function Aw(l,r,o){const a=l.schema,u=l.createRangeIn(r.root),h="forward"==o?"elementStart":"elementEnd";for(const{previousPosition:f,item:g,type:_}of u.getWalker({startPosition:r,direction:o})){if(a.isLimit(g)&&!a.isInline(g))return f;if(_==h&&a.isBlock(g))return null}return null}function qt(l,r,o){const a="backward"==o?r.end:r.start;if(l.checkChild(a,"$text"))return a;for(const{nextPosition:u}of r.getWalker({direction:o}))if(l.checkChild(u,"$text"))return u;return null}var lI=ge(3488);Ee()(lI.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Dh extends ne{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get requires(){return[aI,Bo]}init(){const r=this.editor,o=r.editing.view,a=o.document;this.editor.editing.downcastDispatcher.on("selection",(u,h,f)=>{const g=f.writer,_=h.selection;if(_.isCollapsed)return;const b=_.getSelectedElement();if(!b)return;const w=r.editing.mapper.toViewElement(b);var v;er(w)&&f.consumable.consume(_,"selection")&&g.setSelection(g.createRangeOn(w),{fake:!0,label:(v=w,v.getCustomProperty("widgetLabel").reduce((A,E)=>"function"==typeof E?A?A+". "+E():E():A?A+". "+E:E,""))})}),this.editor.editing.downcastDispatcher.on("selection",(u,h,f)=>{this._clearPreviouslySelectedWidgets(f.writer);const g=f.writer,_=g.document.selection;let b=null;for(const w of _.getRanges())for(const v of w){const A=v.item;er(A)&&!Pa(A,b)&&(g.addClass(Ze,A),this._previouslySelected.add(A),b=A)}},{priority:"low"}),o.addObserver(Yd),this.listenTo(a,"mousedown",(...u)=>this._onMousedown(...u)),this.listenTo(a,"arrowKey",(...u)=>{this._handleSelectionChangeOnArrowKeyPress(...u)},{context:[er,"$text"]}),this.listenTo(a,"arrowKey",(...u)=>{this._preventDefaultOnArrowKeyPress(...u)},{context:"$root"}),this.listenTo(a,"arrowKey",function cI(l){const r=l.model;return(o,a)=>{const h=a.keyCode==Ge.arrowdown,f=a.shiftKey,g=r.document.selection;if(a.keyCode!=Ge.arrowup&&!h)return;const _=h;if(f&&!(w=g).isCollapsed&&w.isBackward==_)return;var w;const b=function(w,v,A){const E=w.model;if(A){const D=v.isCollapsed?v.focus:v.getLastPosition(),x=Aw(E,D,"forward");if(!x)return null;const P=E.createRange(D,x),N=qt(E.schema,P,"backward");return N?E.createRange(D,N):null}{const D=v.isCollapsed?v.focus:v.getFirstPosition(),x=Aw(E,D,"backward");if(!x)return null;const P=E.createRange(x,D),N=qt(E.schema,P,"forward");return N?E.createRange(N,D):null}}(l,g,_);if(b){if(b.isCollapsed&&(g.isCollapsed||f))return;(b.isCollapsed||function(w,v,A){const E=w.model,D=w.view.domConverter;if(A){const J=E.createSelection(v.start);E.modifySelection(J),J.focus.isAtEnd||v.start.isEqual(J.focus)||(v=E.createRange(J.focus,v.end))}const x=w.mapper.toViewRange(v),P=D.viewRangeToDom(x),N=it.getDomRangeRects(P);let H;for(const J of N)if(void 0!==H){if(Math.round(J.top)>=H)return!1;H=Math.max(H,Math.round(J.bottom))}else H=Math.round(J.bottom);return!0}(l,b,_))&&(r.change(w=>{const v=_?b.end:b.start;if(f){const A=r.createSelection(g.anchor);A.setFocus(v),w.setSelection(A)}else w.setSelection(v)}),o.stop(),a.preventDefault(),a.stopPropagation())}}}(this.editor.editing),{context:"$text"}),this.listenTo(a,"delete",(u,h)=>{this._handleDelete("forward"==h.direction)&&(h.preventDefault(),u.stop())},{context:"$root"})}_onMousedown(r,o){const a=this.editor,u=a.editing.view,h=u.document;let f=o.target;if(function(_){let b=_;for(;b;){if(b.is("editableElement")&&!b.is("rootElement"))return!0;if(er(b))return!1;b=b.parent}return!1}(f)){if((F.isSafari||F.isGecko)&&o.domEvent.detail>=3){const _=a.editing.mapper,b=f.is("attributeElement")?f.findAncestor(v=>!v.is("attributeElement")):f,w=_.toModelElement(b);o.preventDefault(),this.editor.model.change(v=>{v.setSelection(w,"in")})}return}if(!er(f)&&(f=f.findAncestor(er),!f))return;F.isAndroid&&o.preventDefault(),h.isFocused||u.focus();const g=a.editing.mapper.toModelElement(f);this._setSelectionOverElement(g)}_handleSelectionChangeOnArrowKeyPress(r,o){const a=o.keyCode,u=this.editor.model,h=u.schema,f=u.document.selection,g=f.getSelectedElement(),_=js(a,this.editor.locale.contentLanguageDirection),b="down"==_||"right"==_,w="up"==_||"down"==_;if(g&&h.isObject(g)){const A=b?f.getLastPosition():f.getFirstPosition(),E=h.getNearestSelectionRange(A,b?"forward":"backward");return void(E&&(u.change(D=>{D.setSelection(E)}),o.preventDefault(),r.stop()))}if(!f.isCollapsed&&!o.shiftKey){const A=f.getFirstPosition(),E=f.getLastPosition(),D=A.nodeAfter,x=E.nodeBefore;return void((D&&h.isObject(D)||x&&h.isObject(x))&&(u.change(P=>{P.setSelection(b?E:A)}),o.preventDefault(),r.stop()))}if(!f.isCollapsed)return;const v=this._getObjectElementNextToSelection(b);if(v&&h.isObject(v)){if(h.isInline(v)&&w)return;this._setSelectionOverElement(v),o.preventDefault(),r.stop()}}_preventDefaultOnArrowKeyPress(r,o){const a=this.editor.model,u=a.schema,h=a.document.selection.getSelectedElement();h&&u.isObject(h)&&(o.preventDefault(),r.stop())}_handleDelete(r){const o=this.editor.model.document.selection;if(!this.editor.model.canEditAt(o)||!o.isCollapsed)return;const a=this._getObjectElementNextToSelection(r);return a?(this.editor.model.change(u=>{let h=o.anchor.parent;for(;h.isEmpty;){const f=h;h=f.parent,u.remove(f)}this._setSelectionOverElement(a)}),!0):void 0}_setSelectionOverElement(r){this.editor.model.change(o=>{o.setSelection(o.createRangeOn(r))})}_getObjectElementNextToSelection(r){const o=this.editor.model,a=o.schema,u=o.document.selection,h=o.createSelection(u);if(o.modifySelection(h,{direction:r?"forward":"backward"}),h.isEqual(u))return null;const f=r?h.focus.nodeBefore:h.focus.nodeAfter;return f&&a.isObject(f)?f:null}_clearPreviouslySelectedWidgets(r){for(const o of this._previouslySelected)r.removeClass(Ze,o);this._previouslySelected.clear()}}function Pa(l,r){return!!r&&Array.from(l.getAncestors()).includes(r)}class iu extends ne{constructor(){super(...arguments),this._toolbarDefinitions=new Map}static get requires(){return[wh]}static get pluginName(){return"WidgetToolbarRepository"}init(){const r=this.editor;if(r.plugins.has("BalloonToolbar")){const o=r.plugins.get("BalloonToolbar");this.listenTo(o,"show",a=>{(function(u){const h=u.getSelectedElement();return!(!h||!er(h))})(r.editing.view.document.selection)&&a.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(r.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(r.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const r of this._toolbarDefinitions.values())r.view.destroy()}register(r,{ariaLabel:o,items:a,getRelatedElement:u,balloonClassName:h="ck-toolbar-container"}){if(!a.length)return void ke("widget-toolbar-no-items",{toolbarId:r});const f=this.editor,g=f.t,_=new sE(f.locale);if(_.ariaLabel=o||g("Widget toolbar"),this._toolbarDefinitions.has(r))throw new V("widget-toolbar-duplicated",this,{toolbarId:r});const b={view:_,getRelatedElement:u,balloonClassName:h,itemsConfig:a,initialized:!1};f.ui.addToolbar(_,{isContextual:!0,beforeFocus:()=>{const w=u(f.editing.view.document.selection);w&&this._showToolbar(b,w)},afterBlur:()=>{this._hideToolbar(b)}}),this._toolbarDefinitions.set(r,b)}_updateToolbarsVisibility(){let r=0,o=null,a=null;for(const u of this._toolbarDefinitions.values()){const h=u.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&h)if(this.editor.ui.focusTracker.isFocused){const f=h.getAncestors().length;f>r&&(r=f,o=h,a=u)}else this._isToolbarVisible(u)&&this._hideToolbar(u);else this._isToolbarInBalloon(u)&&this._hideToolbar(u)}a&&this._showToolbar(a,o)}_hideToolbar(r){this._balloon.remove(r.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(r,o){this._isToolbarVisible(r)?Ew(this.editor,o):this._isToolbarInBalloon(r)||(r.initialized||(r.initialized=!0,r.view.fillFromConfig(r.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:r.view,position:Iw(this.editor,o),balloonClassName:r.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const a of this._toolbarDefinitions.values())if(this._isToolbarVisible(a)){const u=a.getRelatedElement(this.editor.editing.view.document.selection);Ew(this.editor,u)}}))}_isToolbarVisible(r){return this._balloon.visibleView===r.view}_isToolbarInBalloon(r){return this._balloon.hasView(r.view)}}function Ew(l,r){const o=l.plugins.get("ContextualBalloon"),a=Iw(l,r);o.updatePosition(a)}function Iw(l,r){const a=Lr.defaultPositions;return{target:l.editing.view.domConverter.mapViewToDom(r),positions:[a.northArrowSouth,a.northArrowSouthWest,a.northArrowSouthEast,a.southArrowNorth,a.southArrowNorthWest,a.southArrowNorthEast,a.viewportStickyNorth]}}class uI extends(Pt()){constructor(r){super(),this.set("activeHandlePosition",null),this.set("proposedWidthPercents",null),this.set("proposedWidth",null),this.set("proposedHeight",null),this.set("proposedHandleHostWidth",null),this.set("proposedHandleHostHeight",null),this._options=r,this._referenceCoordinates=null}get originalWidth(){return this._originalWidth}get originalHeight(){return this._originalHeight}get originalWidthPercents(){return this._originalWidthPercents}get aspectRatio(){return this._aspectRatio}begin(r,o,a){const u=new it(o);this.activeHandlePosition=function(f){const g=["top-left","top-right","bottom-right","bottom-left"];for(const _ of g)if(f.classList.contains(dI(_)))return _}(r),this._referenceCoordinates=function(f,g){const _=new it(f),b=g.split("-"),w={x:"right"==b[1]?_.right:_.left,y:"bottom"==b[0]?_.bottom:_.top};return w.x+=f.ownerDocument.defaultView.scrollX,w.y+=f.ownerDocument.defaultView.scrollY,w}(o,function(f){const g=f.split("-"),_={top:"bottom",bottom:"top",left:"right",right:"left"};return`${_[g[0]]}-${_[g[1]]}`}(this.activeHandlePosition)),this._originalWidth=u.width,this._originalHeight=u.height,this._aspectRatio=u.width/u.height;const h=a.style.width;this._originalWidthPercents=h&&h.match(/^\d+(\.\d*)?%$/)?parseFloat(h):function(f,g){const _=f.parentElement;let b=parseFloat(_.ownerDocument.defaultView.getComputedStyle(_).width),v=0,A=_;for(;isNaN(b);){if(A=A.parentElement,++v>5)return 0;b=parseFloat(_.ownerDocument.defaultView.getComputedStyle(A).width)}return g.width/b*100}(a,u)}update(r){this.proposedWidth=r.width,this.proposedHeight=r.height,this.proposedWidthPercents=r.widthPercents,this.proposedHandleHostWidth=r.handleHostWidth,this.proposedHandleHostHeight=r.handleHostHeight}}function dI(l){return`ck-widget__resizer__handle-${l}`}class hI extends Be{constructor(){super();const r=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-size-view",r.to("_viewPosition",o=>o?`ck-orientation-${o}`:"")],style:{display:r.if("_isVisible","none",o=>!o)}},children:[{text:r.to("_label")}]})}_bindToState(r,o){this.bind("_isVisible").to(o,"proposedWidth",o,"proposedHeight",(a,u)=>null!==a&&null!==u),this.bind("_label").to(o,"proposedHandleHostWidth",o,"proposedHandleHostHeight",o,"proposedWidthPercents",(a,u,h)=>"px"===r.unit?`${a}\xd7${u}`:`${h}%`),this.bind("_viewPosition").to(o,"activeHandlePosition",o,"proposedHandleHostWidth",o,"proposedHandleHostHeight",(a,u,h)=>u<50||h<50?"above-center":a)}_dismiss(){this.unbind(),this._isVisible=!1}}var fI=Object.defineProperty,pI=Object.defineProperties,gI=Object.getOwnPropertyDescriptors,Th=Object.getOwnPropertySymbols,Ra=Object.prototype.hasOwnProperty,gN=Object.prototype.propertyIsEnumerable,mI=(l,r,o)=>r in l?fI(l,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):l[r]=o;class Mg extends(Pt()){constructor(r){super(),this._viewResizerWrapper=null,this._options=r,this.set("isEnabled",!0),this.set("isSelected",!1),this.bind("isVisible").to(this,"isEnabled",this,"isSelected",(o,a)=>o&&a),this.decorate("begin"),this.decorate("cancel"),this.decorate("commit"),this.decorate("updateSize"),this.on("commit",o=>{this.state.proposedWidth||this.state.proposedWidthPercents||(this._cleanup(),o.stop())},{priority:"high"})}get state(){return this._state}show(){this._options.editor.editing.view.change(r=>{r.removeClass("ck-hidden",this._viewResizerWrapper)})}hide(){this._options.editor.editing.view.change(r=>{r.addClass("ck-hidden",this._viewResizerWrapper)})}attach(){const r=this,o=this._options.viewElement;this._options.editor.editing.view.change(a=>{const u=a.createUIElement("div",{class:"ck ck-reset_all ck-widget__resizer"},function(h){const f=this.toDomElement(h);return r._appendHandles(f),r._appendSizeUI(f),f});a.insert(a.createPositionAt(o,"end"),u),a.addClass("ck-widget_with-resizer",o),this._viewResizerWrapper=u,this.isVisible||this.hide()}),this.on("change:isVisible",()=>{this.isVisible?(this.show(),this.redraw()):this.hide()})}begin(r){this._state=new uI(this._options),this._sizeView._bindToState(this._options,this.state),this._initialViewWidth=this._options.viewElement.getStyle("width"),this.state.begin(r,this._getHandleHost(),this._getResizeHost())}updateSize(r){const o=this._proposeNewSize(r);this._options.editor.editing.view.change(b=>{const w=this._options.unit||"%";b.setStyle("width",("%"===w?o.widthPercents:o.width)+w,this._options.viewElement)});const a=this._getHandleHost(),u=new it(a),h=Math.round(u.width),f=Math.round(u.height),g=new it(a);var _;o.width=Math.round(g.width),o.height=Math.round(g.height),this.redraw(u),this.state.update((_=((b,w)=>{for(var v in w||(w={}))Ra.call(w,v)&&mI(b,v,w[v]);if(Th)for(var v of Th(w))gN.call(w,v)&&mI(b,v,w[v]);return b})({},o),pI(_,gI({handleHostWidth:h,handleHostHeight:f}))))}commit(){const r=this._options.unit||"%",o=("%"===r?this.state.proposedWidthPercents:this.state.proposedWidth)+r;this._options.editor.editing.view.change(()=>{this._cleanup(),this._options.onCommit(o)})}cancel(){this._cleanup()}destroy(){this.cancel()}redraw(r){const o=this._domResizerWrapper;if(!((a=o)&&a.ownerDocument&&a.ownerDocument.contains(a)))return;var a;const u=o.parentElement,h=this._getHandleHost(),f=this._viewResizerWrapper,g=[f.getStyle("width"),f.getStyle("height"),f.getStyle("left"),f.getStyle("top")];let _;if(u.isSameNode(h)){const b=r||new it(h);_=[b.width+"px",b.height+"px",void 0,void 0]}else _=[h.offsetWidth+"px",h.offsetHeight+"px",h.offsetLeft+"px",h.offsetTop+"px"];"same"!==ni(g,_)&&this._options.editor.editing.view.change(b=>{b.setStyle({width:_[0],height:_[1],left:_[2],top:_[3]},f)})}containsHandle(r){return this._domResizerWrapper.contains(r)}static isResizeHandle(r){return r.classList.contains("ck-widget__resizer__handle")}_cleanup(){this._sizeView._dismiss(),this._options.editor.editing.view.change(r=>{r.setStyle("width",this._initialViewWidth,this._options.viewElement)})}_proposeNewSize(r){const o=this.state,a_x=(u=r).pageX,a_y=u.pageY;var u;const h=!this._options.isCentered||this._options.isCentered(this),f={x:o._referenceCoordinates.x-(a_x+o.originalWidth),y:a_y-o.originalHeight-o._referenceCoordinates.y};h&&o.activeHandlePosition.endsWith("-right")&&(f.x=a_x-(o._referenceCoordinates.x+o.originalWidth)),h&&(f.x*=2);let g=Math.abs(o.originalWidth+f.x),_=Math.abs(o.originalHeight+f.y);return"width"==(g/o.aspectRatio>_?"width":"height")?_=g/o.aspectRatio:g=_*o.aspectRatio,{width:Math.round(g),height:Math.round(_),widthPercents:Math.min(Math.round(o.originalWidthPercents/o.originalWidth*g*100)/100,100)}}_getResizeHost(){return this._options.getResizeHost(this._domResizerWrapper.parentElement)}_getHandleHost(){return this._options.getHandleHost(this._domResizerWrapper.parentElement)}get _domResizerWrapper(){return this._options.editor.editing.view.domConverter.mapViewToDom(this._viewResizerWrapper)}_appendHandles(r){const o=["top-left","top-right","bottom-right","bottom-left"];for(const u of o)r.appendChild(new Lo({tag:"div",attributes:{class:"ck-widget__resizer__handle "+(a=u,`ck-widget__resizer__handle-${a}`)}}).render());var a}_appendSizeUI(r){this._sizeView=new hI,this._sizeView.render(),r.appendChild(this._sizeView.element)}}var Na=ge(8506);Ee()(Na.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Tw extends ne{constructor(){super(...arguments),this._resizers=new Map}static get pluginName(){return"WidgetResize"}init(){const r=this.editor.editing,o=ze.window.document;this.set("selectedResizer",null),this.set("_activeResizer",null),r.view.addObserver(Yd),this._observer=new(hn()),this.listenTo(r.view.document,"mousedown",this._mouseDownListener.bind(this),{priority:"high"}),this._observer.listenTo(o,"mousemove",this._mouseMoveListener.bind(this)),this._observer.listenTo(o,"mouseup",this._mouseUpListener.bind(this)),this._redrawSelectedResizerThrottled=Xd(()=>this.redrawSelectedResizer(),200),this.editor.ui.on("update",this._redrawSelectedResizerThrottled),this.editor.model.document.on("change",()=>{for(const[u,h]of this._resizers)u.isAttached()||(this._resizers.delete(u),h.destroy())},{priority:"lowest"}),this._observer.listenTo(ze.window,"resize",this._redrawSelectedResizerThrottled);const a=this.editor.editing.view.document.selection;a.on("change",()=>{const u=a.getSelectedElement(),h=this.getResizerByViewElement(u)||null;h?this.select(h):this.deselect()})}redrawSelectedResizer(){this.selectedResizer&&this.selectedResizer.isVisible&&this.selectedResizer.redraw()}destroy(){super.destroy(),this._observer.stopListening();for(const r of this._resizers.values())r.destroy();this._redrawSelectedResizerThrottled.cancel()}select(r){this.deselect(),this.selectedResizer=r,this.selectedResizer.isSelected=!0}deselect(){this.selectedResizer&&(this.selectedResizer.isSelected=!1),this.selectedResizer=null}attachTo(r){const o=new Mg(r),a=this.editor.plugins;if(o.attach(),a.has("WidgetToolbarRepository")){const h=a.get("WidgetToolbarRepository");o.on("begin",()=>{h.forceDisabled("resize")},{priority:"lowest"}),o.on("cancel",()=>{h.clearForceDisabled("resize")},{priority:"highest"}),o.on("commit",()=>{h.clearForceDisabled("resize")},{priority:"highest"})}this._resizers.set(r.viewElement,o);const u=this.editor.editing.view.document.selection.getSelectedElement();return this.getResizerByViewElement(u)==o&&this.select(o),o}getResizerByViewElement(r){return this._resizers.get(r)}_getResizerByHandle(r){for(const o of this._resizers.values())if(o.containsHandle(r))return o}_mouseDownListener(r,o){const a=o.domTarget;Mg.isResizeHandle(a)&&(this._activeResizer=this._getResizerByHandle(a)||null,this._activeResizer&&(this._activeResizer.begin(a),r.stop(),o.preventDefault()))}_mouseMoveListener(r,o){this._activeResizer&&this._activeResizer.updateSize(o)}_mouseUpListener(){this._activeResizer&&(this._activeResizer.commit(),this._activeResizer=null)}}const xh=ho("px");class D7 extends Be{constructor(){super();const r=this.bindTemplate;this.set({isVisible:!1,left:null,top:null,width:null}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",r.if("isVisible","ck-hidden",o=>!o)],style:{left:r.to("left",o=>xh(o)),top:r.to("top",o=>xh(o)),width:r.to("width",o=>xh(o))}}})}}class xw extends ne{constructor(){super(...arguments),this.removeDropMarkerDelayed=sA(()=>this.removeDropMarker(),40),this._updateDropMarkerThrottled=Xd(r=>this._updateDropMarker(r),40),this._reconvertMarkerThrottled=Xd(()=>{this.editor.model.markers.has("drop-target")&&this.editor.editing.reconvertMarker("drop-target")},0),this._dropTargetLineView=new D7,this._domEmitter=new(hn()),this._scrollables=new Map}static get pluginName(){return"DragDropTarget"}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(const{resizeObserver:r}of this._scrollables.values())r.destroy();return this._updateDropMarkerThrottled.cancel(),this.removeDropMarkerDelayed.cancel(),this._reconvertMarkerThrottled.cancel(),super.destroy()}updateDropMarker(r,o,a,u,h){this.removeDropMarkerDelayed.cancel();const f=_I(this.editor,r,o,a,u,h);f&&this._updateDropMarkerThrottled(f)}getFinalDropRange(r,o,a,u,h){const f=_I(this.editor,r,o,a,u,h);return this.removeDropMarker(),f}removeDropMarker(){const r=this.editor.model;this.removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),this._dropTargetLineView.isVisible=!1,r.markers.has("drop-target")&&r.change(o=>{o.removeMarker("drop-target")})}_setupDropMarker(){const r=this.editor;r.ui.view.body.add(this._dropTargetLineView),r.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),r.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(o,{writer:a})=>{if(r.model.schema.checkChild(o.markerRange.start,"$text"))return this._dropTargetLineView.isVisible=!1,this._createDropTargetPosition(a);o.markerRange.isCollapsed?this._updateDropTargetLine(o.markerRange):this._dropTargetLineView.isVisible=!1}})}_updateDropMarker(r){const o=this.editor,a=o.model.markers;o.model.change(u=>{a.has("drop-target")?a.get("drop-target").getRange().isEqual(r)||u.updateMarker("drop-target",{range:r}):u.addMarker("drop-target",{range:r,usingOperation:!1,affectsData:!1})})}_createDropTargetPosition(r){return r.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(o){const a=this.toDomElement(o);return a.append("\u2060",o.createElement("span"),"\u2060"),a})}_updateDropTargetLine(r){const o=this.editor.editing,a=r.start.nodeBefore,u=r.start.nodeAfter,h=r.start.parent,f=a?o.mapper.toViewElement(a):null,g=f?o.view.domConverter.mapViewToDom(f):null,_=u?o.mapper.toViewElement(u):null,b=_?o.view.domConverter.mapViewToDom(_):null,w=o.mapper.toViewElement(h),v=o.view.domConverter.mapViewToDom(w),A=this._getScrollableRect(w),{scrollX:E,scrollY:D}=ze.window,x=g?new it(g):null,P=b?new it(b):null,N=new it(v).excludeScrollbarsAndBorders(),H=x?x.bottom:N.top,J=P?P.top:N.bottom,ae=ze.window.getComputedStyle(v),Pe=H<=J?(H+J)/2:J;if(A.top<Pe&&Pe<A.bottom){const ft=N.left+parseFloat(ae.paddingLeft),at=N.right-parseFloat(ae.paddingRight),Xt=Math.max(ft+E,A.left),wn=Math.min(at+E,A.right);this._dropTargetLineView.set({isVisible:!0,left:Xt,top:Pe+D,width:wn-Xt})}else this._dropTargetLineView.isVisible=!1}_getScrollableRect(r){const o=r.root.rootName;let a;if(this._scrollables.has(o))a=this._scrollables.get(o).domElement;else{a=function(h){let f=h;do{f=f.parentElement;const g=ze.window.getComputedStyle(f).overflowY;if("auto"==g||"scroll"==g)break}while("BODY"!=f.tagName);return f}(this.editor.editing.view.domConverter.mapViewToDom(r)),this._domEmitter.listenTo(a,"scroll",this._reconvertMarkerThrottled,{usePassive:!0});const u=new To(a,this._reconvertMarkerThrottled);this._scrollables.set(o,{domElement:a,resizeObserver:u})}return new it(a).excludeScrollbarsAndBorders()}}function _I(l,r,o,a,u,h){const f=l.model,g=l.editing.mapper;let _=tr(l,r);for(;_;){if(!h)if(f.schema.checkChild(_,"$text")){const b=o?o[0].start:null,w=b?g.toModelPosition(b):null;if(w){if(f.schema.checkChild(w,"$text"))return f.createRange(w);if(b)return Sh(l,tr(l,b.parent),a,u)}}else if(f.schema.isInline(_))return Sh(l,_,a,u);if(f.schema.isBlock(_))return Sh(l,_,a,u);if(f.schema.checkChild(_,"$block")){const b=Array.from(_.getChildren()).filter(A=>A.is("element")&&!mN(l,A));let w=0,v=b.length;if(0==v)return f.createRange(f.createPositionAt(_,"end"));for(;w<v-1;){const A=Math.floor((w+v)/2);"before"==bI(l,b[A],a,u)?v=A:w=A}return Sh(l,b[w],a,u)}_=_.parent}return null}function mN(l,r){const a=l.editing.view.domConverter,u=l.editing.mapper.toViewElement(r),h=a.mapViewToDom(u);return"none"!=ze.window.getComputedStyle(h).float}function Sh(l,r,o,a){const u=l.model;return u.createRange(u.createPositionAt(r,bI(l,r,o,a)))}function bI(l,r,o,a){const h=l.editing.view.domConverter,f=l.editing.mapper.toViewElement(r),g=h.mapViewToDom(f),_=new it(g);return l.model.schema.isInline(r)?o<(_.left+_.right)/2?"before":"after":a<(_.top+_.bottom)/2?"before":"after"}function tr(l,r){const o=l.editing.mapper,a=l.editing.view,u=o.toModelElement(r);if(u)return u;const h=a.createPositionBefore(r),f=o.findMappedViewAncestor(h);return o.toModelElement(f)}var yI=Object.defineProperty,_N=Object.defineProperties,bN=Object.getOwnPropertyDescriptors,Sw=Object.getOwnPropertySymbols,yN=Object.prototype.hasOwnProperty,wI=Object.prototype.propertyIsEnumerable,Mw=(l,r,o)=>r in l?yI(l,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):l[r]=o;class ou extends ne{constructor(){super(...arguments),this._isBlockDragging=!1,this._domEmitter=new(hn())}static get pluginName(){return"DragDropBlockToolbar"}init(){const r=this.editor;if(this.listenTo(r,"change:isReadOnly",(o,a,u)=>{u?(this.forceDisabled("readOnlyMode"),this._isBlockDragging=!1):this.clearForceDisabled("readOnlyMode")}),F.isAndroid&&this.forceDisabled("noAndroidSupport"),r.plugins.has("BlockToolbar")){const o=r.plugins.get("BlockToolbar").buttonView.element;this._domEmitter.listenTo(o,"dragstart",(a,u)=>this._handleBlockDragStart(u)),this._domEmitter.listenTo(ze.document,"dragover",(a,u)=>this._handleBlockDragging(u)),this._domEmitter.listenTo(ze.document,"drop",(a,u)=>this._handleBlockDragging(u)),this._domEmitter.listenTo(ze.document,"dragend",()=>this._handleBlockDragEnd(),{useCapture:!0}),this.isEnabled&&o.setAttribute("draggable","true"),this.on("change:isEnabled",(a,u,h)=>{o.setAttribute("draggable",h?"true":"false")})}}destroy(){return this._domEmitter.stopListening(),super.destroy()}_handleBlockDragStart(r){if(!this.isEnabled)return;const o=this.editor.model,u=this.editor.editing.view,h=Array.from(o.document.selection.getSelectedBlocks()),f=o.createRange(o.createPositionBefore(h[0]),o.createPositionAfter(h[h.length-1]));o.change(g=>g.setSelection(f)),this._isBlockDragging=!0,u.focus(),u.getObserver(Jl).onDomEvent(r)}_handleBlockDragging(r){if(!this.isEnabled||!this._isBlockDragging)return;const o=r.clientX+("ltr"==this.editor.locale.contentLanguageDirection?100:-100),a=r.clientY,u=document.elementFromPoint(o,a),h=this.editor.editing.view;var f;u&&u.closest(".ck-editor__editable")&&h.getObserver(Jl).onDomEvent((f=((_,b)=>{for(var w in b||(b={}))yN.call(b,w)&&Mw(_,w,b[w]);if(Sw)for(var w of Sw(b))wI.call(b,w)&&Mw(_,w,b[w]);return _})({},r),_N(f,bN({type:r.type,dataTransfer:r.dataTransfer,target:u,clientX:o,clientY:a,preventDefault:()=>r.preventDefault(),stopPropagation:()=>r.stopPropagation()}))))}_handleBlockDragEnd(){this._isBlockDragging=!1}}var kI=ge(903);Ee()(kI.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class vI extends ne{constructor(){super(...arguments),this._clearDraggableAttributesDelayed=sA(()=>this._clearDraggableAttributes(),40),this._blockMode=!1,this._domEmitter=new(hn())}static get pluginName(){return"DragDrop"}static get requires(){return[mo,Dh,xw,ou]}init(){const r=this.editor,o=r.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,o.addObserver(Jl),o.addObserver(Yd),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDraggableAttributeHandling(),this.listenTo(r,"change:isReadOnly",(a,u,h)=>{h?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(a,u,h)=>{h||this._finalizeDragging(!1)}),F.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._previewContainer&&this._previewContainer.remove(),this._domEmitter.stopListening(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const r=this.editor,o=r.model,a=r.editing.view,u=a.document,h=r.plugins.get(xw);this.listenTo(u,"dragstart",(f,g)=>{if(g.target&&g.target.is("editableElement")||(this._prepareDraggedRange(g.target),!this._draggedRange))return void g.preventDefault();this._draggingUid=ce(),g.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",g.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const _=o.createSelection(this._draggedRange.toRange());this.editor.plugins.get("ClipboardPipeline")._fireOutputTransformationEvent(g.dataTransfer,_,"dragstart");const{dataTransfer:b,domTarget:w,domEvent:v}=g,{clientX:A}=v;this._updatePreview({dataTransfer:b,domTarget:w,clientX:A}),g.stopPropagation(),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(u,"dragend",(f,g)=>{this._finalizeDragging(!g.dataTransfer.isCanceled&&"move"==g.dataTransfer.dropEffect)},{priority:"low"}),this._domEmitter.listenTo(ze.document,"dragend",()=>{this._blockMode=!1},{useCapture:!0}),this.listenTo(u,"dragenter",()=>{this.isEnabled&&a.focus()}),this.listenTo(u,"dragleave",()=>{h.removeDropMarkerDelayed()}),this.listenTo(u,"dragging",(f,g)=>{if(!this.isEnabled)return void(g.dataTransfer.dropEffect="none");const{clientX:_,clientY:b}=g.domEvent;h.updateDropMarker(g.target,g.targetRanges,_,b,this._blockMode),this._draggedRange||(g.dataTransfer.dropEffect="copy"),F.isGecko||("copy"==g.dataTransfer.effectAllowed?g.dataTransfer.dropEffect="copy":["all","copyMove"].includes(g.dataTransfer.effectAllowed)&&(g.dataTransfer.dropEffect="move")),f.stop()},{priority:"low"})}_setupClipboardInputIntegration(){const r=this.editor,o=r.editing.view.document,a=r.plugins.get(xw);this.listenTo(o,"clipboardInput",(u,h)=>{if("drop"!=h.method)return;const{clientX:f,clientY:g}=h.domEvent,_=a.getFinalDropRange(h.target,h.targetRanges,f,g,this._blockMode);return _?(this._draggedRange&&this._draggingUid!=h.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),"move"==CI(h.dataTransfer)&&this._draggedRange&&this._draggedRange.containsRange(_,!0)?(this._finalizeDragging(!1),void u.stop()):void(h.targetRanges=[r.editing.mapper.toViewRange(_)])):(this._finalizeDragging(!1),void u.stop())},{priority:"high"})}_setupContentInsertionIntegration(){const r=this.editor.plugins.get(mo);r.on("contentInsertion",(o,a)=>{if(!this.isEnabled||"drop"!==a.method)return;const u=a.targetRanges.map(h=>this.editor.editing.mapper.toModelRange(h));this.editor.model.change(h=>h.setSelection(u))},{priority:"high"}),r.on("contentInsertion",(o,a)=>{if(!this.isEnabled||"drop"!==a.method)return;const u="move"==CI(a.dataTransfer);this._finalizeDragging((!a.resultRange||!a.resultRange.isCollapsed)&&u)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const r=this.editor,o=r.editing.view,a=o.document;this.listenTo(a,"mousedown",(u,h)=>{if(F.isAndroid||!h)return;this._clearDraggableAttributesDelayed.cancel();let f=Pw(h.target);if(F.isBlink&&!r.isReadOnly&&!f&&!a.selection.isCollapsed){const g=a.selection.getSelectedElement();g&&er(g)||(f=a.selection.editableElement)}f&&(o.change(g=>{g.setAttribute("draggable","true",f)}),this._draggableElement=r.editing.mapper.toModelElement(f))}),this.listenTo(a,"mouseup",()=>{F.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const r=this.editor.editing;r.view.change(o=>{this._draggableElement&&"$graveyard"!=this._draggableElement.root.rootName&&o.removeAttribute("draggable",r.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_finalizeDragging(r){const o=this.editor,a=o.model;o.plugins.get(xw).removeDropMarker(),this._clearDraggableAttributes(),o.plugins.has("WidgetToolbarRepository")&&o.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._previewContainer&&(this._previewContainer.remove(),this._previewContainer=void 0),this._draggedRange&&(r&&this.isEnabled&&a.change(u=>{const h=a.createSelection(this._draggedRange);a.deleteContent(h,{doNotAutoparagraph:!0});const f=h.getFirstPosition().parent;f.isEmpty&&!a.schema.checkChild(f,"$text")&&a.schema.checkChild(f,"paragraph")&&u.insertElement("paragraph",f,0)}),this._draggedRange.detach(),this._draggedRange=null)}_prepareDraggedRange(r){const o=this.editor,a=o.model,u=a.document.selection,h=r?Pw(r):null;if(h){const b=o.editing.mapper.toModelElement(h);return this._draggedRange=Nr.fromRange(a.createRangeOn(b)),this._blockMode=a.schema.isBlock(b),void(o.plugins.has("WidgetToolbarRepository")&&o.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop"))}if(u.isCollapsed&&!u.getFirstPosition().parent.isEmpty)return;const f=Array.from(u.getSelectedBlocks()),g=u.getFirstRange();if(0==f.length)return void(this._draggedRange=Nr.fromRange(g));const _=kN(a,f);if(f.length>1)this._draggedRange=Nr.fromRange(_),this._blockMode=!0;else if(1==f.length){const b=g.start.isTouching(_.start)&&g.end.isTouching(_.end);this._draggedRange=Nr.fromRange(b?_:g),this._blockMode=b}a.change(b=>b.setSelection(this._draggedRange.toRange()))}_updatePreview({dataTransfer:r,domTarget:o,clientX:a}){const u=this.editor.editing.view,f=u.domConverter.mapViewToDom(u.document.selection.editableElement),g=ze.window.getComputedStyle(f);this._previewContainer?this._previewContainer.firstElementChild&&this._previewContainer.removeChild(this._previewContainer.firstElementChild):(this._previewContainer=j_(ze.document,"div",{style:"position: fixed; left: -999999px;"}),ze.document.body.appendChild(this._previewContainer));const _=new it(f);if(f.contains(o))return;const b=parseFloat(g.paddingLeft),w=j_(ze.document,"div");w.className="ck ck-content",w.style.width=g.width,w.style.paddingLeft=`${_.left-a+b}px`,F.isiOS&&(w.style.backgroundColor="white"),w.innerHTML=r.getData("text/html"),r.setDragImage(w,0,0),this._previewContainer.appendChild(w)}}function CI(l){return F.isGecko?l.dropEffect:["all","copyMove"].includes(l.effectAllowed)?"move":"copy"}function Pw(l){if(l.is("editableElement"))return null;if(l.hasClass("ck-widget__selection-handle"))return l.findAncestor(er);if(er(l))return l;const r=l.findAncestor(o=>er(o)||o.is("editableElement"));return er(r)?r:null}function kN(l,r){const o=r[0],a=r[r.length-1],u=o.getCommonAncestor(a),h=l.createPositionBefore(o),f=l.createPositionAfter(a);if(u&&u.is("element")&&!l.schema.isLimit(u)){const g=l.createRangeOn(u),_=h.isTouching(g.start),b=f.isTouching(g.end);if(_&&b)return kN(l,[u])}return l.createRange(h,f)}class AI extends ne{static get pluginName(){return"PastePlainText"}static get requires(){return[mo]}init(){const r=this.editor,o=r.model,a=r.editing.view,u=a.document,h=o.document.selection;let f=!1;a.addObserver(Jl),this.listenTo(u,"keydown",(g,_)=>{f=_.shiftKey}),r.plugins.get(mo).on("contentInsertion",(g,_)=>{(f||function(b,w){if(b.childCount>1)return!1;const v=b.getChild(0);return!w.isObject(v)&&0==Array.from(v.getAttributeKeys()).length}(_.content,o.schema))&&o.change(b=>{const w=Array.from(h.getAttributes()).filter(([A])=>o.schema.getAttributeProperties(A).isFormatting);h.isCollapsed||o.deleteContent(h,{doNotAutoparagraph:!0}),w.push(...h.getAttributes());const v=b.createRangeIn(_.content);for(const A of v.getItems())A.is("$textProxy")&&b.setAttributes(w,A)})})}}class zo extends ne{static get pluginName(){return"Clipboard"}static get requires(){return[mo,vI,AI]}}class vs extends st{constructor(r){super(r),this.affectsData=!1}execute(){const r=this.editor.model,o=r.document.selection;let a=r.schema.getLimitElement(o);if(o.containsEntireContent(a)||!EI(r.schema,a))do{if(a=a.parent,!a)return}while(!EI(r.schema,a));r.change(u=>{u.setSelection(a,"in")})}}function EI(l,r){return l.isLimit(r)&&(l.checkChild(r,"$text")||l.checkChild(r,"paragraph"))}const II=br("Ctrl+A");class Cs extends ne{static get pluginName(){return"SelectAllEditing"}init(){const r=this.editor,o=r.editing.view.document;r.commands.add("selectAll",new vs(r)),this.listenTo(o,"keydown",(a,u)=>{_r(u)===II&&(r.execute("selectAll"),u.preventDefault())})}}class jo extends ne{static get pluginName(){return"SelectAllUI"}init(){const r=this.editor;r.ui.componentFactory.add("selectAll",o=>{const a=r.commands.get("selectAll"),u=new ht(o);return u.set({label:(0,o.t)("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A",tooltip:!0}),u.bind("isEnabled").to(a,"isEnabled"),this.listenTo(u,"execute",()=>{r.execute("selectAll"),r.editing.view.focus()}),u})}}class Uo extends ne{static get requires(){return[Cs,jo]}static get pluginName(){return"SelectAll"}}var DI=Object.defineProperty,Rw=Object.getOwnPropertySymbols,vN=Object.prototype.hasOwnProperty,CN=Object.prototype.propertyIsEnumerable,TI=(l,r,o)=>r in l?DI(l,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):l[r]=o;class xI extends st{constructor(r){super(r),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(r.data,"set",(o,a)=>{a[1]=((h,f)=>{for(var g in f||(f={}))vN.call(f,g)&&TI(h,g,f[g]);if(Rw)for(var g of Rw(f))CN.call(f,g)&&TI(h,g,f[g]);return h})({},a[1]);const u=a[1];u.batchType||(u.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(r.data,"set",(o,a)=>{a[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(r){const o=this.editor.model.document.selection,a={ranges:o.hasOwnRange?Array.from(o.getRanges()):[],isBackward:o.isBackward};this._stack.push({batch:r,selection:a}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(r,o,a){const u=this.editor.model,h=u.document,f=[],g=r.map(b=>b.getTransformedByOperations(a)),_=g.flat();for(const b of g){const w=b.filter(v=>v.root!=h.graveyard).filter(v=>!Mh(v,_));w.length&&(Nw(w),f.push(w[0]))}f.length&&u.change(b=>{b.setSelection(f,{backward:o})})}_undo(r,o){const a=this.editor.model,u=a.document;this._createdBatches.add(o);const h=r.operations.slice().filter(f=>f.isDocumentOperation);h.reverse();for(const f of h){const _=Array.from(u.history.getOperations(f.baseVersion+1)),b=k1([f.getReversed()],_,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(let w of b){const v=w.affectedSelectable;v&&!a.canEditAt(v)&&(w=new Jn(w.baseVersion)),o.addOperation(w),a.applyOperation(w),u.history.setOperationAsUndone(f,w)}}}}function Nw(l){l.sort((r,o)=>r.start.isBefore(o.start)?-1:1);for(let r=1;r<l.length;r++){const o=l[r-1].getJoined(l[r],!0);o&&(r--,l.splice(r,2,o))}}function Mh(l,r){return r.some(o=>o!==l&&o.containsRange(l,!0))}class AN extends xI{execute(r=null){const o=r?this._stack.findIndex(h=>h.batch==r):this._stack.length-1,a=this._stack.splice(o,1)[0],u=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(u,()=>{this._undo(a.batch,u);const h=this.editor.model.document.history.getOperations(a.batch.baseVersion);this._restoreSelection(a.selection.ranges,a.selection.isBackward,h)}),this.fire("revert",a.batch,u),this.refresh()}}class SI extends xI{execute(){const r=this._stack.pop(),o=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(o,()=>{const u=this.editor.model.document.history.getOperations(r.batch.operations[r.batch.operations.length-1].baseVersion+1);this._restoreSelection(r.selection.ranges,r.selection.isBackward,u),this._undo(r.batch,o)}),this.refresh()}}class EN extends ne{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}init(){const r=this.editor;this._undoCommand=new AN(r),this._redoCommand=new SI(r),r.commands.add("undo",this._undoCommand),r.commands.add("redo",this._redoCommand),this.listenTo(r.model,"applyOperation",(o,a)=>{const u=a[0];if(!u.isDocumentOperation)return;const h=u.batch,f=this._redoCommand.createdBatches.has(h),g=this._undoCommand.createdBatches.has(h);this._batchRegistry.has(h)||(this._batchRegistry.add(h),h.isUndoable&&(f?this._undoCommand.addBatch(h):g||(this._undoCommand.addBatch(h),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(o,a,u)=>{this._redoCommand.addBatch(u)}),r.keystrokes.set("CTRL+Z","undo"),r.keystrokes.set("CTRL+Y","redo"),r.keystrokes.set("CTRL+SHIFT+Z","redo")}}const MI='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',Ow='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';class PI extends ne{static get pluginName(){return"UndoUI"}init(){const r=this.editor,o=r.locale,a=r.t,u="ltr"==o.uiLanguageDirection?MI:Ow,h="ltr"==o.uiLanguageDirection?Ow:MI;this._addButton("undo",a("Undo"),"CTRL+Z",u),this._addButton("redo",a("Redo"),"CTRL+Y",h)}_addButton(r,o,a,u){const h=this.editor;h.ui.componentFactory.add(r,f=>{const g=h.commands.get(r),_=new ht(f);return _.set({label:o,icon:u,keystroke:a,tooltip:!0}),_.bind("isEnabled").to(g,"isEnabled"),this.listenTo(_,"execute",()=>{h.execute(r),h.editing.view.focus()}),_})}}class Ph extends ne{static get requires(){return[EN,PI]}static get pluginName(){return"Undo"}}const Lw=["left","right","center","justify"];function Vw(l){return Lw.includes(l)}function qe(l,r){return"rtl"==r.contentLanguageDirection?"right"===l:"left"===l}function Fw(l){const r=l.map(a=>{let u;return u="string"==typeof a?{name:a}:a,u}).filter(a=>{const u=Lw.includes(a.name);return u||ke("alignment-config-name-not-recognized",{option:a}),u}),o=r.filter(a=>!!a.className).length;if(o&&o<r.length)throw new V("alignment-config-classnames-are-missing",{configuredOptions:l});return r.forEach((a,u,h)=>{const f=h.slice(u+1);if(f.some(g=>g.name==a.name))throw new V("alignment-config-name-already-defined",{option:a,configuredOptions:l});if(a.className&&f.some(g=>g.className==a.className))throw new V("alignment-config-classname-already-defined",{option:a,configuredOptions:l})}),r}const Bw="alignment";class IN extends st{refresh(){const r=this.editor.locale,o=Vn(this.editor.model.document.selection.getSelectedBlocks());this.isEnabled=!!o&&this._canBeAligned(o),this.value=this.isEnabled&&o.hasAttribute("alignment")?o.getAttribute("alignment"):"rtl"===r.contentLanguageDirection?"right":"left"}execute(r={}){const o=this.editor,a=o.locale,u=o.model,h=u.document,f=r.value;u.change(g=>{const _=Array.from(h.selection.getSelectedBlocks()).filter(w=>this._canBeAligned(w)),b=_[0].getAttribute("alignment");qe(f,a)||b===f||!f?function(w,v){for(const A of w)v.removeAttribute(Bw,A)}(_,g):function(w,v,A){for(const E of w)v.setAttribute(Bw,A,E)}(_,g,f)})}_canBeAligned(r){return this.editor.model.schema.checkAttribute(r,Bw)}}class Oi extends ne{static get pluginName(){return"AlignmentEditing"}constructor(r){super(r),r.config.define("alignment",{options:Lw.map(o=>({name:o}))})}init(){const r=this.editor,o=r.locale,a=r.model.schema,u=Fw(r.config.get("alignment.options")).filter(_=>Vw(_.name)&&!qe(_.name,o)),h=u.some(_=>!!_.className);a.extend("$block",{allowAttributes:"alignment"}),r.model.schema.setAttributeProperties("alignment",{isFormatting:!0}),h?r.conversion.attributeToAttribute(function(_){const b={};for(const v of _)b[v.name]={key:"class",value:v.className};return{model:{key:"alignment",values:_.map(v=>v.name)},view:b}}(u)):r.conversion.for("downcast").attributeToAttribute(function(_){const b={};for(const{name:v}of _)b[v]={key:"style",value:{"text-align":v}};return{model:{key:"alignment",values:_.map(v=>v.name)},view:b}}(u));const f=function(_){const b=[];for(const{name:w}of _)b.push({view:{key:"style",value:{"text-align":w}},model:{key:"alignment",value:w}});return b}(u);for(const _ of f)r.conversion.for("upcast").attributeToAttribute(_);const g=function(_){const b=[];for(const{name:w}of _)b.push({view:{key:"align",value:w},model:{key:"alignment",value:w}});return b}(u);for(const _ of g)r.conversion.for("upcast").attributeToAttribute(_);r.commands.add("alignment",new IN(r))}}const Oa=new Map([["left",It.alignLeft],["right",It.alignRight],["center",It.alignCenter],["justify",It.alignJustify]]);class RI extends ne{get localizedOptionTitles(){const r=this.editor.t;return{left:r("Align left"),right:r("Align right"),center:r("Align center"),justify:r("Justify")}}static get pluginName(){return"AlignmentUI"}init(){const r=this.editor,o=r.ui.componentFactory,a=r.t,u=Fw(r.config.get("alignment.options"));u.map(h=>h.name).filter(Vw).forEach(h=>this._addButton(h)),o.add("alignment",h=>{const f=Pi(h);lh(f,()=>u.map(b=>o.create(`alignment:${b.name}`)),{enableActiveItemFocusOnDropdownOpen:!0,isVertical:!0,ariaLabel:a("Text alignment toolbar")}),f.buttonView.set({label:a("Text alignment"),tooltip:!0}),f.extendTemplate({attributes:{class:"ck-alignment-dropdown"}});const g=Oa.get("rtl"===h.contentLanguageDirection?"right":"left"),_=r.commands.get("alignment");return f.buttonView.bind("icon").to(_,"value",b=>Oa.get(b)||g),f.bind("isEnabled").to(_,"isEnabled"),this.listenTo(f,"execute",()=>{r.editing.view.focus()}),f})}_addButton(r){const o=this.editor;o.ui.componentFactory.add(`alignment:${r}`,a=>{const u=o.commands.get("alignment"),h=new ht(a);return h.set({label:this.localizedOptionTitles[r],icon:Oa.get(r),tooltip:!0,isToggleable:!0}),h.bind("isEnabled").to(u),h.bind("isOn").to(u,"value",f=>f===r),this.listenTo(h,"execute",()=>{o.execute("alignment",{value:r}),o.editing.view.focus()}),h})}}class Rh extends st{constructor(r,o){super(r),this.attributeKey=o}refresh(){const r=this.editor.model,o=r.document;this.value=o.selection.getAttribute(this.attributeKey),this.isEnabled=r.schema.checkAttributeInSelection(o.selection,this.attributeKey)}execute(r={}){const o=this.editor.model,a=o.document.selection,u=r.value,h=r.batch,f=g=>{if(a.isCollapsed)u?g.setSelectionAttribute(this.attributeKey,u):g.removeSelectionAttribute(this.attributeKey);else{const _=o.schema.getValidRanges(a.getRanges(),this.attributeKey);for(const b of _)u?g.setAttribute(this.attributeKey,u,b):g.removeAttribute(this.attributeKey,b)}};h?o.enqueueChange(h,g=>{f(g)}):o.change(g=>{f(g)})}}const Li="fontSize",Vi="fontFamily",Ho="fontColor",As="fontBackgroundColor";function zw(l,r){const o={model:{key:l,values:[]},view:{},upcastAlso:{}};for(const a of r)o.model.values.push(a.model),o.view[a.model]=a.view,a.upcastAlso&&(o.upcastAlso[a.model]=a.upcastAlso);return o}function jw(l){return r=>r.getStyle(l).replace(/\s/g,"")}function NI(l){return(r,{writer:o})=>o.createAttributeElement("span",{style:`${l}:${r}`},{priority:7})}class DN extends Rh{constructor(r){super(r,Vi)}}function OI(l){return l.map(TN).filter(r=>void 0!==r)}function TN(l){return"object"==typeof l?l:"default"===l?{title:"Default",model:void 0}:"string"==typeof l?function(r){const o=r.replace(/"|'/g,"").split(","),a=o[0],u=o.map(xN).join(", ");return{title:a,model:u,view:{name:"span",styles:{"font-family":u},priority:7}}}(l):void 0}function xN(l){return(l=l.trim()).indexOf(" ")>0&&(l=`'${l}'`),l}class SN extends ne{static get pluginName(){return"FontFamilyEditing"}constructor(r){super(r),r.config.define(Vi,{options:["default","Arial, Helvetica, sans-serif","Courier New, Courier, monospace","Georgia, serif","Lucida Sans Unicode, Lucida Grande, sans-serif","Tahoma, Geneva, sans-serif","Times New Roman, Times, serif","Trebuchet MS, Helvetica, sans-serif","Verdana, Geneva, sans-serif"],supportAllValues:!1})}init(){const r=this.editor;r.model.schema.extend("$text",{allowAttributes:Vi}),r.model.schema.setAttributeProperties(Vi,{isFormatting:!0,copyOnEnter:!0});const o=OI(r.config.get("fontFamily.options")).filter(u=>u.model),a=zw(Vi,o);r.config.get("fontFamily.supportAllValues")?(this._prepareAnyValueConverters(),this._prepareCompatibilityConverter()):r.conversion.attributeToElement(a),r.commands.add(Vi,new DN(r))}_prepareAnyValueConverters(){const r=this.editor;r.conversion.for("downcast").attributeToElement({model:Vi,view:(o,{writer:a})=>a.createAttributeElement("span",{style:"font-family:"+o},{priority:7})}),r.conversion.for("upcast").elementToAttribute({model:{key:Vi,value:o=>o.getStyle("font-family")},view:{name:"span",styles:{"font-family":/.*/}}})}_prepareCompatibilityConverter(){this.editor.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{face:/.*/}},model:{key:Vi,value:r=>r.getAttribute("face")}})}}class MN extends ne{static get pluginName(){return"FontFamilyUI"}init(){const r=this.editor,o=r.t,a=this._getLocalizedOptions(),u=r.commands.get(Vi),h=o("Font Family");r.ui.componentFactory.add(Vi,f=>{const g=Pi(f);return uh(g,()=>function(_,b){const w=new ii;for(const v of _){const A={type:"button",model:new yh({commandName:Vi,commandParam:v.model,label:v.title,role:"menuitemradio",withText:!0})};A.model.bind("isOn").to(b,"value",E=>E===v.model||!(!E||!v.model)&&E.split(",")[0].replace(/'/g,"").toLowerCase()===v.model.toLowerCase()),v.view&&"string"!=typeof v.view&&v.view.styles&&A.model.set("labelStyle",`font-family: ${v.view.styles["font-family"]}`),w.add(A)}return w}(a,u),{role:"menu",ariaLabel:h}),g.buttonView.set({label:h,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.03 3h6.149a.75.75 0 1 1 0 1.5h-5.514L11.03 3zm1.27 3h4.879a.75.75 0 1 1 0 1.5h-4.244L12.3 6zm1.27 3h3.609a.75.75 0 1 1 0 1.5h-2.973L13.57 9zm-2.754 2.5L8.038 4.785 5.261 11.5h5.555zm.62 1.5H4.641l-1.666 4.028H1.312l5.789-14h1.875l5.789 14h-1.663L11.436 13z"/></svg>',tooltip:!0}),g.extendTemplate({attributes:{class:"ck-font-family-dropdown"}}),g.bind("isEnabled").to(u),this.listenTo(g,"execute",_=>{r.execute(_.source.commandName,{value:_.source.commandParam}),r.editing.view.focus()}),g})}_getLocalizedOptions(){const r=this.editor,o=r.t;return OI(r.config.get(Vi).options).map(a=>("Default"===a.title&&(a.title=o("Default")),a))}}class PN extends Rh{constructor(r){super(r,Li)}}function Uw(l){return l.map(r=>function(o){if("number"==typeof o&&(o=String(o)),"object"==typeof o&&(a=o).title&&a.model&&a.view)return Hw(o);var a;const u="string"==typeof(h=o)?LI[h]:LI[h.model];var h;return u?Hw(u):"default"===o?{model:void 0,title:"Default"}:function(h){let f;if("object"==typeof h){if(!h.model)throw new V("font-size-invalid-definition",null,h);f=parseFloat(h.model)}else f=parseFloat(h);return isNaN(f)}(o)?void 0:function(h){return"string"==typeof h&&(h={title:h,model:`${parseFloat(h)}px`}),h.view={name:"span",styles:{"font-size":h.model}},Hw(h)}(o)}(r)).filter(r=>void 0!==r)}const LI={get tiny(){return{title:"Tiny",model:"tiny",view:{name:"span",classes:"text-tiny",priority:7}}},get small(){return{title:"Small",model:"small",view:{name:"span",classes:"text-small",priority:7}}},get big(){return{title:"Big",model:"big",view:{name:"span",classes:"text-big",priority:7}}},get huge(){return{title:"Huge",model:"huge",view:{name:"span",classes:"text-huge",priority:7}}}};function Hw(l){return l.view&&"string"!=typeof l.view&&!l.view.priority&&(l.view.priority=7),l}const VI=["x-small","x-small","small","medium","large","x-large","xx-large","xxx-large"];class RN extends ne{static get pluginName(){return"FontSizeEditing"}constructor(r){super(r),r.config.define(Li,{options:["tiny","small","default","big","huge"],supportAllValues:!1})}init(){const r=this.editor;r.model.schema.extend("$text",{allowAttributes:Li}),r.model.schema.setAttributeProperties(Li,{isFormatting:!0,copyOnEnter:!0});const o=r.config.get("fontSize.supportAllValues"),a=Uw(this.editor.config.get("fontSize.options")).filter(h=>h.model),u=zw(Li,a);o?(this._prepareAnyValueConverters(u),this._prepareCompatibilityConverter()):r.conversion.attributeToElement(u),r.commands.add(Li,new PN(r))}_prepareAnyValueConverters(r){const o=this.editor,a=r.model.values.filter(u=>{return h=String(u),!(hR.test(h)||(f=String(u),fR.test(f)));var f,h});if(a.length)throw new V("font-size-invalid-use-of-named-presets",null,{presets:a});o.conversion.for("downcast").attributeToElement({model:Li,view:(u,{writer:h})=>{if(u)return h.createAttributeElement("span",{style:"font-size:"+u},{priority:7})}}),o.conversion.for("upcast").elementToAttribute({model:{key:Li,value:u=>u.getStyle("font-size")},view:{name:"span",styles:{"font-size":/.*/}}})}_prepareCompatibilityConverter(){this.editor.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{size:/^[+-]?\d{1,3}$/}},model:{key:Li,value:r=>{const o=r.getAttribute("size"),a="-"===o[0]||"+"===o[0];let u=parseInt(o,10);a&&(u=3+u);const h=VI.length-1,f=Math.min(Math.max(u,0),h);return VI[f]}}})}}var FI=ge(6007);Ee()(FI.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class ON extends ne{static get pluginName(){return"FontSizeUI"}init(){const r=this.editor,o=r.t,a=this._getLocalizedOptions(),u=r.commands.get(Li),h=o("Font Size");r.ui.componentFactory.add(Li,f=>{const g=Pi(f);return uh(g,()=>function(_,b){const w=new ii;for(const v of _){const A={type:"button",model:new yh({commandName:Li,commandParam:v.model,label:v.title,class:"ck-fontsize-option",role:"menuitemradio",withText:!0})};v.view&&"string"!=typeof v.view&&(v.view.styles&&A.model.set("labelStyle",`font-size:${v.view.styles["font-size"]}`),v.view.classes&&A.model.set("class",`${A.model.class} ${v.view.classes}`)),A.model.bind("isOn").to(b,"value",E=>E===v.model),w.add(A)}return w}(a,u),{role:"menu",ariaLabel:h}),g.buttonView.set({label:h,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13zm7.55 2.279.779-.779.707.707-2.265 2.265-2.193-2.265.707-.707.765.765V4.825c0-.042 0-.083.002-.123l-.77.77-.707-.707L17.207 2.5l2.265 2.265-.707.707-.782-.782c.002.043.003.089.003.135v10.454z"/></svg>',tooltip:!0}),g.extendTemplate({attributes:{class:["ck-font-size-dropdown"]}}),g.bind("isEnabled").to(u),this.listenTo(g,"execute",_=>{r.execute(_.source.commandName,{value:_.source.commandParam}),r.editing.view.focus()}),g})}_getLocalizedOptions(){const r=this.editor,o=r.t,a={Default:o("Default"),Tiny:o("Tiny"),Small:o("Small"),Big:o("Big"),Huge:o("Huge")};return Uw(r.config.get(Li).options).map(u=>{const h=a[u.title];return h&&h!=u.title&&(u=Object.assign({},u,{title:h})),u})}}class LN extends Rh{constructor(r){super(r,Ho)}}class VN extends ne{static get pluginName(){return"FontColorEditing"}constructor(r){super(r),r.config.define(Ho,{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5}),r.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{color:/[\s\S]+/}},model:{key:Ho,value:jw("color")}}),r.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{color:/^#?\w+$/}},model:{key:Ho,value:o=>o.getAttribute("color")}}),r.conversion.for("downcast").attributeToElement({model:Ho,view:NI("color")}),r.commands.add(Ho,new LN(r)),r.model.schema.extend("$text",{allowAttributes:Ho}),r.model.schema.setAttributeProperties(Ho,{isFormatting:!0,copyOnEnter:!0})}}class Gw extends ne{constructor(r,{commandName:o,componentName:a,icon:u,dropdownLabel:h}){super(r),this.commandName=o,this.componentName=a,this.icon=u,this.dropdownLabel=h,this.columns=r.config.get(`${this.componentName}.columns`),this.colorSelectorView=void 0}init(){const r=this.editor,o=r.locale,a=o.t,u=r.commands.get(this.commandName),h=r.config.get(this.componentName),g=function(w,v){const A=w.t,E={Black:A("Black"),"Dim grey":A("Dim grey"),Grey:A("Grey"),"Light grey":A("Light grey"),White:A("White"),Red:A("Red"),Orange:A("Orange"),Yellow:A("Yellow"),"Light green":A("Light green"),Green:A("Green"),Aquamarine:A("Aquamarine"),Turquoise:A("Turquoise"),"Light blue":A("Light blue"),Blue:A("Blue"),Purple:A("Purple")};return v.map(D=>{const x=E[D.label];return x&&x!=D.label&&(D.label=x),D})}(o,h.colors.map(Sy).filter(v=>!!v)),_=h.documentColors,b=!1!==h.colorPicker;r.ui.componentFactory.add(this.componentName,w=>{const v=Pi(w);let A=!1;return this.colorSelectorView=function({dropdownView:E,colors:D,columns:x,removeButtonLabel:P,colorPickerLabel:N,documentColorsLabel:H,documentColorsCount:J,colorPickerViewConfig:ae}){const ft=new bE(E.locale,{colors:D,columns:x,removeButtonLabel:P,colorPickerLabel:N,documentColorsLabel:H,documentColorsCount:J,colorPickerViewConfig:ae});return E.colorSelectorView=ft,E.panelView.children.add(ft),ft}({dropdownView:v,colors:g.map(E=>({label:E.label,color:E.model,options:{hasBorder:E.hasBorder}})),columns:this.columns,removeButtonLabel:a("Remove color"),colorPickerLabel:a("Color picker"),documentColorsLabel:0!==_?a("Document colors"):"",documentColorsCount:void 0===_?this.columns:_,colorPickerViewConfig:!!b&&(h.colorPicker||{})}),this.colorSelectorView.bind("selectedColor").to(u,"value"),v.buttonView.set({label:this.dropdownLabel,icon:this.icon,tooltip:!0}),v.extendTemplate({attributes:{class:"ck-color-ui-dropdown"}}),v.bind("isEnabled").to(u),this.colorSelectorView.on("execute",(E,D)=>{v.isOpen&&r.execute(this.commandName,{value:D.value,batch:this._undoStepBatch}),"colorPicker"!==D.source&&r.editing.view.focus(),"colorPickerSaveButton"===D.source&&(v.isOpen=!1)}),this.colorSelectorView.on("colorPicker:show",()=>{this._undoStepBatch=r.model.createBatch()}),this.colorSelectorView.on("colorPicker:cancel",()=>{this._undoStepBatch.operations.length&&(v.isOpen=!1,r.execute("undo",this._undoStepBatch)),r.editing.view.focus()}),v.on("change:isOpen",(E,D,x)=>{A||(A=!0,v.colorSelectorView.appendUI()),x&&(0!==_&&this.colorSelectorView.updateDocumentColors(r.model,this.componentName),this.colorSelectorView.updateSelectedColors(),this.colorSelectorView.showColorGridsFragment())}),dh(v,()=>v.colorSelectorView.colorGridsFragmentView.staticColorsGrid.items.find(E=>E.isOn)),v})}}class BI extends Gw{constructor(r){super(r,{commandName:Ho,componentName:Ho,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.4 10.3 10 4.5l-2.4 5.8h4.8zm.5 1.2H7.1L5.7 15H4.2l5-12h1.6l5 12h-1.5L13 11.5zm3.1 7H4a1 1 0 0 1 0-2h12a1 1 0 0 1 0 2z"/></svg>',dropdownLabel:(0,r.locale.t)("Font Color")})}static get pluginName(){return"FontColorUI"}}class zI extends Rh{constructor(r){super(r,As)}}class jI extends ne{static get pluginName(){return"FontBackgroundColorEditing"}constructor(r){super(r),r.config.define(As,{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5}),r.data.addStyleProcessorRules(yy),r.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{"background-color":/[\s\S]+/}},model:{key:As,value:jw("background-color")}}),r.conversion.for("downcast").attributeToElement({model:As,view:NI("background-color")}),r.commands.add(As,new zI(r)),r.model.schema.extend("$text",{allowAttributes:As}),r.model.schema.setAttributeProperties(As,{isFormatting:!0,copyOnEnter:!0})}}class UI extends Gw{constructor(r){super(r,{commandName:As,componentName:As,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M4 2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2zm8.38 9.262H7.62L10 5.506l2.38 5.756zm.532 1.285L14.34 16h1.426L10.804 4H9.196L4.234 16H5.66l1.428-3.453h5.824z"/></svg>',dropdownLabel:(0,r.locale.t)("Font Background Color")})}static get pluginName(){return"FontBackgroundColorUI"}}class HI extends(Pt()){constructor(){super();const r=new window.FileReader;this._reader=r,this._data=void 0,this.set("loaded",0),r.onprogress=o=>{this.loaded=o.loaded}}get error(){return this._reader.error}get data(){return this._data}read(r){const o=this._reader;return this.total=r.size,new Promise((a,u)=>{o.onload=()=>{const h=o.result;this._data=h,a(h)},o.onerror=()=>{u("error")},o.onabort=()=>{u("aborted")},this._reader.readAsDataURL(r)})}abort(){this._reader.abort()}}class _o extends ne{constructor(){super(...arguments),this.loaders=new ii,this._loadersMap=new Map,this._pendingAction=null}static get pluginName(){return"FileRepository"}static get requires(){return[Jp]}init(){this.loaders.on("change",()=>this._updatePendingAction()),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(r,o)=>o?r/o*100:0)}getLoader(r){return this._loadersMap.get(r)||null}createLoader(r){if(!this.createUploadAdapter)return ke("filerepository-no-upload-adapter"),null;const o=new $w(Promise.resolve(r),this.createUploadAdapter);return this.loaders.add(o),this._loadersMap.set(r,o),r instanceof Promise&&o.file.then(a=>{this._loadersMap.set(a,o)}).catch(()=>{}),o.on("change:uploaded",()=>{let a=0;for(const u of this.loaders)a+=u.uploaded;this.uploaded=a}),o.on("change:uploadTotal",()=>{let a=0;for(const u of this.loaders)u.uploadTotal&&(a+=u.uploadTotal);this.uploadTotal=a}),o}destroyLoader(r){const o=r instanceof $w?r:this.getLoader(r);o._destroy(),this.loaders.remove(o),this._loadersMap.forEach((a,u)=>{a===o&&this._loadersMap.delete(u)})}_updatePendingAction(){const r=this.editor.plugins.get(Jp);if(this.loaders.length){if(!this._pendingAction){const o=this.editor.t,a=u=>`${o("Upload in progress")} ${parseInt(u)}%.`;this._pendingAction=r.add(a(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",a)}}else r.remove(this._pendingAction),this._pendingAction=null}}class $w extends(Pt()){constructor(r,o){super(),this.id=ce(),this._filePromiseWrapper=this._createFilePromiseWrapper(r),this._adapter=o(this),this._reader=new HI,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(a,u)=>u?a/u*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(r=>this._filePromiseWrapper?r:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if("idle"!=this.status)throw new V("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(r=>this._reader.read(r)).then(r=>{if("reading"!==this.status)throw this.status;return this.status="idle",r}).catch(r=>{throw"aborted"===r?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:r)})}upload(){if("idle"!=this.status)throw new V("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(r=>(this.uploadResponse=r,this.status="idle",r)).catch(r=>{throw"aborted"===this.status?"aborted":(this.status="error",r)})}abort(){const r=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?"reading"==r?this._reader.abort():"uploading"==r&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(r){const o={};return o.promise=new Promise((a,u)=>{o.rejecter=u,o.isFulfilled=!1,r.then(h=>{o.isFulfilled=!0,a(h)}).catch(h=>{o.isFulfilled=!0,u(h)})}),o}}class GI extends Be{constructor(r){super(r),this.buttonView=new ht(r),this._fileInputView=new $I(r),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[this.buttonView,this._fileInputView]}),this.buttonView.on("execute",()=>{this._fileInputView.open()})}focus(){this.buttonView.focus()}}class $I extends Be{constructor(r){super(r),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const o=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:o.to("acceptedType"),multiple:o.to("allowMultipleFiles")},on:{change:o.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}const qw="ckCsrfToken";class BN{constructor(r,o,a){this.loader=r,this.url=o,this.t=a}upload(){return this.loader.file.then(r=>new Promise((o,a)=>{this._initRequest(),this._initListeners(o,a,r),this._sendRequest(r)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const r=this.xhr=new XMLHttpRequest;r.open("POST",this.url,!0),r.responseType="json"}_initListeners(r,o,a){const u=this.xhr,h=this.loader,f=(0,this.t)("Cannot upload file:")+` ${a.name}.`;u.addEventListener("error",()=>o(f)),u.addEventListener("abort",()=>o()),u.addEventListener("load",()=>{const g=u.response;if(!g||!g.uploaded)return o(g&&g.error&&g.error.message?g.error.message:f);r({default:g.url})}),u.upload&&u.upload.addEventListener("progress",g=>{g.lengthComputable&&(h.uploadTotal=g.total,h.uploaded=g.loaded)})}_sendRequest(r){const o=new FormData;o.append("upload",r),o.append("ckCsrfToken",function FN(){let l=function(a){a=a.toLowerCase();const u=document.cookie.split(";");for(const h of u){const f=h.split("=");if(decodeURIComponent(f[0].trim().toLowerCase())===a)return decodeURIComponent(f[1])}return null}(qw);var o;return l&&40==l.length||(l=function(a){let u="";const h=new Uint8Array(40);window.crypto.getRandomValues(h);for(let f=0;f<h.length;f++){const g="abcdefghijklmnopqrstuvwxyz0123456789".charAt(h[f]%36);u+=Math.random()>.5?g.toUpperCase():g}return u}(),o=l,document.cookie=encodeURIComponent(qw)+"="+encodeURIComponent(o)+";path=/"),l}()),this.xhr.send(o)}}function Ji(l,r,o,a){let u,h=null;"function"==typeof a?u=a:(h=l.commands.get(a),u=()=>{l.execute(a)}),l.model.document.on("change:data",(f,g)=>{if(h&&!h.isEnabled||!r.isEnabled)return;const _=Vn(l.model.document.selection.getRanges());if(!_.isCollapsed||g.isUndo||!g.isLocal)return;const b=Array.from(l.model.document.differ.getChanges()),w=b[0];if(1!=b.length||"insert"!==w.type||"$text"!=w.name||1!=w.length)return;const v=w.position.parent;if(v.is("element","codeBlock")||v.is("element","listItem")&&"function"!=typeof a&&!["numberedList","bulletedList","todoList"].includes(a)||h&&!0===h.value)return;const A=v.getChild(0),E=l.model.createRangeOn(A);if(!E.containsRange(_)&&!_.end.isEqual(E.end))return;const D=o.exec(A.data.substr(0,_.end.offset));D&&l.model.enqueueChange(x=>{const P=x.createPositionAt(v,0),N=x.createPositionAt(v,D[0].length),H=new Nr(P,N);if(!1!==u({match:D})){x.remove(H);const J=l.model.document.selection.getFirstRange(),ae=x.createRangeIn(v);!v.isEmpty||ae.isEqual(J)||ae.containsRange(J,!0)||x.remove(v)}H.detach(),l.model.enqueueChange(()=>{l.plugins.get("Delete").requestUndoOnBackspace()})})})}function Nh(l,r,o,a){let u,h;o instanceof RegExp?u=o:h=o,h=h||(f=>{let g;const _=[],b=[];for(;null!==(g=u.exec(f))&&!(g&&g.length<4);){let{index:w,1:v,2:A,3:E}=g;w+=g[0].length-(v+A+E).length;const P=[w+v.length+A.length,w+v.length+A.length+E.length];_.push([w,w+v.length]),_.push(P),b.push([w+v.length,w+v.length+A.length])}return{remove:_,format:b}}),l.model.document.on("change:data",(f,g)=>{if(g.isUndo||!g.isLocal||!r.isEnabled)return;const _=l.model,b=_.document.selection;if(!b.isCollapsed)return;const w=Array.from(_.document.differ.getChanges()),v=w[0];if(1!=w.length||"insert"!==v.type||"$text"!=v.name||1!=v.length)return;const A=b.focus,E=A.parent,{text:D,range:x}=function(J,ae){let Pe=J.start;return{text:Array.from(J.getItems()).reduce((at,Xt)=>!Xt.is("$text")&&!Xt.is("$textProxy")||Xt.getAttribute("code")?(Pe=ae.createPositionAfter(Xt),""):at+Xt.data,""),range:ae.createRange(Pe,J.end)}}(_.createRange(_.createPositionAt(E,0),A),_),P=h(D),N=Wr(x.start,P.format,_),H=Wr(x.start,P.remove,_);N.length&&H.length&&_.enqueueChange(J=>{if(!1!==a(J,N)){for(const ae of H.reverse())J.remove(ae);_.enqueueChange(()=>{l.plugins.get("Delete").requestUndoOnBackspace()})}})})}function Wr(l,r,o){return r.filter(a=>void 0!==a[0]&&void 0!==a[1]).map(a=>o.createRange(l.getShiftedBy(a[0]),l.getShiftedBy(a[1])))}function Ww(l,r){return(o,a)=>{if(!l.commands.get(r).isEnabled)return!1;const u=l.model.schema.getValidRanges(a,r);for(const h of u)o.setAttribute(r,!0,h);o.removeSelectionAttribute(r)}}class Oh extends st{constructor(r,o){super(r),this.attributeKey=o}refresh(){const r=this.editor.model,o=r.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=r.schema.checkAttributeInSelection(o.selection,this.attributeKey)}execute(r={}){const o=this.editor.model,a=o.document.selection,u=void 0===r.forceValue?!this.value:r.forceValue;o.change(h=>{if(a.isCollapsed)u?h.setSelectionAttribute(this.attributeKey,!0):h.removeSelectionAttribute(this.attributeKey);else{const f=o.schema.getValidRanges(a.getRanges(),this.attributeKey);for(const g of f)u?h.setAttribute(this.attributeKey,u,g):h.removeAttribute(this.attributeKey,g)}})}_getValueFromFirstAllowedNode(){const r=this.editor.model,o=r.schema,a=r.document.selection;if(a.isCollapsed)return a.hasAttribute(this.attributeKey);for(const u of a.getRanges())for(const h of u.getItems())if(o.checkAttribute(h,this.attributeKey))return h.hasAttribute(this.attributeKey);return!1}}const Fc="bold";class T7 extends ne{static get pluginName(){return"BoldEditing"}init(){const r=this.editor;r.model.schema.extend("$text",{allowAttributes:Fc}),r.model.schema.setAttributeProperties(Fc,{isFormatting:!0,copyOnEnter:!0}),r.conversion.attributeToElement({model:Fc,view:"strong",upcastAlso:["b",o=>{const a=o.getStyle("font-weight");return a&&("bold"==a||Number(a)>=600)?{name:!0,styles:["font-weight"]}:null}]}),r.commands.add(Fc,new Oh(r,Fc)),r.keystrokes.set("CTRL+B",Fc)}}const De="bold";class zN extends ne{static get pluginName(){return"BoldUI"}init(){const r=this.editor,o=r.t;r.ui.componentFactory.add(De,a=>{const u=r.commands.get(De),h=new ht(a);return h.set({label:o("Bold"),icon:It.bold,keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),h.bind("isOn","isEnabled").to(u,"value","isEnabled"),this.listenTo(h,"execute",()=>{r.execute(De),r.editing.view.focus()}),h})}}var qI=ge(8603);Ee()(qI.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const Go="italic";class UN extends ne{static get pluginName(){return"ItalicEditing"}init(){const r=this.editor;r.model.schema.extend("$text",{allowAttributes:Go}),r.model.schema.setAttributeProperties(Go,{isFormatting:!0,copyOnEnter:!0}),r.conversion.attributeToElement({model:Go,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),r.commands.add(Go,new Oh(r,Go)),r.keystrokes.set("CTRL+I",Go)}}const su="italic";class Pg extends ne{static get pluginName(){return"ItalicUI"}init(){const r=this.editor,o=r.t;r.ui.componentFactory.add(su,a=>{const u=r.commands.get(su),h=new ht(a);return h.set({label:o("Italic"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),h.bind("isOn","isEnabled").to(u,"value","isEnabled"),this.listenTo(h,"execute",()=>{r.execute(su),r.editing.view.focus()}),h})}}const an="strikethrough";class x7 extends ne{static get pluginName(){return"StrikethroughEditing"}init(){const r=this.editor;r.model.schema.extend("$text",{allowAttributes:an}),r.model.schema.setAttributeProperties(an,{isFormatting:!0,copyOnEnter:!0}),r.conversion.attributeToElement({model:an,view:"s",upcastAlso:["del","strike",{styles:{"text-decoration":"line-through"}}]}),r.commands.add(an,new Oh(r,an)),r.keystrokes.set("CTRL+SHIFT+X","strikethrough")}}const Rg="strikethrough";class WI extends ne{static get pluginName(){return"StrikethroughUI"}init(){const r=this.editor,o=r.t;r.ui.componentFactory.add(Rg,a=>{const u=r.commands.get(Rg),h=new ht(a);return h.set({label:o("Strikethrough"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 16.4c-.8-.4-1.5-.9-2.2-1.5a.6.6 0 0 1-.2-.5l.3-.6h1c1 1.2 2.1 1.7 3.7 1.7 1 0 1.8-.3 2.3-.6.6-.4.6-1.2.6-1.3.2-1.2-.9-2.1-.9-2.1h2.1c.3.7.4 1.2.4 1.7v.8l-.6 1.2c-.6.8-1.1 1-1.6 1.2a6 6 0 0 1-2.4.6c-1 0-1.8-.3-2.5-.6zM6.8 9 6 8.3c-.4-.5-.5-.8-.5-1.6 0-.7.1-1.3.5-1.8.4-.6 1-1 1.6-1.3a6.3 6.3 0 0 1 4.7 0 4 4 0 0 1 1.7 1l.3.7c0 .1.2.4-.2.7-.4.2-.9.1-1 0a3 3 0 0 0-1.2-1c-.4-.2-1-.3-2-.4-.7 0-1.4.2-2 .6-.8.6-1 .8-1 1.5 0 .8.5 1 1.2 1.5.6.4 1.1.7 1.9 1H6.8z"/><path d="M3 10.5V9h14v1.5z"/></svg>',keystroke:"CTRL+SHIFT+X",tooltip:!0,isToggleable:!0}),h.bind("isOn","isEnabled").to(u,"value","isEnabled"),this.listenTo(h,"execute",()=>{r.execute(Rg),r.editing.view.focus()}),h})}}const Lh="underline";class KI extends ne{static get pluginName(){return"UnderlineEditing"}init(){const r=this.editor;r.model.schema.extend("$text",{allowAttributes:Lh}),r.model.schema.setAttributeProperties(Lh,{isFormatting:!0,copyOnEnter:!0}),r.conversion.attributeToElement({model:Lh,view:"u",upcastAlso:{styles:{"text-decoration":"underline"}}}),r.commands.add(Lh,new Oh(r,Lh)),r.keystrokes.set("CTRL+U","underline")}}const Ng="underline";class QI extends ne{static get pluginName(){return"UnderlineUI"}init(){const r=this.editor,o=r.t;r.ui.componentFactory.add(Ng,a=>{const u=r.commands.get(Ng),h=new ht(a);return h.set({label:o("Underline"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 18v-1.5h14V18zm2.2-8V3.6c0-.4.4-.6.8-.6.3 0 .7.2.7.6v6.2c0 2 1.3 2.8 3.2 2.8 1.9 0 3.4-.9 3.4-2.9V3.6c0-.3.4-.5.8-.5.3 0 .7.2.7.5V10c0 2.7-2.2 4-4.9 4-2.6 0-4.7-1.2-4.7-4z"/></svg>',keystroke:"CTRL+U",tooltip:!0,isToggleable:!0}),h.bind("isOn","isEnabled").to(u,"value","isEnabled"),this.listenTo(h,"execute",()=>{r.execute(Ng),r.editing.view.focus()}),h})}}class YI extends st{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(r={}){const o=this.editor.model,a=o.schema,h=Array.from(o.document.selection.getSelectedBlocks()),f=void 0===r.forceValue?!this.value:r.forceValue;o.change(g=>{if(f){const _=h.filter(b=>Og(b)||JI(a,b));this._applyQuote(g,_)}else this._removeQuote(g,h.filter(Og))})}_getValue(){const r=Vn(this.editor.model.document.selection.getSelectedBlocks());return!(!r||!Og(r))}_checkEnabled(){if(this.value)return!0;const o=this.editor.model.schema,a=Vn(this.editor.model.document.selection.getSelectedBlocks());return!!a&&JI(o,a)}_removeQuote(r,o){ZI(r,o).reverse().forEach(a=>{if(a.start.isAtStart&&a.end.isAtEnd)return void r.unwrap(a.start.parent);if(a.start.isAtStart){const h=r.createPositionBefore(a.start.parent);return void r.move(a,h)}a.end.isAtEnd||r.split(a.end);const u=r.createPositionAfter(a.end.parent);r.move(a,u)})}_applyQuote(r,o){const a=[];ZI(r,o).reverse().forEach(u=>{let h=Og(u.start);h||(h=r.createElement("blockQuote"),r.wrap(u,h)),a.push(h)}),a.reverse().reduce((u,h)=>u.nextSibling==h?(r.merge(r.createPositionAfter(u)),u):h)}}function Og(l){return"blockQuote"==l.parent.name?l.parent:null}function ZI(l,r){let o,a=0;const u=[];for(;a<r.length;){const h=r[a],f=r[a+1];o||(o=l.createPositionBefore(h)),f&&h.nextSibling==f||(u.push(l.createRange(o,l.createPositionAfter(h))),o=null),a++}return u}function JI(l,r){const o=l.checkChild(r.parent,"blockQuote"),a=l.checkChild(["$root","blockQuote"],r);return o&&a}class Vh extends ne{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[Ih,Bo]}init(){const r=this.editor,o=r.model.schema;r.commands.add("blockQuote",new YI(r)),o.register("blockQuote",{inheritAllFrom:"$container"}),r.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),r.model.document.registerPostFixer(f=>{const g=r.model.document.differ.getChanges();for(const _ of g)if("insert"==_.type){const b=_.position.nodeAfter;if(!b)continue;if(b.is("element","blockQuote")&&b.isEmpty)return f.remove(b),!0;if(b.is("element","blockQuote")&&!o.checkChild(_.position,b))return f.unwrap(b),!0;if(b.is("element")){const w=f.createRangeIn(b);for(const v of w.getItems())if(v.is("element","blockQuote")&&!o.checkChild(f.createPositionBefore(v),v))return f.unwrap(v),!0}}else if("remove"==_.type){const b=_.position.parent;if(b.is("element","blockQuote")&&b.isEmpty)return f.remove(b),!0}return!1});const a=this.editor.editing.view.document,u=r.model.document.selection,h=r.commands.get("blockQuote");this.listenTo(a,"enter",(f,g)=>{!u.isCollapsed||!h.value||u.getLastPosition().parent.isEmpty&&(r.execute("blockQuote"),r.editing.view.scrollToTheSelection(),g.preventDefault(),f.stop())},{context:"blockquote"}),this.listenTo(a,"delete",(f,g)=>{if("backward"!=g.direction||!u.isCollapsed||!h.value)return;const _=u.getLastPosition().parent;_.isEmpty&&!_.previousSibling&&(r.execute("blockQuote"),r.editing.view.scrollToTheSelection(),g.preventDefault(),f.stop())},{context:"blockquote"})}}var XI=ge(3062);Ee()(XI.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class GN extends ne{static get pluginName(){return"BlockQuoteUI"}init(){const r=this.editor,o=r.t;r.ui.componentFactory.add("blockQuote",a=>{const u=r.commands.get("blockQuote"),h=new ht(a);return h.set({label:o("Block quote"),icon:It.quote,tooltip:!0,isToggleable:!0}),h.bind("isOn","isEnabled").to(u,"value","isEnabled"),this.listenTo(h,"execute",()=>{r.execute("blockQuote"),r.editing.view.focus()}),h})}}class Lg extends ne{static get pluginName(){return"CKBoxUI"}afterInit(){const r=this.editor,o=r.commands.get("ckbox");if(!o)return;const a=r.t;r.ui.componentFactory.add("ckbox",u=>{const h=new ht(u);return h.set({label:a("Open file manager"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),h.bind("isOn","isEnabled").to(o,"value","isEnabled"),h.on("execute",()=>{r.execute("ckbox")}),h})}}function Kw(l){const r=[];let o=0;for(const u in l){const h=parseInt(u,10);isNaN(h)||(h>o&&(o=h),r.push(`${l[u]} ${u}w`))}const a=[{srcset:r.join(","),sizes:`(max-width: ${o}px) 100vw, ${o}px`,type:"image/webp"}];return{imageFallbackUrl:l.default,imageSources:a}}class eD extends st{constructor(r){super(r),this._chosenAssets=new Set,this._wrapper=null,this._initListeners()}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){this.fire("ckbox:open")}_getValue(){return null!==this._wrapper}_checkEnabled(){const r=this.editor.commands.get("insertImage"),o=this.editor.commands.get("link");return!(!r.isEnabled&&!o.isEnabled)}_prepareOptions(){const r=this.editor.config.get("ckbox");return{theme:r.theme,language:r.language,tokenUrl:r.tokenUrl,serviceOrigin:r.serviceOrigin,dialog:{onClose:()=>this.fire("ckbox:close")},assets:{onChoose:o=>this.fire("ckbox:choose",o)}}}_initListeners(){const r=this.editor,o=r.model,a=!r.config.get("ckbox.ignoreDataId");this.on("ckbox",()=>{this.refresh()},{priority:"low"}),this.on("ckbox:open",()=>{this.isEnabled&&!this.value&&(this._wrapper=j_(document,"div",{class:"ck ckbox-wrapper"}),document.body.appendChild(this._wrapper),window.CKBox.mount(this._wrapper,this._prepareOptions()))}),this.on("ckbox:close",()=>{this.value&&(this._wrapper.remove(),this._wrapper=null)}),this.on("ckbox:choose",(u,h)=>{if(!this.isEnabled)return;const f=r.commands.get("insertImage"),g=r.commands.get("link"),_=function({assets:b,isImageAllowed:w,isLinkAllowed:v}){return b.map(A=>function(E){const D=E.data.metadata;return!!D&&D.width&&D.height}(A)?{id:A.data.id,type:"image",attributes:tD(A)}:{id:A.data.id,type:"link",attributes:$N(A)}).filter(A=>"image"===A.type?w:v)}({assets:h,isImageAllowed:f.isEnabled,isLinkAllowed:g.isEnabled});0!==_.length&&o.change(b=>{for(const w of _)this._insertAsset(w,w===_[_.length-1],b),a&&(setTimeout(()=>this._chosenAssets.delete(w),1e3),this._chosenAssets.add(w))})}),this.listenTo(r,"destroy",()=>{this.fire("ckbox:close"),this._chosenAssets.clear()})}_insertAsset(r,o,a){const u=this.editor.model.document.selection;a.removeSelectionAttribute("linkHref"),"image"===r.type?this._insertImage(r):this._insertLink(r,a),o||a.setSelection(u.getLastPosition())}_insertImage(r){const o=this.editor,{imageFallbackUrl:a,imageSources:u,imageTextAlternative:h}=r.attributes;o.execute("insertImage",{source:{src:a,sources:u,alt:h}})}_insertLink(r,o){const a=this.editor,u=a.model,h=u.document.selection,{linkName:f,linkHref:g}=r.attributes;if(h.isCollapsed){const _=Us(h.getAttributes()),b=o.createText(f,_),w=u.insertContent(b);o.setSelection(w)}a.execute("link",g)}}function tD(l){const{imageFallbackUrl:r,imageSources:o}=Kw(l.data.imageUrls);return{imageFallbackUrl:r,imageSources:o,imageTextAlternative:l.data.metadata.description||""}}function $N(l){return{linkName:l.data.name,linkHref:Fh(l)}}function Fh(l){const r=new URL(l.data.url);return r.searchParams.set("download","true"),r.toString()}var $o=(l,r,o)=>new Promise((a,u)=>{var h=_=>{try{g(o.next(_))}catch(b){u(b)}},f=_=>{try{g(o.throw(_))}catch(b){u(b)}},g=_=>_.done?a(_.value):Promise.resolve(_.value).then(h,f);g((o=o.apply(l,r)).next())});class qN extends ne{static get requires(){return["ImageUploadEditing","ImageUploadProgress",_o,Qw]}static get pluginName(){return"CKBoxUploadAdapter"}afterInit(){return $o(this,null,function*(){const r=this.editor,o=!!r.config.get("ckbox"),a=!!window.CKBox;if(!o&&!a)return;const u=r.plugins.get(_o),h=r.plugins.get(Qw);u.createUploadAdapter=_=>new WN(_,h.getToken(),r);const f=!r.config.get("ckbox.ignoreDataId"),g=r.plugins.get("ImageUploadEditing");f&&g.on("uploadComplete",(_,{imageElement:b,data:w})=>{r.model.change(v=>{v.setAttribute("ckboxImageId",w.ckboxImageId,b)})})})}}class WN{constructor(r,o,a){this.loader=r,this.token=o,this.editor=a,this.controller=new AbortController,this.serviceOrigin=a.config.get("ckbox.serviceOrigin")}getWorkspaceId(){const r=(0,this.editor.t)("Cannot access default workspace."),o=this.editor.config.get("ckbox.defaultUploadWorkspaceId"),a=function(u,h){const[,f]=u.value.split("."),g=JSON.parse(atob(f)),_=g.auth&&g.auth.ckbox&&g.auth.ckbox.workspaces||[g.aud];return h?"superadmin"==(g.auth&&g.auth.ckbox&&g.auth.ckbox.role)||_.includes(h)?h:null:_[0]}(this.token,o);if(null==a)throw ut("ckbox-access-default-workspace-error"),r;return a}getAvailableCategories(r=0){return $o(this,null,function*(){const o=new URL("categories",this.serviceOrigin);return o.searchParams.set("limit",50..toString()),o.searchParams.set("offset",r.toString()),o.searchParams.set("workspaceId",this.getWorkspaceId()),this._sendHttpRequest({url:o}).then(a=>$o(this,null,function*(){if(a.totalCount-(r+50)>0){const u=yield this.getAvailableCategories(r+50);return[...a.items,...u]}return a.items})).catch(()=>{this.controller.signal.throwIfAborted(),ut("ckbox-fetch-category-http-error")})})}getCategoryIdForFile(r){return $o(this,null,function*(){const o=function(f){const g=new RegExp("\\.(?<ext>[^.]+)$");return f.match(g).groups.ext.toLowerCase()}(r.name),a=yield this.getAvailableCategories();if(!a)return null;const u=this.editor.config.get("ckbox.defaultUploadCategories");if(u){const f=Object.keys(u).find(g=>u[g].find(_=>_.toLowerCase()==o));if(f){const g=a.find(_=>_.id===f||_.name===f);return g?g.id:null}}const h=a.find(f=>f.extensions.find(g=>g.toLowerCase()==o));return h?h.id:null})}upload(){return $o(this,null,function*(){const r=this.editor.t,o=r("Cannot determine a category for the uploaded file."),a=yield this.loader.file,u=yield this.getCategoryIdForFile(a);if(!u)return Promise.reject(o);const h=new URL("assets",this.serviceOrigin),f=new FormData;return h.searchParams.set("workspaceId",this.getWorkspaceId()),f.append("categoryId",u),f.append("file",a),this._sendHttpRequest({method:"POST",url:h,data:f,onUploadProgress:_=>{_.lengthComputable&&(this.loader.uploadTotal=_.total,this.loader.uploaded=_.loaded)}}).then(_=>$o(this,null,function*(){const b=Kw(_.imageUrls);return{ckboxImageId:_.id,default:b.imageFallbackUrl,sources:b.imageSources}})).catch(()=>{const _=r("Cannot upload file:")+` ${a.name}.`;return Promise.reject(_)})})}abort(){this.controller.abort()}_sendHttpRequest({url:r,method:o="GET",data:a,onUploadProgress:u}){const h=this.controller.signal,f=new XMLHttpRequest;f.open(o,r.toString(),!0),f.setRequestHeader("Authorization",this.token.value),f.setRequestHeader("CKBox-Version","CKEditor 5"),f.responseType="json";const g=()=>{f.abort()};return new Promise((_,b)=>{h.addEventListener("abort",g),f.addEventListener("loadstart",()=>{h.addEventListener("abort",g)}),f.addEventListener("loadend",()=>{h.removeEventListener("abort",g)}),f.addEventListener("error",()=>{b()}),f.addEventListener("abort",()=>{b()}),f.addEventListener("load",()=>$o(this,null,function*(){const w=f.response;return!w||w.statusCode>=400?b(w&&w.message):_(w)})),u&&f.upload.addEventListener("progress",w=>{u(w)}),f.send(a)})}}class Qw extends ne{static get pluginName(){return"CKBoxEditing"}static get requires(){return["CloudServices","LinkEditing","PictureEditing",qN]}init(){return r=this,a=function*(){const u=this.editor,h=!!u.config.get("ckbox"),f=!!window.CKBox;if(!h&&!f)return;this._initConfig();const g=u.plugins.get("CloudServicesCore"),_=u.config.get("ckbox.tokenUrl");if(_===u.config.get("cloudServices.tokenUrl")){const b=u.plugins.get("CloudServices");this._token=b.token}else this._token=yield g.createToken(_).init();u.config.get("ckbox.ignoreDataId")||(this._initSchema(),this._initConversion(),this._initFixers()),f&&u.commands.add("ckbox",new eD(u))},new Promise((u,h)=>{var f=b=>{try{_(a.next(b))}catch(w){h(w)}},g=b=>{try{_(a.throw(b))}catch(w){h(w)}},_=b=>b.done?u(b.value):Promise.resolve(b.value).then(f,g);_((a=a.apply(r,null)).next())});var r,a}getToken(){return this._token}_initConfig(){const r=this.editor;if(r.config.define("ckbox",{serviceOrigin:"https://api.ckbox.io",defaultUploadCategories:null,ignoreDataId:!1,language:r.locale.uiLanguage,theme:"default",tokenUrl:r.config.get("cloudServices.tokenUrl")}),!r.config.get("ckbox.tokenUrl"))throw new V("ckbox-plugin-missing-token-url",this);r.plugins.has("ImageBlockEditing")||r.plugins.has("ImageInlineEditing")||ut("ckbox-plugin-image-feature-missing",r)}_initSchema(){const r=this.editor.model.schema;r.extend("$text",{allowAttributes:"ckboxLinkId"}),r.isRegistered("imageBlock")&&r.extend("imageBlock",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),r.isRegistered("imageInline")&&r.extend("imageInline",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),r.addAttributeCheck((o,a)=>{if(!o.last.getAttribute("linkHref")&&"ckboxLinkId"===a)return!1})}_initConversion(){const r=this.editor;r.conversion.for("downcast").add(o=>{o.on("attribute:ckboxLinkId:imageBlock",(a,u,h)=>{const{writer:f,mapper:g,consumable:_}=h;if(!_.consume(u.item,a.name))return;const b=[...g.toViewElement(u.item).getChildren()].find(w=>"a"===w.name);b&&(u.item.hasAttribute("ckboxLinkId")?f.setAttribute("data-ckbox-resource-id",u.item.getAttribute("ckboxLinkId"),b):f.removeAttribute("data-ckbox-resource-id",b))},{priority:"low"}),o.on("attribute:ckboxLinkId",(a,u,h)=>{const{writer:f,mapper:g,consumable:_}=h;if(_.consume(u.item,a.name)){if(u.attributeOldValue){const b=Yw(f,u.attributeOldValue);f.unwrap(g.toViewRange(u.range),b)}if(u.attributeNewValue){const b=Yw(f,u.attributeNewValue);u.item.is("selection")?f.wrap(f.document.selection.getFirstRange(),b):f.wrap(g.toViewRange(u.range),b)}}},{priority:"low"})}),r.conversion.for("upcast").add(o=>{o.on("element:a",(a,u,h)=>{const{writer:f,consumable:g}=h;if(!u.viewItem.getAttribute("href")||!g.consume(u.viewItem,{attributes:["data-ckbox-resource-id"]}))return;const _=u.viewItem.getAttribute("data-ckbox-resource-id");if(_)if(u.modelRange)for(let b of u.modelRange.getItems())b.is("$textProxy")&&(b=b.textNode),rD(b)&&f.setAttribute("ckboxLinkId",_,b);else f.setAttribute("ckboxLinkId",_,u.modelCursor.nodeBefore||u.modelCursor.parent)},{priority:"low"})}),r.conversion.for("downcast").attributeToAttribute({model:"ckboxImageId",view:"data-ckbox-resource-id"}),r.conversion.for("upcast").elementToAttribute({model:{key:"ckboxImageId",value:o=>o.getAttribute("data-ckbox-resource-id")},view:{attributes:{"data-ckbox-resource-id":/[\s\S]+/}}})}_initFixers(){const r=this.editor,o=r.model,a=o.document.selection;var u;o.document.registerPostFixer((u=r,h=>{let f=!1;const g=u.model,_=u.commands.get("ckbox");if(!_)return f;for(const b of g.document.differ.getChanges()){if("insert"!==b.type&&"attribute"!==b.type)continue;const w="insert"===b.type?new X(b.position,b.position.getShiftedBy(b.length)):b.range,v="attribute"===b.type&&"linkHref"===b.attributeKey&&null===b.attributeNewValue;for(const A of w.getItems()){if(v&&A.hasAttribute("ckboxLinkId")){h.removeAttribute("ckboxLinkId",A),f=!0;continue}const E=nD(A,_._chosenAssets);for(const D of E){const x="image"===D.type?"ckboxImageId":"ckboxLinkId";D.id!==A.getAttribute(x)&&(h.setAttribute(x,D.id,A),f=!0)}}}return f})),o.document.registerPostFixer(function(u){return h=>!(u.hasAttribute("linkHref")||!u.hasAttribute("ckboxLinkId")||(h.removeSelectionAttribute("ckboxLinkId"),0))}(a))}}function nD(l,r){const o=l.is("element","imageInline")||l.is("element","imageBlock"),a=l.hasAttribute("linkHref");return[...r].filter(u=>"image"===u.type&&o?u.attributes.imageFallbackUrl===l.getAttribute("src"):"link"===u.type&&a?u.attributes.linkHref===l.getAttribute("linkHref"):void 0)}function Yw(l,r){const o=l.createAttributeElement("a",{"data-ckbox-resource-id":r},{priority:5});return l.setCustomProperty("link",!0,o),o}function rD(l){return!!l.is("$text")||!(!l.is("element","imageInline")&&!l.is("element","imageBlock"))}class KN extends ne{static get pluginName(){return"CKFinderUI"}init(){const r=this.editor,a=r.t;r.ui.componentFactory.add("ckfinder",u=>{const h=r.commands.get("ckfinder"),f=new ht(u);return f.set({label:a("Insert image or file"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),f.bind("isEnabled").to(h),f.on("execute",()=>{r.execute("ckfinder"),r.editing.view.focus()}),f})}}class iD extends st{constructor(r){super(r),this.affectsData=!1,this.stopListening(this.editor.model.document,"change"),this.listenTo(this.editor.model.document,"change",()=>this.refresh(),{priority:"low"})}refresh(){const r=this.editor.commands.get("insertImage"),o=this.editor.commands.get("link");this.isEnabled=r.isEnabled||o.isEnabled}execute(){const r=this.editor,o=this.editor.config.get("ckfinder.openerMethod")||"modal";if("popup"!=o&&"modal"!=o)throw new V("ckfinder-unknown-openermethod",r);const a=this.editor.config.get("ckfinder.options")||{};a.chooseFiles=!0;const u=a.onInit;a.language||(a.language=r.locale.uiLanguage),a.onInit=h=>{u&&u(h),h.on("files:choose",f=>{const g=f.data.files.toArray(),_=g.filter(v=>!v.isImage()),b=g.filter(v=>v.isImage());for(const v of _)r.execute("link",v.getUrl());const w=[];for(const v of b){const A=v.getUrl();w.push(A||h.request("file:getProxyUrl",{file:v}))}w.length&&oD(r,w)}),h.on("file:choose:resizedImage",f=>{const g=f.data.resizedUrl;if(g)oD(r,[g]);else{const _=r.plugins.get("Notification"),b=r.locale.t;_.showWarning(b("Could not obtain resized image URL."),{title:b("Selecting resized image failed"),namespace:"ckfinder"})}})},window.CKFinder[o](a)}}function oD(l,r){if(l.commands.get("insertImage").isEnabled)l.execute("insertImage",{source:r});else{const o=l.plugins.get("Notification"),a=l.locale.t;o.showWarning(a("Could not insert image at the current position."),{title:a("Inserting image failed"),namespace:"ckfinder"})}}class QN extends ne{static get pluginName(){return"CKFinderEditing"}static get requires(){return[dw,"LinkEditing"]}init(){const r=this.editor;if(!r.plugins.has("ImageBlockEditing")&&!r.plugins.has("ImageInlineEditing"))throw new V("ckfinder-missing-image-plugin",r);r.commands.add("ckfinder",new iD(r))}}class S7 extends ne{static get pluginName(){return"CloudServicesUploadAdapter"}static get requires(){return["CloudServices",_o]}init(){const r=this.editor,o=r.plugins.get("CloudServices"),a=o.token,u=o.uploadUrl;if(!a)return;const h=r.plugins.get("CloudServicesCore");this._uploadGateway=h.createUploadGateway(a,u),r.plugins.get(_o).createUploadAdapter=f=>new M7(this._uploadGateway,f)}}class M7{constructor(r,o){this.uploadGateway=r,this.loader=o}upload(){return this.loader.file.then(r=>(this.fileUploader=this.uploadGateway.upload(r),this.fileUploader.on("progress",(o,a)=>{this.loader.uploadTotal=a.total,this.loader.uploaded=a.uploaded}),this.fileUploader.send()))}abort(){this.fileUploader.abort()}}class P7 extends st{constructor(r){super(r),this._isEnabledBasedOnSelection=!1}refresh(){const r=this.editor.model,o=Vn(r.document.selection.getSelectedBlocks());this.value=!!o&&o.is("element","paragraph"),this.isEnabled=!!o&&YN(o,r.schema)}execute(r={}){const o=this.editor.model,u=r.selection||o.document.selection;o.canEditAt(u)&&o.change(h=>{const f=u.getSelectedBlocks();for(const g of f)!g.is("element","paragraph")&&YN(g,o.schema)&&h.rename(g,"paragraph")})}}function YN(l,r){return r.checkChild(l.parent,"paragraph")&&!r.isObject(l)}class sD extends st{constructor(r){super(r),this._isEnabledBasedOnSelection=!1}execute(r){const o=this.editor.model,a=r.attributes;let u=r.position;o.canEditAt(u)&&o.change(h=>{if(u=this._findPositionToInsertParagraph(u,h),!u)return;const f=h.createElement("paragraph");a&&o.schema.setAllowedAttributes(f,a,h),o.insertContent(f,u),h.setSelection(f,"in")})}_findPositionToInsertParagraph(r,o){const a=this.editor.model;if(a.schema.checkChild(r,"paragraph"))return r;const u=a.schema.findAllowedParent(r,"paragraph");if(!u)return null;const h=r.parent,f=a.schema.checkChild(h,"$text");return h.isEmpty||f&&r.isAtEnd?a.createPositionAfter(h):!h.isEmpty&&f&&r.isAtStart?a.createPositionBefore(h):o.split(r,u).position}}const Bh=class extends ne{static get pluginName(){return"Paragraph"}init(){const l=this.editor,r=l.model;l.commands.add("paragraph",new P7(l)),l.commands.add("insertParagraph",new sD(l)),r.schema.register("paragraph",{inheritAllFrom:"$block"}),l.conversion.elementToElement({model:"paragraph",view:"p"}),l.conversion.for("upcast").elementToElement({model:(o,{writer:a})=>Bh.paragraphLikeElements.has(o.name)?o.isEmpty?null:a.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}};let Zw=Bh;Zw.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);class ZN extends st{constructor(r,o){super(r),this.modelElements=o}refresh(){const r=Vn(this.editor.model.document.selection.getSelectedBlocks());this.value=!!r&&this.modelElements.includes(r.name)&&r.name,this.isEnabled=!!r&&this.modelElements.some(o=>Jw(r,o,this.editor.model.schema))}execute(r){const o=this.editor.model,a=o.document,u=r.value;o.change(h=>{const f=Array.from(a.selection.getSelectedBlocks()).filter(g=>Jw(g,u,o.schema));for(const g of f)g.is("element",u)||h.rename(g,u)})}}function Jw(l,r,o){return o.checkChild(l.parent,r)&&!o.isObject(l)}const au="paragraph";class JN extends ne{static get pluginName(){return"HeadingEditing"}constructor(r){super(r),r.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[Zw]}init(){const r=this.editor,o=r.config.get("heading.options"),a=[];for(const u of o)"paragraph"!==u.model&&(r.model.schema.register(u.model,{inheritAllFrom:"$block"}),r.conversion.elementToElement(u),a.push(u.model));this._addDefaultH1Conversion(r),r.commands.add("heading",new ZN(r,a))}afterInit(){const r=this.editor,o=r.commands.get("enter"),a=r.config.get("heading.options");o&&this.listenTo(o,"afterExecute",(u,h)=>{const f=r.model.document.selection.getFirstPosition().parent;a.some(g=>f.is("element",g.model))&&!f.is("element",au)&&0===f.childCount&&h.writer.rename(f,au)})}_addDefaultH1Conversion(r){r.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:ye.low+1})}}var aD=ge(8733);Ee()(aD.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class eO extends ne{static get pluginName(){return"HeadingUI"}init(){const r=this.editor,o=r.t,a=function(f){const g=f.t,_={Paragraph:g("Paragraph"),"Heading 1":g("Heading 1"),"Heading 2":g("Heading 2"),"Heading 3":g("Heading 3"),"Heading 4":g("Heading 4"),"Heading 5":g("Heading 5"),"Heading 6":g("Heading 6")};return f.config.get("heading.options").map(b=>{const w=_[b.title];return w&&w!=b.title&&(b.title=w),b})}(r),u=o("Choose heading"),h=o("Heading");r.ui.componentFactory.add("heading",f=>{const g={},_=new ii,b=r.commands.get("heading"),w=r.commands.get("paragraph"),v=[b];for(const E of a){const D={type:"button",model:new yh({label:E.title,class:E.class,role:"menuitemradio",withText:!0})};"paragraph"===E.model?(D.model.bind("isOn").to(w,"value"),D.model.set("commandName","paragraph"),v.push(w)):(D.model.bind("isOn").to(b,"value",x=>x===E.model),D.model.set({commandName:"heading",commandValue:E.model})),_.add(D),g[E.model]=E.title}const A=Pi(f);return uh(A,_,{ariaLabel:h,role:"menu"}),A.buttonView.set({ariaLabel:h,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:h}),A.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),A.bind("isEnabled").toMany(v,"isEnabled",(...E)=>E.some(D=>D)),A.buttonView.bind("label").to(b,"value",w,"value",(E,D)=>{const x=E||D&&"paragraph";return"boolean"==typeof x?u:g[x]?g[x]:u}),this.listenTo(A,"execute",E=>{const{commandName:D,commandValue:x}=E.source;r.execute(D,x?{value:x}:void 0),r.editing.view.focus()}),A})}}function tO(l){return l.createContainerElement("figure",{class:"image"},[l.createEmptyElement("img"),l.createSlot("children")])}function cD(l,r){const o=l.plugins.get("ImageUtils"),a=l.plugins.has("ImageInlineEditing")&&l.plugins.has("ImageBlockEditing");return h=>o.isInlineImageView(h)?a&&("block"==h.getStyle("display")||h.findAncestor(o.isBlockImageView)?"imageBlock":"imageInline")!==r?null:function u(h){const f={name:!0};return h.hasAttribute("src")&&(f.attributes=["src"]),f}(h):null}function Vg(l,r){const o=Vn(r.getSelectedBlocks());return!o||l.isObject(o)||o.isEmpty&&"listItem"!=o.name?"imageBlock":"imageInline"}function Fg(l){return l&&l.endsWith("px")?parseInt(l):null}function Bg(l){const r=Fg(l.getStyle("width")),o=Fg(l.getStyle("height"));return!(!r||!o)}var zh=Object.defineProperty,lD=Object.getOwnPropertySymbols,uD=Object.prototype.hasOwnProperty,nO=Object.prototype.propertyIsEnumerable,Xw=(l,r,o)=>r in l?zh(l,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):l[r]=o,dD=(l,r)=>{for(var o in r||(r={}))uD.call(r,o)&&Xw(l,o,r[o]);if(lD)for(var o of lD(r))nO.call(r,o)&&Xw(l,o,r[o]);return l};const hD=/^(image|image-inline)$/;class Fi extends ne{constructor(){super(...arguments),this._domEmitter=new(hn())}static get pluginName(){return"ImageUtils"}isImage(r){return this.isInlineImage(r)||this.isBlockImage(r)}isInlineImageView(r){return!!r&&r.is("element","img")}isBlockImageView(r){return!!r&&r.is("element","figure")&&r.hasClass("image")}insertImage(r={},o=null,a=null,u={}){const h=this.editor,f=h.model,g=f.document.selection;a=zg(h,o||g,a),r=dD(dD({},Object.fromEntries(g.getAttributes())),r);for(const _ in r)f.schema.checkAttribute(a,_)||delete r[_];return f.change(_=>{const{setImageSizes:b=!0}=u,w=_.createElement(a,r);return f.insertObject(w,o,null,{setSelection:"on",findOptimalPosition:o||"imageInline"==a?void 0:"auto"}),w.parent?(b&&this.setImageNaturalSizeAttributes(w),w):null})}setImageNaturalSizeAttributes(r){const o=r.getAttribute("src");o&&(r.getAttribute("width")||r.getAttribute("height")||this.editor.model.change(a=>{const u=new ze.window.Image;this._domEmitter.listenTo(u,"load",()=>{r.getAttribute("width")||r.getAttribute("height")||this.editor.model.enqueueChange(a.batch,h=>{h.setAttribute("width",u.naturalWidth,r),h.setAttribute("height",u.naturalHeight,r)}),this._domEmitter.stopListening(u,"load")}),u.src=o}))}getClosestSelectedImageWidget(r){const o=r.getFirstPosition();if(!o)return null;const a=r.getSelectedElement();if(a&&this.isImageWidget(a))return a;let u=o.parent;for(;u;){if(u.is("element")&&this.isImageWidget(u))return u;u=u.parent}return null}getClosestSelectedImageElement(r){const o=r.getSelectedElement();return this.isImage(o)?o:r.getFirstPosition().findAncestor("imageBlock")}getImageWidgetFromImageView(r){return r.findAncestor({classes:hD})}isImageAllowed(){const r=this.editor.model.document.selection;return function(o,a){if("imageBlock"==zg(o,a,null)){const h=function(f,g){const b=Cw(f,g).start.parent;return b.isEmpty&&!b.is("element","$root")?b.parent:b}(a,o.model);if(o.model.schema.checkChild(h,"imageBlock"))return!0}else if(o.model.schema.checkChild(a.focus,"imageInline"))return!0;return!1}(this.editor,r)&&[...r.focus.getAncestors()].every(a=>!a.is("element","imageBlock"))}toImageWidget(r,o,a){return o.setCustomProperty("image",!0,r),vw(r,o,{label:()=>{const u=this.findViewImgElement(r).getAttribute("alt");return u?`${u} ${a}`:a}})}isImageWidget(r){return!!r.getCustomProperty("image")&&er(r)}isBlockImage(r){return!!r&&r.is("element","imageBlock")}isInlineImage(r){return!!r&&r.is("element","imageInline")}findViewImgElement(r){if(this.isInlineImageView(r))return r;const o=this.editor.editing.view;for(const{item:a}of o.createRangeIn(r))if(this.isInlineImageView(a))return a}destroy(){return this._domEmitter.stopListening(),super.destroy()}}function zg(l,r,o){const a=l.model.schema,u=l.config.get("image.insert.type");return l.plugins.has("ImageBlockEditing")?l.plugins.has("ImageInlineEditing")?o||("inline"===u?"imageInline":"block"===u?"imageBlock":r.is("selection")?Vg(a,r):a.checkChild(r,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}new RegExp(String(/^(http(s)?:\/\/)?[\w-]+\.[\w.~:/[\]@!$&'()*+,;=%-]+/.source+/\.(jpg|jpeg|png|gif|ico|webp|JPG|JPEG|PNG|GIF|ICO|WEBP)/.source+/(\?[\w.~:/[\]@!$&'()*+,;=%-]*)?/.source+/(#[\w.~:/[\]@!$&'()*+,;=%-]*)?$/.source));class rO extends st{refresh(){const r=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!r,this.value=!(!this.isEnabled||!r.hasAttribute("alt"))&&r.getAttribute("alt")}execute(r){const o=this.editor,a=o.plugins.get("ImageUtils"),u=o.model,h=a.getClosestSelectedImageElement(u.document.selection);u.change(f=>{f.setAttribute("alt",r.newValue,h)})}}class fD extends ne{static get requires(){return[Fi]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new rO(this.editor))}}var ek=ge(1905);Ee()(ek.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var pD=ge(6764);Ee()(pD.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class tk extends Be{constructor(r){super(r);const o=this.locale.t;this.focusTracker=new Pr,this.keystrokes=new Ai,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(o("Save"),It.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(o("Cancel"),It.cancel,"ck-button-cancel","cancel"),this._focusables=new _s,this._focusCycler=new ys({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),ig({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(r=>{this._focusables.add(r),this.focusTracker.add(r.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(r,o,a,u){const h=new ht(this.locale);return h.set({label:r,icon:o,tooltip:!0}),h.extendTemplate({attributes:{class:a}}),u&&h.delegate("execute").to(this,u),h}_createLabeledInputView(){const r=this.locale.t,o=new zl(this.locale,Ri);return o.label=r("Text alternative"),o}}function gD(l){const r=l.editing.view,o=Lr.defaultPositions,a=l.plugins.get("ImageUtils");return{target:r.domConverter.mapViewToDom(a.getClosestSelectedImageWidget(r.document.selection)),positions:[o.northArrowSouth,o.northArrowSouthWest,o.northArrowSouthEast,o.southArrowNorth,o.southArrowNorthWest,o.southArrowNorthEast,o.viewportStickyNorth]}}class mD extends ne{static get requires(){return[wh]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const r=this.editor,o=r.t;r.ui.componentFactory.add("imageTextAlternative",a=>{const u=r.commands.get("imageTextAlternative"),h=new ht(a);return h.set({label:o("Change image text alternative"),icon:It.lowVision,tooltip:!0}),h.bind("isEnabled").to(u,"isEnabled"),h.bind("isOn").to(u,"value",f=>!!f),this.listenTo(h,"execute",()=>{this._showForm()}),h})}_createForm(){const r=this.editor,o=r.editing.view.document,a=r.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(Ay(tk))(r.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{r.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(u,h)=>{this._hideForm(!0),h()}),this.listenTo(r.ui,"update",()=>{a.getClosestSelectedImageWidget(o.selection)?this._isVisible&&function(u){const h=u.plugins.get("ContextualBalloon");if(u.plugins.get("ImageUtils").getClosestSelectedImageWidget(u.editing.view.document.selection)){const f=gD(u);h.updatePosition(f)}}(r):this._hideForm(!0)}),Ll({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const r=this.editor,o=r.commands.get("imageTextAlternative"),a=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:gD(r)}),a.fieldView.value=a.fieldView.element.value=o.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(r=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),r&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class _D extends ne{static get requires(){return[fD,mD]}static get pluginName(){return"ImageTextAlternative"}}function bD(l,r){const o=(a,u,h)=>{if(!h.consumable.consume(u.item,a.name))return;const f=h.writer,g=h.mapper.toViewElement(u.item),_=l.findViewImgElement(g);null===u.attributeNewValue?(f.removeAttribute("srcset",_),f.removeAttribute("sizes",_)):u.attributeNewValue&&(f.setAttribute("srcset",u.attributeNewValue,_),f.setAttribute("sizes","100vw",_))};return a=>{a.on(`attribute:srcset:${r}`,o)}}function jg(l,r,o){const a=(u,h,f)=>{if(!f.consumable.consume(h.item,u.name))return;const g=f.writer,_=f.mapper.toViewElement(h.item),b=l.findViewImgElement(_);g.setAttribute(h.attributeKey,h.attributeNewValue||"",b)};return u=>{u.on(`attribute:${o}:${r}`,a)}}class yD extends Qi{observe(r){this.listenTo(r,"load",(o,a)=>{const u=a.target;this.checkShouldIgnoreEventFromTarget(u)||"IMG"==u.tagName&&this._fireEvents(a)},{useCapture:!0})}stopObserving(r){this.stopListening(r)}_fireEvents(r){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",r))}}var sO=Object.defineProperty,wD=Object.getOwnPropertySymbols,aO=Object.prototype.hasOwnProperty,cO=Object.prototype.propertyIsEnumerable,nk=(l,r,o)=>r in l?sO(l,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):l[r]=o,jh=(l,r)=>{for(var o in r||(r={}))aO.call(r,o)&&nk(l,o,r[o]);if(wD)for(var o of wD(r))cO.call(r,o)&&nk(l,o,r[o]);return l};class lO extends st{constructor(r){super(r);const o=r.config.get("image.insert.type");r.plugins.has("ImageBlockEditing")||"block"===o&&ke("image-block-plugin-required"),r.plugins.has("ImageInlineEditing")||"inline"===o&&ke("image-inline-plugin-required")}refresh(){const r=this.editor.plugins.get("ImageUtils");this.isEnabled=r.isImageAllowed()}execute(r){const o=Hn(r.source),a=this.editor.model.document.selection,u=this.editor.plugins.get("ImageUtils"),h=Object.fromEntries(a.getAttributes());o.forEach((f,g)=>{const _=a.getSelectedElement();if("string"==typeof f&&(f={src:f}),g&&_&&u.isImage(_)){const b=this.editor.model.createPositionAfter(_);u.insertImage(jh(jh({},f),h),b)}else u.insertImage(jh(jh({},f),h))})}}class uO extends st{refresh(){const r=this.editor.plugins.get("ImageUtils"),o=this.editor.model.document.selection.getSelectedElement();this.isEnabled=r.isImage(o),this.value=this.isEnabled?o.getAttribute("src"):null}execute(r){const o=this.editor.model.document.selection.getSelectedElement();this.editor.model.change(a=>{a.setAttribute("src",r.source,o),a.removeAttribute("srcset",o),a.removeAttribute("sizes",o)})}}class Ug extends ne{static get requires(){return[Fi]}static get pluginName(){return"ImageEditing"}init(){const r=this.editor,o=r.conversion;r.editing.view.addObserver(yD),o.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:"srcset"});const a=new lO(r),u=new uO(r);r.commands.add("insertImage",a),r.commands.add("replaceImageSource",u),r.commands.add("imageInsert",a)}}class kD extends ne{static get requires(){return[Fi]}static get pluginName(){return"ImageSizeAttributes"}afterInit(){this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline")}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["width","height"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["width","height"]})}_registerConverters(r){const o=this.editor,a=o.plugins.get("ImageUtils"),u="imageBlock"===r?"figure":"img";function h(f,g,_,b){f.on(`attribute:${g}:${r}`,(w,v,A)=>{if(!A.consumable.consume(v.item,w.name))return;const E=A.writer,D=A.mapper.toViewElement(v.item),x=a.findViewImgElement(D);if(null!==v.attributeNewValue?E.setAttribute(_,v.attributeNewValue,x):E.removeAttribute(_,x),v.item.hasAttribute("sources"))return;const P=v.item.hasAttribute("resizedWidth");if("imageInline"===r&&!P&&!b)return;const N=v.item.getAttribute("width"),H=v.item.getAttribute("height"),J=x.getStyle("aspect-ratio");N&&H&&!J&&E.setStyle("aspect-ratio",`${N}/${H}`,x)})}o.conversion.for("upcast").attributeToAttribute({view:{name:u,styles:{width:/.+/}},model:{key:"width",value:f=>Bg(f)?Fg(f.getStyle("width")):null}}).attributeToAttribute({view:{name:u,key:"width"},model:"width"}).attributeToAttribute({view:{name:u,styles:{height:/.+/}},model:{key:"height",value:f=>Bg(f)?Fg(f.getStyle("height")):null}}).attributeToAttribute({view:{name:u,key:"height"},model:"height"}),o.conversion.for("editingDowncast").add(f=>{h(f,"width","width",!0),h(f,"height","height",!0)}),o.conversion.for("dataDowncast").add(f=>{h(f,"width","width",!1),h(f,"height","height",!1)})}}class vD extends st{constructor(r,o){super(r),this._modelElementName=o}refresh(){const r=this.editor.plugins.get("ImageUtils"),o=r.getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled="imageBlock"===this._modelElementName?r.isInlineImage(o):r.isBlockImage(o)}execute(r={}){const a=this.editor.model,u=this.editor.plugins.get("ImageUtils"),h=u.getClosestSelectedImageElement(a.document.selection),f=Object.fromEntries(h.getAttributes());return f.src||f.uploadId?a.change(g=>{const{setImageSizes:_=!0}=r,b=Array.from(a.markers).filter(A=>A.getRange().containsItem(h)),w=u.insertImage(f,a.createSelection(h,"on"),this._modelElementName,{setImageSizes:_});if(!w)return null;const v=g.createRangeOn(w);for(const A of b){const E=A.getRange(),D="$graveyard"!=E.root.rootName?E.getJoined(v,!0):v;g.updateMarker(A,{range:D})}return{oldElement:h,newElement:w}}):null}}class CD extends ne{static get requires(){return[Ug,kD,Fi,mo]}static get pluginName(){return"ImageBlockEditing"}init(){const r=this.editor;r.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),r.plugins.has("ImageInlineEditing")&&(r.commands.add("imageTypeBlock",new vD(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const r=this.editor,o=r.t,a=r.conversion,u=r.plugins.get("ImageUtils");a.for("dataDowncast").elementToStructure({model:"imageBlock",view:(h,{writer:f})=>tO(f)}),a.for("editingDowncast").elementToStructure({model:"imageBlock",view:(h,{writer:f})=>u.toImageWidget(tO(f),f,o("image widget"))}),a.for("downcast").add(jg(u,"imageBlock","src")).add(jg(u,"imageBlock","alt")).add(bD(u,"imageBlock")),a.for("upcast").elementToElement({view:cD(r,"imageBlock"),model:(h,{writer:f})=>f.createElement("imageBlock",h.hasAttribute("src")?{src:h.getAttribute("src")}:void 0)}).add(function(h){const f=(g,_,b)=>{if(!b.consumable.test(_.viewItem,{name:!0,classes:"image"}))return;const w=h.findViewImgElement(_.viewItem);if(!w||!b.consumable.test(w,{name:!0}))return;b.consumable.consume(_.viewItem,{name:!0,classes:"image"});const v=Vn(b.convertItem(w,_.modelCursor).modelRange.getItems());v?(b.convertChildren(_.viewItem,v),b.updateConversionResult(v,_)):b.consumable.revert(_.viewItem,{name:!0,classes:"image"})};return g=>{g.on("element:figure",f)}}(u))}_setupClipboardIntegration(){const r=this.editor,o=r.model,a=r.editing.view,u=r.plugins.get("ImageUtils"),h=r.plugins.get("ClipboardPipeline");this.listenTo(h,"inputTransformation",(f,g)=>{const _=Array.from(g.content.getChildren());let b;if(!_.every(u.isInlineImageView))return;b=g.targetRanges?r.editing.mapper.toModelRange(g.targetRanges[0]):o.document.selection.getFirstRange();const w=o.createSelection(b);if("imageBlock"===Vg(o.schema,w)){const v=new gs(a.document),A=_.map(E=>v.createElement("figure",{class:"image"},E));g.content=v.createDocumentFragment(A)}}),this.listenTo(h,"contentInsertion",(f,g)=>{"paste"===g.method&&o.change(_=>{const b=_.createRangeIn(g.content);for(const w of b.getItems())w.is("element","imageBlock")&&u.setImageNaturalSizeAttributes(w)})})}}var Hg=ge(3508);Ee()(Hg.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class AD extends ne{static get requires(){return[CD,Dh,_D]}static get pluginName(){return"ImageBlock"}}class ik extends ne{static get requires(){return[Ug,kD,Fi,mo]}static get pluginName(){return"ImageInlineEditing"}init(){const r=this.editor,o=r.model.schema;o.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),o.addChildCheck((a,u)=>{if(a.endsWith("caption")&&"imageInline"===u.name)return!1}),this._setupConversion(),r.plugins.has("ImageBlockEditing")&&(r.commands.add("imageTypeInline",new vD(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const r=this.editor,o=r.t,a=r.conversion,u=r.plugins.get("ImageUtils");a.for("dataDowncast").elementToElement({model:"imageInline",view:(h,{writer:f})=>f.createEmptyElement("img")}),a.for("editingDowncast").elementToStructure({model:"imageInline",view:(h,{writer:f})=>{return u.toImageWidget((g=f).createContainerElement("span",{class:"image-inline"},g.createEmptyElement("img")),f,o("image widget"));var g}}),a.for("downcast").add(jg(u,"imageInline","src")).add(jg(u,"imageInline","alt")).add(bD(u,"imageInline")),a.for("upcast").elementToElement({view:cD(r,"imageInline"),model:(h,{writer:f})=>f.createElement("imageInline",h.hasAttribute("src")?{src:h.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const r=this.editor,o=r.model,a=r.editing.view,u=r.plugins.get("ImageUtils"),h=r.plugins.get("ClipboardPipeline");this.listenTo(h,"inputTransformation",(f,g)=>{const _=Array.from(g.content.getChildren());let b;if(!_.every(u.isBlockImageView))return;b=g.targetRanges?r.editing.mapper.toModelRange(g.targetRanges[0]):o.document.selection.getFirstRange();const w=o.createSelection(b);if("imageInline"===Vg(o.schema,w)){const v=new gs(a.document),A=_.map(E=>1===E.childCount?(Array.from(E.getAttributes()).forEach(D=>v.setAttribute(...D,u.findViewImgElement(E))),E.getChild(0)):E);g.content=v.createDocumentFragment(A)}}),this.listenTo(h,"contentInsertion",(f,g)=>{"paste"===g.method&&o.change(_=>{const b=_.createRangeIn(g.content);for(const w of b.getItems())w.is("element","imageInline")&&u.setImageNaturalSizeAttributes(w)})})}}class dO extends ne{static get requires(){return[ik,Dh,_D]}static get pluginName(){return"ImageInline"}}class ED extends ne{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[Fi]}getCaptionFromImageModelElement(r){for(const o of r.getChildren())if(o&&o.is("element","caption"))return o;return null}getCaptionFromModelSelection(r){const o=this.editor.plugins.get("ImageUtils"),a=r.getFirstPosition().findAncestor("caption");return a&&o.isBlockImage(a.parent)?a:null}matchImageCaptionViewElement(r){const o=this.editor.plugins.get("ImageUtils");return"figcaption"==r.name&&o.isBlockImageView(r.parent)?{name:!0}:null}}class ok extends st{refresh(){const r=this.editor,o=r.plugins.get("ImageCaptionUtils"),a=r.plugins.get("ImageUtils");if(!r.plugins.has(CD))return this.isEnabled=!1,void(this.value=!1);const u=r.model.document.selection,h=u.getSelectedElement();if(!h){const f=o.getCaptionFromModelSelection(u);return this.isEnabled=!!f,void(this.value=!!f)}this.isEnabled=a.isImage(h),this.value=!!this.isEnabled&&!!o.getCaptionFromImageModelElement(h)}execute(r={}){const{focusCaptionOnShow:o}=r;this.editor.model.change(a=>{this.value?this._hideImageCaption(a):this._showImageCaption(a,o)})}_showImageCaption(r,o){const a=this.editor.model.document.selection,u=this.editor.plugins.get("ImageCaptionEditing"),h=this.editor.plugins.get("ImageUtils");let f=a.getSelectedElement();const g=u._getSavedCaption(f);h.isInlineImage(f)&&(this.editor.execute("imageTypeBlock"),f=a.getSelectedElement());const _=g||r.createElement("caption");r.append(_,f),o&&r.setSelection(_,"in")}_hideImageCaption(r){const o=this.editor,a=o.model.document.selection,u=o.plugins.get("ImageCaptionEditing"),h=o.plugins.get("ImageCaptionUtils");let f,g=a.getSelectedElement();g?f=h.getCaptionFromImageModelElement(g):(f=h.getCaptionFromModelSelection(a),g=f.parent),u._saveCaption(g,f),r.setSelection(g,"on"),r.remove(f)}}class hO extends ne{constructor(r){super(r),this._savedCaptionsMap=new WeakMap}static get requires(){return[Fi,ED]}static get pluginName(){return"ImageCaptionEditing"}init(){const r=this.editor,o=r.model.schema;o.isRegistered("caption")?o.extend("caption",{allowIn:"imageBlock"}):o.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),r.commands.add("toggleImageCaption",new ok(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const r=this.editor,o=r.editing.view,a=r.plugins.get("ImageUtils"),u=r.plugins.get("ImageCaptionUtils"),h=r.t;r.conversion.for("upcast").elementToElement({view:f=>u.matchImageCaptionViewElement(f),model:"caption"}),r.conversion.for("dataDowncast").elementToElement({model:"caption",view:(f,{writer:g})=>a.isBlockImage(f.parent)?g.createContainerElement("figcaption"):null}),r.conversion.for("editingDowncast").elementToElement({model:"caption",view:(f,{writer:g})=>{if(!a.isBlockImage(f.parent))return null;const _=g.createEditableElement("figcaption");g.setCustomProperty("imageCaption",!0,_),_.placeholder=h("Enter image caption"),uA({view:o,element:_,keepOnFocus:!0});const b=f.parent.getAttribute("alt");return Sg(_,g,{label:b?h("Caption for image: %0",[b]):h("Caption for the image")})}})}_setupImageTypeCommandsIntegration(){const r=this.editor,o=r.plugins.get("ImageUtils"),a=r.plugins.get("ImageCaptionUtils"),u=r.commands.get("imageTypeInline"),h=r.commands.get("imageTypeBlock"),f=g=>{if(!g.return)return;const{oldElement:_,newElement:b}=g.return;if(!_)return;if(o.isBlockImage(_)){const v=a.getCaptionFromImageModelElement(_);if(v)return void this._saveCaption(b,v)}const w=this._getSavedCaption(_);w&&this._saveCaption(b,w)};u&&this.listenTo(u,"execute",f,{priority:"low"}),h&&this.listenTo(h,"execute",f,{priority:"low"})}_getSavedCaption(r){const o=this._savedCaptionsMap.get(r);return o?Ut.fromJSON(o):null}_saveCaption(r,o){this._savedCaptionsMap.set(r,o.toJSON())}_registerCaptionReconversion(){const r=this.editor,o=r.model,a=r.plugins.get("ImageUtils"),u=r.plugins.get("ImageCaptionUtils");o.document.on("change:data",()=>{const h=o.document.differ.getChanges();for(const f of h){if("alt"!==f.attributeKey)continue;const g=f.range.start.nodeAfter;if(a.isBlockImage(g)){const _=u.getCaptionFromImageModelElement(g);if(!_)return;r.editing.reconvertItem(_)}}})}}class fn extends ne{static get requires(){return[ED]}static get pluginName(){return"ImageCaptionUI"}init(){const r=this.editor,o=r.editing.view,a=r.plugins.get("ImageCaptionUtils"),u=r.t;r.ui.componentFactory.add("toggleImageCaption",h=>{const f=r.commands.get("toggleImageCaption"),g=new ht(h);return g.set({icon:It.caption,tooltip:!0,isToggleable:!0}),g.bind("isOn","isEnabled").to(f,"value","isEnabled"),g.bind("label").to(f,"value",_=>u(_?"Toggle caption off":"Toggle caption on")),this.listenTo(g,"execute",()=>{r.execute("toggleImageCaption",{focusCaptionOnShow:!0});const _=a.getCaptionFromModelSelection(r.model.document.selection);if(_){const b=r.editing.mapper.toViewElement(_);o.scrollToTheSelection(),o.change(w=>{w.addClass("image__caption_highlighted",b)})}r.editing.view.focus()}),g})}}var Bc=ge(2640);function DD(l){const r=l.map(o=>o.replace("+","\\+"));return new RegExp(`^image\\/(${r.join("|")})$`)}function R7(l){return new Promise((r,o)=>{const a=l.getAttribute("src");fetch(a).then(u=>u.blob()).then(u=>{const h=Gg(u,a),f=h.replace("image/",""),g=new File([u],`image.${f}`,{type:h});r(g)}).catch(u=>{return u&&"TypeError"===u.name?(h=a,(f=h,new Promise((g,_)=>{const b=ze.document.createElement("img");b.addEventListener("load",()=>{const w=ze.document.createElement("canvas");w.width=b.width,w.height=b.height,w.getContext("2d").drawImage(b,0,0),w.toBlob(v=>v?g(v):_())}),b.addEventListener("error",()=>_()),b.src=f})).then(f=>{const g=Gg(f,h),_=g.replace("image/","");return new File([f],`image.${_}`,{type:g})})).then(r).catch(o):o(u);var h,f})})}function Gg(l,r){return l.type?l.type:r.match(/data:(image\/\w+);base64/)?r.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}Ee()(Bc.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class sk extends ne{static get pluginName(){return"ImageUploadUI"}init(){const r=this.editor,o=r.t,a=u=>{const h=new GI(u),f=r.commands.get("uploadImage"),g=r.config.get("image.upload.types"),_=DD(g);return h.set({acceptedType:g.map(b=>`image/${b}`).join(","),allowMultipleFiles:!0}),h.buttonView.set({label:o("Insert image"),icon:It.image,tooltip:!0}),h.buttonView.bind("isEnabled").to(f),h.on("done",(b,w)=>{const v=Array.from(w).filter(A=>_.test(A.type));v.length&&(r.execute("uploadImage",{file:v}),r.editing.view.focus())}),h};r.ui.componentFactory.add("uploadImage",a),r.ui.componentFactory.add("imageUpload",a)}}var TD=ge(3689);Ee()(TD.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var $g=ge(4036);Ee()($g.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var ak=ge(3773);Ee()(ak.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class SD extends ne{constructor(r){super(r),this.uploadStatusChange=(o,a,u)=>{const h=this.editor,f=a.item,g=f.getAttribute("uploadId");if(!u.consumable.consume(a.item,o.name))return;const _=h.plugins.get("ImageUtils"),b=h.plugins.get(_o),w=g?a.attributeNewValue:null,v=this.placeholder,A=h.editing.mapper.toViewElement(f),E=u.writer;if("reading"==w)return lk(A,E),void uk(_,v,A,E);if("uploading"==w){const D=b.loaders.get(g);return lk(A,E),void(D?(dk(A,E),function(x,P,N,H){const J=function(ae){const Pe=ae.createUIElement("div",{class:"ck-progress-bar"});return ae.setCustomProperty("progressBar",!0,Pe),Pe}(P);P.insert(P.createPositionAt(x,"end"),J),N.on("change:uploadedPercent",(ae,Pe,ft)=>{H.change(at=>{at.setStyle("width",ft+"%",J)})})}(A,E,D,h.editing.view),function(x,P,N,H){if(H.data){const J=x.findViewImgElement(P);N.setAttribute("src",H.data,J)}}(_,A,E,D)):uk(_,v,A,E))}"complete"==w&&b.loaders.get(g)&&function(D,x,P){const N=x.createUIElement("div",{class:"ck-image-upload-complete-icon"});x.insert(x.createPositionAt(D,"end"),N),setTimeout(()=>{P.change(H=>H.remove(H.createRangeOn(N)))},3e3)}(A,E,h.editing.view),PD(A,E,"progressBar"),dk(A,E),E.removeClass("ck-appear",A)},this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}static get pluginName(){return"ImageUploadProgress"}init(){const r=this.editor;r.plugins.has("ImageBlockEditing")&&r.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),r.plugins.has("ImageInlineEditing")&&r.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}function lk(l,r){l.hasClass("ck-appear")||r.addClass("ck-appear",l)}function uk(l,r,o,a){o.hasClass("ck-image-upload-placeholder")||a.addClass("ck-image-upload-placeholder",o);const u=l.findViewImgElement(o);u.getAttribute("src")!==r&&a.setAttribute("src",r,u),MD(o,"placeholder")||a.insert(a.createPositionAfter(u),function(h){const f=h.createUIElement("div",{class:"ck-upload-placeholder-loader"});return h.setCustomProperty("placeholder",!0,f),f}(a))}function dk(l,r){l.hasClass("ck-image-upload-placeholder")&&r.removeClass("ck-image-upload-placeholder",l),PD(l,r,"placeholder")}function MD(l,r){for(const o of l.getChildren())if(o.getCustomProperty(r))return o}function PD(l,r,o){const a=MD(l,o);a&&r.remove(r.createRangeOn(a))}var pO=Object.defineProperty,gO=Object.defineProperties,RD=Object.getOwnPropertyDescriptors,mO=Object.getOwnPropertySymbols,ND=Object.prototype.hasOwnProperty,_O=Object.prototype.propertyIsEnumerable,OD=(l,r,o)=>r in l?pO(l,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):l[r]=o;class N7 extends st{refresh(){const r=this.editor,o=r.plugins.get("ImageUtils"),a=r.model.document.selection.getSelectedElement();this.isEnabled=o.isImageAllowed()||o.isImage(a)}execute(r){const o=Hn(r.file),a=this.editor.model.document.selection,u=this.editor.plugins.get("ImageUtils"),h=Object.fromEntries(a.getAttributes());o.forEach((f,g)=>{const _=a.getSelectedElement();if(g&&_&&u.isImage(_)){const b=this.editor.model.createPositionAfter(_);this._uploadImage(f,h,b)}else this._uploadImage(f,h)})}_uploadImage(r,o,a){const u=this.editor,h=u.plugins.get(_o).createLoader(r),f=u.plugins.get("ImageUtils");var g;h&&f.insertImage((g=((b,w)=>{for(var v in w||(w={}))ND.call(w,v)&&OD(b,v,w[v]);if(mO)for(var v of mO(w))_O.call(w,v)&&OD(b,v,w[v]);return b})({},o),gO(g,RD({uploadId:h.id}))),a)}}class bO extends ne{constructor(r){super(r),r.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}static get requires(){return[_o,dw,mo,Fi]}static get pluginName(){return"ImageUploadEditing"}init(){const r=this.editor,o=r.model.document,a=r.conversion,u=r.plugins.get(_o),h=r.plugins.get("ImageUtils"),f=r.plugins.get("ClipboardPipeline"),g=DD(r.config.get("image.upload.types")),_=new N7(r);r.commands.add("uploadImage",_),r.commands.add("imageUpload",_),a.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(r.editing.view.document,"clipboardInput",(b,w)=>{if(v=w.dataTransfer,Array.from(v.types).includes("text/html")&&""!==v.getData("text/html"))return;var v;const A=Array.from(w.dataTransfer.files).filter(E=>!!E&&g.test(E.type));A.length&&(b.stop(),r.model.change(E=>{w.targetRanges&&E.setSelection(w.targetRanges.map(D=>r.editing.mapper.toModelRange(D))),r.execute("uploadImage",{file:A})}))}),this.listenTo(f,"inputTransformation",(b,w)=>{const v=Array.from(r.editing.view.createRangeIn(w.content)).map(E=>E.item).filter(E=>{return!(!h.isInlineImageView(x=E)||!x.getAttribute("src")||!x.getAttribute("src").match(/^data:image\/\w+;base64,/g)&&!x.getAttribute("src").match(/^blob:/g)||E.getAttribute("uploadProcessed"));var x}).map(E=>({promise:R7(E),imageElement:E}));if(!v.length)return;const A=new gs(r.editing.view.document);for(const E of v){A.setAttribute("uploadProcessed",!0,E.imageElement);const D=u.createLoader(E.promise);D&&(A.setAttribute("src","",E.imageElement),A.setAttribute("uploadId",D.id,E.imageElement))}}),r.editing.view.document.on("dragover",(b,w)=>{w.preventDefault()}),o.on("change",()=>{const b=o.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),w=new Set;for(const v of b)if("insert"==v.type&&"$text"!=v.name){const A=v.position.nodeAfter,E="$graveyard"==v.position.root.rootName;for(const D of yO(r,A)){const x=D.getAttribute("uploadId");if(!x)continue;const P=u.loaders.get(x);P&&(E?w.has(x)||P.abort():(w.add(x),this._uploadImageElements.set(x,D),"idle"==P.status&&this._readAndUpload(P)))}}}),this.on("uploadComplete",(b,{imageElement:w,data:v})=>{const A=v.urls?v.urls:v;this.editor.model.change(E=>{E.setAttribute("src",A.default,w),this._parseAndSetSrcsetAttributeOnImage(A,w,E),h.setImageNaturalSizeAttributes(w)})},{priority:"low"})}afterInit(){const r=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&r.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&r.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(r){const o=this.editor,a=o.model,u=o.locale.t,h=o.plugins.get(_o),f=o.plugins.get(dw),g=o.plugins.get("ImageUtils"),_=this._uploadImageElements;return a.enqueueChange({isUndoable:!1},w=>{w.setAttribute("uploadStatus","reading",_.get(r.id))}),r.read().then(()=>{const w=r.upload(),v=_.get(r.id);if(F.isSafari){const A=o.editing.mapper.toViewElement(v),E=g.findViewImgElement(A);o.editing.view.once("render",()=>{if(!E.parent)return;const D=o.editing.view.domConverter.mapViewToDom(E.parent);if(!D)return;const x=D.style.display;D.style.display="none",D._ckHack=D.offsetHeight,D.style.display=x})}return a.enqueueChange({isUndoable:!1},A=>{A.setAttribute("uploadStatus","uploading",v)}),w}).then(w=>{a.enqueueChange({isUndoable:!1},v=>{const A=_.get(r.id);v.setAttribute("uploadStatus","complete",A),this.fire("uploadComplete",{data:w,imageElement:A})}),b()}).catch(w=>{if("error"!==r.status&&"aborted"!==r.status)throw w;"error"==r.status&&w&&f.showWarning(w,{title:u("Upload failed"),namespace:"upload"}),a.enqueueChange({isUndoable:!1},v=>{v.remove(_.get(r.id))}),b()});function b(){a.enqueueChange({isUndoable:!1},w=>{const v=_.get(r.id);w.removeAttribute("uploadId",v),w.removeAttribute("uploadStatus",v),_.delete(r.id)}),h.destroyLoader(r)}}_parseAndSetSrcsetAttributeOnImage(r,o,a){let u=0;const h=Object.keys(r).filter(f=>{const g=parseInt(f,10);if(!isNaN(g))return u=Math.max(u,g),!0}).map(f=>`${r[f]} ${f}w`).join(", ");if(""!=h){const f={srcset:h};o.hasAttribute("width")||o.hasAttribute("height")||(f.width=u),a.setAttributes(f,o)}}}function yO(l,r){const o=l.plugins.get("ImageUtils");return Array.from(l.model.createRangeOn(r)).filter(a=>o.isImage(a.item)).map(a=>a.item)}var Va=ge(1568);Ee()(Va.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var hk=ge(3535);Ee()(hk.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class kO extends st{refresh(){const r=this.editor,o=r.plugins.get("ImageUtils").getClosestSelectedImageElement(r.model.document.selection);this.isEnabled=!!o,this.value=o&&o.hasAttribute("resizedWidth")?{width:o.getAttribute("resizedWidth"),height:null}:null}execute(r){const o=this.editor,a=o.model,u=o.plugins.get("ImageUtils"),h=u.getClosestSelectedImageElement(a.document.selection);this.value={width:r.width,height:null},h&&a.change(f=>{f.setAttribute("resizedWidth",r.width,h),f.removeAttribute("resizedHeight",h),u.setImageNaturalSizeAttributes(h)})}}class LD extends ne{static get requires(){return[Fi]}static get pluginName(){return"ImageResizeEditing"}constructor(r){super(r),r.config.define("image",{resizeUnit:"%",resizeOptions:[{name:"resizeImage:original",value:null,icon:"original"},{name:"resizeImage:25",value:"25",icon:"small"},{name:"resizeImage:50",value:"50",icon:"medium"},{name:"resizeImage:75",value:"75",icon:"large"}]})}init(){const r=this.editor,o=new kO(r);this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline"),r.commands.add("resizeImage",o),r.commands.add("imageResize",o)}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["resizedWidth","resizedHeight"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["resizedWidth","resizedHeight"]})}_registerConverters(r){const o=this.editor,a=o.plugins.get("ImageUtils");o.conversion.for("downcast").add(u=>u.on(`attribute:resizedWidth:${r}`,(h,f,g)=>{if(!g.consumable.consume(f.item,h.name))return;const _=g.writer,b=g.mapper.toViewElement(f.item);null!==f.attributeNewValue?(_.setStyle("width",f.attributeNewValue,b),_.addClass("image_resized",b)):(_.removeStyle("width",b),_.removeClass("image_resized",b))})),o.conversion.for("dataDowncast").attributeToAttribute({model:{name:r,key:"resizedHeight"},view:u=>({key:"style",value:{height:u}})}),o.conversion.for("editingDowncast").add(u=>u.on(`attribute:resizedHeight:${r}`,(h,f,g)=>{if(!g.consumable.consume(f.item,h.name))return;const _=g.writer,b=g.mapper.toViewElement(f.item),w="imageInline"===r?a.findViewImgElement(b):b;null!==f.attributeNewValue?_.setStyle("height",f.attributeNewValue,w):_.removeStyle("height",w)})),o.conversion.for("upcast").attributeToAttribute({view:{name:"imageBlock"===r?"figure":"img",styles:{width:/.+/}},model:{key:"resizedWidth",value:u=>Bg(u)?null:u.getStyle("width")}}),o.conversion.for("upcast").attributeToAttribute({view:{name:"imageBlock"===r?"figure":"img",styles:{height:/.+/}},model:{key:"resizedHeight",value:u=>Bg(u)?null:u.getStyle("height")}})}}const fk={small:It.objectSizeSmall,medium:It.objectSizeMedium,large:It.objectSizeLarge,original:It.objectSizeFull};class vO extends ne{constructor(r){super(r),this._resizeUnit=r.config.get("image.resizeUnit")}static get requires(){return[LD]}static get pluginName(){return"ImageResizeButtons"}init(){const r=this.editor,o=r.config.get("image.resizeOptions"),a=r.commands.get("resizeImage");this.bind("isEnabled").to(a);for(const u of o)this._registerImageResizeButton(u);this._registerImageResizeDropdown(o)}_registerImageResizeButton(r){const o=this.editor,{name:a,value:u,icon:h}=r,f=u?u+this._resizeUnit:null;o.ui.componentFactory.add(a,g=>{const _=new ht(g),b=o.commands.get("resizeImage"),w=this._getOptionLabelValue(r,!0);if(!fk[h])throw new V("imageresizebuttons-missing-icon",o,r);return _.set({label:w,icon:fk[h],tooltip:w,isToggleable:!0}),_.bind("isEnabled").to(this),_.bind("isOn").to(b,"value",VD(f)),this.listenTo(_,"execute",()=>{o.execute("resizeImage",{width:f})}),_})}_registerImageResizeDropdown(r){const o=this.editor,a=o.t,u=r.find(f=>!f.value),h=f=>{const g=o.commands.get("resizeImage"),_=Pi(f,iE),b=_.buttonView,w=a("Resize image");return b.set({tooltip:w,commandValue:u.value,icon:fk.medium,isToggleable:!0,label:this._getOptionLabelValue(u),withText:!0,class:"ck-resize-image-button",ariaLabel:w,ariaLabelledBy:void 0}),b.bind("label").to(g,"value",v=>v&&v.width?v.width:this._getOptionLabelValue(u)),_.bind("isEnabled").to(this),uh(_,()=>this._getResizeDropdownListItemDefinitions(r,g),{ariaLabel:a("Image resize list"),role:"menu"}),this.listenTo(_,"execute",v=>{o.execute(v.source.commandName,{width:v.source.commandValue}),o.editing.view.focus()}),_};o.ui.componentFactory.add("resizeImage",h),o.ui.componentFactory.add("imageResize",h)}_getOptionLabelValue(r,o=!1){const a=this.editor.t;return r.label?r.label:o?r.value?a("Resize image to %0",r.value+this._resizeUnit):a("Resize image to the original size"):r.value?r.value+this._resizeUnit:a("Original")}_getResizeDropdownListItemDefinitions(r,o){const a=new ii;return r.map(u=>{const h=u.value?u.value+this._resizeUnit:null,f={type:"button",model:new yh({commandName:"resizeImage",commandValue:h,label:this._getOptionLabelValue(u),role:"menuitemradio",withText:!0,icon:null})};f.model.bind("isOn").to(o,"value",VD(h)),a.add(f)}),a}}function VD(l){return r=>null===l&&r===l||null!==r&&r.width===l}const pk="image_resized";class Uh extends ne{static get requires(){return[Tw,Fi]}static get pluginName(){return"ImageResizeHandles"}init(){const r=this.editor.commands.get("resizeImage");this.bind("isEnabled").to(r),this._setupResizerCreator()}_setupResizerCreator(){const r=this.editor,o=r.editing.view,a=r.plugins.get("ImageUtils");o.addObserver(yD),this.listenTo(o.document,"imageLoaded",(u,h)=>{if(!h.target.matches("figure.image.ck-widget > img,figure.image.ck-widget > picture > img,figure.image.ck-widget > a > img,figure.image.ck-widget > a > picture > img,span.image-inline.ck-widget > img,span.image-inline.ck-widget > picture > img"))return;const f=r.editing.view.domConverter,g=f.domToView(h.target),_=a.getImageWidgetFromImageView(g);let b=this.editor.plugins.get(Tw).getResizerByViewElement(_);if(b)return void b.redraw();const w=r.editing.mapper,v=w.toModelElement(_);b=r.plugins.get(Tw).attachTo({unit:r.config.get("image.resizeUnit"),modelElement:v,viewElement:_,editor:r,getHandleHost:A=>A.querySelector("img"),getResizeHost:()=>f.mapViewToDom(w.toViewElement(v.parent)),isCentered(){const A=v.getAttribute("imageStyle");return!A||"block"==A||"alignCenter"==A},onCommit(A){o.change(E=>{E.removeClass(pk,_)}),r.execute("resizeImage",{width:A})}}),b.on("updateSize",()=>{_.hasClass(pk)||o.change(E=>{E.addClass(pk,_)});const A="imageInline"===v.name?g:_;A.getStyle("height")&&o.change(E=>{E.removeStyle("height",A)})}),b.bind("isEnabled").to(this)})}}var gk=ge(6270);Ee()(gk.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class BD extends st{constructor(r,o){super(r),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(o.map(a=>{if(a.isDefault)for(const u of a.modelElements)this._defaultStyles[u]=a.name;return[a.name,a]}))}refresh(){const r=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!r,this.value=!!this.isEnabled&&(r.hasAttribute("imageStyle")?r.getAttribute("imageStyle"):this._defaultStyles[r.name])}execute(r={}){const o=this.editor,a=o.model,u=o.plugins.get("ImageUtils");a.change(h=>{const f=r.value,{setImageSizes:g=!0}=r;let _=u.getClosestSelectedImageElement(a.document.selection);f&&this.shouldConvertImageType(f,_)&&(this.editor.execute(u.isBlockImage(_)?"imageTypeInline":"imageTypeBlock",{setImageSizes:g}),_=u.getClosestSelectedImageElement(a.document.selection)),!f||this._styles.get(f).isDefault?h.removeAttribute("imageStyle",_):h.setAttribute("imageStyle",f,_),g&&u.setImageNaturalSizeAttributes(_)})}shouldConvertImageType(r,o){return!this._styles.get(r).modelElements.includes(o.name)}}var zD=Object.defineProperty,mk=Object.getOwnPropertySymbols,CO=Object.prototype.hasOwnProperty,AO=Object.prototype.propertyIsEnumerable,EO=(l,r,o)=>r in l?zD(l,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):l[r]=o,jD=(l,r)=>{for(var o in r||(r={}))CO.call(r,o)&&EO(l,o,r[o]);if(mk)for(var o of mk(r))AO.call(r,o)&&EO(l,o,r[o]);return l};const{objectFullWidth:IO,objectInline:UD,objectLeft:HD,objectRight:_k,objectCenter:zc,objectBlockLeft:GD,objectBlockRight:Wg}=It,kt={get inline(){return{name:"inline",title:"In line",icon:UD,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:HD,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:GD,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:zc,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:_k,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:Wg,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:zc,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:_k,modelElements:["imageBlock"],className:"image-style-side"}}},$D={full:IO,left:GD,right:Wg,center:zc,inlineLeft:HD,inlineRight:_k,inline:UD},Kg=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function Es(l){ke("image-style-configuration-definition-invalid",l)}const bk={normalizeStyles:function(l){return(l.configuredStyles.options||[]).map(r=>{return"string"==typeof(o="string"==typeof(o=r)?kt[o]?jD({},kt[o]):{name:o}:function(a,u){const h=jD({},u);for(const f in a)Object.prototype.hasOwnProperty.call(u,f)||(h[f]=a[f]);return h}(kt[o.name],o)).icon&&(o.icon=$D[o.icon]||o.icon),o;var o}).filter(r=>function(o,{isBlockPluginLoaded:a,isInlinePluginLoaded:u}){const{modelElements:h,name:f}=o;if(!(h&&h.length&&f))return Es({style:o}),!1;{const g=[a?"imageBlock":null,u?"imageInline":null];if(!h.some(_=>g.includes(_)))return ke("image-style-missing-dependency",{style:o,missingPlugins:h.map(_=>"imageBlock"===_?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}(r,l))},getDefaultStylesConfiguration:function(l,r){return l&&r?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:l?{options:["block","side"]}:r?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(l){return l.has("ImageBlockEditing")&&l.has("ImageInlineEditing")?[...Kg]:[]},warnInvalidStyle:Es,DEFAULT_OPTIONS:kt,DEFAULT_ICONS:$D,DEFAULT_DROPDOWN_DEFINITIONS:Kg};function qD(l,r){for(const o of r)if(o.name===l)return o}class WD extends ne{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[Fi]}init(){const{normalizeStyles:r,getDefaultStylesConfiguration:o}=bk,a=this.editor,u=a.plugins.has("ImageBlockEditing"),h=a.plugins.has("ImageInlineEditing");a.config.define("image.styles",o(u,h)),this.normalizedStyles=r({configuredStyles:a.config.get("image.styles"),isBlockPluginLoaded:u,isInlinePluginLoaded:h}),this._setupConversion(u,h),this._setupPostFixer(),a.commands.add("imageStyle",new BD(a,this.normalizedStyles))}_setupConversion(r,o){const a=this.editor,u=a.model.schema,h=(f=this.normalizedStyles,(_,b,w)=>{if(!w.consumable.consume(b.item,_.name))return;const v=qD(b.attributeNewValue,f),A=qD(b.attributeOldValue,f),E=w.mapper.toViewElement(b.item),D=w.writer;A&&D.removeClass(A.className,E),v&&D.addClass(v.className,E)});var f;const g=function(_){const b={imageInline:_.filter(w=>!w.isDefault&&w.modelElements.includes("imageInline")),imageBlock:_.filter(w=>!w.isDefault&&w.modelElements.includes("imageBlock"))};return(w,v,A)=>{if(!v.modelRange)return;const E=v.viewItem,D=Vn(v.modelRange.getItems());if(D&&A.schema.checkAttribute(D,"imageStyle"))for(const x of b[D.name])A.consumable.consume(E,{classes:x.className})&&A.writer.setAttribute("imageStyle",x.name,D)}}(this.normalizedStyles);a.editing.downcastDispatcher.on("attribute:imageStyle",h),a.data.downcastDispatcher.on("attribute:imageStyle",h),r&&(u.extend("imageBlock",{allowAttributes:"imageStyle"}),a.data.upcastDispatcher.on("element:figure",g,{priority:"low"})),o&&(u.extend("imageInline",{allowAttributes:"imageStyle"}),a.data.upcastDispatcher.on("element:img",g,{priority:"low"}))}_setupPostFixer(){const r=this.editor,o=r.model.document,a=r.plugins.get(Fi),u=new Map(this.normalizedStyles.map(h=>[h.name,h]));o.registerPostFixer(h=>{let f=!1;for(const g of o.differ.getChanges())if("insert"==g.type||"attribute"==g.type&&"imageStyle"==g.attributeKey){let _="insert"==g.type?g.position.nodeAfter:g.range.start.nodeAfter;if(_&&_.is("element","paragraph")&&_.childCount>0&&(_=_.getChild(0)),!a.isImage(_))continue;const b=_.getAttribute("imageStyle");if(!b)continue;const w=u.get(b);w&&w.modelElements.includes(_.name)||(h.removeAttribute("imageStyle",_),f=!0)}return f})}}var Hh=ge(5083);Ee()(Hh.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class DO extends ne{static get requires(){return[WD]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const r=this.editor.t;return{"Wrap text":r("Wrap text"),"Break text":r("Break text"),"In line":r("In line"),"Full size image":r("Full size image"),"Side image":r("Side image"),"Left aligned image":r("Left aligned image"),"Centered image":r("Centered image"),"Right aligned image":r("Right aligned image")}}init(){const r=this.editor.plugins,o=this.editor.config.get("image.toolbar")||[],a=QD(r.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const h of a)this._createButton(h);const u=QD([...o.filter(dn),...bk.getDefaultDropdownDefinitions(r)],this.localizedDefaultStylesTitles);for(const h of u)this._createDropdown(h,a)}_createDropdown(r,o){const a=this.editor.ui.componentFactory;a.add(r.name,u=>{let h;const{defaultItem:f,items:g,title:_}=r,b=g.filter(E=>o.find(({name:D})=>Qg(D)===E)).map(E=>{const D=a.create(E);return E===f&&(h=D),D});g.length!==b.length&&bk.warnInvalidStyle({dropdown:r});const w=Pi(u,ch),v=w.buttonView,A=v.arrowView;return lh(w,b,{enableActiveItemFocusOnDropdownOpen:!0}),v.set({label:YD(_,h.label),class:null,tooltip:!0}),A.unbind("label"),A.set({label:_}),v.bind("icon").toMany(b,"isOn",(...E)=>{const D=E.findIndex(hc);return D<0?h.icon:b[D].icon}),v.bind("label").toMany(b,"isOn",(...E)=>{const D=E.findIndex(hc);return YD(_,D<0?h.label:b[D].label)}),v.bind("isOn").toMany(b,"isOn",(...E)=>E.some(hc)),v.bind("class").toMany(b,"isOn",(...E)=>E.some(hc)?"ck-splitbutton_flatten":void 0),v.on("execute",()=>{b.some(({isOn:E})=>E)?w.isOpen=!w.isOpen:h.fire("execute")}),w.bind("isEnabled").toMany(b,"isEnabled",(...E)=>E.some(hc)),this.listenTo(w,"execute",()=>{this.editor.editing.view.focus()}),w})}_createButton(r){const o=r.name;this.editor.ui.componentFactory.add(Qg(o),a=>{const u=this.editor.commands.get("imageStyle"),h=new ht(a);return h.set({label:r.title,icon:r.icon,tooltip:!0,isToggleable:!0}),h.bind("isEnabled").to(u,"isEnabled"),h.bind("isOn").to(u,"value",f=>f===o),h.on("execute",this._executeCommand.bind(this,o)),h})}_executeCommand(r){this.editor.execute("imageStyle",{value:r}),this.editor.editing.view.focus()}}function QD(l,r){for(const o of l)r[o.title]&&(o.title=r[o.title]);return l}function Qg(l){return`imageStyle:${l}`}function YD(l,r){return(l?l+": ":"")+r}class TO extends ne{static get pluginName(){return"IndentEditing"}init(){const r=this.editor;r.commands.add("indent",new db(r)),r.commands.add("outdent",new db(r))}}const yk='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',ZD='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>';class xO extends ne{static get pluginName(){return"IndentUI"}init(){const r=this.editor,o=r.locale,a=r.t,u="ltr"==o.uiLanguageDirection?yk:ZD,h="ltr"==o.uiLanguageDirection?ZD:yk;this._defineButton("indent",a("Increase indent"),u),this._defineButton("outdent",a("Decrease indent"),h)}_defineButton(r,o,a){const u=this.editor;u.ui.componentFactory.add(r,h=>{const f=u.commands.get(r),g=new ht(h);return g.set({label:o,icon:a,tooltip:!0}),g.bind("isEnabled").to(f,"isEnabled"),this.listenTo(g,"execute",()=>{u.execute(r),u.editing.view.focus()}),g})}}class Gh extends st{constructor(r,o){super(r),this._indentBehavior=o}refresh(){const r=Vn(this.editor.model.document.selection.getSelectedBlocks());this.isEnabled=!(!r||!this._isIndentationChangeAllowed(r))&&this._indentBehavior.checkEnabled(r.getAttribute("blockIndent"))}execute(){const r=this.editor.model,o=this._getBlocksToChange();r.change(a=>{for(const u of o){const h=u.getAttribute("blockIndent"),f=this._indentBehavior.getNextIndent(h);f?a.setAttribute("blockIndent",f,u):a.removeAttribute("blockIndent",u)}})}_getBlocksToChange(){return Array.from(this.editor.model.document.selection.getSelectedBlocks()).filter(o=>this._isIndentationChangeAllowed(o))}_isIndentationChangeAllowed(r){const o=this.editor;return!(!o.model.schema.checkAttribute(r,"blockIndent")||o.plugins.has("DocumentListUtils")&&this._indentBehavior.isForward&&o.plugins.get("DocumentListUtils").isListItemBlock(r))}}class bo{constructor(r){this.isForward="forward"===r.direction,this.offset=r.offset,this.unit=r.unit}checkEnabled(r){const o=parseFloat(r||"0");return this.isForward||o>0}getNextIndent(r){const o=parseFloat(r||"0");if(r&&!r.endsWith(this.unit))return this.isForward?this.offset+this.unit:void 0;const a=o+(this.isForward?this.offset:-this.offset);return a>0?a+this.unit:void 0}}class JD{constructor(r){this.isForward="forward"===r.direction,this.classes=r.classes}checkEnabled(r){const o=this.classes.indexOf(r);return this.isForward?o<this.classes.length-1:o>=0}getNextIndent(r){const o=this.classes.indexOf(r);return this.classes[o+(this.isForward?1:-1)]}}const SO=["paragraph","heading1","heading2","heading3","heading4","heading5","heading6"];class XD{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(r){Array.isArray(r)?r.forEach(o=>this._definitions.add(o)):this._definitions.add(r)}getDispatcher(){return r=>{r.on("attribute:linkHref",(o,a,u)=>{if(!u.consumable.test(a.item,"attribute:linkHref")||!a.item.is("selection")&&!u.schema.isInline(a.item))return;const h=u.writer,f=h.document.selection;for(const g of this._definitions){const _=h.createAttributeElement("a",g.attributes,{priority:5});g.classes&&h.addClass(g.classes,_);for(const b in g.styles)h.setStyle(b,g.styles[b],_);h.setCustomProperty("link",!0,_),g.callback(a.attributeNewValue)?a.item.is("selection")?h.wrap(f.getFirstRange(),_):h.wrap(u.mapper.toViewRange(a.range),_):h.unwrap(u.mapper.toViewRange(a.range),_)}},{priority:"high"})}}getDispatcherForLinkedImage(){return r=>{r.on("attribute:linkHref:imageBlock",(o,a,{writer:u,mapper:h})=>{const f=h.toViewElement(a.item),g=Array.from(f.getChildren()).find(_=>_.is("element","a"));for(const _ of this._definitions){const b=Us(_.attributes);if(_.callback(a.attributeNewValue)){for(const[w,v]of b)"class"===w?u.addClass(v,g):u.setAttribute(w,v,g);_.classes&&u.addClass(_.classes,g);for(const w in _.styles)u.setStyle(w,_.styles[w],g)}else{for(const[w,v]of b)"class"===w?u.removeClass(v,g):u.removeAttribute(w,g);_.classes&&u.removeClass(_.classes,g);for(const w in _.styles)u.removeStyle(w,g)}}})}}}var wk=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const kk=function(l){return wk.test(l)};var vk="\\ud800-\\udfff",tT="["+vk+"]",Ck="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Ak="\\ud83c[\\udffb-\\udfff]",Yg="[^"+vk+"]",Zg="(?:\\ud83c[\\udde6-\\uddff]){2}",Ek="[\\ud800-\\udbff][\\udc00-\\udfff]",Jg="(?:"+Ck+"|"+Ak+")?",Xg="[\\ufe0e\\ufe0f]?",PO=Xg+Jg+"(?:\\u200d(?:"+[Yg,Zg,Ek].join("|")+")"+Xg+Jg+")*",RO="(?:"+[Yg+Ck+"?",Ck,Zg,Ek,tT].join("|")+")",NO=RegExp(Ak+"(?="+Ak+")|"+RO+PO,"g");const Ik=function(r){r=bb(r);var o=kk(r)?function(l){return kk(l)?function(l){return l.match(NO)||[]}(l):function(l){return l.split("")}(l)}(r):void 0,a=o?o[0]:r.charAt(0),u=o?function(l,r,o){var a=l.length;return _A(l,1,o=void 0===o?a:o)}(o).join(""):r.slice(1);return a.toUpperCase()+u},rT=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,LO=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,iT=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,oT=/^((\w+:(\/{2,})?)|(\W))/i,Dk="Ctrl+K";function Tk(l,{writer:r}){const o=r.createAttributeElement("a",{href:l},{priority:5});return r.setCustomProperty("link",!0,o),o}function xk(l){const r=String(l);return r.replace(rT,"").match(LO)?r:"#"}function Sk(l,r){return!!l&&r.checkAttribute(l.name,"linkHref")}function em(l,r){const o=iT.test(l)?"mailto:":r,u=!!o&&!sT(l);return l&&u?o+l:l}function sT(l){return oT.test(l)}function Kr(l){window.open(l,"_blank","noopener")}class cu extends st{constructor(){super(...arguments),this.manualDecorators=new ii,this.automaticDecorators=new XD}restoreManualDecoratorStates(){for(const r of this.manualDecorators)r.value=this._getDecoratorStateFromModel(r.id)}refresh(){const r=this.editor.model,o=r.document.selection,a=o.getSelectedElement()||Vn(o.getSelectedBlocks());Sk(a,r.schema)?(this.value=a.getAttribute("linkHref"),this.isEnabled=r.schema.checkAttribute(a,"linkHref")):(this.value=o.getAttribute("linkHref"),this.isEnabled=r.schema.checkAttributeInSelection(o,"linkHref"));for(const u of this.manualDecorators)u.value=this._getDecoratorStateFromModel(u.id)}execute(r,o={}){const a=this.editor.model,u=a.document.selection,h=[],f=[];for(const g in o)o[g]?h.push(g):f.push(g);a.change(g=>{if(u.isCollapsed){const _=u.getFirstPosition();if(u.hasAttribute("linkHref")){const b=aT(u);let w=nu(_,"linkHref",u.getAttribute("linkHref"),a);u.getAttribute("linkHref")===b&&(w=this._updateLinkContent(a,g,w,r)),g.setAttribute("linkHref",r,w),h.forEach(v=>{g.setAttribute(v,!0,w)}),f.forEach(v=>{g.removeAttribute(v,w)}),g.setSelection(g.createPositionAfter(w.end.nodeBefore))}else if(""!==r){const b=Us(u.getAttributes());b.set("linkHref",r),h.forEach(v=>{b.set(v,!0)});const{end:w}=a.insertContent(g.createText(r,b),_);g.setSelection(w)}["linkHref",...h,...f].forEach(b=>{g.removeSelectionAttribute(b)})}else{const _=a.schema.getValidRanges(u.getRanges(),"linkHref"),b=[];for(const v of u.getSelectedBlocks())a.schema.checkAttribute(v,"linkHref")&&b.push(g.createRangeOn(v));const w=b.slice();for(const v of _)this._isRangeToUpdate(v,b)&&w.push(v);for(const v of w){let A=v;if(1===w.length){const E=aT(u);u.getAttribute("linkHref")===E&&(A=this._updateLinkContent(a,g,v,r),g.setSelection(g.createSelection(A)))}g.setAttribute("linkHref",r,A),h.forEach(E=>{g.setAttribute(E,!0,A)}),f.forEach(E=>{g.removeAttribute(E,A)})}}})}_getDecoratorStateFromModel(r){const o=this.editor.model,a=o.document.selection,u=a.getSelectedElement();return Sk(u,o.schema)?u.getAttribute(r):a.getAttribute(r)}_isRangeToUpdate(r,o){for(const a of o)if(a.containsRange(r))return!1;return!0}_updateLinkContent(r,o,a,u){const h=o.createText(u,{linkHref:u});return r.insertContent(h,a)}}function aT(l){if(l.isCollapsed){const r=l.getFirstPosition();return r.textNode&&r.textNode.data}{const r=Array.from(l.getFirstRange().getItems());if(r.length>1)return null;const o=r[0];return o.is("$text")||o.is("$textProxy")?o.data:null}}class VO extends st{refresh(){const r=this.editor.model,o=r.document.selection,a=o.getSelectedElement();this.isEnabled=Sk(a,r.schema)?r.schema.checkAttribute(a,"linkHref"):r.schema.checkAttributeInSelection(o,"linkHref")}execute(){const o=this.editor.model,a=o.document.selection,u=this.editor.commands.get("link");o.change(h=>{const f=a.isCollapsed?[nu(a.getFirstPosition(),"linkHref",a.getAttribute("linkHref"),o)]:o.schema.getValidRanges(a.getRanges(),"linkHref");for(const g of f)if(h.removeAttribute("linkHref",g),u)for(const _ of u.manualDecorators)h.removeAttribute(_.id,g)})}}class O7 extends(Pt()){constructor({id:r,label:o,attributes:a,classes:u,styles:h,defaultValue:f}){super(),this.id=r,this.set("value",void 0),this.defaultValue=f,this.label=o,this.attributes=a,this.classes=u,this.styles=h}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}var FO=ge(9773);Ee()(FO.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Mk=Object.defineProperty,lu=Object.getOwnPropertySymbols,BO=Object.prototype.hasOwnProperty,Pk=Object.prototype.propertyIsEnumerable,lT=(l,r,o)=>r in l?Mk(l,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):l[r]=o,uT=(l,r)=>{for(var o in r||(r={}))BO.call(r,o)&&lT(l,o,r[o]);if(lu)for(var o of lu(r))Pk.call(r,o)&&lT(l,o,r[o]);return l};const dT="automatic",zO=/^(https?:)?\/\//;class jO extends ne{static get pluginName(){return"LinkEditing"}static get requires(){return[_w,KE,mo]}constructor(r){super(r),r.config.define("link",{addTargetToExternalLinks:!1})}init(){const r=this.editor;r.model.schema.extend("$text",{allowAttributes:"linkHref"}),r.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:Tk}),r.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(a,u)=>Tk(xk(a),u)}),r.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:a=>a.getAttribute("href")}}),r.commands.add("link",new cu(r)),r.commands.add("unlink",new VO(r));const o=function(a,u){const h={"Open in a new tab":a("Open in a new tab"),Downloadable:a("Downloadable")};return u.forEach(f=>("label"in f&&h[f.label]&&(f.label=h[f.label]),f)),u}(r.t,function(a){const u=[];if(a)for(const[h,f]of Object.entries(a)){const g=Object.assign({},f,{id:`link${Ik(h)}`});u.push(g)}return u}(r.config.get("link.decorators")));this._enableAutomaticDecorators(o.filter(a=>a.mode===dT)),this._enableManualDecorators(o.filter(a=>"manual"===a.mode)),r.plugins.get(_w).registerAttribute("linkHref"),function(a,u,h,f){const g=a.editing.view,_=new Set;g.document.registerPostFixer(b=>{const w=a.model.document.selection;let v=!1;if(w.hasAttribute(u)){const A=nu(w.getFirstPosition(),u,w.getAttribute(u),a.model),E=a.editing.mapper.toViewRange(A);for(const D of E.getItems())D.is("element","a")&&!D.hasClass(f)&&(b.addClass(f,D),_.add(D),v=!0)}return v}),a.conversion.for("editingDowncast").add(b=>{function w(){g.change(v=>{for(const A of _.values())v.removeClass(f,A),_.delete(A)})}b.on("insert",w,{priority:"highest"}),b.on("remove",w,{priority:"highest"}),b.on("attribute",w,{priority:"highest"}),b.on("selection",w,{priority:"highest"})})}(r,"linkHref",0,"ck-link_selected"),this._enableLinkOpen(),this._enableInsertContentSelectionAttributesFixer(),this._enableClickingAfterLink(),this._enableTypingOverLink(),this._handleDeleteContentAfterLink(),this._enableClipboardIntegration()}_enableAutomaticDecorators(r){const o=this.editor,a=o.commands.get("link").automaticDecorators;o.config.get("link.addTargetToExternalLinks")&&a.add({id:"linkIsExternal",mode:dT,callback:u=>!!u&&zO.test(u),attributes:{target:"_blank",rel:"noopener noreferrer"}}),a.add(r),a.length&&o.conversion.for("downcast").add(a.getDispatcher())}_enableManualDecorators(r){if(!r.length)return;const o=this.editor,a=o.commands.get("link").manualDecorators;r.forEach(u=>{o.model.schema.extend("$text",{allowAttributes:u.id});const h=new O7(u);a.add(h),o.conversion.for("downcast").attributeToElement({model:h.id,view:(f,{writer:g,schema:_},{item:b})=>{if((b.is("selection")||_.isInline(b))&&f){const w=g.createAttributeElement("a",h.attributes,{priority:5});h.classes&&g.addClass(h.classes,w);for(const v in h.styles)g.setStyle(v,h.styles[v],w);return g.setCustomProperty("link",!0,w),w}}}),o.conversion.for("upcast").elementToAttribute({view:uT({name:"a"},h._createPattern()),model:{key:h.id}})})}_enableLinkOpen(){const r=this.editor,o=r.editing.view.document;this.listenTo(o,"click",(a,u)=>{if(!(F.isMac?u.domEvent.metaKey:u.domEvent.ctrlKey))return;let h=u.domTarget;if("a"!=h.tagName.toLowerCase()&&(h=h.closest("a")),!h)return;const f=h.getAttribute("href");f&&(a.stop(),u.preventDefault(),Kr(f))},{context:"$capture"}),this.listenTo(o,"keydown",(a,u)=>{const h=r.commands.get("link").value;h&&u.keyCode===Ge.enter&&u.altKey&&(a.stop(),Kr(h))})}_enableInsertContentSelectionAttributesFixer(){const r=this.editor.model,o=r.document.selection;this.listenTo(r,"insertContent",()=>{const a=o.anchor.nodeBefore,u=o.anchor.nodeAfter;o.hasAttribute("linkHref")&&a&&a.hasAttribute("linkHref")&&(u&&u.hasAttribute("linkHref")||r.change(h=>{$h(h,Nk(r.schema))}))},{priority:"low"})}_enableClickingAfterLink(){const r=this.editor,o=r.model;r.editing.view.addObserver(Yd);let a=!1;this.listenTo(r.editing.view.document,"mousedown",()=>{a=!0}),this.listenTo(r.editing.view.document,"selectionChange",()=>{if(!a)return;a=!1;const u=o.document.selection;if(!u.isCollapsed||!u.hasAttribute("linkHref"))return;const h=u.getFirstPosition(),f=nu(h,"linkHref",u.getAttribute("linkHref"),o);(h.isTouching(f.start)||h.isTouching(f.end))&&o.change(g=>{$h(g,Nk(o.schema))})})}_enableTypingOverLink(){const r=this.editor;let a=null,u=!1;this.listenTo(r.editing.view.document,"delete",()=>{u=!0},{priority:"high"}),this.listenTo(r.model,"deleteContent",()=>{const h=r.model.document.selection;h.isCollapsed||(u?u=!1:Rk(r)&&function(f){const g=f.document.selection,_=g.getFirstPosition(),b=g.getLastPosition(),w=_.nodeAfter;return!!(w&&w.is("$text")&&w.hasAttribute("linkHref"))&&(w===(b.textNode||b.nodeBefore)||nu(_,"linkHref",w.getAttribute("linkHref"),f).containsRange(f.createRange(_,b),!0))}(r.model)&&(a=h.getAttributes()))},{priority:"high"}),this.listenTo(r.model,"insertContent",(h,[f])=>{u=!1,Rk(r)&&a&&(r.model.change(g=>{for(const[_,b]of a)g.setAttribute(_,b,f)}),a=null)},{priority:"high"})}_handleDeleteContentAfterLink(){const r=this.editor,o=r.model,a=o.document.selection;let h=!1,f=!1;this.listenTo(r.editing.view.document,"delete",(g,_)=>{f="backward"===_.direction},{priority:"high"}),this.listenTo(o,"deleteContent",()=>{h=!1;const g=a.getFirstPosition(),_=a.getAttribute("linkHref");if(!_)return;const b=nu(g,"linkHref",_,o);h=b.containsPosition(g)||b.end.isEqual(g)},{priority:"high"}),this.listenTo(o,"deleteContent",()=>{f&&(f=!1,h||r.model.enqueueChange(g=>{$h(g,Nk(o.schema))}))},{priority:"low"})}_enableClipboardIntegration(){const r=this.editor,o=r.model,a=this.editor.config.get("link.defaultProtocol");a&&this.listenTo(r.plugins.get("ClipboardPipeline"),"contentInsertion",(u,h)=>{o.change(f=>{const g=f.createRangeIn(h.content);for(const _ of g.getItems())if(_.hasAttribute("linkHref")){const b=em(_.getAttribute("linkHref"),a);f.setAttribute("linkHref",b,_)}})})}}function $h(l,r){l.removeSelectionAttribute("linkHref");for(const o of r)l.removeSelectionAttribute(o)}function Rk(l){return l.model.change(r=>r.batch).isTyping}function Nk(l){return l.getDefinition("$text").allowAttributes.filter(r=>r.startsWith("link"))}var qh=ge(7754);Ee()(qh.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class L7 extends Be{constructor(r,o){super(r),this.focusTracker=new Pr,this.keystrokes=new Ai,this._focusables=new _s;const a=r.t;this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(a("Save"),It.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(a("Cancel"),It.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(o),this.children=this._createFormChildren(o.manualDecorators),this._focusCycler=new ys({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const u=["ck","ck-link-form","ck-responsive-form"];o.manualDecorators.length&&u.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:u,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((r,o)=>(r[o.name]=o.isOn,r),{})}render(){super.render(),ig({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(r=>{this._focusables.add(r),this.focusTracker.add(r.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const r=this.locale.t,o=new zl(this.locale,Ri);return o.label=r("Link URL"),o}_createButton(r,o,a,u){const h=new ht(this.locale);return h.set({label:r,icon:o,tooltip:!0}),h.extendTemplate({attributes:{class:a}}),u&&h.delegate("execute").to(this,u),h}_createManualDecoratorSwitches(r){const o=this.createCollection();for(const a of r.manualDecorators){const u=new Bl(this.locale);u.set({name:a.id,label:a.label,withText:!0}),u.bind("isOn").toMany([a,r],"value",(h,f)=>void 0===f&&void 0===h?!!a.defaultValue:!!h),u.on("execute",()=>{a.set("value",!u.isOn)}),o.add(u)}return o}_createFormChildren(r){const o=this.createCollection();if(o.add(this.urlInputView),r.length){const a=new Be;a.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(u=>({tag:"li",children:[u],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),o.add(a)}return o.add(this.saveButtonView),o.add(this.cancelButtonView),o}}var Lk=ge(2347);Ee()(Lk.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class hT extends Be{constructor(r){super(r),this.focusTracker=new Pr,this.keystrokes=new Ai,this._focusables=new _s;const o=r.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(o("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(o("Edit link"),It.pencil,"edit"),this.set("href",void 0),this._focusCycler=new ys({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(r=>{this._focusables.add(r),this.focusTracker.add(r.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(r,o,a){const u=new ht(this.locale);return u.set({label:r,icon:o,tooltip:!0}),u.delegate("execute").to(this,a),u}_createPreviewButton(){const r=new ht(this.locale),o=this.bindTemplate,a=this.t;return r.set({withText:!0,tooltip:a("Open link in new tab")}),r.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:o.to("href",u=>u&&xk(u)),target:"_blank",rel:"noopener noreferrer"}}),r.bind("label").to(this,"href",u=>u||a("This link has no URL")),r.bind("isEnabled").to(this,"href",u=>!!u),r.template.tag="a",r.template.eventListeners={},r}}const di="link-ui";class HO extends ne{constructor(){super(...arguments),this.actionsView=null,this.formView=null}static get requires(){return[wh]}static get pluginName(){return"LinkUI"}init(){const r=this.editor;r.editing.view.addObserver(cR),this._balloon=r.plugins.get(wh),this._createToolbarLinkButton(),this._enableBalloonActivators(),r.conversion.for("editingDowncast").markerToHighlight({model:di,view:{classes:["ck-fake-link-selection"]}}),r.conversion.for("editingDowncast").markerToElement({model:di,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const r=this.editor,o=new hT(r.locale),a=r.commands.get("link"),u=r.commands.get("unlink");return o.bind("href").to(a,"value"),o.editButtonView.bind("isEnabled").to(a),o.unlinkButtonView.bind("isEnabled").to(u),this.listenTo(o,"edit",()=>{this._addFormView()}),this.listenTo(o,"unlink",()=>{r.execute("unlink"),this._hideUI()}),o.keystrokes.set("Esc",(h,f)=>{this._hideUI(),f()}),o.keystrokes.set(Dk,(h,f)=>{this._addFormView(),f()}),o}_createFormView(){const r=this.editor,o=r.commands.get("link"),a=r.config.get("link.defaultProtocol"),u=new(Ay(L7))(r.locale,o);return u.urlInputView.fieldView.bind("value").to(o,"value"),u.urlInputView.bind("isEnabled").to(o,"isEnabled"),u.saveButtonView.bind("isEnabled").to(o),this.listenTo(u,"submit",()=>{const{value:h}=u.urlInputView.fieldView.element,f=em(h,a);r.execute("link",f,u.getDecoratorSwitchesState()),this._closeFormView()}),this.listenTo(u,"cancel",()=>{this._closeFormView()}),u.keystrokes.set("Esc",(h,f)=>{this._closeFormView(),f()}),u}_createToolbarLinkButton(){const r=this.editor,o=r.commands.get("link"),a=r.t;r.ui.componentFactory.add("link",u=>{const h=new ht(u);return h.isEnabled=!0,h.label=a("Link"),h.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',h.keystroke=Dk,h.tooltip=!0,h.isToggleable=!0,h.bind("isEnabled").to(o,"isEnabled"),h.bind("isOn").to(o,"value",f=>!!f),this.listenTo(h,"execute",()=>this._showUI(!0)),h})}_enableBalloonActivators(){const r=this.editor;this.listenTo(r.editing.view.document,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),r.keystrokes.set(Dk,(a,u)=>{u(),r.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(r,o)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),o())},{priority:"high"}),this.editor.keystrokes.set("Esc",(r,o)=>{this._isUIVisible&&(this._hideUI(),o())}),Ll({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const r=this.editor.commands.get("link");this.formView.disableCssTransitions(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions(),this.formView.urlInputView.fieldView.element.value=r.value||""}_closeFormView(){const r=this.editor.commands.get("link");r.restoreManualDecoratorStates(),void 0!==r.value?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(r=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),r&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),r&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const r=this.editor;this.stopListening(r.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),r.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const r=this.editor,o=r.editing.view.document;let a=this._getSelectedLinkElement(),u=f();const h=()=>{const g=this._getSelectedLinkElement(),_=f();a&&!g||!a&&_!==u?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),a=g,u=_};function f(){return o.selection.focus.getAncestors().reverse().find(g=>g.is("element"))}this.listenTo(r.ui,"update",h),this.listenTo(this._balloon,"change:visibleView",h)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){return!!this.formView&&this._balloon.visibleView==this.formView||this._areActionsVisible}_getBalloonPositionData(){const r=this.editor.editing.view,a=r.document;let u;if(this.editor.model.markers.has(di)){const h=Array.from(this.editor.editing.mapper.markerNameToElements(di)),f=r.createRange(r.createPositionBefore(h[0]),r.createPositionAfter(h[h.length-1]));u=r.domConverter.viewRangeToDom(f)}else u=()=>{const h=this._getSelectedLinkElement();return h?r.domConverter.mapViewToDom(h):r.domConverter.viewRangeToDom(a.selection.getFirstRange())};return{target:u}}_getSelectedLinkElement(){const r=this.editor.editing.view,o=r.document.selection,a=o.getSelectedElement();if(o.isCollapsed||a&&er(a))return tm(o.getFirstPosition());{const u=o.getFirstRange().getTrimmed(),h=tm(u.start),f=tm(u.end);return h&&h==f&&r.createRangeIn(h).getTrimmed().isEqual(u)?h:null}}_showFakeVisualSelection(){const r=this.editor.model;r.change(o=>{const a=r.document.selection.getFirstRange();if(r.markers.has(di))o.updateMarker(di,{range:a});else if(a.start.isAtEnd){const u=a.start.getLastMatchingPosition(({item:h})=>!r.schema.isContent(h),{boundaries:a});o.addMarker(di,{usingOperation:!1,affectsData:!1,range:o.createRange(u,a.end)})}else o.addMarker(di,{usingOperation:!1,affectsData:!1,range:a})})}_hideFakeVisualSelection(){const r=this.editor.model;r.markers.has(di)&&r.change(o=>{o.removeMarker(di)})}}function tm(l){return l.getAncestors().find(r=>{return(o=r).is("attributeElement")&&!!o.getCustomProperty("link");var o})||null}const Vk=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class V7 extends ne{static get requires(){return[Bo]}static get pluginName(){return"AutoLink"}init(){const r=this.editor.model.document.selection;r.on("change:range",()=>{this.isEnabled=!r.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling()}_enableTypingHandling(){const r=this.editor,o=new eu(r.model,a=>{if(!((h=a).length>4&&" "===h[h.length-1]&&" "!==h[h.length-2]))return;var h;const u=fT(a.substr(0,a.length-1));return u?{url:u}:void 0});o.on("matched:data",(a,u)=>{const{batch:h,range:f,url:g}=u;if(!h.isTyping)return;const _=f.end.getShiftedBy(-1),b=_.getShiftedBy(-g.length),w=r.model.createRange(b,_);this._applyAutoLink(g,w)}),o.bind("isEnabled").to(this)}_enableEnterHandling(){const r=this.editor,o=r.model,a=r.commands.get("enter");a&&a.on("execute",()=>{const u=o.document.selection.getFirstPosition();if(!u.parent.previousSibling)return;const h=o.createRangeIn(u.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(h)})}_enableShiftEnterHandling(){const r=this.editor,o=r.model,a=r.commands.get("shiftEnter");a&&a.on("execute",()=>{const u=o.document.selection.getFirstPosition(),h=o.createRange(o.createPositionAt(u.parent,0),u.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(h)})}_checkAndApplyAutoLinkOnRange(r){const o=this.editor.model,{text:a,range:u}=mw(r,o),h=fT(a);if(h){const f=o.createRange(u.end.getShiftedBy(-h.length),u.end);this._applyAutoLink(h,f)}}_applyAutoLink(r,o){const a=this.editor.model,u=em(r,this.editor.config.get("link.defaultProtocol"));var f;this.isEnabled&&(f=a).schema.checkAttributeInSelection(f.createSelection(o),"linkHref")&&sT(u)&&!function(h){const f=h.start.nodeAfter;return!!f&&f.hasAttribute("linkHref")}(o)&&this._persistAutoLink(u,o)}_persistAutoLink(r,o){const a=this.editor.model,u=this.editor.plugins.get("Delete");a.enqueueChange(h=>{h.setAttribute("linkHref",r,o),a.enqueueChange(()=>{u.requestUndoOnBackspace()})})}}function fT(l){const r=Vk.exec(l);return r?r[2]:null}var GO=ge(111);Ee()(GO.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var pT=ge(5730);Ee()(pT.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Fk=ge(4564);function Bk(l,r,o,a){const u=r.parent,h=o.mapper,f=o.writer;let g=h.toViewPosition(a.createPositionBefore(l));const _=uu(l.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:l.getAttribute("listIndent")}),b=l.previousSibling;if(_&&_.getAttribute("listIndent")==l.getAttribute("listIndent")){const w=h.toViewElement(_);g=f.breakContainer(f.createPositionAfter(w))}else if(b&&"listItem"==b.name){g=h.toViewPosition(a.createPositionAt(b,"end"));const w=h.findMappedViewAncestor(g),v=function(A){for(const E of A.getChildren())if("ul"==E.name||"ol"==E.name)return E;return null}(w);g=v?f.createPositionBefore(v):f.createPositionAt(w,"end")}else g=h.toViewPosition(a.createPositionBefore(l));if(g=mT(g),f.insert(g,u),b&&"listItem"==b.name){const w=h.toViewElement(b),v=f.createRange(f.createPositionAt(w,0),g).getWalker({ignoreElementEnd:!0});for(const A of v)if(A.item.is("element","li")){const E=f.breakContainer(f.createPositionBefore(A.item)),D=A.item.parent,x=f.createPositionAt(r,"end");Xi(f,x.nodeBefore,x.nodeAfter),f.move(f.createRangeOn(D),x),v._position=E}}else{const w=u.nextSibling;if(w&&(w.is("element","ul")||w.is("element","ol"))){let v=null;for(const A of w.getChildren()){const E=h.toModelElement(A);if(!(E&&E.getAttribute("listIndent")>l.getAttribute("listIndent")))break;v=A}v&&(f.breakContainer(f.createPositionAfter(v)),f.move(f.createRangeOn(v.parent),f.createPositionAt(r,"end")))}}Xi(f,u,u.nextSibling),Xi(f,u.previousSibling,u)}function Xi(l,r,o){return!r||!o||"ul"!=r.name&&"ol"!=r.name||r.name!=o.name||r.getAttribute("class")!==o.getAttribute("class")?null:l.mergeContainers(l.createPositionAfter(r))}function mT(l){return l.getLastMatchingPosition(r=>r.item.is("uiElement"))}function uu(l,r){const o=!!r.sameIndent,a=!!r.smallerIndent,u=r.listIndent;let h=l;for(;h&&"listItem"==h.name;){const f=h.getAttribute("listIndent");if(o&&u==f||a&&u>f)return h;h="forward"===r.direction?h.nextSibling:h.previousSibling}return null}function zk(l,r,o,a){l.ui.componentFactory.add(r,u=>{const h=l.commands.get(r),f=new ht(u);return f.set({label:o,icon:a,tooltip:!0,isToggleable:!0}),f.bind("isOn","isEnabled").to(h,"value","isEnabled"),f.on("execute",()=>{l.execute(r),l.editing.view.focus()}),f})}function nm(l,r){const o=[],a=l.parent,u={ignoreElementEnd:!1,startPosition:l,shallow:!0,direction:r},h=a.getAttribute("listIndent"),f=[...new Yi(u)].filter(g=>g.item.is("element")).map(g=>g.item);for(const g of f){if(!g.is("element","listItem")||g.getAttribute("listIndent")<h)break;if(!(g.getAttribute("listIndent")>h)){if(g.getAttribute("listType")!==a.getAttribute("listType")||g.getAttribute("listStyle")!==a.getAttribute("listStyle")||g.getAttribute("listReversed")!==a.getAttribute("listReversed")||g.getAttribute("listStart")!==a.getAttribute("listStart"))break;"backward"===r?o.unshift(g):o.push(g)}}return o}function Wh(l){let r=[...l.document.selection.getSelectedBlocks()].filter(o=>o.is("element","listItem")).map(o=>{const a=l.change(u=>u.createPositionAt(o,0));return[...nm(a,"backward"),...nm(a,"forward")]}).flat();return r=[...new Set(r)],r}Ee()(Fk.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const _T=["disc","circle","square"],bT=["decimal","decimal-leading-zero","lower-roman","upper-roman","lower-latin","upper-latin"];function jk(l){return _T.includes(l)?"bulleted":bT.includes(l)?"numbered":null}function KO(){const l=!this.isEmpty&&("ul"==this.getChild(0).name||"ol"==this.getChild(0).name);return this.isEmpty||l?0:DA.call(this)}const yT='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',QO='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>';class wT extends ne{static get pluginName(){return"ListUI"}init(){const r=this.editor.t;zk(this.editor,"numberedList",r("Numbered List"),yT),zk(this.editor,"bulletedList",r("Bulleted List"),QO)}}const F7={},B7={},z7={},j7=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:l,typeAttribute:r,listType:o}of j7)F7[l]=o,B7[l]=r,r&&(z7[r]=l);var YO=ge(4721);Ee()(YO.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class H7 extends Be{constructor(r,o){super(r);const a=this.bindTemplate;this.set("isCollapsed",!1),this.set("label",""),this.buttonView=this._createButtonView(),this.children=this.createCollection(),this.set("_collapsibleAriaLabelUid",void 0),o&&this.children.addMany(o),this.setTemplate({tag:"div",attributes:{class:["ck","ck-collapsible",a.if("isCollapsed","ck-collapsible_collapsed")]},children:[this.buttonView,{tag:"div",attributes:{class:["ck","ck-collapsible__children"],role:"region",hidden:a.if("isCollapsed","hidden"),"aria-labelledby":a.to("_collapsibleAriaLabelUid")},children:this.children}]})}render(){super.render(),this._collapsibleAriaLabelUid=this.buttonView.labelView.element.id}_createButtonView(){const r=new ht(this.locale),o=r.bindTemplate;return r.set({withText:!0,icon:Vy}),r.extendTemplate({attributes:{"aria-expanded":o.to("isOn",a=>String(a))}}),r.bind("label").to(this),r.bind("isOn").to(this,"isCollapsed",a=>!a),r.on("execute",()=>{this.isCollapsed=!this.isCollapsed}),r}}var ZO=ge(6082);Ee()(ZO.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Uk extends Be{constructor(r,{enabledProperties:o,styleButtonViews:a,styleGridAriaLabel:u}){super(r),this.stylesView=null,this.additionalPropertiesCollapsibleView=null,this.startIndexFieldView=null,this.reversedSwitchButtonView=null,this.focusTracker=new Pr,this.keystrokes=new Ai,this.focusables=new _s;const h=["ck","ck-list-properties"];this.children=this.createCollection(),this.focusCycler=new ys({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),o.styles?(this.stylesView=this._createStylesView(a,u),this.children.add(this.stylesView)):h.push("ck-list-properties_without-styles"),(o.startIndex||o.reversed)&&(this._addNumberedListPropertyViews(o),h.push("ck-list-properties_with-numbered-properties")),this.setTemplate({tag:"div",attributes:{class:h},children:this.children})}render(){if(super.render(),this.stylesView){this.focusables.add(this.stylesView),this.focusTracker.add(this.stylesView.element),(this.startIndexFieldView||this.reversedSwitchButtonView)&&(this.focusables.add(this.children.last.buttonView),this.focusTracker.add(this.children.last.buttonView.element));for(const r of this.stylesView.children)this.stylesView.focusTracker.add(r.element);Ws({keystrokeHandler:this.stylesView.keystrokes,focusTracker:this.stylesView.focusTracker,gridItems:this.stylesView.children,numberOfColumns:()=>ze.window.getComputedStyle(this.stylesView.element).getPropertyValue("grid-template-columns").split(" ").length,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection})}if(this.startIndexFieldView){this.focusables.add(this.startIndexFieldView),this.focusTracker.add(this.startIndexFieldView.element);const r=o=>o.stopPropagation();this.keystrokes.set("arrowright",r),this.keystrokes.set("arrowleft",r),this.keystrokes.set("arrowup",r),this.keystrokes.set("arrowdown",r)}this.reversedSwitchButtonView&&(this.focusables.add(this.reversedSwitchButtonView),this.focusTracker.add(this.reversedSwitchButtonView.element)),this.keystrokes.listenTo(this.element)}focus(){this.focusCycler.focusFirst()}focusLast(){this.focusCycler.focusLast()}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createStylesView(r,o){const a=new Be(this.locale);return a.children=a.createCollection(),a.children.addMany(r),a.setTemplate({tag:"div",attributes:{"aria-label":o,class:["ck","ck-list-styles-list"]},children:a.children}),a.children.delegate("execute").to(this),a.focus=function(){this.children.first.focus()},a.focusTracker=new Pr,a.keystrokes=new Ai,a.render(),a.keystrokes.listenTo(a.element),a}_addNumberedListPropertyViews(r){const o=this.locale.t,a=[];r.startIndex&&(this.startIndexFieldView=this._createStartIndexField(),a.push(this.startIndexFieldView)),r.reversed&&(this.reversedSwitchButtonView=this._createReversedSwitchButton(),a.push(this.reversedSwitchButtonView)),r.styles?(this.additionalPropertiesCollapsibleView=new H7(this.locale,a),this.additionalPropertiesCollapsibleView.set({label:o("List properties"),isCollapsed:!0}),this.additionalPropertiesCollapsibleView.buttonView.bind("isEnabled").toMany(a,"isEnabled",(...u)=>u.some(h=>h)),this.additionalPropertiesCollapsibleView.buttonView.on("change:isEnabled",(u,h,f)=>{f||(this.additionalPropertiesCollapsibleView.isCollapsed=!0)}),this.children.add(this.additionalPropertiesCollapsibleView)):this.children.addMany(a)}_createStartIndexField(){const r=this.locale.t,o=new zl(this.locale,ie);return o.set({label:r("Start at"),class:"ck-numbered-list-properties__start-index"}),o.fieldView.set({min:0,step:1,value:1,inputMode:"numeric"}),o.fieldView.on("input",()=>{const a=o.fieldView.element,u=a.valueAsNumber;Number.isNaN(u)||(a.checkValidity()?this.fire("listStart",{startIndex:u}):o.errorText=r("Start index must be greater than 0."))}),o}_createReversedSwitchButton(){const r=this.locale.t,o=new Bl(this.locale);return o.set({withText:!0,label:r("Reversed order"),class:"ck-numbered-list-properties__reversed-order"}),o.delegate("execute").to(this,"listReversed"),o}}var rm=ge(2417);Ee()(rm.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class JO extends ne{static get pluginName(){return"ListPropertiesUI"}init(){const r=this.editor,o=r.locale.t,a=r.config.get("list.properties");a.styles&&r.ui.componentFactory.add("bulletedList",Is({editor:r,parentCommandName:"bulletedList",buttonLabel:o("Bulleted List"),buttonIcon:QO,styleGridAriaLabel:o("Bulleted list styles toolbar"),styleDefinitions:[{label:o("Toggle the disc list style"),tooltip:o("Disc"),type:"disc",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11 27a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0-9a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0-9a3 3 0 1 1 0 6 3 3 0 0 1 0-6z"/></svg>'},{label:o("Toggle the circle list style"),tooltip:o("Circle"),type:"circle",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11 27a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm0-10a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm0-10a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"/></svg>'},{label:o("Toggle the square list style"),tooltip:o("Square"),type:"square",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M14 27v6H8v-6h6zm0-9v6H8v-6h6zm0-9v6H8V9h6z"/></svg>'}]})),(a.styles||a.startIndex||a.reversed)&&r.ui.componentFactory.add("numberedList",Is({editor:r,parentCommandName:"numberedList",buttonLabel:o("Numbered List"),buttonIcon:yT,styleGridAriaLabel:o("Numbered list styles toolbar"),styleDefinitions:[{label:o("Toggle the decimal list style"),tooltip:o("Decimal"),type:"decimal",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M10.29 15V8.531H9.286c-.14.393-.4.736-.778 1.03-.378.295-.728.495-1.05.6v1.121a4.257 4.257 0 0 0 1.595-.936V15h1.235zm3.343 0v-1.235h-1.235V15h1.235zM11.3 24v-1.147H8.848c.064-.111.148-.226.252-.343.104-.117.351-.354.74-.712.39-.357.66-.631.81-.821.225-.288.39-.562.494-.824.104-.263.156-.539.156-.829 0-.51-.182-.936-.545-1.279-.363-.342-.863-.514-1.499-.514-.58 0-1.063.148-1.45.444-.387.296-.617.784-.69 1.463l1.23.124c.024-.36.112-.619.264-.774.153-.155.358-.233.616-.233.26 0 .465.074.613.222.148.148.222.36.222.635 0 .25-.085.501-.255.756-.126.185-.468.536-1.024 1.055-.692.641-1.155 1.156-1.389 1.544-.234.389-.375.8-.422 1.233H11.3zm2.333 0v-1.235h-1.235V24h1.235zM9.204 34.11c.615 0 1.129-.2 1.542-.598.413-.398.62-.88.62-1.446 0-.39-.11-.722-.332-.997a1.5 1.5 0 0 0-.886-.532c.619-.337.928-.788.928-1.353 0-.399-.151-.756-.453-1.073-.366-.386-.852-.58-1.459-.58a2.25 2.25 0 0 0-.96.2 1.617 1.617 0 0 0-.668.55c-.16.232-.28.544-.358.933l1.138.194c.032-.282.123-.495.272-.642.15-.146.33-.22.54-.22.215 0 .386.065.515.194s.193.302.193.518c0 .255-.087.46-.263.613-.176.154-.43.227-.765.218l-.136 1.006c.22-.061.409-.092.567-.092.24 0 .444.09.61.272.168.182.251.428.251.739 0 .328-.087.589-.261.782a.833.833 0 0 1-.644.29.841.841 0 0 1-.607-.242c-.167-.16-.27-.394-.307-.698l-1.196.145c.062.542.285.98.668 1.316.384.335.868.503 1.45.503zm4.43-.11v-1.235h-1.236V34h1.235z"/></svg>'},{label:o("Toggle the decimal with leading zero list style"),tooltip:o("Decimal with leading zero"),type:"decimal-leading-zero",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M5.714 15.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm6.078.914V8.531H10.79c-.14.393-.4.736-.778 1.03-.378.295-.728.495-1.05.6v1.121a4.257 4.257 0 0 0 1.595-.936V15h1.235zm3.344 0v-1.235h-1.235V15h1.235zm-9.422 9.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm7.088.914v-1.147H10.35c.065-.111.149-.226.253-.343.104-.117.35-.354.74-.712.39-.357.66-.631.81-.821.225-.288.39-.562.493-.824.104-.263.156-.539.156-.829 0-.51-.181-.936-.544-1.279-.364-.342-.863-.514-1.499-.514-.58 0-1.063.148-1.45.444-.387.296-.617.784-.69 1.463l1.23.124c.024-.36.112-.619.264-.774.152-.155.357-.233.615-.233.261 0 .465.074.613.222.148.148.222.36.222.635 0 .25-.085.501-.255.756-.126.185-.467.536-1.024 1.055-.691.641-1.154 1.156-1.388 1.544-.235.389-.375.8-.422 1.233h4.328zm2.334 0v-1.235h-1.235V24h1.235zM5.714 34.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm4.992 1.024c.616 0 1.13-.2 1.543-.598.413-.398.62-.88.62-1.446 0-.39-.111-.722-.332-.997a1.5 1.5 0 0 0-.886-.532c.618-.337.927-.788.927-1.353 0-.399-.15-.756-.452-1.073-.366-.386-.853-.58-1.46-.58a2.25 2.25 0 0 0-.96.2 1.617 1.617 0 0 0-.667.55c-.16.232-.28.544-.359.933l1.139.194c.032-.282.123-.495.272-.642.15-.146.33-.22.54-.22.214 0 .386.065.515.194s.193.302.193.518c0 .255-.088.46-.264.613-.175.154-.43.227-.764.218l-.136 1.006c.22-.061.408-.092.566-.092.24 0 .444.09.611.272.167.182.25.428.25.739 0 .328-.086.589-.26.782a.833.833 0 0 1-.644.29.841.841 0 0 1-.607-.242c-.167-.16-.27-.394-.308-.698l-1.195.145c.062.542.284.98.668 1.316.384.335.867.503 1.45.503zm4.43-.11v-1.235h-1.235V34h1.235z"/></svg>'},{label:o("Toggle the lower\u2013roman list style"),tooltip:o("Lower\u2013roman"),type:"lower-roman",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11.88 8.7V7.558h-1.234V8.7h1.234zm0 5.3V9.333h-1.234V14h1.234zm2.5 0v-1.235h-1.234V14h1.235zm-4.75 4.7v-1.142H8.395V18.7H9.63zm0 5.3v-4.667H8.395V24H9.63zm2.5-5.3v-1.142h-1.234V18.7h1.235zm0 5.3v-4.667h-1.234V24h1.235zm2.501 0v-1.235h-1.235V24h1.235zM7.38 28.7v-1.142H6.145V28.7H7.38zm0 5.3v-4.667H6.145V34H7.38zm2.5-5.3v-1.142H8.646V28.7H9.88zm0 5.3v-4.667H8.646V34H9.88zm2.5-5.3v-1.142h-1.234V28.7h1.235zm0 5.3v-4.667h-1.234V34h1.235zm2.501 0v-1.235h-1.235V34h1.235z"/></svg>'},{label:o("Toggle the upper\u2013roman list style"),tooltip:o("Upper-roman"),type:"upper-roman",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11.916 15V8.558h-1.301V15h1.3zm2.465 0v-1.235h-1.235V15h1.235zM9.665 25v-6.442h-1.3V25h1.3zm2.5 0v-6.442h-1.3V25h1.3zm2.466 0v-1.235h-1.235V25h1.235zm-7.216 9v-6.442h-1.3V34h1.3zm2.5 0v-6.442h-1.3V34h1.3zm2.501 0v-6.442h-1.3V34h1.3zm2.465 0v-1.235h-1.235V34h1.235z"/></svg>'},{label:o("Toggle the lower\u2013latin list style"),tooltip:o("Lower-latin"),type:"lower-latin",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M9.62 14.105c.272 0 .528-.05.768-.153s.466-.257.677-.462c.009.024.023.072.044.145.047.161.086.283.119.365h1.221a2.649 2.649 0 0 1-.222-.626c-.04-.195-.059-.498-.059-.908l.013-1.441c0-.536-.055-.905-.165-1.105-.11-.201-.3-.367-.569-.497-.27-.13-.68-.195-1.23-.195-.607 0-1.064.108-1.371.325-.308.217-.525.55-.65 1.002l1.12.202c.076-.217.176-.369.299-.455.123-.086.294-.13.514-.13.325 0 .546.05.663.152.118.101.176.27.176.508v.123c-.222.093-.622.194-1.2.303-.427.082-.755.178-.982.288-.227.11-.403.268-.53.474a1.327 1.327 0 0 0-.188.706c0 .398.138.728.415.988.277.261.656.391 1.136.391zm.368-.87a.675.675 0 0 1-.492-.189.606.606 0 0 1-.193-.448c0-.176.08-.32.241-.435.106-.07.33-.142.673-.215a7.19 7.19 0 0 0 .751-.19v.247c0 .296-.016.496-.048.602a.773.773 0 0 1-.295.409 1.07 1.07 0 0 1-.637.22zm4.645.765v-1.235h-1.235V14h1.235zM10.2 25.105c.542 0 1.003-.215 1.382-.646.38-.43.57-1.044.57-1.84 0-.771-.187-1.362-.559-1.774a1.82 1.82 0 0 0-1.41-.617c-.522 0-.973.216-1.354.65v-2.32H7.594V25h1.147v-.686a1.9 1.9 0 0 0 .67.592c.26.133.523.2.79.2zm-.299-.975c-.354 0-.638-.164-.852-.492-.153-.232-.229-.59-.229-1.073 0-.468.098-.818.295-1.048a.93.93 0 0 1 .738-.345c.302 0 .55.118.743.354.193.236.29.62.29 1.154 0 .5-.096.868-.288 1.1-.192.233-.424.35-.697.35zm4.478.87v-1.235h-1.234V25h1.234zm-4.017 9.105c.6 0 1.08-.142 1.437-.426.357-.284.599-.704.725-1.261l-1.213-.207c-.061.326-.167.555-.316.688a.832.832 0 0 1-.576.2.916.916 0 0 1-.75-.343c-.185-.228-.278-.62-.278-1.173 0-.498.091-.853.274-1.066.183-.212.429-.318.736-.318.232 0 .42.061.565.184.145.123.238.306.28.55l1.216-.22c-.146-.501-.387-.874-.722-1.119-.336-.244-.788-.366-1.356-.366-.695 0-1.245.214-1.653.643-.407.43-.61 1.03-.61 1.8 0 .762.202 1.358.608 1.788.406.431.95.646 1.633.646zM14.633 34v-1.235h-1.235V34h1.235z"/></svg>'},{label:o("Toggle the upper\u2013latin list style"),tooltip:o("Upper-latin"),type:"upper-latin",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="m7.88 15 .532-1.463h2.575L11.549 15h1.415l-2.58-6.442H9.01L6.5 15h1.38zm2.69-2.549H8.811l.87-2.39.887 2.39zM14.88 15v-1.235h-1.234V15h1.234zM9.352 25c.83-.006 1.352-.02 1.569-.044.346-.038.636-.14.872-.305.236-.166.422-.387.558-.664.137-.277.205-.562.205-.855 0-.372-.106-.695-.317-.97-.21-.276-.512-.471-.905-.585a1.51 1.51 0 0 0 .661-.567 1.5 1.5 0 0 0 .244-.83c0-.28-.066-.53-.197-.754a1.654 1.654 0 0 0-.495-.539 1.676 1.676 0 0 0-.672-.266c-.25-.042-.63-.063-1.14-.063H7.158V25h2.193zm.142-3.88H8.46v-1.49h.747c.612 0 .983.007 1.112.022.217.026.38.102.49.226.11.125.165.287.165.486a.68.68 0 0 1-.192.503.86.86 0 0 1-.525.23 11.47 11.47 0 0 1-.944.023h.18zm.17 2.795H8.46v-1.723h1.05c.592 0 .977.03 1.154.092.177.062.313.16.406.295a.84.84 0 0 1 .14.492c0 .228-.06.41-.181.547a.806.806 0 0 1-.473.257c-.126.026-.423.04-.892.04zM14.88 25v-1.235h-1.234V25h1.234zm-5.018 9.11c.691 0 1.262-.17 1.711-.512.45-.341.772-.864.965-1.567l-1.261-.4c-.109.472-.287.818-.536 1.037-.25.22-.547.33-.892.33-.47 0-.85-.173-1.143-.519-.293-.345-.44-.925-.44-1.74 0-.767.15-1.322.447-1.665.297-.343.684-.514 1.162-.514.346 0 .64.096.881.29.242.193.4.457.477.79l1.288-.307c-.147-.516-.367-.911-.66-1.187-.492-.465-1.132-.698-1.92-.698-.902 0-1.63.296-2.184.89-.554.593-.83 1.426-.83 2.498 0 1.014.275 1.813.825 2.397.551.585 1.254.877 2.11.877zM14.88 34v-1.235h-1.234V34h1.234z"/></svg>'}]}))}}function Is({editor:l,parentCommandName:r,buttonLabel:o,buttonIcon:a,styleGridAriaLabel:u,styleDefinitions:h}){const f=l.commands.get(r);return g=>{const _=Pi(g,ch),b=_.buttonView;return _.bind("isEnabled").to(f),_.class="ck-list-styles-dropdown",b.on("execute",()=>{l.execute(r),l.editing.view.focus()}),b.set({label:o,icon:a,tooltip:!0,isToggleable:!0}),b.bind("isOn").to(f,"value",w=>!!w),_.once("change:isOpen",()=>{const w=function({editor:v,dropdownView:A,parentCommandName:E,styleDefinitions:D,styleGridAriaLabel:x}){const P=v.locale,N=v.config.get("list.properties");let H=null;if("numberedList"!=E&&(N.startIndex=!1,N.reversed=!1),N.styles){const ae=v.commands.get("listStyle"),Pe=function({editor:at,listStyleCommand:Xt,parentCommandName:wn}){const yo=at.locale,wo=at.commands.get(wn);return({label:Nt,type:Oe,icon:Ue,tooltip:Zs})=>{const xs=new ht(yo);return xs.set({label:Nt,icon:Ue,tooltip:Zs}),Xt.on("change:value",()=>{xs.isOn=Xt.value===Oe}),xs.on("execute",()=>{wo.value?at.execute("listStyle",Xt.value!==Oe?{type:Oe}:{type:Xt.defaultType}):at.model.change(()=>{at.execute("listStyle",{type:Oe})})}),xs}}({editor:v,parentCommandName:E,listStyleCommand:ae});H=D.filter("function"==typeof ae.isStyleTypeSupported?at=>ae.isStyleTypeSupported(at.type):()=>!0).map(Pe)}const J=new Uk(P,{styleGridAriaLabel:x,enabledProperties:N,styleButtonViews:H});if(N.styles&&dh(A,()=>J.stylesView.children.find(ae=>ae.isOn)),N.startIndex){const ae=v.commands.get("listStart");J.startIndexFieldView.bind("isEnabled").to(ae),J.startIndexFieldView.fieldView.bind("value").to(ae),J.on("listStart",(Pe,ft)=>v.execute("listStart",ft))}if(N.reversed){const ae=v.commands.get("listReversed");J.reversedSwitchButtonView.bind("isEnabled").to(ae),J.reversedSwitchButtonView.bind("isOn").to(ae,"value",Pe=>!!Pe),J.on("listReversed",()=>{v.execute("listReversed",{reversed:!ae.value})})}return J.delegate("execute").to(A),J}({editor:l,dropdownView:_,parentCommandName:r,styleGridAriaLabel:u,styleDefinitions:h});_.panelView.children.add(w)}),_.on("execute",()=>{l.editing.view.focus()}),_}}class vT extends st{constructor(r,o){super(r),this._indentBy="forward"==o?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const r=this.editor.model;let a=Array.from(r.document.selection.getSelectedBlocks());r.change(u=>{const h=a[a.length-1];let f=h.nextSibling;for(;f&&"listItem"==f.name&&f.getAttribute("listIndent")>h.getAttribute("listIndent");)a.push(f),f=f.nextSibling;this._indentBy<0&&(a=a.reverse());for(const g of a){const _=g.getAttribute("listIndent")+this._indentBy;_<0?u.rename(g,"paragraph"):u.setAttribute("listIndent",_,g)}this.fire("_executeCleanup",a)})}_checkEnabled(){const r=Vn(this.editor.model.document.selection.getSelectedBlocks());if(!r||!r.is("element","listItem"))return!1;if(this._indentBy>0){const o=r.getAttribute("listIndent"),a=r.getAttribute("listType");let u=r.previousSibling;for(;u&&u.is("element","listItem")&&u.getAttribute("listIndent")>=o;){if(u.getAttribute("listIndent")==o)return u.getAttribute("listType")==a;u=u.previousSibling}return!1}return!0}}class XO extends st{constructor(r,o){super(r),this.type=o}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(r={}){const o=this.editor.model,u=Array.from(o.document.selection.getSelectedBlocks()).filter(f=>t5(f,o.schema)),h=void 0!==r.forceValue?!r.forceValue:this.value;o.change(f=>{if(h){let g=u[u.length-1].nextSibling,_=Number.POSITIVE_INFINITY,b=[];for(;g&&"listItem"==g.name&&0!==g.getAttribute("listIndent");){const w=g.getAttribute("listIndent");w<_&&(_=w),b.push({element:g,listIndent:w-_}),g=g.nextSibling}b=b.reverse();for(const w of b)f.setAttribute("listIndent",w.listIndent,w.element)}if(!h){let g=Number.POSITIVE_INFINITY;for(const _ of u)_.is("element","listItem")&&_.getAttribute("listIndent")<g&&(g=_.getAttribute("listIndent"));g=0===g?1:g,e5(u,!0,g),e5(u,!1,g)}for(const g of u.reverse())h&&"listItem"==g.name?f.rename(g,"paragraph"):h||"listItem"==g.name?h||"listItem"!=g.name||g.getAttribute("listType")==this.type||f.setAttribute("listType",this.type,g):(f.setAttributes({listType:this.type,listIndent:0},g),f.rename(g,"listItem"));this.fire("_executeCleanup",u)})}_getValue(){const r=Vn(this.editor.model.document.selection.getSelectedBlocks());return!!r&&r.is("element","listItem")&&r.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;const o=this.editor.model.schema,a=Vn(this.editor.model.document.selection.getSelectedBlocks());return!!a&&t5(a,o)}}function e5(l,r,o){const a=r?l[0]:l[l.length-1];if(a.is("element","listItem")){let u=a[r?"previousSibling":"nextSibling"],h=a.getAttribute("listIndent");for(;u&&u.is("element","listItem")&&u.getAttribute("listIndent")>=o;)h>u.getAttribute("listIndent")&&(h=u.getAttribute("listIndent")),u.getAttribute("listIndent")==h&&l[r?"unshift":"push"](u),u=u[r?"previousSibling":"nextSibling"]}}function t5(l,r){return r.checkChild(l.parent,"listItem")&&!r.isObject(l)}class n5 extends ne{static get pluginName(){return"ListUtils"}getListTypeFromListStyleType(r){return jk(r)}getSelectedListItems(r){return Wh(r)}getSiblingNodes(r,o){return nm(r,o)}}function Hk(l){return(r,o,a)=>{const u=a.consumable;if(!u.test(o.item,"insert")||!u.test(o.item,"attribute:listType")||!u.test(o.item,"attribute:listIndent"))return;u.consume(o.item,"insert"),u.consume(o.item,"attribute:listType"),u.consume(o.item,"attribute:listIndent");const h=o.item;Bk(h,function WO(l,r){const o=r.mapper,a=r.writer,u="numbered"==l.getAttribute("listType")?"ol":"ul",h=function(g){const _=g.createContainerElement("li");return _.getFillerOffset=KO,_}(a),f=a.createContainerElement(u,null);return a.insert(a.createPositionAt(f,0),h),o.bindElements(l,h),h}(h,a),a,l)}}const r5=(l,r,o)=>{if(!o.consumable.test(r.item,l.name))return;const a=o.mapper.toViewElement(r.item),u=o.writer;u.breakContainer(u.createPositionBefore(a)),u.breakContainer(u.createPositionAfter(a)),u.rename("numbered"==r.attributeNewValue?"ol":"ul",a.parent)},$7=(l,r,o)=>{o.consumable.consume(r.item,l.name);const a=o.mapper.toViewElement(r.item).parent,u=o.writer;Xi(u,a,a.nextSibling),Xi(u,a.previousSibling,a)},CT=(l,r,o)=>{if(o.consumable.test(r.item,l.name)&&"listItem"!=r.item.name){let a=o.mapper.toViewPosition(r.range.start);const u=o.writer,h=[];for(;("ul"==a.parent.name||"ol"==a.parent.name)&&(a=u.breakContainer(a),"li"==a.parent.name);){const f=a,g=u.createPositionAt(a.parent,"end");if(!f.isEqual(g)){const _=u.remove(u.createRange(f,g));h.push(_)}a=u.createPositionAfter(a.parent)}if(h.length>0){for(let f=0;f<h.length;f++){const g=a.nodeBefore;if(a=u.insert(a,h[f]).end,f>0){const _=Xi(u,g,g.nextSibling);_&&_.parent==g&&a.offset--}}Xi(u,a.nodeBefore,a.nodeAfter)}}},AT=(l,r,o)=>{const a=o.mapper.toViewPosition(r.position);Xi(o.writer,a.nodeBefore,a.nodeAfter)},ET=(l,r,o)=>{if(o.consumable.consume(r.viewItem,{name:!0})){const a=o.writer,u=a.createElement("listItem"),h=function(_){let b=0,w=_.parent;for(;w;){if(w.is("element","li"))b++;else{const v=w.previousSibling;v&&v.is("element","li")&&b++}w=w.parent}return b}(r.viewItem);if(a.setAttribute("listIndent",h,u),a.setAttribute("listType",r.viewItem.parent&&"ol"==r.viewItem.parent.name?"numbered":"bulleted",u),!o.safeInsert(u,r.modelCursor))return;const g=function(_,b,w){const{writer:v,schema:A}=w;let E=v.createPositionAfter(_);for(const D of b)if("ul"==D.name||"ol"==D.name)E=w.convertItem(D,E).modelCursor;else{const x=w.convertItem(D,v.createPositionAt(_,"end")),P=x.modelRange.start.nodeAfter;P&&P.is("element")&&!A.checkChild(_,P.name)&&(_=x.modelCursor.parent.is("element","listItem")?x.modelCursor.parent:DT(x.modelCursor),E=v.createPositionAfter(_))}return E}(u,r.viewItem.getChildren(),o);r.modelRange=a.createRange(r.modelCursor,g),o.updateConversionResult(u,r)}},i5=(l,r,o)=>{if(o.consumable.test(r.viewItem,{name:!0})){const a=Array.from(r.viewItem.getChildren());for(const u of a)!u.is("element","li")&&!Kh(u)&&u._remove()}},qo=(l,r,o)=>{if(o.consumable.test(r.viewItem,{name:!0})){if(0===r.viewItem.childCount)return;const a=[...r.viewItem.getChildren()];let u=!1;for(const h of a)u&&!Kh(h)&&h._remove(),Kh(h)&&(u=!0)}};function IT(l){return(r,o)=>{if(o.isPhantom)return;const a=o.modelPosition.nodeBefore;if(a&&a.is("element","listItem")){const u=o.mapper.toViewElement(a),h=u.getAncestors().find(Kh),f=l.createPositionAt(u,0).getWalker();for(const g of f){if("elementStart"==g.type&&g.item.is("element","li")){o.viewPosition=g.previousPosition;break}if("elementEnd"==g.type&&g.item==h){o.viewPosition=g.nextPosition;break}}}}}const Gk=function(l,[r,o]){let u,h=r.is("documentFragment")?r.getChild(0):r;if(u=o?this.createSelection(o):this.document.selection,h&&h.is("element","listItem")){const f=u.getFirstPosition();let g=null;if(f.parent.is("element","listItem")?g=f.parent:f.nodeBefore&&f.nodeBefore.is("element","listItem")&&(g=f.nodeBefore),g){const _=g.getAttribute("listIndent");if(_>0)for(;h&&h.is("element","listItem");)h._setAttribute("listIndent",h.getAttribute("listIndent")+_),h=h.nextSibling}}};function DT(l){const r=new Yi({startPosition:l});let o;do{o=r.next()}while(!o.value.item.is("element","listItem"));return o.value.item}function TT(l,r,o,a,u,h){const f=uu(r.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:l}),g=u.mapper,_=u.writer,b=f?f.getAttribute("listIndent"):null;let w;if(f)if(b==l){const v=g.toViewElement(f).parent;w=_.createPositionAfter(v)}else{const v=h.createPositionAt(f,"end");w=g.toViewPosition(v)}else w=o;w=mT(w);for(const v of[...a.getChildren()])Kh(v)&&(w=_.move(_.createRangeOn(v),w).end,Xi(_,v,v.nextSibling),Xi(_,v.previousSibling,v))}function Kh(l){return l.is("element","ol")||l.is("element","ul")}class Jt extends ne{static get pluginName(){return"ListEditing"}static get requires(){return[Ih,Bo,n5]}init(){const r=this.editor;r.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const o=r.data,a=r.editing;var u;r.model.document.registerPostFixer(f=>function(g,_){const b=g.document.differ.getChanges(),w=new Map;let v=!1;for(const x of b)if("insert"==x.type&&"listItem"==x.name)A(x.position);else if("insert"==x.type&&"listItem"!=x.name){if("$text"!=x.name){const P=x.position.nodeAfter;P.hasAttribute("listIndent")&&(_.removeAttribute("listIndent",P),v=!0),P.hasAttribute("listType")&&(_.removeAttribute("listType",P),v=!0),P.hasAttribute("listStyle")&&(_.removeAttribute("listStyle",P),v=!0),P.hasAttribute("listReversed")&&(_.removeAttribute("listReversed",P),v=!0),P.hasAttribute("listStart")&&(_.removeAttribute("listStart",P),v=!0);for(const N of Array.from(g.createRangeIn(P)).filter(H=>H.item.is("element","listItem")))A(N.previousPosition)}A(x.position.getShiftedBy(x.length))}else"remove"==x.type&&"listItem"==x.name?A(x.position):("attribute"==x.type&&"listIndent"==x.attributeKey||"attribute"==x.type&&"listType"==x.attributeKey)&&A(x.range.start);for(const x of w.values())E(x),D(x);return v;function A(x){const P=x.nodeBefore;if(P&&P.is("element","listItem")){let N=P;if(w.has(N))return;for(let H=N.previousSibling;H&&H.is("element","listItem");H=N.previousSibling)if(N=H,w.has(N))return;w.set(P,N)}else{const N=x.nodeAfter;N&&N.is("element","listItem")&&w.set(N,N)}}function E(x){let P=0,N=null;for(;x&&x.is("element","listItem");){const H=x.getAttribute("listIndent");if(H>P){let J;null===N?(N=H-P,J=P):(N>H&&(N=H),J=H-N),_.setAttribute("listIndent",J,x),v=!0}else N=null,P=x.getAttribute("listIndent")+1;x=x.nextSibling}}function D(x){let P=[],N=null;for(;x&&x.is("element","listItem");){const H=x.getAttribute("listIndent");if(N&&N.getAttribute("listIndent")>H&&(P=P.slice(0,H+1)),0!=H)if(P[H]){const J=P[H];x.getAttribute("listType")!=J&&(_.setAttribute("listType",J,x),v=!0)}else P[H]=x.getAttribute("listType");N=x,x=x.nextSibling}}}(r.model,f)),a.mapper.registerViewToModelLength("li",$k),o.mapper.registerViewToModelLength("li",$k),a.mapper.on("modelToViewPosition",IT(a.view)),a.mapper.on("viewToModelPosition",(u=r.model,(f,g)=>{const _=g.viewPosition,b=_.parent,w=g.mapper;if("ul"==b.name||"ol"==b.name){if(_.isAtEnd){const v=w.toModelElement(_.nodeBefore),A=w.getModelLength(_.nodeBefore);g.modelPosition=u.createPositionBefore(v).getShiftedBy(A)}else{const v=w.toModelElement(_.nodeAfter);g.modelPosition=u.createPositionBefore(v)}f.stop()}else if("li"==b.name&&_.nodeBefore&&("ul"==_.nodeBefore.name||"ol"==_.nodeBefore.name)){const v=w.toModelElement(b);let A=1,E=_.nodeBefore;for(;E&&Kh(E);)A+=w.getModelLength(E),E=E.previousSibling;g.modelPosition=u.createPositionBefore(v).getShiftedBy(A),f.stop()}})),o.mapper.on("modelToViewPosition",IT(a.view)),r.conversion.for("editingDowncast").add(f=>{var g;f.on("insert",CT,{priority:"high"}),f.on("insert:listItem",Hk(r.model)),f.on("attribute:listType:listItem",r5,{priority:"high"}),f.on("attribute:listType:listItem",$7,{priority:"low"}),f.on("attribute:listIndent:listItem",(g=r.model,(_,b,w)=>{if(!w.consumable.consume(b.item,"attribute:listIndent"))return;const v=w.mapper.toViewElement(b.item),A=w.writer;A.breakContainer(A.createPositionBefore(v)),A.breakContainer(A.createPositionAfter(v));const E=v.parent,D=E.previousSibling,x=A.createRangeOn(E);A.remove(x),D&&D.nextSibling&&Xi(A,D,D.nextSibling),TT(b.attributeOldValue+1,b.range.start,x.start,v,w,g),Bk(b.item,v,w,g);for(const P of b.item.getChildren())w.consumable.consume(P,"insert")})),f.on("remove:listItem",function(g){return(_,b,w)=>{const v=w.mapper.toViewPosition(b.position).getLastMatchingPosition(N=>!N.item.is("element","li")).nodeAfter,A=w.writer;A.breakContainer(A.createPositionBefore(v)),A.breakContainer(A.createPositionAfter(v));const E=v.parent,D=E.previousSibling,x=A.createRangeOn(E),P=A.remove(x);D&&D.nextSibling&&Xi(A,D,D.nextSibling),TT(w.mapper.toModelElement(v).getAttribute("listIndent")+1,b.position,x.start,v,w,g);for(const N of A.createRangeIn(P).getItems())w.mapper.unbindViewElement(N);_.stop()}}(r.model)),f.on("remove",AT,{priority:"low"})}),r.conversion.for("dataDowncast").add(f=>{f.on("insert",CT,{priority:"high"}),f.on("insert:listItem",Hk(r.model))}),r.conversion.for("upcast").add(f=>{f.on("element:ul",i5,{priority:"high"}),f.on("element:ol",i5,{priority:"high"}),f.on("element:li",qo,{priority:"high"}),f.on("element:li",ET)}),r.model.on("insertContent",Gk,{priority:"high"}),r.commands.add("numberedList",new XO(r,"numbered")),r.commands.add("bulletedList",new XO(r,"bulleted")),r.commands.add("indentList",new vT(r,"forward")),r.commands.add("outdentList",new vT(r,"backward"));const h=a.view.document;this.listenTo(h,"enter",(f,g)=>{const _=this.editor.model.document,b=_.selection.getLastPosition().parent;_.selection.isCollapsed&&"listItem"==b.name&&b.isEmpty&&(this.editor.execute("outdentList"),g.preventDefault(),f.stop())},{context:"li"}),this.listenTo(h,"delete",(f,g)=>{if("backward"!==g.direction)return;const _=this.editor.model.document.selection;if(!_.isCollapsed)return;const b=_.getFirstPosition();if(!b.isAtStart)return;const w=b.parent;"listItem"===w.name&&(w.previousSibling&&"listItem"===w.previousSibling.name||(this.editor.execute("outdentList"),g.preventDefault(),f.stop()))},{context:"li"}),this.listenTo(r.editing.view.document,"tab",(f,g)=>{const _=g.shiftKey?"outdentList":"indentList";this.editor.commands.get(_).isEnabled&&(r.execute(_),g.stopPropagation(),g.preventDefault(),f.stop())},{context:"li"})}afterInit(){const r=this.editor.commands,o=r.get("indent"),a=r.get("outdent");o&&o.registerChildCommand(r.get("indentList")),a&&a.registerChildCommand(r.get("outdentList"))}}function $k(l){let r=1;for(const o of l.getChildren())if("ul"==o.name||"ol"==o.name)for(const a of o.getChildren())r+=$k(a);return r}class qk extends st{constructor(r,o){super(r),this.defaultType=o}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(r={}){this._tryToConvertItemsToList(r);const o=this.editor.model,a=Wh(o);a.length&&o.change(u=>{for(const h of a)u.setAttribute("listStyle",r.type||this.defaultType,h)})}_getValue(){const r=this.editor.model.document.selection.getFirstPosition().parent;return r&&r.is("element","listItem")?r.getAttribute("listStyle"):null}_checkEnabled(){const r=this.editor,o=r.commands.get("numberedList"),a=r.commands.get("bulletedList");return o.isEnabled||a.isEnabled}_tryToConvertItemsToList(r){if(!r.type)return;const o=jk(r.type);if(!o)return;const a=this.editor,u=`${o}List`;a.commands.get(u).value||a.execute(u)}}class o5 extends st{refresh(){const r=this._getValue();this.value=r,this.isEnabled=null!=r}execute(r={}){const o=this.editor.model,a=Wh(o).filter(u=>"numbered"==u.getAttribute("listType"));o.change(u=>{for(const h of a)u.setAttribute("listReversed",!!r.reversed,h)})}_getValue(){const r=this.editor.model.document.selection.getFirstPosition().parent;return r&&r.is("element","listItem")&&"numbered"==r.getAttribute("listType")?r.getAttribute("listReversed"):null}}class s5 extends st{refresh(){const r=this._getValue();this.value=r,this.isEnabled=null!=r}execute({startIndex:r=1}={}){const o=this.editor.model,a=Wh(o).filter(u=>"numbered"==u.getAttribute("listType"));o.change(u=>{for(const h of a)u.setAttribute("listStart",r>=0?r:1,h)})}_getValue(){const r=this.editor.model.document.selection.getFirstPosition().parent;return r&&r.is("element","listItem")&&"numbered"==r.getAttribute("listType")?r.getAttribute("listStart"):null}}const du="default";class xT extends ne{static get requires(){return[Jt]}static get pluginName(){return"ListPropertiesEditing"}constructor(r){super(r),r.config.define("list",{properties:{styles:!0,startIndex:!1,reversed:!1}})}init(){const r=this.editor,o=r.model,a=function(h){const f=[];return h.styles&&f.push({attributeName:"listStyle",defaultValue:du,addCommand(g){g.commands.add("listStyle",new qk(g,du))},appliesToListItem:()=>!0,setAttributeOnDowncast(g,_,b){_&&_!==du?g.setStyle("list-style-type",_,b):g.removeStyle("list-style-type",b)},getAttributeOnUpcast:g=>g.getStyle("list-style-type")||du}),h.reversed&&f.push({attributeName:"listReversed",defaultValue:!1,addCommand(g){g.commands.add("listReversed",new o5(g))},appliesToListItem:g=>"numbered"==g.getAttribute("listType"),setAttributeOnDowncast(g,_,b){_?g.setAttribute("reversed","reversed",b):g.removeAttribute("reversed",b)},getAttributeOnUpcast:g=>g.hasAttribute("reversed")}),h.startIndex&&f.push({attributeName:"listStart",defaultValue:1,addCommand(g){g.commands.add("listStart",new s5(g))},appliesToListItem:g=>"numbered"==g.getAttribute("listType"),setAttributeOnDowncast(g,_,b){0==_||_>1?g.setAttribute("start",_,b):g.removeAttribute("start",b)},getAttributeOnUpcast(g){const _=g.getAttribute("start");return _>=0?_:1}}),f}(r.config.get("list.properties"));o.schema.extend("listItem",{allowAttributes:a.map(h=>h.attributeName)});for(const h of a)h.addCommand(r);var u,h,f;this.listenTo(r.commands.get("indentList"),"_executeCleanup",(h=r,f=a,(g,_)=>{const b=_[0],w=b.getAttribute("listIndent"),v=_.filter(E=>E.getAttribute("listIndent")===w);let A=null;b.previousSibling.getAttribute("listIndent")+1!==w&&(A=uu(b.previousSibling,{sameIndent:!0,direction:"backward",listIndent:w})),h.model.change(E=>{for(const D of v)for(const x of f)if(x.appliesToListItem(D)){const P=null==A?x.defaultValue:A.getAttribute(x.attributeName);E.setAttribute(x.attributeName,P,D)}})})),this.listenTo(r.commands.get("outdentList"),"_executeCleanup",function(h,f){return(g,_)=>{if(!(_=_.reverse().filter(A=>A.is("element","listItem"))).length)return;const b=_[0].getAttribute("listIndent"),w=_[0].getAttribute("listType");let v=_[0].previousSibling;if(v.is("element","listItem"))for(;v.getAttribute("listIndent")!==b;)v=v.previousSibling;else v=null;v||(v=_[_.length-1].nextSibling),v&&v.is("element","listItem")&&v.getAttribute("listType")===w&&h.model.change(A=>{const E=_.filter(D=>D.getAttribute("listIndent")===b);for(const D of E)for(const x of f)if(x.appliesToListItem(D)){const P=x.attributeName,N=v.getAttribute(P);A.setAttribute(P,N,D)}})}}(r,a)),this.listenTo(r.commands.get("bulletedList"),"_executeCleanup",Wk(r)),this.listenTo(r.commands.get("numberedList"),"_executeCleanup",Wk(r)),o.document.registerPostFixer(function(h,f){return g=>{let _=!1;const b=Kk(h.model.document.differ.getChanges()).filter(v=>"todo"!==v.getAttribute("listType"));if(!b.length)return _;let w=b[b.length-1].nextSibling;if((!w||!w.is("element","listItem"))&&(w=b[0].previousSibling,w)){const v=b[0].getAttribute("listIndent");for(;w.is("element","listItem")&&w.getAttribute("listIndent")!==v&&(w=w.previousSibling,w););}for(const v of f){const A=v.attributeName;for(const E of b)if(v.appliesToListItem(E))if(E.hasAttribute(A)){const D=E.previousSibling;a5(D,E,v.attributeName)&&(g.setAttribute(A,D.getAttribute(A),E),_=!0)}else ST(w,E,v)?g.setAttribute(A,w.getAttribute(A),E):g.setAttribute(A,v.defaultValue,E),_=!0;else g.removeAttribute(A,E)}return _}}(r,a)),r.conversion.for("upcast").add((u=a,h=>{h.on("element:li",(f,g,_)=>{if(!g.modelRange)return;const b=g.viewItem.parent,w=g.modelRange.start.nodeAfter||g.modelRange.end.nodeBefore;for(const v of u)if(v.appliesToListItem(w)){const A=v.getAttributeOnUpcast(b);_.writer.setAttribute(v.attributeName,A,w)}},{priority:"low"})})),r.conversion.for("downcast").add(function(h){return g=>{for(const _ of h)g.on(`attribute:${_.attributeName}:listItem`,(b,w,v)=>{const A=v.writer,E=w.item,D=uu(E.previousSibling,{sameIndent:!0,listIndent:E.getAttribute("listIndent"),direction:"backward"}),x=v.mapper.toViewElement(E);f(E,D)||A.breakContainer(A.createPositionBefore(x)),_.setAttributeOnDowncast(A,w.attributeNewValue,x.parent)},{priority:"low"})};function f(g,_){return _&&g.getAttribute("listType")===_.getAttribute("listType")&&g.getAttribute("listIndent")===_.getAttribute("listIndent")&&g.getAttribute("listStyle")===_.getAttribute("listStyle")&&g.getAttribute("listReversed")===_.getAttribute("listReversed")&&g.getAttribute("listStart")===_.getAttribute("listStart")}}(a)),this._mergeListAttributesWhileMergingLists(a)}afterInit(){const r=this.editor;var o;r.commands.get("todoList")&&r.model.document.registerPostFixer((o=r,a=>{const u=Kk(o.model.document.differ.getChanges()).filter(h=>"todo"===h.getAttribute("listType")&&(h.hasAttribute("listStyle")||h.hasAttribute("listReversed")||h.hasAttribute("listStart")));if(!u.length)return!1;for(const h of u)a.removeAttribute("listStyle",h),a.removeAttribute("listReversed",h),a.removeAttribute("listStart",h);return!0}))}_mergeListAttributesWhileMergingLists(r){const o=this.editor.model;let a;this.listenTo(o,"deleteContent",(u,[h])=>{const f=h.getFirstPosition(),g=h.getLastPosition();if(f.parent===g.parent||!f.parent.is("element","listItem"))return;const _=g.parent.nextSibling;if(!_||!_.is("element","listItem"))return;const b=uu(f.parent,{sameIndent:!0,listIndent:_.getAttribute("listIndent")});b&&b.getAttribute("listType")===_.getAttribute("listType")&&(a=b)},{priority:"high"}),this.listenTo(o,"deleteContent",()=>{a&&(o.change(u=>{const h=uu(a.nextSibling,{sameIndent:!0,listIndent:a.getAttribute("listIndent"),direction:"forward"});if(!h)return void(a=null);const f=[h,...nm(u.createPositionAt(h,0),"forward")];for(const g of f)for(const _ of r)if(_.appliesToListItem(g)){const b=_.attributeName,w=a.getAttribute(b);u.setAttribute(b,w,g)}}),a=null)},{priority:"low"})}}function ST(l,r,o){if(!l)return!1;const a=l.getAttribute(o.attributeName);return!!a&&a!=o.defaultValue&&l.getAttribute("listType")===r.getAttribute("listType")}function a5(l,r,o){if(!l||!l.is("element","listItem")||r.getAttribute("listType")!==l.getAttribute("listType"))return!1;const a=l.getAttribute("listIndent");if(a<1||a!==r.getAttribute("listIndent"))return!1;const u=l.getAttribute(o);return!(!u||u===r.getAttribute(o))}function Wk(l){return(r,o)=>{o=o.filter(a=>a.is("element","listItem")),l.model.change(a=>{for(const u of o)a.removeAttribute("listStyle",u)})}}function Kk(l){const r=[];for(const o of l){const a=MT(o);a&&a.is("element","listItem")&&r.push(a)}return r}function MT(l){return"attribute"===l.type?l.range.start.nodeAfter:"insert"===l.type?l.position.nodeAfter:null}br("Ctrl+Enter");var Qh=ge(1199);function im(l,r){const o=(a,u,h)=>{if(!h.consumable.consume(u.item,a.name))return;const f=u.attributeNewValue,g=h.writer,_=h.mapper.toViewElement(u.item),b=[..._.getChildren()].find(v=>v.getCustomProperty("media-content"));g.remove(b);const w=l.getMediaViewElement(g,f,r);g.insert(g.createPositionAt(_,0),w)};return a=>{a.on("attribute:url:media",o)}}function PT(l,r,o,a){return l.createContainerElement("figure",{class:"media"},[r.getMediaViewElement(l,o,a),l.createSlot()])}function om(l){const r=l.getSelectedElement();return r&&r.is("element","media")?r:null}function Qs(l,r,o,a){l.change(u=>{const h=u.createElement("media",{url:r});l.insertObject(h,o,null,{setSelection:"on",findOptimalPosition:a?"auto":void 0})})}Ee()(Qh.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),br("Ctrl+Enter");class RT extends st{refresh(){const r=this.editor.model,o=r.document.selection,a=om(o);this.value=a?a.getAttribute("url"):void 0,this.isEnabled=function(u){const h=u.getSelectedElement();return!!h&&"media"===h.name}(o)||function(u,h){let g=Cw(u,h).start.parent;return g.isEmpty&&!h.schema.isLimit(g)&&(g=g.parent),h.schema.checkChild(g,"media")}(o,r)}execute(r){const o=this.editor.model,a=o.document.selection,u=om(a);u?o.change(h=>{h.setAttribute("url",r,u)}):Qs(o,r,a,!0)}}class Yk{constructor(r,o){const a=o.providers,u=o.extraProviders||[],h=new Set(o.removeProviders),f=a.concat(u).filter(g=>{const _=g.name;return _?!h.has(_):(ke("media-embed-no-provider-name",{provider:g}),!1)});this.locale=r,this.providerDefinitions=f}hasMedia(r){return!!this._getMedia(r)}getMediaViewElement(r,o,a){return this._getMedia(o).getViewElement(r,a)}_getMedia(r){if(!r)return new sm(this.locale);r=r.trim();for(const o of this.providerDefinitions){const a=o.html,u=Hn(o.url);for(const h of u){const f=this._getUrlMatches(r,h);if(f)return new sm(this.locale,r,f,a)}}return null}_getUrlMatches(r,o){let a=r.match(o);if(a)return a;let u=r.replace(/^https?:\/\//,"");return a=u.match(o),a||(u=u.replace(/^www\./,""),a=u.match(o),a||null)}}class sm{constructor(r,o,a,u){this.url=this._getValidUrl(o),this._locale=r,this._match=a,this._previewRenderer=u}getViewElement(r,o){const a={};let u;if(o.renderForEditingView||o.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(a["data-oembed-url"]=this.url),o.renderForEditingView&&(a.class="ck-media__wrapper");const h=this._getPreviewHtml(o);u=r.createRawElement("div",a,(f,g)=>{g.setContentOf(f,h)})}else this.url&&(a.url=this.url),u=r.createEmptyElement(o.elementName,a);return r.setCustomProperty("media-content",!0,u),u}_getPreviewHtml(r){return this._previewRenderer?this._previewRenderer(this._match):this.url&&r.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const r=new Dc,o=this._locale.t;return r.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',r.viewBox="0 0 64 42",new Lo({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[r]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":o("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(r){return r?r.match(/^https?/)?r:"https://"+r:null}}var NT=ge(7442);Ee()(NT.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Yh extends ne{constructor(r){super(r),r.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:o=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${o[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:o=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${o[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:o=>{const u=o[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${o[1]}${u?`?start=${u}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:o=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${o[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new Yk(r.locale,r.config.get("mediaEmbed"))}static get pluginName(){return"MediaEmbedEditing"}init(){const r=this.editor,o=r.model.schema,a=r.t,u=r.conversion,h=r.config.get("mediaEmbed.previewsInData"),f=r.config.get("mediaEmbed.elementName"),g=this.registry;r.commands.add("mediaEmbed",new RT(r)),o.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),u.for("dataDowncast").elementToStructure({model:"media",view:(_,{writer:b})=>{const w=_.getAttribute("url");return PT(b,g,w,{elementName:f,renderMediaPreview:!!w&&h})}}),u.for("dataDowncast").add(im(g,{elementName:f,renderMediaPreview:h})),u.for("editingDowncast").elementToStructure({model:"media",view:(_,{writer:b})=>{const w=_.getAttribute("url");return v=PT(b,g,w,{elementName:f,renderForEditingView:!0}),A=b,E=a("media widget"),A.setCustomProperty("media",!0,v),vw(v,A,{label:E});var v,A,E}}),u.for("editingDowncast").add(im(g,{elementName:f,renderForEditingView:!0})),u.for("upcast").elementToElement({view:_=>["oembed",f].includes(_.name)&&_.getAttribute("url")?{name:!0}:null,model:(_,{writer:b})=>{const w=_.getAttribute("url");return g.hasMedia(w)?b.createElement("media",{url:w}):null}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(_,{writer:b})=>{const w=_.getAttribute("data-oembed-url");return g.hasMedia(w)?b.createElement("media",{url:w}):null}}).add(_=>{_.on("element:figure",(b,w,v)=>{if(!v.consumable.consume(w.viewItem,{name:!0,classes:"media"}))return;const{modelRange:A,modelCursor:E}=v.convertChildren(w.viewItem,w.modelCursor);w.modelRange=A,w.modelCursor=E,Vn(A.getItems())||v.consumable.revert(w.viewItem,{name:!0,classes:"media"})})})}}const c5=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class OT extends ne{constructor(r){super(r),this._timeoutId=null,this._positionToInsert=null}static get requires(){return[zo,Bo,Ph]}static get pluginName(){return"AutoMediaEmbed"}init(){const r=this.editor,o=r.model.document,a=r.plugins.get("ClipboardPipeline");this.listenTo(a,"inputTransformation",()=>{const u=o.selection.getFirstRange(),h=kr.fromPosition(u.start);h.stickiness="toPrevious";const f=kr.fromPosition(u.end);f.stickiness="toNext",o.once("change:data",()=>{this._embedMediaBetweenPositions(h,f),h.detach(),f.detach()},{priority:"high"})}),r.commands.get("undo").on("execute",()=>{this._timeoutId&&(ze.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(r,o){const a=this.editor,u=a.plugins.get(Yh).registry,h=new Nr(r,o),f=h.getWalker({ignoreElementEnd:!0});let g="";for(const _ of f)_.item.is("$textProxy")&&(g+=_.item.data);g=g.trim(),g.match(c5)&&u.hasMedia(g)&&a.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=kr.fromPosition(r),this._timeoutId=ze.window.setTimeout(()=>{a.model.change(_=>{this._timeoutId=null,_.remove(h),h.detach();let b=null;"$graveyard"!==this._positionToInsert.root.rootName&&(b=this._positionToInsert),Qs(a.model,g,b,!1),this._positionToInsert.detach(),this._positionToInsert=null}),a.plugins.get(Bo).requestUndoOnBackspace()},100)):h.detach()}}var LT=ge(9292);Ee()(LT.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class VT extends Be{constructor(r,o){super(o);const a=o.t;this.focusTracker=new Pr,this.keystrokes=new Ai,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(a("Save"),It.check,"ck-button-save"),this.saveButtonView.type="submit",this.saveButtonView.bind("isEnabled").to(this,"mediaURLInputValue",u=>!!u),this.cancelButtonView=this._createButton(a("Cancel"),It.cancel,"ck-button-cancel","cancel"),this._focusables=new _s,this._focusCycler=new ys({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=r,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),ig({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(o=>{this._focusables.add(o),this.focusTracker.add(o.element)}),this.keystrokes.listenTo(this.element);const r=o=>o.stopPropagation();this.keystrokes.set("arrowright",r),this.keystrokes.set("arrowleft",r),this.keystrokes.set("arrowup",r),this.keystrokes.set("arrowdown",r)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(r){this.urlInputView.fieldView.element.value=r.trim()}isValid(){this.resetFormStatus();for(const r of this._validators){const o=r(this);if(o)return this.urlInputView.errorText=o,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const r=this.locale.t,o=new zl(this.locale,Ri),a=o.fieldView;return this._urlInputViewInfoDefault=r("Paste the media URL in the input."),this._urlInputViewInfoTip=r("Tip: Paste the URL into the content to embed faster."),o.label=r("Media URL"),o.infoText=this._urlInputViewInfoDefault,a.on("input",()=>{o.infoText=a.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=a.element.value.trim()}),o}_createButton(r,o,a,u){const h=new ht(this.locale);return h.set({label:r,icon:o,tooltip:!0}),h.extendTemplate({attributes:{class:a}}),u&&h.delegate("execute").to(this,u),h}}class W7 extends ne{static get requires(){return[Yh]}static get pluginName(){return"MediaEmbedUI"}init(){const r=this.editor,o=r.commands.get("mediaEmbed");r.ui.componentFactory.add("mediaEmbed",a=>{const u=Pi(a);return this._setUpDropdown(u,o),u})}_setUpDropdown(r,o){const a=this.editor,u=a.t,h=r.buttonView,f=a.plugins.get(Yh).registry;r.once("change:isOpen",()=>{const g=new(Ay(VT))((_=a.t,b=f,[w=>{if(!w.url.length)return _("The URL must not be empty.")},w=>{if(!b.hasMedia(w.url))return _("This media URL is not supported.")}]),a.locale);var _,b;r.panelView.children.add(g),h.on("open",()=>{g.disableCssTransitions(),g.url=o.value||"",g.urlInputView.fieldView.select(),g.enableCssTransitions()},{priority:"low"}),r.on("submit",()=>{g.isValid()&&(a.execute("mediaEmbed",g.url),a.editing.view.focus())}),r.on("change:isOpen",()=>g.resetFormStatus()),r.on("cancel",()=>{a.editing.view.focus()}),g.delegate("submit","cancel").to(r),g.urlInputView.fieldView.bind("value").to(o,"value"),g.urlInputView.bind("isEnabled").to(o,"isEnabled")}),r.bind("isEnabled").to(o),h.set({label:u("Insert media"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V7.176v.001z"/></svg>',tooltip:!0})}}var Zk=ge(4652);function K7(l){if(l.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(l){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return l;default:return null}}function am(l,r,o){const a=r.parent,u=o.createElement(l.type),h=a.getChildIndex(r)+1;return o.insertChild(h,u,a),l.style&&o.setStyle("list-style-type",l.style,u),l.startIndex&&l.startIndex>1&&o.setAttribute("start",l.startIndex,u),u}function BT(l){const r={},o=l.getStyle("mso-list");if(o){const a=o.match(/(^|\s{1,100})l(\d+)/i),u=o.match(/\s{0,100}lfo(\d+)/i),h=o.match(/\s{0,100}level(\d+)/i);a&&u&&h&&(r.id=a[2],r.order=u[1],r.indent=parseInt(h[1]))}return r}function d5(l){return btoa(l.match(/\w{2}/g).map(r=>String.fromCharCode(parseInt(r,16))).join(""))}Ee()(Zk.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const jT=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,UT=/xmlns:o="urn:schemas-microsoft-com/i;class hu{constructor(r){this.document=r}isActive(r){return jT.test(r)||UT.test(r)}execute(r){const{body:o,stylesString:a}=r._parsedData;(function FT(l,r){if(!l.childCount)return;const o=new gs(l.document),a=function(f,g){const _=g.createRangeIn(f),b=new Wi({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),w=[];for(const v of _)if("elementStart"===v.type&&b.match(v.item)){const A=BT(v.item);w.push({element:v.item,id:A.id,order:A.order,indent:A.indent})}return w}(l,o);if(!a.length)return;let u=null,h=1;a.forEach((f,g)=>{const _=function(D,x){if(!D)return!0;if(D.id!==x.id)return x.indent-D.indent!=1;const P=x.element.previousSibling;return!P||!((N=P).is("element","ol")||N.is("element","ul"));var N}(a[g-1],f),w=(A=f,(v=_?null:a[g-1])?A.indent-v.indent:A.indent-1);var v,A;if(_&&(u=null,h=1),!u||0!==w){const D=function(x,P){const H=/mso-level-number-format:([^;]{0,100});/gi,J=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,ae=new RegExp(`@list l${x.id}:level${x.indent}\\s*({[^}]*)`,"gi").exec(P);let Pe="decimal",ft="ol",at=null;if(ae&&ae[1]){const Xt=H.exec(ae[1]);if(Xt&&Xt[1]&&(Pe=Xt[1].trim(),ft="bullet"!==Pe&&"image"!==Pe?"ol":"ul"),"bullet"===Pe){const wn=function(yo){const wo=function(Oe){if(Oe.getChild(0).is("$text"))return null;for(const Ue of Oe.getChildren()){if(!Ue.is("element","span"))continue;const Zs=Ue.getChild(0);if(Zs)return Zs.is("$text")?Zs:Zs.getChild(0)}return null}(yo);if(!wo)return null;const Nt=wo._data;return"o"===Nt?"circle":"\xb7"===Nt?"disc":"\xa7"===Nt?"square":null}(x.element);wn&&(Pe=wn)}else{const wn=J.exec(ae[1]);wn&&wn[1]&&(at=parseInt(wn[1]))}}return{type:ft,startIndex:at,style:K7(Pe)}}(f,r);if(u)if(f.indent>h){const x=u.getChild(u.childCount-1),P=x.getChild(x.childCount-1);u=am(D,P,o),h+=1}else f.indent<h&&(u=function(P,N){const H=P.getAncestors({parentFirst:!0});let J=null,ae=0;for(const Pe of H)if((Pe.is("element","ul")||Pe.is("element","ol"))&&ae++,ae===N){J=Pe;break}return J}(u,h-f.indent),h=f.indent);else u=am(D,f.element,o);f.indent<=h&&(u.is("element",D.type)||(u=o.rename(D.type,u)))}const E=(function(P,N){const H=new Wi({name:"span",styles:{"mso-list":"Ignore"}}),J=N.createRangeIn(P);for(const ae of J)"elementStart"===ae.type&&H.match(ae.item)&&N.remove(ae.item)}(D=f.element,x=o),x.removeStyle("text-indent",D),x.rename("li",D));var D,x;o.appendChild(E,u)})})(o,a),function zT(l,r){if(!l.childCount)return;const o=new gs(l.document),a=function(h,f){const g=f.createRangeIn(h),_=new Wi({name:/v:(.+)/}),b=[];for(const w of g){if("elementStart"!=w.type)continue;const v=w.item,A=v.previousSibling,E=A&&A.is("element")?A.name:null;_.match(v)&&v.getAttribute("o:gfxdata")&&"v:shapetype"!==E&&b.push(w.item.getAttribute("id"))}return b}(l,o);(function(h,f,g){const _=g.createRangeIn(f),b=new Wi({name:"img"}),w=[];for(const v of _)if(v.item.is("element")&&b.match(v.item)){const A=v.item,E=A.getAttribute("v:shapes")?A.getAttribute("v:shapes").split(" "):[];E.length&&E.every(D=>h.indexOf(D)>-1)?w.push(A):A.getAttribute("src")||w.push(A)}for(const v of w)g.remove(v)})(a,l,o),function(h,f,g){const _=g.createRangeIn(f),b=[];for(const A of _)if("elementStart"==A.type&&A.item.is("element","v:shape")){const E=A.item.getAttribute("id");if(h.includes(E))continue;w(A.item.parent.getChildren(),E)||b.push(A.item)}for(const A of b){const E={src:v(A)};A.hasAttribute("alt")&&(E.alt=A.getAttribute("alt"));const D=g.createElement("img",E);g.insertChild(A.index+1,D,A.parent)}function w(A,E){for(const D of A)if(D.is("element")&&("img"==D.name&&D.getAttribute("v:shapes")==E||w(D.getChildren(),E)))return!0;return!1}function v(A){for(const E of A.getChildren())if(E.is("element")&&E.getAttribute("src"))return E.getAttribute("src")}}(a,l,o),function(h,f){const g=f.createRangeIn(h),_=new Wi({name:/v:(.+)/}),b=[];for(const w of g)"elementStart"==w.type&&_.match(w.item)&&b.push(w.item);for(const w of b)f.remove(w)}(l,o);const u=function(h,f){const g=f.createRangeIn(h),_=new Wi({name:"img"}),b=[];for(const w of g)w.item.is("element")&&_.match(w.item)&&w.item.getAttribute("src").startsWith("file://")&&b.push(w.item);return b}(l,o);u.length&&function(h,f,g){if(h.length===f.length)for(let _=0;_<h.length;_++){const b=`data:${f[_].type};base64,${d5(f[_].hex)}`;g.setAttribute("src",b,h[_])}}(u,function(h){if(!h)return[];const f=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,g=new RegExp("(?:("+f.source+"))([\\da-fA-F\\s]+)\\}","g"),_=h.match(g),b=[];if(_)for(const w of _){let v=!1;w.includes("\\pngblip")?v="image/png":w.includes("\\jpegblip")&&(v="image/jpeg"),v&&b.push({hex:w.replace(f,"").replace(/[^\da-fA-F]/g,""),type:v})}return b}(r),o)}(o,r.dataTransfer.getData("text/rtf")),r.content=o}}function Zh(l,r,o,{blockElements:a,inlineObjectElements:u}){let h=o.createPositionAt(l,"forward"==r?"after":"before");return h=h.getLastMatchingPosition(({item:f})=>f.is("element")&&!a.includes(f.name)&&!u.includes(f.name),{direction:r}),"forward"==r?h.nodeAfter:h.nodeBefore}function Jk(l,r){return!!l&&l.is("element")&&r.includes(l.name)}const HT=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class h5{constructor(r){this.document=r}isActive(r){return HT.test(r)}execute(r){const o=new gs(this.document),{body:a}=r._parsedData;(function(u,h){for(const f of u.getChildren())if(f.is("element","b")&&"normal"===f.getStyle("font-weight")){const g=u.getChildIndex(f);h.remove(f),h.insertChild(g,f.getChildren(),u)}})(a,o),function(u,h){for(const f of h.createRangeIn(u)){const g=f.item;if(g.is("element","li")){const _=g.getChild(0);_&&_.is("element","p")&&h.unwrapElement(_)}}}(a,o),function(u,h){const f=new Hs(h.document.stylesProcessor),g=new Ep(f,{renderingMode:"data"}),_=g.blockElements,b=g.inlineObjectElements,w=[];for(const v of h.createRangeIn(u)){const A=v.item;if(A.is("element","br")){const E=Zh(A,"forward",h,{blockElements:_,inlineObjectElements:b}),D=Zh(A,"backward",h,{blockElements:_,inlineObjectElements:b}),x=Jk(E,_);(Jk(D,_)||x)&&w.push(A)}}for(const v of w)v.hasClass("Apple-interchange-newline")?h.remove(v):h.replace(v,h.createElement("p"))}(a,o),r.content=a}}const f5=/<google-sheets-html-origin/i;class Q7{constructor(r){this.document=r}isActive(r){return f5.test(r)}execute(r){const o=new gs(this.document),{body:a}=r._parsedData;(function(u,h){for(const f of u.getChildren())if(f.is("element","google-sheets-html-origin")){const g=u.getChildIndex(f);h.remove(f),h.insertChild(g,f.getChildren(),u)}})(a,o),function(u,h){for(const f of u.getChildren())f.is("element","table")&&f.hasAttribute("xmlns")&&h.removeAttribute("xmlns",f)}(a,o),function(u,h){for(const f of u.getChildren())f.is("element","table")&&"0px"===f.getStyle("width")&&h.removeStyle("width",f)}(a,o),function(u,h){for(const f of Array.from(u.getChildren()))f.is("element","style")&&h.remove(f)}(a,o),r.content=a}}function Xk(l){return l.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(r,o)=>1===o.length?" ":Array(o.length+1).join("\xa0 ").substr(0,o.length))}function Fn(l,r,o,a,u=1){null!=r&&null!=u&&r>u?a.setAttribute(l,r,o):a.removeAttribute(l,o)}function fu(l,r,o={}){const a=l.createElement("tableCell",o);return l.insertElement("paragraph",a),l.insert(a,r),a}function GT(l,r){const a=parseInt(r.parent.parent.getAttribute("headingColumns")||"0"),{column:u}=l.getCellLocation(r);return!!a&&u<a}function ev(l){return r=>{r.on(`element:${l}`,(o,a,{writer:u})=>{if(!a.modelRange)return;const h=a.modelRange.start.nodeAfter,f=u.createPositionAt(h,0);if(a.viewItem.isEmpty)return void u.insertElement("paragraph",f);const g=Array.from(h.getChildren());if(g.every(_=>_.is("element","$marker"))){const _=u.createElement("paragraph");u.insert(_,u.createPositionAt(h,0));for(const b of g)u.move(u.createRangeOn(b),u.createPositionAt(_,"end"))}},{priority:"low"})}}function cm(l){let r=0,o=0;const a=Array.from(l.getChildren()).filter(u=>"th"===u.name||"td"===u.name);for(;o<a.length&&"th"===a[o].name;)r+=parseInt(a[o].getAttribute("colspan")||"1"),o++;return r}class Wt{constructor(r,o={}){this._jumpedToStartRow=!1,this._table=r,this._startRow=void 0!==o.row?o.row:o.startRow||0,this._endRow=void 0!==o.row?o.row:o.endRow,this._startColumn=void 0!==o.column?o.column:o.startColumn||0,this._endColumn=void 0!==o.column?o.column:o.endColumn,this._includeAllSlots=!!o.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){this._canJumpToStartRow()&&this._jumpToNonSpannedRowClosestToStartRow();const r=this._table.getChild(this._rowIndex);if(!r||this._isOverEndRow())return{done:!0,value:void 0};if(!r.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let o=null;const a=this._getSpanned();if(a)this._includeAllSlots&&!this._shouldSkipSlot()&&(o=this._formatOutValue(a.cell,a.row,a.column));else{const u=r.getChild(this._cellIndex);if(!u)return this._advanceToNextRow();const h=parseInt(u.getAttribute("colspan")||"1"),f=parseInt(u.getAttribute("rowspan")||"1");(h>1||f>1)&&this._recordSpans(u,f,h),this._shouldSkipSlot()||(o=this._formatOutValue(u)),this._nextCellAtColumn=this._column+h}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,o||this.next()}skipRow(r){this._skipRows.add(r)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return void 0!==this._endRow&&this._row>this._endRow}_isOverEndColumn(){return void 0!==this._endColumn&&this._column>this._endColumn}_formatOutValue(r,o=this._row,a=this._column){return{done:!1,value:new g5(this,r,o,a)}}_shouldSkipSlot(){return this._skipRows.has(this._row)||this._row<this._startRow||this._column<this._startColumn||void 0!==this._endColumn&&this._column>this._endColumn}_getSpanned(){const r=this._spannedCells.get(this._row);return r&&r.get(this._column)||null}_recordSpans(r,o,a){const u={cell:r,row:this._row,column:this._column};for(let h=this._row;h<this._row+o;h++)for(let f=this._column;f<this._column+a;f++)h==this._row&&f==this._column||this._markSpannedCell(h,f,u)}_markSpannedCell(r,o,a){this._spannedCells.has(r)||this._spannedCells.set(r,new Map),this._spannedCells.get(r).set(o,a)}_canJumpToStartRow(){return!!this._startRow&&this._startRow>0&&!this._jumpedToStartRow}_jumpToNonSpannedRowClosestToStartRow(){const r=this._getRowLength(0);for(let o=this._startRow;!this._jumpedToStartRow;o--)r===this._getRowLength(o)&&(this._row=o,this._rowIndex=o,this._jumpedToStartRow=!0)}_getRowLength(r){return[...this._table.getChild(r).getChildren()].reduce((o,a)=>o+parseInt(a.getAttribute("colspan")||"1"),0)}}class g5{constructor(r,o,a,u){this.cell=o,this.row=r._row,this.column=r._column,this.cellAnchorRow=a,this.cellAnchorColumn=u,this._cellIndex=r._cellIndex,this._rowIndex=r._rowIndex,this._table=r._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function m5(l,r){return(o,{writer:a})=>{const u=o.getAttribute("headingRows")||0,h=a.createContainerElement("table",null,[]),f=a.createContainerElement("figure",{class:"table"},h);u>0&&a.insert(a.createPositionAt(h,"end"),a.createContainerElement("thead",null,a.createSlot(g=>g.is("element","tableRow")&&g.index<u))),u<l.getRows(o)&&a.insert(a.createPositionAt(h,"end"),a.createContainerElement("tbody",null,a.createSlot(g=>g.is("element","tableRow")&&g.index>=u)));for(const{positionOffset:g,filter:_}of r.additionalSlots)a.insert(a.createPositionAt(h,g),a.createSlot(_));return a.insert(a.createPositionAt(h,"after"),a.createSlot(g=>!g.is("element","tableRow")&&!r.additionalSlots.some(({filter:_})=>_(g)))),r.asWidget?((_=a).setCustomProperty("table",!0,g=f),vw(g,_,{hasSelectionHandle:!0})):f;var g,_}}function _5(l={}){return(r,{writer:o})=>{const a=r.parent,u=a.parent,h=u.getChildIndex(a),f=new Wt(u,{row:h}),g=u.getAttribute("headingRows")||0,_=u.getAttribute("headingColumns")||0;let b=null;for(const w of f)if(w.cell==r){const v=w.row<g||w.column<_?"th":"td";b=l.asWidget?Sg(o.createEditableElement(v),o):o.createContainerElement(v);break}return b}}function b5(l={}){return(r,{writer:o})=>{if(!r.parent.is("element","tableCell")||!y5(r))return null;if(l.asWidget)return o.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const a=o.createContainerElement("p");return o.setCustomProperty("dataPipeline:transparentRendering",!0,a),a}}}function y5(l){return 1==l.parent.childCount&&!!l.getAttributeKeys().next().done}class Z7 extends st{refresh(){const r=this.editor.model;this.isEnabled=function(u,h){const f=u.getFirstPosition().parent;return h.checkChild(f===f.root?f:f.parent,"table")}(r.document.selection,r.schema)}execute(r={}){const o=this.editor,a=o.model,u=o.plugins.get("TableUtils"),h=o.config.get("table.defaultHeadings.rows"),f=o.config.get("table.defaultHeadings.columns");void 0===r.headingRows&&h&&(r.headingRows=h),void 0===r.headingColumns&&f&&(r.headingColumns=f),a.change(g=>{const _=u.createTable(g,r);a.insertObject(_,null,null,{findOptimalPosition:"auto"}),g.setSelection(g.createPositionAt(_.getNodeByPath([0,0,0]),0))})}}class $T extends st{constructor(r,o={}){super(r),this.order=o.order||"below"}refresh(){const r=this.editor.model.document.selection,o=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(r).length;this.isEnabled=o}execute(){const r=this.editor,o=r.model.document.selection,a=r.plugins.get("TableUtils"),u="above"===this.order,h=a.getSelectionAffectedTableCells(o),f=a.getRowIndexes(h),g=u?f.first:f.last,_=h[0].findAncestor("table");a.insertRows(_,{at:u?g:g+1,copyStructureFromAbove:!u})}}class Jh extends st{constructor(r,o={}){super(r),this.order=o.order||"right"}refresh(){const r=this.editor.model.document.selection,o=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(r).length;this.isEnabled=o}execute(){const r=this.editor,o=r.model.document.selection,a=r.plugins.get("TableUtils"),u="left"===this.order,h=a.getSelectionAffectedTableCells(o),f=a.getColumnIndexes(h),g=u?f.first:f.last,_=h[0].findAncestor("table");a.insertColumns(_,{columns:1,at:u?g:g+1})}}class qT extends st{constructor(r,o={}){super(r),this.direction=o.direction||"horizontally"}refresh(){const r=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=1===r.length}execute(){const r=this.editor.plugins.get("TableUtils"),o=r.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];"horizontally"===this.direction?r.splitCellHorizontally(o,2):r.splitCellVertically(o,2)}}function WT(l,r,o){const{startRow:a,startColumn:u,endRow:h,endColumn:f}=r,g=o.createElement("table"),_=h-a+1;for(let w=0;w<_;w++)o.insertElement("tableRow",g,"end");const b=[...new Wt(l,{startRow:a,endRow:h,startColumn:u,endColumn:f,includeAllSlots:!0})];for(const{row:w,column:v,cell:A,isAnchor:E,cellAnchorRow:D,cellAnchorColumn:x}of b){const N=g.getChild(w-a);if(E){const H=o.cloneElement(A);o.append(H,N),um(H,w,v,h,f,o)}else(D<a||x<u)&&fu(o,o.createPositionAt(N,"end"))}return function(w,v,A,E,D){const x=parseInt(v.getAttribute("headingRows")||"0");x>0&&Fn("headingRows",x-A,w,D,0);const P=parseInt(v.getAttribute("headingColumns")||"0");P>0&&Fn("headingColumns",P-E,w,D,0)}(g,l,a,u,o),g}function tv(l,r,o=0){const a=[],u=new Wt(l,{startRow:o,endRow:r-1});for(const h of u){const{row:f,cellHeight:g}=h;f<r&&r<=f+g-1&&a.push(h)}return a}function Fa(l,r,o){const a=l.parent,u=a.parent,h=a.index,f=r-h,g={},_=parseInt(l.getAttribute("rowspan"))-f;_>1&&(g.rowspan=_);const b=parseInt(l.getAttribute("colspan")||"1");b>1&&(g.colspan=b);const w=h+f,v=[...new Wt(u,{startRow:h,endRow:w,includeAllSlots:!0})];let A,E=null;for(const D of v){const{row:x,column:P,cell:N}=D;N===l&&void 0===A&&(A=P),void 0!==A&&A===P&&x===w&&(E=fu(o,D.getPositionBefore(),g))}return Fn("rowspan",f,l,o),E}function nv(l,r){const o=[],a=new Wt(l);for(const u of a){const{column:h,cellWidth:f}=u;h<r&&r<=h+f-1&&o.push(u)}return o}function lm(l,r,o,a){const u=o-r,h={},f=parseInt(l.getAttribute("colspan"))-u;f>1&&(h.colspan=f);const g=parseInt(l.getAttribute("rowspan")||"1");g>1&&(h.rowspan=g);const _=fu(a,a.createPositionAfter(l),h);return Fn("colspan",u,l,a),_}function um(l,r,o,a,u,h){const f=parseInt(l.getAttribute("colspan")||"1"),g=parseInt(l.getAttribute("rowspan")||"1");o+f-1>u&&Fn("colspan",u-o+1,l,h,1),r+g-1>a&&Fn("rowspan",a-r+1,l,h,1)}function rv(l,r){const o=r.getColumns(l),a=new Array(o).fill(0);for(const{column:h}of new Wt(l))a[h]++;const u=a.reduce((h,f,g)=>f?h:[...h,g],[]);return u.length>0&&(r.removeColumns(l,{at:u[u.length-1]}),!0)}function Xh(l,r){const o=[],a=r.getRows(l);for(let u=0;u<a;u++)l.getChild(u).isEmpty&&o.push(u);return o.length>0&&(r.removeRows(l,{at:o[o.length-1]}),!0)}function ef(l,r){rv(l,r)||Xh(l,r)}function tf(l,r){const o=Array.from(new Wt(l,{startColumn:r.firstColumn,endColumn:r.lastColumn,row:r.lastRow}));return o.every(({cellHeight:u})=>1===u)?r.lastRow:r.lastRow+(o[0].cellHeight-1)}function w5(l,r){const o=Array.from(new Wt(l,{startRow:r.firstRow,endRow:r.lastRow,column:r.lastColumn}));return o.every(({cellWidth:u})=>1===u)?r.lastColumn:r.lastColumn+(o[0].cellWidth-1)}class iv extends st{constructor(r,o){super(r),this.direction=o.direction,this.isHorizontal="right"==this.direction||"left"==this.direction}refresh(){const r=this._getMergeableCell();this.value=r,this.isEnabled=!!r}execute(){const r=this.editor.model,o=r.document,a=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(o.selection)[0],u=this.value,h=this.direction;r.change(f=>{const g="right"==h||"down"==h,_=g?a:u,b=g?u:a,w=b.parent;var x,P,N;P=_,N=f,k5(x=b)||(k5(P)&&N.remove(N.createRangeIn(P)),N.move(N.createRangeIn(x),N.createPositionAt(P,"end"))),N.remove(x);const v=this.isHorizontal?"colspan":"rowspan",A=parseInt(a.getAttribute(v)||"1"),E=parseInt(u.getAttribute(v)||"1");f.setAttribute(v,A+E,_),f.setSelection(f.createRangeIn(_));const D=this.editor.plugins.get("TableUtils");ef(w.findAncestor("table"),D)})}_getMergeableCell(){const r=this.editor.model.document,o=this.editor.plugins.get("TableUtils"),a=o.getTableCellsContainingSelection(r.selection)[0];if(!a)return;const u=this.isHorizontal?function(g,_,b){const A="right"==_?g.nextSibling:g.previousSibling,E=(g.parent.parent.getAttribute("headingColumns")||0)>0;if(!A)return;const D="right"==_?g:A,x="right"==_?A:g,{column:P}=b.getCellLocation(D),{column:N}=b.getCellLocation(x),H=parseInt(D.getAttribute("colspan")||"1"),J=GT(b,D),ae=GT(b,x);return E&&J!=ae?void 0:P+H===N?A:void 0}(a,this.direction,o):function(g,_,b){const w=g.parent,v=w.parent,A=v.getChildIndex(w);if("down"==_&&A===b.getRows(v)-1||"up"==_&&0===A)return null;const E=parseInt(g.getAttribute("rowspan")||"1"),D=v.getAttribute("headingRows")||0;if(D&&("down"==_&&A+E===D||"up"==_&&A===D))return null;const N=parseInt(g.getAttribute("rowspan")||"1"),H="down"==_?A+N:A,J=[...new Wt(v,{endRow:H})],Pe=J.find(at=>at.cell===g).column,ft=J.find(({row:at,cellHeight:Xt,column:wn})=>wn===Pe&&("down"==_?at===H:H===at+Xt));return ft&&ft.cell?ft.cell:null}(a,this.direction,o);if(!u)return;const h=this.isHorizontal?"rowspan":"colspan",f=parseInt(a.getAttribute(h)||"1");return parseInt(u.getAttribute(h)||"1")===f?u:void 0}}function k5(l){const r=l.getChild(0);return 1==l.childCount&&r.is("element","paragraph")&&r.isEmpty}class KT extends st{refresh(){const r=this.editor.plugins.get("TableUtils"),o=r.getSelectionAffectedTableCells(this.editor.model.document.selection),a=o[0];if(a){const u=a.findAncestor("table"),h=r.getRows(u)-1,f=r.getRowIndexes(o);this.isEnabled=!(0===f.first&&f.last===h)}else this.isEnabled=!1}execute(){const r=this.editor.model,o=this.editor.plugins.get("TableUtils"),a=o.getSelectionAffectedTableCells(r.document.selection),u=o.getRowIndexes(a),h=a[0],f=h.findAncestor("table"),g=o.getCellLocation(h).column;r.change(_=>{o.removeRows(f,{at:u.first,rows:u.last-u.first+1});const w=function(v,A,E,D){const x=v.getChild(Math.min(A,D-1));let P=x.getChild(0),N=0;for(const H of x.getChildren()){if(N>E)return P;P=H,N+=parseInt(H.getAttribute("colspan")||"1")}return P}(f,u.first,g,o.getRows(f));_.setSelection(_.createPositionAt(w,0))})}}class v5 extends st{refresh(){const r=this.editor.plugins.get("TableUtils"),o=r.getSelectionAffectedTableCells(this.editor.model.document.selection),a=o[0];if(a){const u=a.findAncestor("table"),h=r.getColumns(u),{first:f,last:g}=r.getColumnIndexes(o);this.isEnabled=g-f<h-1}else this.isEnabled=!1}execute(){const r=this.editor.plugins.get("TableUtils"),[o,a]=function(_,b){const w=b.getSelectionAffectedTableCells(_),v=w[0],A=w.pop(),E=[v,A];return v.isBefore(A)?E:E.reverse()}(this.editor.model.document.selection,r),u=o.parent.parent,h=[...new Wt(u)],f={first:h.find(_=>_.cell===o).column,last:h.find(_=>_.cell===a).column},g=(_=h,b=o,w=a,v=f,parseInt(w.getAttribute("colspan")||"1")>1?w:b.previousSibling||w.nextSibling?w.nextSibling||b.previousSibling:v.first?_.reverse().find(({column:E})=>E<v.first).cell:_.reverse().find(({column:E})=>E>v.last).cell);var _,b,w,v;this.editor.model.change(_=>{r.removeColumns(u,{at:f.first,columns:f.last-f.first+1}),_.setSelection(_.createPositionAt(g,0))})}}class C5 extends st{refresh(){const a=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection),u=a.length>0;this.isEnabled=u,this.value=u&&a.every(h=>this._isInHeading(h,h.parent.parent))}execute(r={}){if(r.forceValue===this.value)return;const o=this.editor.plugins.get("TableUtils"),a=this.editor.model,u=o.getSelectionAffectedTableCells(a.document.selection),h=u[0].findAncestor("table"),{first:f,last:g}=o.getRowIndexes(u),_=this.value?f:g+1,b=h.getAttribute("headingRows")||0;a.change(w=>{if(_){const v=tv(h,_,_>b?b:0);for(const{cell:A}of v)Fa(A,_,w)}Fn("headingRows",_,h,w,0)})}_isInHeading(r,o){const a=parseInt(o.getAttribute("headingRows")||"0");return!!a&&r.parent.index<a}}class A5 extends st{refresh(){const r=this.editor.model,o=this.editor.plugins.get("TableUtils"),a=o.getSelectionAffectedTableCells(r.document.selection),u=a.length>0;this.isEnabled=u,this.value=u&&a.every(h=>GT(o,h))}execute(r={}){if(r.forceValue===this.value)return;const o=this.editor.plugins.get("TableUtils"),a=this.editor.model,u=o.getSelectionAffectedTableCells(a.document.selection),h=u[0].findAncestor("table"),{first:f,last:g}=o.getColumnIndexes(u),_=this.value?f:g+1;a.change(b=>{if(_){const w=nv(h,_);for(const{cell:v,column:A}of w)lm(v,A,_,b)}Fn("headingColumns",_,h,b,0)})}}class Vr extends ne{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(r){const o=r.parent,a=o.parent,u=a.getChildIndex(o),h=new Wt(a,{row:u});for(const{cell:f,row:g,column:_}of h)if(f===r)return{row:g,column:_}}createTable(r,o){const a=r.createElement("table"),u=o.rows||2,h=o.columns||2;return dm(r,a,0,u,h),o.headingRows&&Fn("headingRows",Math.min(o.headingRows,u),a,r,0),o.headingColumns&&Fn("headingColumns",Math.min(o.headingColumns,h),a,r,0),a}insertRows(r,o={}){const a=this.editor.model,u=o.at||0,h=o.rows||1,f=void 0!==o.copyStructureFromAbove,g=o.copyStructureFromAbove?u-1:u,_=this.getRows(r),b=this.getColumns(r);if(u>_)throw new V("tableutils-insertrows-insert-out-of-range",this,{options:o});a.change(w=>{const v=r.getAttribute("headingRows")||0;if(v>u&&Fn("headingRows",v+h,r,w,0),!f&&(0===u||u===_))return void dm(w,r,u,h,b);const A=f?Math.max(u,g):u,E=new Wt(r,{endRow:A}),D=new Array(b).fill(1);for(const{row:x,column:P,cellHeight:N,cellWidth:H,cell:J}of E){const ae=x+N-1,Pe=x<=g&&g<=ae;x<u&&u<=ae?(w.setAttribute("rowspan",N+h,J),D[P]=-H):f&&Pe&&(D[P]=H)}for(let x=0;x<h;x++){const P=w.createElement("tableRow");w.insert(P,r,u);for(let N=0;N<D.length;N++){const H=D[N],J=w.createPositionAt(P,"end");H>0&&fu(w,J,H>1?{colspan:H}:void 0),N+=Math.abs(H)-1}}})}insertColumns(r,o={}){const u=o.at||0,h=o.columns||1;this.editor.model.change(f=>{const g=r.getAttribute("headingColumns");u<g&&f.setAttribute("headingColumns",g+h,r);const _=this.getColumns(r);if(0===u||_===u){for(const w of r.getChildren())w.is("element","tableRow")&&pu(h,f,f.createPositionAt(w,u?"end":0));return}const b=new Wt(r,{column:u,includeAllSlots:!0});for(const w of b){const{row:v,cell:A,cellAnchorColumn:E,cellAnchorRow:D,cellWidth:x,cellHeight:P}=w;if(E<u){f.setAttribute("colspan",x+h,A);const N=D+P-1;for(let H=v;H<=N;H++)b.skipRow(H)}else pu(h,f,w.getPositionBefore())}})}removeRows(r,o){const a=this.editor.model,u=o.rows||1,h=this.getRows(r),f=o.at,g=f+u-1;if(g>h-1)throw new V("tableutils-removerows-row-index-out-of-range",this,{table:r,options:o});a.change(_=>{const b={first:f,last:g},{cellsToMove:w,cellsToTrim:v}=function(A,{first:E,last:D}){const x=new Map,P=[];for(const{row:N,column:H,cellHeight:J,cell:ae}of new Wt(A,{endRow:D})){const Pe=N+J-1;if(N>=E&&N<=D&&Pe>D&&x.set(H,{cell:ae,rowspan:J-(D-N+1)}),N<E&&Pe>=E){let ft;ft=Pe>=D?D-E+1:Pe-E+1,P.push({cell:ae,rowspan:J-ft})}}return{cellsToMove:x,cellsToTrim:P}}(r,b);w.size&&function(A,E,D,x){const N=[...new Wt(A,{includeAllSlots:!0,row:E})],H=A.getChild(E);let J;for(const{column:ae,cell:Pe,isAnchor:ft}of N)if(D.has(ae)){const{cell:at,rowspan:Xt}=D.get(ae),wn=J?x.createPositionAfter(J):x.createPositionAt(H,0);x.move(x.createRangeOn(at),wn),Fn("rowspan",Xt,at,x),J=at}else ft&&(J=Pe)}(r,g+1,w,_);for(let A=g;A>=f;A--)_.remove(r.getChild(A));for(const{rowspan:A,cell:E}of v)Fn("rowspan",A,E,_);(function(A,{first:E,last:D},x){const P=A.getAttribute("headingRows")||0;E<P&&Fn("headingRows",D<P?P-(D-E+1):E,A,x,0)})(r,b,_),rv(r,this)||Xh(r,this)})}removeColumns(r,o){const u=o.at,f=o.at+(o.columns||1)-1;this.editor.model.change(g=>{!function(b,w,v){const A=b.getAttribute("headingColumns")||0;if(A&&w.first<A){const E=Math.min(A-1,w.last)-w.first+1;v.setAttribute("headingColumns",A-E,b)}}(r,{first:u,last:f},g);const _=function QT(l){const r=function E5(l){if(l.is("element","tableColumnGroup"))return l;const r=l.getChildren();return Array.from(r).find(o=>o.is("element","tableColumnGroup"))}(l);return r?Array.from(r.getChildren()):[]}(r);for(let b=f;b>=u;b--){for(const{cell:w,column:v,cellWidth:A}of[...new Wt(r)])v<=b&&A>1&&v+A>b?Fn("colspan",A-1,w,g):v===b&&g.remove(w);if(_[b]){const w=0===b?_[1]:_[b-1],v=parseFloat(_[b].getAttribute("columnWidth")),A=parseFloat(w.getAttribute("columnWidth"));g.remove(_[b]),g.setAttribute("columnWidth",v+A+"%",w)}}Xh(r,this)||rv(r,this)})}splitCellVertically(r,o=2){const a=this.editor.model,u=r.parent.parent,h=parseInt(r.getAttribute("rowspan")||"1"),f=parseInt(r.getAttribute("colspan")||"1");a.change(g=>{if(f>1){const{newCellsSpan:_,updatedSpan:b}=YT(f,o);Fn("colspan",b,r,g);const w={};_>1&&(w.colspan=_),h>1&&(w.rowspan=h),pu(f>o?o-1:f-1,g,g.createPositionAfter(r),w)}if(f<o){const _=o-f,b=[...new Wt(u)],{column:w}=b.find(({cell:D})=>D===r),v=b.filter(({cell:D,cellWidth:x,column:P})=>D!==r&&P===w||P<w&&P+x>w);for(const{cell:D,cellWidth:x}of v)g.setAttribute("colspan",x+_,D);const A={};h>1&&(A.rowspan=h),pu(_,g,g.createPositionAfter(r),A);const E=u.getAttribute("headingColumns")||0;E>w&&Fn("headingColumns",E+_,u,g)}})}splitCellHorizontally(r,o=2){const a=this.editor.model,u=r.parent,h=u.parent,f=h.getChildIndex(u),g=parseInt(r.getAttribute("rowspan")||"1"),_=parseInt(r.getAttribute("colspan")||"1");a.change(b=>{if(g>1){const w=[...new Wt(h,{startRow:f,endRow:f+g-1,includeAllSlots:!0})],{newCellsSpan:v,updatedSpan:A}=YT(g,o);Fn("rowspan",A,r,b);const{column:E}=w.find(({cell:x})=>x===r),D={};v>1&&(D.rowspan=v),_>1&&(D.colspan=_);for(const x of w){const{column:P,row:N}=x;N>=f+A&&P===E&&(N+f+A)%v==0&&pu(1,b,x.getPositionBefore(),D)}}if(g<o){const w=o-g,v=[...new Wt(h,{startRow:0,endRow:f})];for(const{cell:D,cellHeight:x,row:P}of v)D!==r&&P+x>f&&b.setAttribute("rowspan",x+w,D);const A={};_>1&&(A.colspan=_),dm(b,h,f+1,w,1,A);const E=h.getAttribute("headingRows")||0;E>f&&Fn("headingRows",E+w,h,b)}})}getColumns(r){return[...r.getChild(0).getChildren()].reduce((o,a)=>o+parseInt(a.getAttribute("colspan")||"1"),0)}getRows(r){return Array.from(r.getChildren()).reduce((o,a)=>a.is("element","tableRow")?o+1:o,0)}createTableWalker(r,o={}){return new Wt(r,o)}getSelectedTableCells(r){const o=[];for(const a of this.sortRanges(r.getRanges())){const u=a.getContainedElement();u&&u.is("element","tableCell")&&o.push(u)}return o}getTableCellsContainingSelection(r){const o=[];for(const a of r.getRanges()){const u=a.start.findAncestor("tableCell");u&&o.push(u)}return o}getSelectionAffectedTableCells(r){const o=this.getSelectedTableCells(r);return o.length?o:this.getTableCellsContainingSelection(r)}getRowIndexes(r){const o=r.map(a=>a.parent.index);return this._getFirstLastIndexesObject(o)}getColumnIndexes(r){const o=r[0].findAncestor("table"),a=[...new Wt(o)].filter(u=>r.includes(u.cell)).map(u=>u.column);return this._getFirstLastIndexesObject(a)}isSelectionRectangular(r){if(r.length<2||!this._areCellInTheSameTableSection(r))return!1;const o=new Set,a=new Set;let u=0;for(const f of r){const{row:g,column:_}=this.getCellLocation(f),b=parseInt(f.getAttribute("rowspan"))||1,w=parseInt(f.getAttribute("colspan"))||1;o.add(g),a.add(_),b>1&&o.add(g+b-1),w>1&&a.add(_+w-1),u+=b*w}return function(f,g){const _=Array.from(f.values()),b=Array.from(g.values());return(Math.max(..._)-Math.min(..._)+1)*(Math.max(...b)-Math.min(...b)+1)}(o,a)==u}sortRanges(r){return Array.from(r).sort(ZT)}_getFirstLastIndexesObject(r){const o=r.sort((a,u)=>a-u);return{first:o[0],last:o[o.length-1]}}_areCellInTheSameTableSection(r){const o=r[0].findAncestor("table"),a=this.getRowIndexes(r),u=parseInt(o.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(a,u))return!1;const h=this.getColumnIndexes(r),f=parseInt(o.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(h,f)}_areIndexesInSameSection({first:r,last:o},a){return r<a==o<a}}function dm(l,r,o,a,u,h={}){for(let f=0;f<a;f++){const g=l.createElement("tableRow");l.insert(g,r,o),pu(u,l,l.createPositionAt(g,"end"),h)}}function pu(l,r,o,a={}){for(let u=0;u<l;u++)fu(r,o,a)}function YT(l,r){if(l<r)return{newCellsSpan:1,updatedSpan:1};const o=Math.floor(l/r);return{newCellsSpan:o,updatedSpan:l-o*r+o}}function ZT(l,r){return l.start.isBefore(r.start)?-1:1}class hm extends st{refresh(){const r=this.editor.plugins.get(Vr),o=r.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=r.isSelectionRectangular(o)}execute(){const r=this.editor.model,o=this.editor.plugins.get(Vr);r.change(a=>{const u=o.getSelectedTableCells(r.document.selection),h=u.shift(),{mergeWidth:f,mergeHeight:g}=function(_,b,w){let v=0,A=0;for(const N of b){const{row:H,column:J}=w.getCellLocation(N);v=gu(N,J,v,"colspan"),A=gu(N,H,A,"rowspan")}const{row:E,column:D}=w.getCellLocation(_);return{mergeWidth:v-D,mergeHeight:A-E}}(h,u,o);Fn("colspan",f,h,a),Fn("rowspan",g,h,a);for(const _ of u)J7(_,h,a);ef(h.findAncestor("table"),o),a.setSelection(h,"in")})}}function J7(l,r,o){ov(l)||(ov(r)&&o.remove(o.createRangeIn(r)),o.move(o.createRangeIn(l),o.createPositionAt(r,"end"))),o.remove(l)}function ov(l){const r=l.getChild(0);return 1==l.childCount&&r.is("element","paragraph")&&r.isEmpty}function gu(l,r,o,a){const u=parseInt(l.getAttribute(a)||"1");return Math.max(o,r+u)}class I5 extends st{constructor(r){super(r),this.affectsData=!1}refresh(){const r=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=r.length>0}execute(){const r=this.editor.model,o=this.editor.plugins.get("TableUtils"),a=o.getSelectionAffectedTableCells(r.document.selection),u=o.getRowIndexes(a),h=a[0].findAncestor("table"),f=[];for(let g=u.first;g<=u.last;g++)for(const _ of h.getChild(g).getChildren())f.push(r.createRangeOn(_));r.change(g=>{g.setSelection(f)})}}class D5 extends st{constructor(r){super(r),this.affectsData=!1}refresh(){const r=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=r.length>0}execute(){const r=this.editor.plugins.get("TableUtils"),o=this.editor.model,a=r.getSelectionAffectedTableCells(o.document.selection),u=a[0],h=a.pop(),f=u.findAncestor("table"),g=r.getCellLocation(u),_=r.getCellLocation(h),b=Math.min(g.column,_.column),w=Math.max(g.column,_.column),v=[];for(const A of new Wt(f,{startColumn:b,endColumn:w}))v.push(o.createRangeOn(A.cell));o.change(A=>{A.setSelection(v)})}}function e9(l,r){let o=!1;const a=function(u){const h=parseInt(u.getAttribute("headingRows")||"0"),f=Array.from(u.getChildren()).reduce((_,b)=>b.is("element","tableRow")?_+1:_,0),g=[];for(const{row:_,cell:b,cellHeight:w}of new Wt(u)){if(w<2)continue;const v=_<h?h:f;_+w>v&&g.push({cell:b,rowspan:v-_})}return g}(l);if(a.length){o=!0;for(const u of a)Fn("rowspan",u.rowspan,u.cell,r,1)}return o}function T5(l,r){let o=!1;const a=function(g){const _=new Array(g.childCount).fill(0);for(const{rowIndex:b}of new Wt(g,{includeAllSlots:!0}))_[b]++;return _}(l),u=[];for(const[g,_]of a.entries())!_&&l.getChild(g).is("element","tableRow")&&u.push(g);if(u.length){o=!0;for(const g of u.reverse())r.remove(l.getChild(g)),a.splice(g,1)}const h=a.filter((g,_)=>l.getChild(_).is("element","tableRow")),f=h[0];if(!h.every(g=>g===f)){const g=h.reduce((_,b)=>b>_?b:_,0);for(const[_,b]of h.entries()){const w=g-b;if(w){for(let v=0;v<w;v++)fu(r,r.createPositionAt(l.getChild(_),"end"));o=!0}}}return o}function x5(l){if("attribute"!==l.type)return!1;const r=l.attributeKey;return"headingRows"===r||"colspan"===r||"rowspan"===r}function M5(l,r){let o=!1;for(const a of l.getChildren())a.is("element","tableRow")&&(o=sv(a,r)||o);return o}function sv(l,r){let o=!1;for(const a of l.getChildren())o=fm(a,r)||o;return o}function fm(l,r){if(0==l.childCount)return r.insertElement("paragraph",l),!0;const o=Array.from(l.getChildren()).filter(a=>a.is("$text"));for(const a of o)r.wrap(r.createRangeOn(a),"paragraph");return!!o.length}function t9(l){return!!l.position.parent.is("element","tableCell")&&("insert"==l.type&&"$text"==l.name||"remove"==l.type)}function P5(l,r){if(!l.is("element","paragraph"))return!1;const o=r.toViewElement(l);return!!o&&y5(l)!==o.is("element","span")}var pm=ge(3881);Ee()(pm.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class XT extends ne{constructor(r){super(r),this._additionalSlots=[]}static get pluginName(){return"TableEditing"}static get requires(){return[Vr]}init(){const r=this.editor,o=r.model,a=o.schema,u=r.conversion,h=r.plugins.get(Vr);a.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),a.register("tableRow",{allowIn:"table",isLimit:!0}),a.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),u.for("upcast").add(f=>{f.on("element:figure",(g,_,b)=>{if(!b.consumable.test(_.viewItem,{name:!0,classes:"table"}))return;const w=function(A){for(const E of A.getChildren())if(E.is("element","table"))return E}(_.viewItem);if(!w||!b.consumable.test(w,{name:!0}))return;b.consumable.consume(_.viewItem,{name:!0,classes:"table"});const v=Vn(b.convertItem(w,_.modelCursor).modelRange.getItems());v?(b.convertChildren(_.viewItem,b.writer.createPositionAt(v,"end")),b.updateConversionResult(v,_)):b.consumable.revert(_.viewItem,{name:!0,classes:"table"})})}),u.for("upcast").add(function Y7(){return l=>{l.on("element:table",(r,o,a)=>{const u=o.viewItem;if(!a.consumable.test(u,{name:!0}))return;const{rows:h,headingRows:f,headingColumns:g}=function(w){let v,A=0;const E=[],D=[];let x;for(const P of Array.from(w.getChildren())){if("tbody"!==P.name&&"thead"!==P.name&&"tfoot"!==P.name)continue;"thead"!==P.name||x||(x=P);const N=Array.from(P.getChildren()).filter(H=>H.is("element","tr"));for(const H of N)if(x&&P===x||"tbody"===P.name&&Array.from(H.getChildren()).length&&Array.from(H.getChildren()).every(J=>J.is("element","th")))A++,E.push(H);else{D.push(H);const J=cm(H);(!v||J<v)&&(v=J)}}return{headingRows:A,headingColumns:v||0,rows:[...E,...D]}}(u),_={};g&&(_.headingColumns=g),f&&(_.headingRows=f);const b=a.writer.createElement("table",_);if(a.safeInsert(b,o.modelCursor)){if(a.consumable.consume(u,{name:!0}),h.forEach(w=>a.convertItem(w,a.writer.createPositionAt(b,"end"))),a.convertChildren(u,a.writer.createPositionAt(b,"end")),b.isEmpty){const w=a.writer.createElement("tableRow");a.writer.insert(w,a.writer.createPositionAt(b,"end")),fu(a.writer,a.writer.createPositionAt(w,"end"))}a.updateConversionResult(b,o)}})}}()),u.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:m5(h,{asWidget:!0,additionalSlots:this._additionalSlots})}),u.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:m5(h,{additionalSlots:this._additionalSlots})}),u.for("upcast").elementToElement({model:"tableRow",view:"tr"}),u.for("upcast").add(f=>{f.on("element:tr",(g,_)=>{_.viewItem.isEmpty&&0==_.modelCursor.index&&g.stop()},{priority:"high"})}),u.for("downcast").elementToElement({model:"tableRow",view:(f,{writer:g})=>f.isEmpty?g.createEmptyElement("tr"):g.createContainerElement("tr")}),u.for("upcast").elementToElement({model:"tableCell",view:"td"}),u.for("upcast").elementToElement({model:"tableCell",view:"th"}),u.for("upcast").add(ev("td")),u.for("upcast").add(ev("th")),u.for("editingDowncast").elementToElement({model:"tableCell",view:_5({asWidget:!0})}),u.for("dataDowncast").elementToElement({model:"tableCell",view:_5()}),u.for("editingDowncast").elementToElement({model:"paragraph",view:b5({asWidget:!0}),converterPriority:"high"}),u.for("dataDowncast").elementToElement({model:"paragraph",view:b5(),converterPriority:"high"}),u.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),u.for("upcast").attributeToAttribute({model:{key:"colspan",value:ex("colspan")},view:"colspan"}),u.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),u.for("upcast").attributeToAttribute({model:{key:"rowspan",value:ex("rowspan")},view:"rowspan"}),r.config.define("table.defaultHeadings.rows",0),r.config.define("table.defaultHeadings.columns",0),r.commands.add("insertTable",new Z7(r)),r.commands.add("insertTableRowAbove",new $T(r,{order:"above"})),r.commands.add("insertTableRowBelow",new $T(r,{order:"below"})),r.commands.add("insertTableColumnLeft",new Jh(r,{order:"left"})),r.commands.add("insertTableColumnRight",new Jh(r,{order:"right"})),r.commands.add("removeTableRow",new KT(r)),r.commands.add("removeTableColumn",new v5(r)),r.commands.add("splitTableCellVertically",new qT(r,{direction:"vertically"})),r.commands.add("splitTableCellHorizontally",new qT(r,{direction:"horizontally"})),r.commands.add("mergeTableCells",new hm(r)),r.commands.add("mergeTableCellRight",new iv(r,{direction:"right"})),r.commands.add("mergeTableCellLeft",new iv(r,{direction:"left"})),r.commands.add("mergeTableCellDown",new iv(r,{direction:"down"})),r.commands.add("mergeTableCellUp",new iv(r,{direction:"up"})),r.commands.add("setTableColumnHeader",new A5(r)),r.commands.add("setTableRowHeader",new C5(r)),r.commands.add("selectTableRow",new I5(r)),r.commands.add("selectTableColumn",new D5(r)),function X7(l){l.document.registerPostFixer(r=>function(o,a){const u=a.document.differ.getChanges();let h=!1;const f=new Set;for(const g of u){let _=null;"insert"==g.type&&"table"==g.name&&(_=g.position.nodeAfter),"insert"!=g.type&&"remove"!=g.type||"tableRow"!=g.name&&"tableCell"!=g.name||(_=g.position.findAncestor("table")),x5(g)&&(_=g.range.start.findAncestor("table")),_&&!f.has(_)&&(h=e9(_,o)||h,h=T5(_,o)||h,f.add(_))}return h}(r,l))}(o),function S5(l){l.document.registerPostFixer(r=>function(o,a){const u=a.document.differ.getChanges();let h=!1;for(const f of u)"insert"==f.type&&"table"==f.name&&(h=M5(f.position.nodeAfter,o)||h),"insert"==f.type&&"tableRow"==f.name&&(h=sv(f.position.nodeAfter,o)||h),"insert"==f.type&&"tableCell"==f.name&&(h=fm(f.position.nodeAfter,o)||h),"remove"!=f.type&&"insert"!=f.type||!t9(f)||(h=fm(f.position.parent,o)||h);return h}(r,l))}(o),this.listenTo(o.document,"change:data",()=>{(function(f,g){const _=f.document.differ;for(const b of _.getChanges()){let w,v=!1;if("attribute"==b.type){const x=b.range.start.nodeAfter;if(!x||!x.is("element","table")||"headingRows"!=b.attributeKey&&"headingColumns"!=b.attributeKey)continue;w=x,v="headingRows"==b.attributeKey}else"tableRow"!=b.name&&"tableCell"!=b.name||(w=b.position.findAncestor("table"),v="tableRow"==b.name);if(!w)continue;const A=w.getAttribute("headingRows")||0,E=w.getAttribute("headingColumns")||0,D=new Wt(w);for(const x of D){const P=x.row<A||x.column<E?"th":"td",N=g.mapper.toViewElement(x.cell);N&&N.is("element")&&N.name!=P&&g.reconvertItem(v?x.cell.parent:x.cell)}}})(o,r.editing),function(f,g){const _=f.document.differ,b=new Set;for(const w of _.getChanges()){const v="attribute"==w.type?w.range.start.parent:w.position.parent;v.is("element","tableCell")&&b.add(v)}for(const w of b.values()){const v=Array.from(w.getChildren()).filter(A=>P5(A,g.mapper));for(const A of v)g.reconvertItem(A)}}(o,r.editing)})}registerAdditionalSlot(r){this._additionalSlots.push(r)}}function ex(l){return r=>{const o=parseInt(r.getAttribute(l));return Number.isNaN(o)||o<=0?null:o}}var gm=ge(1613);Ee()(gm.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class N5 extends Be{constructor(r){super(r);const o=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new Ai,this.focusTracker=new Pr,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(a,u)=>`${u} \xd7 ${a}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":o.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:o.to("label")}]}],on:{mousedown:o.to(a=>{a.preventDefault()}),click:o.to(()=>{this.fire("execute")})}}),this.on("boxover",(a,u)=>{const{row:h,column:f}=u.target.dataset;this.items.get(10*(parseInt(h,10)-1)+(parseInt(f,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(a,u,h)=>{if(!h)return;const{row:f,column:g}=h.dataset;this.set({rows:parseInt(f),columns:parseInt(g)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),Ws({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const r of this.items)this.focusTracker.add(r.element);this.keystrokes.listenTo(this.element)}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const r=this.rows,o=this.columns;this.items.map((a,u)=>{const h=Math.floor(u/10)<r&&u%10<o;a.set("isOn",h)})}_createGridButton(r,o,a,u){const h=new ht(r);return h.set({label:u,class:"ck-insert-table-dropdown-grid-box"}),h.extendTemplate({attributes:{"data-row":o,"data-column":a}}),h}_createGridCollection(){const r=[];for(let o=0;o<100;o++){const a=Math.floor(o/10),u=o%10;r.push(this._createGridButton(this.locale,a+1,u+1,`${a+1} \xd7 ${u+1}`))}return this.createCollection(r)}}class tx extends ne{static get pluginName(){return"TableUI"}init(){const r=this.editor,o=this.editor.t,a="ltr"===r.locale.contentLanguageDirection;r.ui.componentFactory.add("insertTable",u=>{const h=r.commands.get("insertTable"),f=Pi(u);let g;return f.bind("isEnabled").to(h),f.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',label:o("Insert table"),tooltip:!0}),f.on("change:isOpen",()=>{g||(g=new N5(u),f.panelView.children.add(g),g.delegate("execute").to(f),f.on("execute",()=>{r.execute("insertTable",{rows:g.rows,columns:g.columns}),r.editing.view.focus()}))}),f}),r.ui.componentFactory.add("tableColumn",u=>{const h=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:o("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:a?"insertTableColumnLeft":"insertTableColumnRight",label:o("Insert column left")}},{type:"button",model:{commandName:a?"insertTableColumnRight":"insertTableColumnLeft",label:o("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:o("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:o("Select column")}}];return this._prepareDropdown(o("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',h,u)}),r.ui.componentFactory.add("tableRow",u=>{const h=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:o("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:o("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:o("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:o("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:o("Select row")}}];return this._prepareDropdown(o("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',h,u)}),r.ui.componentFactory.add("mergeTableCells",u=>{const h=[{type:"button",model:{commandName:"mergeTableCellUp",label:o("Merge cell up")}},{type:"button",model:{commandName:a?"mergeTableCellRight":"mergeTableCellLeft",label:o("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:o("Merge cell down")}},{type:"button",model:{commandName:a?"mergeTableCellLeft":"mergeTableCellRight",label:o("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:o("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:o("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(o("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',h,u)})}_prepareDropdown(r,o,a,u){const h=this.editor,f=Pi(u),g=this._fillDropdownWithListOptions(f,a);return f.buttonView.set({label:r,icon:o,tooltip:!0}),f.bind("isEnabled").toMany(g,"isEnabled",(..._)=>_.some(b=>b)),this.listenTo(f,"execute",_=>{h.execute(_.source.commandName),_.source instanceof Bl||h.editing.view.focus()}),f}_prepareMergeSplitButtonDropdown(r,o,a,u){const h=this.editor,f=Pi(u,ch),g="mergeTableCells",_=h.commands.get(g),b=this._fillDropdownWithListOptions(f,a);return f.buttonView.set({label:r,icon:o,tooltip:!0,isEnabled:!0}),f.bind("isEnabled").toMany([_,...b],"isEnabled",(...w)=>w.some(v=>v)),this.listenTo(f.buttonView,"execute",()=>{h.execute(g),h.editing.view.focus()}),this.listenTo(f,"execute",w=>{h.execute(w.source.commandName),h.editing.view.focus()}),f}_fillDropdownWithListOptions(r,o){const a=this.editor,u=[],h=new ii;for(const f of o)nx(f,a,u,h);return uh(r,h),u}}function nx(l,r,o,a){if("button"===l.type||"switchbutton"===l.type){const u=l.model=new yh(l.model),{commandName:h,bindIsOn:f}=l.model,g=r.commands.get(h);o.push(g),u.set({commandName:h}),u.bind("isEnabled").to(g),f&&u.bind("isOn").to(g,"value"),u.set({withText:!0})}a.add(l)}var av=ge(6945);Ee()(av.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Ds extends ne{static get pluginName(){return"TableSelection"}static get requires(){return[Vr,Vr]}init(){const r=this.editor,a=r.editing.view;this.listenTo(r.model,"deleteContent",(u,h)=>this._handleDeleteContent(u,h),{priority:"high"}),this.listenTo(a.document,"insertText",(u,h)=>this._handleInsertTextEvent(u,h),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const a=this.editor.plugins.get(Vr).getSelectedTableCells(this.editor.model.document.selection);return 0==a.length?null:a}getSelectionAsFragment(){const r=this.editor.plugins.get(Vr),o=this.getSelectedTableCells();return o?this.editor.model.change(a=>{const u=a.createDocumentFragment(),{first:h,last:f}=r.getColumnIndexes(o),{first:g,last:_}=r.getRowIndexes(o),b=o[0].findAncestor("table");let w=_,v=f;if(r.isSelectionRectangular(o)){const E={firstColumn:h,lastColumn:f,firstRow:g,lastRow:_};w=tf(b,E),v=w5(b,E)}const A=WT(b,{startRow:g,startColumn:h,endRow:w,endColumn:v},a);return a.insert(A,u,0),u}):null}setCellSelection(r,o){const a=this._getCellsToSelect(r,o);this.editor.model.change(u=>{u.setSelection(a.cells.map(h=>u.createRangeOn(h)),{backward:a.backward})})}getFocusCell(){const r=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return r&&r.is("element","tableCell")?r:null}getAnchorCell(){const r=Vn(this.editor.model.document.selection.getRanges()).getContainedElement();return r&&r.is("element","tableCell")?r:null}_defineSelectionConverter(){const r=this.editor,o=new Set;r.conversion.for("editingDowncast").add(a=>a.on("selection",(u,h,f)=>{const g=f.writer;!function(w){for(const v of o)w.removeClass("ck-editor__editable_selected",v);o.clear()}(g);const _=this.getSelectedTableCells();if(!_)return;for(const w of _){const v=f.mapper.toViewElement(w);g.addClass("ck-editor__editable_selected",v),o.add(v)}const b=f.mapper.toViewElement(_[_.length-1]);g.setSelection(b,0)},{priority:"lowest"}))}_enablePluginDisabling(){const r=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const o=this.getSelectedTableCells();if(!o)return;r.model.change(a=>{const u=a.createPositionAt(o[0],0),h=r.model.schema.getNearestSelectionRange(u);a.setSelection(h)})}})}_handleDeleteContent(r,o){const a=this.editor.plugins.get(Vr),u=o[0],h=o[1],f=this.editor.model,g=!h||"backward"==h.direction,_=a.getSelectedTableCells(u);_.length&&(r.stop(),f.change(b=>{const w=_[g?_.length-1:0];f.change(A=>{for(const E of _)f.deleteContent(A.createSelection(E,"in"))});const v=f.schema.getNearestSelectionRange(b.createPositionAt(w,0));u.is("documentSelection")?b.setSelection(v):u.setTo(v)}))}_handleInsertTextEvent(r,o){const a=this.editor,u=this.getSelectedTableCells();if(!u)return;const h=a.editing.view,f=a.editing.mapper,g=u.map(_=>h.createRangeOn(f.toViewElement(_)));o.selection=h.createSelection(g)}_getCellsToSelect(r,o){const a=this.editor.plugins.get("TableUtils"),u=a.getCellLocation(r),h=a.getCellLocation(o),f=Math.min(u.row,h.row),g=Math.max(u.row,h.row),_=Math.min(u.column,h.column),b=Math.max(u.column,h.column),w=new Array(g-f+1).fill(null).map(()=>[]),v={startRow:f,endRow:g,startColumn:_,endColumn:b};for(const{row:D,cell:x}of new Wt(r.findAncestor("table"),v))w[D-f].push(x);const A=h.row<u.row,E=h.column<u.column;return A&&w.reverse(),E&&w.forEach(D=>D.reverse()),{cells:w.flat(),backward:A||E}}}class n9 extends ne{static get pluginName(){return"TableClipboard"}static get requires(){return[Ds,Vr]}init(){const r=this.editor,o=r.editing.view.document;this.listenTo(o,"copy",(a,u)=>this._onCopyCut(a,u)),this.listenTo(o,"cut",(a,u)=>this._onCopyCut(a,u)),this.listenTo(r.model,"insertContent",(a,[u,h])=>this._onInsertContent(a,u,h),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(r,o){const a=this.editor.plugins.get(Ds);if(!a.getSelectedTableCells()||"cut"==r.name&&!this.editor.model.canEditAt(this.editor.model.document.selection))return;o.preventDefault(),r.stop();const h=this.editor.editing.view.document,f=this.editor.data.toView(a.getSelectionAsFragment());h.fire("clipboardOutput",{dataTransfer:o.dataTransfer,content:f,method:r.name})}_onInsertContent(r,o,a){if(a&&!a.is("documentSelection"))return;const u=this.editor.model,h=this.editor.plugins.get(Vr);let f=this.getTableIfOnlyTableInContent(o,u);if(!f)return;const g=h.getSelectionAffectedTableCells(u.document.selection);g.length?(r.stop(),u.change(_=>{const b={width:h.getColumns(f),height:h.getRows(f)},w=function(P,N,H,J){const ae=P[0].findAncestor("table"),Pe=J.getColumnIndexes(P),ft=J.getRowIndexes(P),at={firstColumn:Pe.first,lastColumn:Pe.last,firstRow:ft.first,lastRow:ft.last},Xt=1===P.length;return Xt&&(at.lastRow+=N.height-1,at.lastColumn+=N.width-1,function(wn,yo,wo,Nt){const Oe=Nt.getColumns(wn),Ue=Nt.getRows(wn);wo>Oe&&Nt.insertColumns(wn,{at:Oe,columns:wo-Oe}),yo>Ue&&Nt.insertRows(wn,{at:Ue,rows:yo-Ue})}(ae,at.lastRow+1,at.lastColumn+1,J)),Xt||!J.isSelectionRectangular(P)?function(wn,yo,wo){const{firstRow:Nt,lastRow:Oe,firstColumn:Ue,lastColumn:Zs}=yo,xs={first:Nt,last:Oe},Ss={first:Ue,last:Zs};rx(wn,Ue,xs,wo),rx(wn,Zs+1,xs,wo),cv(wn,Nt,Ss,wo),cv(wn,Oe+1,Ss,wo,Nt)}(ae,at,H):(at.lastRow=tf(ae,at),at.lastColumn=w5(ae,at)),at}(g,b,_,h),A=w.lastColumn-w.firstColumn+1,E={startRow:0,startColumn:0,endRow:Math.min(w.lastRow-w.firstRow+1,b.height)-1,endColumn:Math.min(A,b.width)-1};f=WT(f,E,_);const D=g[0].findAncestor("table"),x=this._replaceSelectedCellsWithPasted(f,b,D,w,_);if(this.editor.plugins.get("TableSelection").isEnabled){const P=h.sortRanges(x.map(N=>_.createRangeOn(N)));_.setSelection(P)}else _.setSelection(x[0],0)})):ef(f,h)}_replaceSelectedCellsWithPasted(r,o,a,u,h){const{width:f,height:g}=o,_=function(P,N,H){const J=new Array(H).fill(null).map(()=>new Array(N).fill(null));for(const{column:ae,row:Pe,cell:ft}of new Wt(P))J[Pe][ae]=ft;return J}(r,f,g),b=[...new Wt(a,{startRow:u.firstRow,endRow:u.lastRow,startColumn:u.firstColumn,endColumn:u.lastColumn,includeAllSlots:!0})],w=[];let v;for(const P of b){const{row:N,column:H}=P;H===u.firstColumn&&(v=P.getPositionBefore());const Pe=_[(N-u.firstRow)%g][(H-u.firstColumn)%f],ft=Pe?h.cloneElement(Pe):null,at=this._replaceTableSlotCell(P,ft,v,h);at&&(um(at,N,H,u.lastRow,u.lastColumn,h),w.push(at),v=h.createPositionAfter(at))}const A=parseInt(a.getAttribute("headingRows")||"0"),E=parseInt(a.getAttribute("headingColumns")||"0"),x=u.firstColumn<E&&E<=u.lastColumn;if(u.firstRow<A&&A<=u.lastRow){const P=cv(a,A,{first:u.firstColumn,last:u.lastColumn},h,u.firstRow);w.push(...P)}if(x){const P=rx(a,E,{first:u.firstRow,last:u.lastRow},h);w.push(...P)}return w}_replaceTableSlotCell(r,o,a,u){const{cell:h,isAnchor:f}=r;return f&&u.remove(h),o?(u.insert(o,a),o):null}getTableIfOnlyTableInContent(r,o){if(!r.is("documentFragment")&&!r.is("element"))return null;if(r.is("element","table"))return r;if(1==r.childCount&&r.getChild(0).is("element","table"))return r.getChild(0);const a=o.createRangeIn(r);for(const u of a.getItems())if(u.is("element","table")){const h=o.createRange(a.start,o.createPositionBefore(u));if(o.hasContent(h,{ignoreWhitespaces:!0}))return null;const f=o.createRange(o.createPositionAfter(u),a.end);return o.hasContent(f,{ignoreWhitespaces:!0})?null:u}return null}}function cv(l,r,o,a,u=0){if(!(r<1))return tv(l,r,u).filter(({column:h,cellWidth:f})=>jc(h,f,o)).map(({cell:h})=>Fa(h,r,a))}function rx(l,r,o,a){if(!(r<1))return nv(l,r).filter(({row:u,cellHeight:h})=>jc(u,h,o)).map(({cell:u,column:h})=>lm(u,h,r,a))}function jc(l,r,o){const a=l+r-1,{first:u,last:h}=o;return l>=u&&l<=h||l<u&&a>=u}class r9 extends ne{static get pluginName(){return"TableKeyboard"}static get requires(){return[Ds,Vr]}init(){const r=this.editor.editing.view.document;this.listenTo(r,"arrowKey",(...o)=>this._onArrowKey(...o),{context:"table"}),this.listenTo(r,"tab",(...o)=>this._handleTabOnSelectedTable(...o),{context:"figure"}),this.listenTo(r,"tab",(...o)=>this._handleTab(...o),{context:["th","td"]})}_handleTabOnSelectedTable(r,o){const a=this.editor,u=a.model.document.selection.getSelectedElement();u&&u.is("element","table")&&(o.preventDefault(),o.stopPropagation(),r.stop(),a.model.change(h=>{h.setSelection(h.createRangeIn(u.getChild(0).getChild(0)))}))}_handleTab(r,o){const a=this.editor,u=this.editor.plugins.get(Vr),h=this.editor.plugins.get("TableSelection"),g=!o.shiftKey;let _=u.getTableCellsContainingSelection(a.model.document.selection)[0];if(_||(_=h.getFocusCell()),!_)return;o.preventDefault(),o.stopPropagation(),r.stop();const b=_.parent,w=b.parent,v=w.getChildIndex(b),A=b.getChildIndex(_),E=0===A;if(!g&&E&&0===v)return void a.model.change(N=>{N.setSelection(N.createRangeOn(w))});const D=A===b.childCount-1,x=v===u.getRows(w)-1;if(g&&x&&D&&(a.execute("insertTableRowBelow"),v===u.getRows(w)-1))return void a.model.change(N=>{N.setSelection(N.createRangeOn(w))});let P;if(g&&D)P=w.getChild(v+1).getChild(0);else if(!g&&E){const N=w.getChild(v-1);P=N.getChild(N.childCount-1)}else P=b.getChild(A+(g?1:-1));a.model.change(N=>{N.setSelection(N.createRangeIn(P))})}_onArrowKey(r,o){const u=js(o.keyCode,this.editor.locale.contentLanguageDirection);this._handleArrowKeys(u,o.shiftKey)&&(o.preventDefault(),o.stopPropagation(),r.stop())}_handleArrowKeys(r,o){const a=this.editor.plugins.get(Vr),u=this.editor.plugins.get("TableSelection"),h=this.editor.model,f=h.document.selection,g=["right","down"].includes(r),_=a.getSelectedTableCells(f);if(_.length){let w;return w=o?u.getFocusCell():g?_[_.length-1]:_[0],this._navigateFromCellInDirection(w,r,o),!0}const b=f.focus.findAncestor("tableCell");if(!b)return!1;if(!f.isCollapsed)if(o){if(f.isBackward==g&&!f.containsEntireContent(b))return!1}else{const w=f.getSelectedElement();if(!w||!h.schema.isObject(w))return!1}return!!this._isSelectionAtCellEdge(f,b,g)&&(this._navigateFromCellInDirection(b,r,o),!0)}_isSelectionAtCellEdge(r,o,a){const u=this.editor.model,h=this.editor.model.schema,f=a?r.getLastPosition():r.getFirstPosition();if(!h.getLimitElement(f).is("element","tableCell"))return u.createPositionAt(o,a?"end":0).isTouching(f);const g=u.createSelection(f);return u.modifySelection(g,{direction:a?"forward":"backward"}),f.isEqual(g.focus)}_navigateFromCellInDirection(r,o,a=!1){const u=this.editor.model,h=r.findAncestor("table"),f=[...new Wt(h,{includeAllSlots:!0})],{row:g,column:_}=f[f.length-1],b=f.find(({cell:x})=>x==r);let{row:w,column:v}=b;switch(o){case"left":v--;break;case"up":w--;break;case"right":v+=b.cellWidth;break;case"down":w+=b.cellHeight}if(w<0||w>g||v<0&&w<=0||v>_&&w>=g)return void u.change(x=>{x.setSelection(x.createRangeOn(h))});v<0?(v=a?0:_,w--):v>_&&(v=a?_:0,w++);const A=f.find(x=>x.row==w&&x.column==v).cell,E=["right","down"].includes(o),D=this.editor.plugins.get("TableSelection");if(a&&D.isEnabled){const x=D.getAnchorCell()||r;D.setCellSelection(x,A)}else{const x=u.createPositionAt(A,E?0:"end");u.change(P=>{P.setSelection(x)})}}}class i9 extends us{constructor(){super(...arguments),this.domEventType=["mousemove","mouseleave"]}onDomEvent(r){this.fire(r.type,r)}}class o9 extends ne{static get pluginName(){return"TableMouse"}static get requires(){return[Ds,Vr]}init(){this.editor.editing.view.addObserver(i9),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const r=this.editor,o=r.plugins.get(Vr);let a=!1;const u=r.plugins.get(Ds);this.listenTo(r.editing.view.document,"mousedown",(h,f)=>{const g=r.model.document.selection;if(!this.isEnabled||!u.isEnabled||!f.domEvent.shiftKey)return;const _=u.getAnchorCell()||o.getTableCellsContainingSelection(g)[0];if(!_)return;const b=this._getModelTableCellFromDomEvent(f);b&&L5(_,b)&&(a=!0,u.setCellSelection(_,b),f.preventDefault())}),this.listenTo(r.editing.view.document,"mouseup",()=>{a=!1}),this.listenTo(r.editing.view.document,"selectionChange",h=>{a&&h.stop()},{priority:"highest"})}_enableMouseDragSelection(){const r=this.editor;let o,a,u=!1,h=!1;const f=r.plugins.get(Ds);this.listenTo(r.editing.view.document,"mousedown",(g,_)=>{this.isEnabled&&f.isEnabled&&(_.domEvent.shiftKey||_.domEvent.ctrlKey||_.domEvent.altKey||(o=this._getModelTableCellFromDomEvent(_)))}),this.listenTo(r.editing.view.document,"mousemove",(g,_)=>{if(!_.domEvent.buttons||!o)return;const b=this._getModelTableCellFromDomEvent(_);b&&L5(o,b)&&(a=b,u||a==o||(u=!0)),u&&(h=!0,f.setCellSelection(o,a),_.preventDefault())}),this.listenTo(r.editing.view.document,"mouseup",()=>{u=!1,h=!1,o=null,a=null}),this.listenTo(r.editing.view.document,"selectionChange",g=>{h&&g.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(r){const a=this.editor.editing.view.createPositionAt(r.target,0);return this.editor.editing.mapper.toModelPosition(a).parent.findAncestor("tableCell",{includeSelf:!0})}}function L5(l,r){return l.parent.parent==r.parent.parent}var ix=ge(6306);function a9(l){const r=l.getSelectedElement();return r&&V5(r)?r:null}function c9(l){const r=l.getFirstPosition();if(!r)return null;let o=r.parent;for(;o;){if(o.is("element")&&V5(o))return o;o=o.parent}return null}function V5(l){return!!l.getCustomProperty("table")&&er(l)}Ee()(ix.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var F5=ge(7368);Ee()(F5.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var z5=ge(9247);Ee()(z5.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Ys=ge(4070);Ee()(Ys.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var ox=ge(6237);Ee()(ox.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var mm=ge(5087);Ee()(mm.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var _m=ge(7341);Ee()(_m.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Ts=ge(2128);Ee()(Ts.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var uv=ge(4101);Ee()(uv.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var H5=Object.defineProperty,bm=Object.getOwnPropertySymbols,G5=Object.prototype.hasOwnProperty,$5=Object.prototype.propertyIsEnumerable,dv=(l,r,o)=>r in l?H5(l,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):l[r]=o,cx=(l,r)=>{for(var o in r||(r={}))G5.call(r,o)&&dv(l,o,r[o]);if(bm)for(var o of bm(r))$5.call(r,o)&&dv(l,o,r[o]);return l};const lx={autoRefresh:!0};class Bn extends(Pt()){constructor(r,o={}){if(super(),!r)throw new V("token-missing-token-url",this);o.initValue&&this._validateTokenValue(o.initValue),this.set("value",o.initValue),this._refresh="function"==typeof r?r:()=>{return a=r,new Promise((u,h)=>{const f=new XMLHttpRequest;f.open("GET",a),f.addEventListener("load",()=>{const g=f.status,_=f.response;return g<200||g>299?h(new V("token-cannot-download-new-token",null)):u(_)}),f.addEventListener("error",()=>h(new Error("Network Error"))),f.addEventListener("abort",()=>h(new Error("Abort"))),f.send()});var a},this._options=cx(cx({},lx),o)}init(){return new Promise((r,o)=>{this.value?(this._options.autoRefresh&&this._registerRefreshTokenTimeout(),r(this)):this.refreshToken().then(r).catch(o)})}refreshToken(){return this._refresh().then(r=>(this._validateTokenValue(r),this.set("value",r),this._options.autoRefresh&&this._registerRefreshTokenTimeout(),this))}destroy(){clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(r){const o="string"==typeof r,a=!/^".*"$/.test(r),u=o&&3===r.split(".").length;if(!a||!u)throw new V("token-not-in-jwt-format",this)}_registerRefreshTokenTimeout(){const r=this._getTokenRefreshTimeoutTime();clearTimeout(this._tokenRefreshTimeout),this._tokenRefreshTimeout=setTimeout(()=>{this.refreshToken()},r)}_getTokenRefreshTimeoutTime(){try{const[,r]=this.value.split("."),{exp:o}=JSON.parse(atob(r));return o?Math.floor((1e3*o-Date.now())/2):36e5}catch{return 36e5}}static create(r,o={}){return new Bn(r,o).init()}}const xn=/^data:(\S*?);base64,/;class wt extends(xt()){constructor(r,o,a){if(super(),!r)throw new V("fileuploader-missing-file",null);if(!o)throw new V("fileuploader-missing-token",null);if(!a)throw new V("fileuploader-missing-api-address",null);this.file=function(u){if("string"!=typeof u)return!1;const h=u.match(xn);return!(!h||!h.length)}(r)?function(u,h=512){try{const f=u.match(xn)[1],g=atob(u.replace(xn,"")),_=[];for(let b=0;b<g.length;b+=h){const w=g.slice(b,b+h),v=new Array(w.length);for(let A=0;A<w.length;A++)v[A]=w.charCodeAt(A);_.push(new Uint8Array(v))}return new Blob(_,{type:f})}catch{throw new V("fileuploader-decoding-image-data-error",null)}}(r):r,this._token=o,this._apiAddress=a}onProgress(r){return this.on("progress",(o,a)=>r(a)),this}onError(r){return this.once("error",(o,a)=>r(a)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const r=new XMLHttpRequest;r.open("POST",this._apiAddress),r.setRequestHeader("Authorization",this._token.value),r.responseType="json",this.xhr=r}_attachXHRListeners(){const r=this.xhr,o=a=>()=>this.fire("error",a);r.addEventListener("error",o("Network Error")),r.addEventListener("abort",o("Abort")),r.upload&&r.upload.addEventListener("progress",a=>{a.lengthComputable&&this.fire("progress",{total:a.total,uploaded:a.loaded})}),r.addEventListener("load",()=>{const a=r.status,u=r.response;if(a<200||a>299)return this.fire("error",u.message||u.error)})}_sendRequest(){const r=new FormData,o=this.xhr;return r.append("file",this.file),new Promise((a,u)=>{o.addEventListener("load",()=>{const h=o.status,f=o.response;return h<200||h>299?u(f.message?new V("fileuploader-uploading-data-failed",this,{message:f.message}):f.error):a(f)}),o.addEventListener("error",()=>u(new Error("Network Error"))),o.addEventListener("abort",()=>u(new Error("Abort"))),o.send(r)})}}class Sn{constructor(r,o){if(!r)throw new V("uploadgateway-missing-token",null);if(!o)throw new V("uploadgateway-missing-api-address",null);this._token=r,this._apiAddress=o}upload(r){return new wt(r,this._token,this._apiAddress)}}class je extends fb{static get pluginName(){return"CloudServicesCore"}createToken(r,o){return new Bn(r,o)}createUploadGateway(r,o){return new Sn(r,o)}}var q5=(l,r,o)=>new Promise((a,u)=>{var h=_=>{try{g(o.next(_))}catch(b){u(b)}},f=_=>{try{g(o.throw(_))}catch(b){u(b)}},g=_=>_.done?a(_.value):Promise.resolve(_.value).then(h,f);g((o=o.apply(l,r)).next())});class hv extends vh{}hv.builtinPlugins=[class extends ne{static get requires(){return[zo,Ih,Uo,uN,vg,Ph]}static get pluginName(){return"Essentials"}},class extends ne{static get requires(){return[Oi,RI]}static get pluginName(){return"Alignment"}},class extends ne{static get requires(){return[RN,ON]}static get pluginName(){return"FontSize"}normalizeSizeOptions(l){return Uw(l)}},class extends ne{static get requires(){return[SN,MN]}static get pluginName(){return"FontFamily"}},class extends ne{static get requires(){return[VN,BI]}static get pluginName(){return"FontColor"}},class extends ne{static get requires(){return[jI,UI]}static get pluginName(){return"FontBackgroundColor"}},class extends ne{static get requires(){return[_o]}static get pluginName(){return"CKFinderUploadAdapter"}init(){const l=this.editor.config.get("ckfinder.uploadUrl");l&&(this.editor.plugins.get(_o).createUploadAdapter=r=>new BN(r,l,this.editor.t))}},class extends ne{static get requires(){return[Bo]}static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats()}_addListAutoformats(){const l=this.editor.commands;l.get("bulletedList")&&Ji(this.editor,this,/^[*-]\s$/,"bulletedList"),l.get("numberedList")&&Ji(this.editor,this,/^1[.|)]\s$/,"numberedList"),l.get("todoList")&&Ji(this.editor,this,/^\[\s?\]\s$/,"todoList"),l.get("checkTodoList")&&Ji(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const l=this.editor.commands;if(l.get("bold")){const r=Ww(this.editor,"bold");Nh(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,r),Nh(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,r)}if(l.get("italic")){const r=Ww(this.editor,"italic");Nh(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,r),Nh(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,r)}if(l.get("code")){const r=Ww(this.editor,"code");Nh(this.editor,this,/(`)([^`]+)(`)$/g,r)}if(l.get("strikethrough")){const r=Ww(this.editor,"strikethrough");Nh(this.editor,this,/(~~)([^~]+)(~~)$/g,r)}}_addHeadingAutoformats(){const l=this.editor.commands.get("heading");l&&l.modelElements.filter(r=>r.match(/^heading[1-6]$/)).forEach(r=>{const a=new RegExp(`^(#{${r[7]}})\\s$`);Ji(this.editor,this,a,()=>{if(!l.isEnabled||l.value===r)return!1;this.editor.execute("heading",{value:r})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&Ji(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const l=this.editor,r=l.model.document.selection;l.commands.get("codeBlock")&&Ji(l,this,/^```$/,()=>{if(r.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&Ji(this.editor,this,/^---$/,"horizontalLine")}},class extends ne{static get requires(){return[T7,zN]}static get pluginName(){return"Bold"}},class extends ne{static get requires(){return[UN,Pg]}static get pluginName(){return"Italic"}},class extends ne{static get requires(){return[x7,WI]}static get pluginName(){return"Strikethrough"}},class extends ne{static get requires(){return[KI,QI]}static get pluginName(){return"Underline"}},class extends ne{static get requires(){return[Vh,GN]}static get pluginName(){return"BlockQuote"}},class extends ne{static get pluginName(){return"CKBox"}static get requires(){return[Qw,Lg]}},class extends ne{static get pluginName(){return"CKFinder"}static get requires(){return["Link","CKFinderUploadAdapter",QN,KN]}},class extends fb{constructor(){super(...arguments),this.token=null,this._tokens=new Map}static get pluginName(){return"CloudServices"}static get requires(){return[je]}init(){return q5(this,null,function*(){const l=this.context.config.get("cloudServices")||{};for(const[o,a]of Object.entries(l))this[o]=a;if(!this.tokenUrl)return void(this.token=null);const r=this.context.plugins.get("CloudServicesCore");this.token=yield r.createToken(this.tokenUrl).init(),this._tokens.set(this.tokenUrl,this.token)})}registerTokenUrl(l){return q5(this,null,function*(){if(this._tokens.has(l))return this.getTokenFor(l);const r=this.context.plugins.get("CloudServicesCore"),o=yield r.createToken(l).init();return this._tokens.set(l,o),o})}getTokenFor(l){const r=this._tokens.get(l);if(!r)throw new V("cloudservices-token-not-registered",this);return r}destroy(){super.destroy();for(const l of this._tokens.values())l.destroy()}},class extends ne{static get pluginName(){return"EasyImage"}static get requires(){return[S7,"ImageUpload"]}init(){const l=this.editor;l.plugins.has("ImageBlockEditing")||l.plugins.has("ImageInlineEditing")||ke("easy-image-image-feature-missing",l)}},class extends ne{static get requires(){return[JN,eO]}static get pluginName(){return"Heading"}},class extends ne{static get requires(){return[AD,dO]}static get pluginName(){return"Image"}},class extends ne{static get requires(){return[hO,fn]}static get pluginName(){return"ImageCaption"}},class extends ne{static get requires(){return[LD,Uh,vO]}static get pluginName(){return"ImageResize"}},class extends ne{static get requires(){return[WD,DO]}static get pluginName(){return"ImageStyle"}},class extends ne{static get requires(){return[iu,Fi]}static get pluginName(){return"ImageToolbar"}afterInit(){const l=this.editor,r=l.t,o=l.plugins.get(iu),a=l.plugins.get("ImageUtils");var u;o.register("image",{ariaLabel:r("Image toolbar"),items:(u=l.config.get("image.toolbar")||[],u.map(h=>dn(h)?h.name:h)),getRelatedElement:h=>a.getClosestSelectedImageWidget(h)})}},class extends ne{static get pluginName(){return"ImageUpload"}static get requires(){return[bO,sk,SD]}},class extends ne{static get pluginName(){return"Indent"}static get requires(){return[TO,xO]}},class extends ne{constructor(l){super(l),l.config.define("indentBlock",{offset:40,unit:"px"})}static get pluginName(){return"IndentBlock"}init(){const l=this.editor,r=l.config.get("indentBlock");r.classes&&r.classes.length?(this._setupConversionUsingClasses(r.classes),l.commands.add("indentBlock",new Gh(l,new JD({direction:"forward",classes:r.classes}))),l.commands.add("outdentBlock",new Gh(l,new JD({direction:"backward",classes:r.classes})))):(l.data.addStyleProcessorRules(mR),this._setupConversionUsingOffset(),l.commands.add("indentBlock",new Gh(l,new bo({direction:"forward",offset:r.offset,unit:r.unit}))),l.commands.add("outdentBlock",new Gh(l,new bo({direction:"backward",offset:r.offset,unit:r.unit}))))}afterInit(){const l=this.editor,r=l.model.schema,o=l.commands.get("indent"),a=l.commands.get("outdent"),u=l.config.get("heading.options");(u&&u.map(h=>h.model)||SO).forEach(h=>{r.isRegistered(h)&&r.extend(h,{allowAttributes:"blockIndent"})}),r.setAttributeProperties("blockIndent",{isFormatting:!0}),o.registerChildCommand(l.commands.get("indentBlock")),a.registerChildCommand(l.commands.get("outdentBlock"))}_setupConversionUsingOffset(){const l=this.editor.conversion,r="rtl"===this.editor.locale.contentLanguageDirection?"margin-right":"margin-left";l.for("upcast").attributeToAttribute({view:{styles:{[r]:/[\s\S]+/}},model:{key:"blockIndent",value:o=>{if(!o.is("element","li"))return o.getStyle(r)}}}),l.for("downcast").attributeToAttribute({model:"blockIndent",view:o=>({key:"style",value:{[r]:o}})})}_setupConversionUsingClasses(l){const r={model:{key:"blockIndent",values:[]},view:{}};for(const o of l)r.model.values.push(o),r.view[o]={key:"class",value:[o]};this.editor.conversion.attributeToAttribute(r)}},class extends ne{static get requires(){return[jO,HO,V7]}static get pluginName(){return"Link"}},class extends ne{static get requires(){return[Jt,wT]}static get pluginName(){return"List"}},class extends ne{static get requires(){return[xT,JO]}static get pluginName(){return"ListProperties"}},class extends ne{static get requires(){return[Yh,W7,OT,Dh]}static get pluginName(){return"MediaEmbed"}},Zw,class extends ne{static get pluginName(){return"PasteFromOffice"}static get requires(){return[mo]}init(){const l=this.editor,r=l.plugins.get("ClipboardPipeline"),o=l.editing.view.document,a=[];a.push(new hu(o)),a.push(new h5(o)),a.push(new Q7(o)),r.on("inputTransformation",(u,h)=>{if(h._isTransformedWithPasteFromOffice||l.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const f=h.dataTransfer.getData("text/html"),g=a.find(_=>_.isActive(f));g&&(h._parsedData||(h._parsedData=function p5(l,r){const o=new DOMParser,a=Xk(Xk(function(_){const v=_.indexOf("</body>");if(v<0)return _;const A=_.indexOf("</html>",v+7);return _.substring(0,v+7)+(A>=0?_.substring(A):"")}(l=l.replace(/<!--\[if gte vml 1]>/g,"")))).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/(<span\s+style=['"]letter-spacing:[^'"]+?['"]>)[\r\n]+(<\/span>)/g,"$1 $2").replace(/ <\//g,"\xa0</").replace(/ <o:p><\/o:p>/g,"\xa0<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><"),u=o.parseFromString(a,"text/html");u.querySelectorAll("span[style*=spacerun]").forEach(b=>{const v=b.innerText.length||0;b.innerText=Array(v+1).join("\xa0 ").substr(0,v)});const h=u.body.innerHTML,f=function(_,b){const w=new Hs(b),v=new Ep(w,{renderingMode:"data"}),A=_.createDocumentFragment(),E=_.body.childNodes;for(;E.length>0;)A.appendChild(E[0]);return v.domToView(A,{skipComments:!0})}(u,r),g=function(_){const b=[],w=[],v=Array.from(_.getElementsByTagName("style"));for(const A of v)A.sheet&&A.sheet.cssRules&&A.sheet.cssRules.length&&(b.push(A.sheet),w.push(A.innerHTML));return{styles:b,stylesString:w.join(" ")}}(u);return{body:f,bodyString:h,styles:g.styles,stylesString:g.stylesString}}(f,o.stylesProcessor)),g.execute(h),h._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}},class extends ne{static get requires(){return[Ug,Fi]}static get pluginName(){return"PictureEditing"}afterInit(){const l=this.editor;l.plugins.has("ImageBlockEditing")&&l.model.schema.extend("imageBlock",{allowAttributes:["sources"]}),l.plugins.has("ImageInlineEditing")&&l.model.schema.extend("imageInline",{allowAttributes:["sources"]}),this._setupConversion(),this._setupImageUploadEditingIntegration()}_setupConversion(){const l=this.editor,r=l.conversion,o=l.plugins.get("ImageUtils");r.for("upcast").add(function(a){const u=["srcset","media","type","sizes"],h=(f,g,_)=>{const b=g.viewItem;if(!_.consumable.test(b,{name:!0}))return;const w=new Map;for(const E of b.getChildren())if(E.is("element","source")){const D={};for(const x of u)E.hasAttribute(x)&&_.consumable.test(E,{attributes:x})&&(D[x]=E.getAttribute(x));Object.keys(D).length&&w.set(E,D)}const v=a.findViewImgElement(b);if(!v)return;let A=g.modelCursor.parent;if(!A.is("element","imageBlock")){const E=_.convertItem(v,g.modelCursor);g.modelRange=E.modelRange,g.modelCursor=E.modelCursor,A=Vn(E.modelRange.getItems())}_.consumable.consume(b,{name:!0});for(const[E,D]of w)_.consumable.consume(E,{attributes:Object.keys(D)});w.size&&_.writer.setAttribute("sources",Array.from(w.values()),A),_.convertChildren(b,A)};return f=>{f.on("element:picture",h)}}(o)),r.for("downcast").add(function(a){const u=(h,f,g)=>{if(!g.consumable.consume(f.item,h.name))return;const _=g.writer,b=g.mapper.toViewElement(f.item),w=a.findViewImgElement(b),v=f.attributeNewValue;if(v&&v.length){const A=_.createContainerElement("picture",null,v.map(x=>_.createEmptyElement("source",x))),E=[];let D=w.parent;for(;D&&D.is("attributeElement");){const x=D.parent;_.unwrap(_.createRangeOn(w),D),E.unshift(D),D=x}_.insert(_.createPositionBefore(w),A),_.move(_.createRangeOn(w),_.createPositionAt(A,"end"));for(const x of E)_.wrap(_.createRangeOn(A),x)}else if(w.parent.is("element","picture")){const A=w.parent;_.move(_.createRangeOn(w),_.createPositionBefore(A)),_.remove(A)}};return h=>{h.on("attribute:sources:imageBlock",u),h.on("attribute:sources:imageInline",u)}}(o))}_setupImageUploadEditingIntegration(){const l=this.editor;if(!l.plugins.has("ImageUploadEditing"))return;const r=l.plugins.get("ImageUploadEditing");this.listenTo(r,"uploadComplete",(o,{imageElement:a,data:u})=>{const h=u.sources;h&&l.model.change(f=>{f.setAttributes({sources:h},a)})})}},class extends ne{static get requires(){return[XT,tx,Ds,o9,r9,n9,Dh]}static get pluginName(){return"Table"}},class extends ne{static get requires(){return[iu]}static get pluginName(){return"TableToolbar"}afterInit(){const l=this.editor,r=l.t,o=l.plugins.get(iu),a=l.config.get("table.contentToolbar"),u=l.config.get("table.tableToolbar");a&&o.register("tableContent",{ariaLabel:r("Table toolbar"),items:a,getRelatedElement:c9}),u&&o.register("table",{ariaLabel:r("Table toolbar"),items:u,getRelatedElement:a9})}},class extends ne{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(l){super(l),l.config.define("typing",{transformations:{include:yw}})}init(){const l=this.editor.model.document.selection;l.on("change:range",()=>{this.isEnabled=!l.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const l=this.editor,r=l.model,o=l.plugins.get("Delete"),a=function(h){const g=h.remove||[],_=b=>!g.includes(b);return function(b){const w=new Set;for(const v of b)if("string"==typeof v&&ZE[v])for(const A of ZE[v])w.add(A);else w.add(v);return Array.from(w)}(h.include.concat(h.extra||[]).filter(_)).filter(_).map(b=>"string"==typeof b&&YE[b]?YE[b]:b).filter(b=>"object"==typeof b).map(b=>({from:Eg(b.from),to:Ig(b.to)}))}(l.config.get("typing.transformations")),u=new eu(l.model,h=>{for(const f of a)if(f.from.test(h))return{normalizedTransformation:f}});u.on("matched:data",(h,f)=>{if(!f.batch.isTyping)return;const{from:g,to:_}=f.normalizedTransformation,b=g.exec(f.text),w=_(b.slice(1)),v=f.range;let A=b.index;r.enqueueChange(E=>{for(let D=1;D<b.length;D++){const x=b[D],P=w[D-1];if(null==P){A+=x.length;continue}const N=v.start.getShiftedBy(A),H=r.createRange(N,N.getShiftedBy(x.length)),J=I7(N);r.insertContent(E.createText(P,J),H),A+=P.length}r.enqueueChange(()=>{o.requestUndoOnBackspace()})})}),u.bind("isEnabled").to(this)}}],hv.defaultConfig={toolbar:{items:["undo","redo","|","heading","|","fontfamily","fontsize","fontColor","fontBackgroundColor","|","bold","italic","underline","strikethrough","|","link","uploadImage","insertTable","blockQuote","mediaEmbed","|","alignment","|","bulletedList","numberedList","outdent","indent"]},image:{resizeUnit:"px",toolbar:["imageStyle:inline","imageStyle:wrapText","imageStyle:breakText","|","toggleImageCaption","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},list:{properties:{styles:!0,startIndex:!0,reversed:!0}},language:"en"}})(),ul.default})()},886:(bi,Xo,F_)=>{"use strict";function Vt(t){return"function"==typeof t}function Ns(t){const n=t(i=>{Error.call(i),i.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const ge=Ns(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((i,s)=>`${s+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function ul(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class G{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const c of n)c.remove(this);else n.remove(this);const{initialTeardown:i}=this;if(Vt(i))try{i()}catch(c){e=c instanceof ge?c.errors:[c]}const{_finalizers:s}=this;if(s){this._finalizers=null;for(const c of s)try{F(c)}catch(d){e=e??[],d instanceof ge?e=[...e,...d.errors]:e.push(d)}}if(e)throw new ge(e)}}add(e){var n;if(e&&e!==this)if(this.closed)F(e);else{if(e instanceof G){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ul(n,e)}remove(e){const{_finalizers:n}=this;n&&ul(n,e),e instanceof G&&e._removeParent(this)}}G.EMPTY=(()=>{const t=new G;return t.closed=!0,t})();const W=G.EMPTY;function T(t){return t instanceof G||t&&"closed"in t&&Vt(t.remove)&&Vt(t.add)&&Vt(t.unsubscribe)}function F(t){Vt(t)?t():t.unsubscribe()}const q={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},L={setTimeout(t,e,...n){const{delegate:i}=L;return i?.setTimeout?i.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=L;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function S(t){L.setTimeout(()=>{const{onUnhandledError:e}=q;if(!e)throw t;e(t)})}function R(){}const $=re("C",void 0,void 0);function re(t,e,n){return{kind:t,value:e,error:n}}let ce=null;function ye(t){if(q.useDeprecatedSynchronousErrorHandling){const e=!ce;if(e&&(ce={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:i}=ce;if(ce=null,n)throw i}}else t()}class vt extends G{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,T(e)&&e.add(this)):this.destination=Yt}static create(e,n,i){return new nt(e,n,i)}next(e){this.isStopped?En(function K(t){return re("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?En(function Q(t){return re("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?En($,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const V=Function.prototype.bind;function ke(t,e){return V.call(t,e)}class ut{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(i){Ft(i)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(i){Ft(i)}else Ft(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Ft(n)}}}class nt extends vt{constructor(e,n,i){let s;if(super(),Vt(e)||!e)s={next:e??void 0,error:n??void 0,complete:i??void 0};else{let c;this&&q.useDeprecatedNextContext?(c=Object.create(e),c.unsubscribe=()=>this.unsubscribe(),s={next:e.next&&ke(e.next,c),error:e.error&&ke(e.error,c),complete:e.complete&&ke(e.complete,c)}):s=e}this.destination=new ut(s)}}function Ft(t){q.useDeprecatedSynchronousErrorHandling?function We(t){q.useDeprecatedSynchronousErrorHandling&&ce&&(ce.errorThrown=!0,ce.error=t)}(t):S(t)}function En(t,e){const{onStoppedNotification:n}=q;n&&L.setTimeout(()=>n(t,e))}const Yt={closed:!0,next:R,error:function Nn(t){throw t},complete:R},so="function"==typeof Symbol&&Symbol.observable||"@@observable";function ln(t){return t}function xt(t){return 0===t.length?ln:1===t.length?t[0]:function(n){return t.reduce((i,s)=>s(i),n)}}let un=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const i=new t;return i.source=this,i.operator=n,i}subscribe(n,i,s){const c=function B_(t){return t&&t instanceof vt||function CC(t){return t&&Vt(t.next)&&Vt(t.error)&&Vt(t.complete)}(t)&&T(t)}(n)?n:new nt(n,i,s);return ye(()=>{const{operator:d,source:p}=this;c.add(d?d.call(c,p):p?this._subscribe(c):this._trySubscribe(c))}),c}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return new(i=Wf(i))((s,c)=>{const d=new nt({next:p=>{try{n(p)}catch(m){c(m),d.unsubscribe()}},error:c,complete:s});this.subscribe(d)})}_subscribe(n){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(n)}[so](){return this}pipe(...n){return xt(n)(this)}toPromise(n){return new(n=Wf(n))((i,s)=>{let c;this.subscribe(d=>c=d,d=>s(d),()=>i(c))})}}return t.create=e=>new t(e),t})();function Wf(t){var e;return null!==(e=t??q.Promise)&&void 0!==e?e:Promise}const AC=Ns(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Eo=(()=>{class t extends un{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const i=new Kf(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new AC}next(n){ye(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(n)}})}error(n){ye(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){ye(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:i,isStopped:s,observers:c}=this;return i||s?W:(this.currentObservers=null,c.push(n),new G(()=>{this.currentObservers=null,ul(c,n)}))}_checkFinalizedStatuses(n){const{hasError:i,thrownError:s,isStopped:c}=this;i?n.error(s):c&&n.complete()}asObservable(){const n=new un;return n.source=this,n}}return t.create=(e,n)=>new Kf(e,n),t})();class Kf extends Eo{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,i;null===(i=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===i||i.call(n,e)}error(e){var n,i;null===(i=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===i||i.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,i;return null!==(i=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==i?i:W}}function dn(t){return Vt(t?.lift)}function On(t){return e=>{if(dn(e))return e.lift(function(n){try{return t(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function pn(t,e,n,i,s){return new Qf(t,e,n,i,s)}class Qf extends vt{constructor(e,n,i,s,c,d){super(e),this.onFinalize=c,this.shouldUnsubscribe=d,this._next=n?function(p){try{n(p)}catch(m){e.error(m)}}:super._next,this._error=s?function(p){try{s(p)}catch(m){e.error(m)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(p){e.error(p)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function _t(t,e){return On((n,i)=>{let s=0;n.subscribe(pn(i,c=>{i.next(t.call(e,c,s++))}))})}function Zu(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]])}return n}function rc(t){return this instanceof rc?(this.v=t,this):new rc(t)}function ua(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function z_(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(c){n[c]=t[c]&&function(d){return new Promise(function(p,m){!function s(c,d,p,m){Promise.resolve(m).then(function(y){c({value:y,done:p})},d)}(p,m,(d=t[c](d)).done,d.value)})}}}const TC=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function U_(t){return Vt(t?.then)}function xC(t){return Vt(t[so])}function SC(t){return Symbol.asyncIterator&&Vt(t?.[Symbol.asyncIterator])}function wi(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const hl=function m2(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Ju(t){return Vt(t?.[hl])}function MC(t){return function h2(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s,i=n.apply(t,e||[]),c=[];return s={},d("next"),d("throw"),d("return"),s[Symbol.asyncIterator]=function(){return this},s;function d(I){i[I]&&(s[I]=function(M){return new Promise(function(O,B){c.push([I,M,O,B])>1||p(I,M)})})}function p(I,M){try{!function m(I){I.value instanceof rc?Promise.resolve(I.value.v).then(y,k):C(c[0][2],I)}(i[I](M))}catch(O){C(c[0][3],O)}}function y(I){p("next",I)}function k(I){p("throw",I)}function C(I,M){I(M),c.shift(),c.length&&p(c[0][0],c[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:i,done:s}=yield rc(n.read());if(s)return yield rc(void 0);yield yield rc(i)}}finally{n.releaseLock()}})}function PC(t){return Vt(t?.getReader)}function qi(t){if(t instanceof un)return t;if(null!=t){if(xC(t))return function _2(t){return new un(e=>{const n=t[so]();if(Vt(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(TC(t))return function b2(t){return new un(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(U_(t))return function fl(t){return new un(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,S)})}(t);if(SC(t))return RC(t);if(Ju(t))return function Jf(t){return new un(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(PC(t))return function y2(t){return RC(MC(t))}(t)}throw wi(t)}function RC(t){return new un(e=>{(function w2(t,e){var n,i,s,c;return function IC(t,e,n,i){return new(n||(n=Promise))(function(c,d){function p(k){try{y(i.next(k))}catch(C){d(C)}}function m(k){try{y(i.throw(k))}catch(C){d(C)}}function y(k){k.done?c(k.value):function s(c){return c instanceof n?c:new n(function(d){d(c)})}(k.value).then(p,m)}y((i=i.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=ua(t);!(i=yield n.next()).done;)if(e.next(i.value),e.closed)return}catch(d){s={error:d}}finally{try{i&&!i.done&&(c=n.return)&&(yield c.call(n))}finally{if(s)throw s.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Ls(t,e,n,i=0,s=!1){const c=e.schedule(function(){n(),s?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(c),!s)return c}function ir(t,e,n=1/0){return Vt(e)?ir((i,s)=>_t((c,d)=>e(i,c,s,d))(qi(t(i,s))),n):("number"==typeof e&&(n=e),On((i,s)=>function Xu(t,e,n,i,s,c,d,p){const m=[];let y=0,k=0,C=!1;const I=()=>{C&&!m.length&&!y&&e.complete()},M=B=>y<i?O(B):m.push(B),O=B=>{c&&e.next(B),y++;let j=!1;qi(n(B,k++)).subscribe(pn(e,Z=>{s?.(Z),c?M(Z):e.next(Z)},()=>{j=!0},void 0,()=>{if(j)try{for(y--;m.length&&y<i;){const Z=m.shift();d?Ls(e,d,()=>O(Z)):O(Z)}I()}catch(Z){e.error(Z)}}))};return t.subscribe(pn(e,M,()=>{C=!0,I()})),()=>{p?.()}}(i,s,t,n)))}function ic(t=1/0){return ir(ln,t)}const es=new un(t=>t.complete());function H_(t){return t[t.length-1]}function G_(t){return Vt(H_(t))?t.pop():void 0}function ed(t){return function k2(t){return t&&Vt(t.schedule)}(H_(t))?t.pop():void 0}function $_(t,e=0){return On((n,i)=>{n.subscribe(pn(i,s=>Ls(i,t,()=>i.next(s),e),()=>Ls(i,t,()=>i.complete(),e),s=>Ls(i,t,()=>i.error(s),e)))})}function NC(t,e=0){return On((n,i)=>{i.add(t.schedule(()=>n.subscribe(i),e))})}function OC(t,e){if(!t)throw new Error("Iterable cannot be null");return new un(n=>{Ls(n,e,()=>{const i=t[Symbol.asyncIterator]();Ls(n,e,()=>{i.next().then(s=>{s.done?n.complete():n.next(s.value)})},0,!0)})})}function or(t,e){return e?function E2(t,e){if(null!=t){if(xC(t))return function C2(t,e){return qi(t).pipe(NC(e),$_(e))}(t,e);if(TC(t))return function td(t,e){return new un(n=>{let i=0;return e.schedule(function(){i===t.length?n.complete():(n.next(t[i++]),n.closed||this.schedule())})})}(t,e);if(U_(t))return function sc(t,e){return qi(t).pipe(NC(e),$_(e))}(t,e);if(SC(t))return OC(t,e);if(Ju(t))return function nd(t,e){return new un(n=>{let i;return Ls(n,e,()=>{i=t[hl](),Ls(n,e,()=>{let s,c;try{({value:s,done:c}=i.next())}catch(d){return void n.error(d)}c?n.complete():n.next(s)},0,!0)}),()=>Vt(i?.return)&&i.return()})}(t,e);if(PC(t))return function A2(t,e){return OC(MC(t),e)}(t,e)}throw wi(t)}(t,e):qi(t)}function q_(t,e,...n){if(!0===e)return void t();if(!1===e)return;const i=new nt({next:()=>{i.unsubscribe(),t()}});return qi(e(...n)).subscribe(i)}function Et(t){for(let e in t)if(t[e]===Et)return e;throw Error("Could not find renamed property on target object.")}function Xf(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function sr(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(sr).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function W_(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const ep=Et({__forward_ref__:Et});function Zt(t){return t.__forward_ref__=Zt,t.toString=function(){return sr(this())},t}function Xe(t){return K_(t)?t():t}function K_(t){return"function"==typeof t&&t.hasOwnProperty(ep)&&t.__forward_ref__===Zt}function Q_(t){return t&&!!t.\u0275providers}const id="https://g.co/ng/security#xss";class he extends Error{constructor(e,n){super(function da(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function Ke(t){return"string"==typeof t?t:null==t?"":String(t)}function pl(t,e){throw new he(-201,!1)}function ki(t,e){null==t&&function Bt(t,e,n,i){throw new Error(`ASSERTION ERROR: ${t}`+(null==i?"":` [Expected=> ${n} ${i} ${e} <=Actual]`))}(e,t,null,"!=")}function Ne(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function mr(t){return{providers:t.providers||[],imports:t.imports||[]}}function Vs(t){return rp(t,ip)||rp(t,UC)}function rp(t,e){return t.hasOwnProperty(e)?t[e]:null}function Y_(t){return t&&(t.hasOwnProperty(sd)||t.hasOwnProperty(R2))?t[sd]:null}const ip=Et({\u0275prov:Et}),sd=Et({\u0275inj:Et}),UC=Et({ngInjectableDef:Et}),R2=Et({ngInjectorDef:Et});var He=(()=>((He=He||{})[He.Default=0]="Default",He[He.Host=1]="Host",He[He.Self=2]="Self",He[He.SkipSelf=4]="SkipSelf",He[He.Optional=8]="Optional",He))();let gl;function op(){return gl}function vi(t){const e=gl;return gl=t,e}function HC(t,e,n){const i=Vs(t);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:n&He.Optional?null:void 0!==e?e:void pl(sr(t))}const rn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ml={},sp="__NG_DI_FLAG__",cd="ngTempTokenPath",$C=/\n/gm,Z_="__source";let _l;function ts(t){const e=_l;return _l=t,e}function L2(t,e=He.Default){if(void 0===_l)throw new he(-203,!1);return null===_l?HC(t,void 0,e):_l.get(t,e&He.Optional?null:void 0,e)}function we(t,e=He.Default){return(op()||L2)(Xe(t),e)}function me(t,e=He.Default){return we(t,ld(e))}function ld(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function ud(t){const e=[];for(let n=0;n<t.length;n++){const i=Xe(t[n]);if(Array.isArray(i)){if(0===i.length)throw new he(900,!1);let s,c=He.Default;for(let d=0;d<i.length;d++){const p=i[d],m=X_(p);"number"==typeof m?-1===m?s=p.token:c|=m:s=p}e.push(we(s,c))}else e.push(we(i))}return e}function dd(t,e){return t[sp]=e,t.prototype[sp]=e,t}function X_(t){return t[sp]}function Io(t){return{toString:t}.toString()}var Do=(()=>((Do=Do||{})[Do.OnPush=0]="OnPush",Do[Do.Default=1]="Default",Do))(),Ci=(()=>{return(t=Ci||(Ci={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Ci;var t})();const ns={},St=[],hd=Et({\u0275cmp:Et}),nb=Et({\u0275dir:Et}),rb=Et({\u0275pipe:Et}),WC=Et({\u0275mod:Et}),Fs=Et({\u0275fac:Et}),fd=Et({__NG_ELEMENT_ID__:Et}),fa=Et({__NG_ENV_ID__:Et});function bl(t,e,n){let i=t.length;for(;;){const s=t.indexOf(e,n);if(-1===s)return s;if(0===s||t.charCodeAt(s-1)<=32){const c=e.length;if(s+c===i||t.charCodeAt(s+c)<=32)return s}n=s+1}}function ib(t,e,n){let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const c=n[i++],d=n[i++],p=n[i++];t.setAttribute(e,d,p,c)}else{const c=s,d=n[++i];pd(c)?t.setProperty(e,c,d):t.setAttribute(e,c,d),i++}}return i}function KC(t){return 3===t||4===t||6===t}function pd(t){return 64===t.charCodeAt(0)}function ac(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){const s=e[i];"number"==typeof s?n=s:0===n||QC(t,n,s,null,-1===n||2===n?e[++i]:null)}}return t}function QC(t,e,n,i,s){let c=0,d=t.length;if(-1===e)d=-1;else for(;c<t.length;){const p=t[c++];if("number"==typeof p){if(p===e){d=-1;break}if(p>e){d=c-1;break}}}for(;c<t.length;){const p=t[c];if("number"==typeof p)break;if(p===n){if(null===i)return void(null!==s&&(t[c+1]=s));if(i===t[c+1])return void(t[c+2]=s)}c++,null!==i&&c++,null!==s&&c++}-1!==d&&(t.splice(d,0,e),c=d+1),t.splice(c++,0,n),null!==i&&t.splice(c++,0,i),null!==s&&t.splice(c++,0,s)}const YC="ng-template";function V2(t,e,n){let i=0,s=!0;for(;i<t.length;){let c=t[i++];if("string"==typeof c&&s){const d=t[i++];if(n&&"class"===c&&-1!==bl(d.toLowerCase(),e,0))return!0}else{if(1===c){for(;i<t.length&&"string"==typeof(c=t[i++]);)if(c.toLowerCase()===e)return!0;return!1}"number"==typeof c&&(s=!1)}}return!1}function ob(t){return 4===t.type&&t.value!==YC}function ZC(t,e,n){return e===(4!==t.type||n?t.value:YC)}function F2(t,e,n){let i=4;const s=t.attrs||[],c=function JC(t){for(let e=0;e<t.length;e++)if(KC(t[e]))return e;return t.length}(s);let d=!1;for(let p=0;p<e.length;p++){const m=e[p];if("number"!=typeof m){if(!d)if(4&i){if(i=2|1&i,""!==m&&!ZC(t,m,n)||""===m&&1===e.length){if(uo(i))return!1;d=!0}}else{const y=8&i?m:e[++p];if(8&i&&null!==t.attrs){if(!V2(t.attrs,y,n)){if(uo(i))return!1;d=!0}continue}const C=B2(8&i?"class":m,s,ob(t),n);if(-1===C){if(uo(i))return!1;d=!0;continue}if(""!==y){let I;I=C>c?"":s[C+1].toLowerCase();const M=8&i?I:null;if(M&&-1!==bl(M,y,0)||2&i&&y!==I){if(uo(i))return!1;d=!0}}}}else{if(!d&&!uo(i)&&!uo(m))return!1;if(d&&uo(m))continue;d=!1,i=m|1&i}}return uo(i)||d}function uo(t){return 0==(1&t)}function B2(t,e,n,i){if(null===e)return-1;let s=0;if(i||!n){let c=!1;for(;s<e.length;){const d=e[s];if(d===t)return s;if(3===d||6===d)c=!0;else{if(1===d||2===d){let p=e[++s];for(;"string"==typeof p;)p=e[++s];continue}if(4===d)break;if(0===d){s+=4;continue}}s+=c?1:2}return-1}return function j2(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const i=t[n];if("number"==typeof i)return-1;if(i===e)return n;n++}return-1}(e,t)}function sb(t,e,n=!1){for(let i=0;i<e.length;i++)if(F2(t,e[i],n))return!0;return!1}function eA(t,e){return t?":not("+e.trim()+")":e}function U2(t){let e=t[0],n=1,i=2,s="",c=!1;for(;n<t.length;){let d=t[n];if("string"==typeof d)if(2&i){const p=t[++n];s+="["+d+(p.length>0?'="'+p+'"':"")+"]"}else 8&i?s+="."+d:4&i&&(s+=" "+d);else""!==s&&!uo(d)&&(e+=eA(c,s),s=""),i=d,c=c||!uo(i);n++}return""!==s&&(e+=eA(c,s)),e}function Wn(t){return Io(()=>{const e=iA(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Do.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,data:t.data||{},encapsulation:t.encapsulation||Ci.Emulated,styles:t.styles||St,_:null,schemas:t.schemas||null,tView:null,id:""};cb(n);const i=t.dependencies;return n.directiveDefs=yl(i,!1),n.pipeDefs=yl(i,!0),n.id=function Kn(t){let e=0;const n=JSON.stringify([t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.exportAs,t.inputs,t.outputs,Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery]);for(const s of n)e=Math.imul(31,e)+s.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function rA(t){return zt(t)||In(t)}function on(t){return null!==t}function xr(t){return Io(()=>({type:t.type,bootstrap:t.bootstrap||St,declarations:t.declarations||St,imports:t.imports||St,exports:t.exports||St,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function pa(t,e){if(null==t)return ns;const n={};for(const i in t)if(t.hasOwnProperty(i)){let s=t[i],c=s;Array.isArray(s)&&(c=s[1],s=s[0]),n[s]=i,e&&(e[s]=c)}return n}function Qe(t){return Io(()=>{const e=iA(t);return cb(e),e})}function zt(t){return t[hd]||null}function In(t){return t[nb]||null}function Sr(t){return t[rb]||null}function hn(t,e){const n=t[WC]||null;if(!n&&!0===e)throw new Error(`Type ${sr(t)} does not have '\u0275mod' property.`);return n}function iA(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,exportAs:t.exportAs||null,standalone:!0===t.standalone,selectors:t.selectors||St,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:pa(t.inputs,e),outputs:pa(t.outputs)}}function cb(t){t.features?.forEach(e=>e(t))}function yl(t,e){if(!t)return null;const n=e?Sr:rA;return()=>("function"==typeof t?t():t).map(i=>n(i)).filter(on)}const Ln=0,Te=1,rt=2,mn=3,it=4,rs=5,Mr=6,ga=7,Dn=8,sn=9,To=10,ot=11,ho=12,gd=13,lc=14,_n=15,xo=16,uc=17,fo=18,wl=19,lb=20,Bs=21,zs=22,ap=23,md=24,yt=25,cp=1,lp=2,is=7,_d=8,kl=9,Ge=11;function _r(t){return Array.isArray(t)&&"object"==typeof t[cp]}function br(t){return Array.isArray(t)&&!0===t[cp]}function up(t){return 0!=(4&t.flags)}function js(t){return t.componentOffset>-1}function Hn(t){return 1==(1&t.flags)}function So(t){return!!t.template}function ub(t){return 0!=(512&t[rt])}function dc(t,e){return t.hasOwnProperty(Fs)?t[Fs]:null}const Ee=Symbol("SIGNAL");function pb(t,e,n={}){return e[Ee]=t,Object.assign(e,n)}function yd(t,e){return(null===t||"object"!=typeof t)&&Object.is(t,e)}let uA=rn.WeakRef??class lA{constructor(e){this.ref=e}deref(){return this.ref}},hA=0,os=null,ss=!1;function ar(t){const e=os;return os=t,e}class as{constructor(){this.id=hA++,this.ref=function Y2(t){return new uA(t)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[e,n]of this.producers){const i=n.producerNode.deref();if(void 0!==i&&n.atTrackingVersion===this.trackingVersion){if(i.producerPollStatus(n.seenValueVersion))return!0}else this.producers.delete(e),i?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const e=ss;ss=!0;try{for(const[n,i]of this.consumers){const s=i.consumerNode.deref();void 0!==s&&s.trackingVersion===i.atTrackingVersion?s.onConsumerDependencyMayHaveChanged():(this.consumers.delete(n),s?.producers.delete(this.id))}}finally{ss=e}}producerAccessed(){if(ss)throw new Error("");if(null===os)return;let e=os.producers.get(this.id);void 0===e?(e={consumerNode:os.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:os.trackingVersion},os.producers.set(this.id,e),this.consumers.set(os.id,e)):(e.seenValueVersion=this.valueVersion,e.atTrackingVersion=os.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==os?.consumerAllowSignalWrites}producerPollStatus(e){return this.valueVersion!==e||(this.onProducerUpdateValueVersion(),this.valueVersion!==e)}}function Ht(t,e){const n=new gb(t,e?.equal??yd);return pb(n,n.signal.bind(n))}const po=Symbol("UNSET"),Wi=Symbol("COMPUTING"),wd=Symbol("ERRORED");class gb extends as{constructor(e,n){super(),this.computation=e,this.equal=n,this.value=po,this.error=null,this.stale=!0,this.consumerAllowSignalWrites=!1}onConsumerDependencyMayHaveChanged(){this.stale||(this.stale=!0,this.producerMayHaveChanged())}onProducerUpdateValueVersion(){if(this.stale){if(this.value!==po&&this.value!==Wi&&!this.consumerPollProducersForChange())return void(this.stale=!1);this.recomputeValue()}}recomputeValue(){if(this.value===Wi)throw new Error("Detected cycle in computations.");const e=this.value;this.value=Wi,this.trackingVersion++;const n=ar(this);let i;try{i=this.computation()}catch(s){i=wd,this.error=s}finally{ar(n)}this.stale=!1,e!==po&&e!==wd&&i!==wd&&this.equal(e,i)?this.value=e:(this.value=i,this.valueVersion++)}signal(){if(this.onProducerUpdateValueVersion(),this.producerAccessed(),this.value===wd)throw this.error;return this.value}}let fA=function dp(){throw new Error};function mb(){fA()}class J2 extends as{constructor(e,n){super(),this.value=e,this.equal=n,this.consumerAllowSignalWrites=!1}onConsumerDependencyMayHaveChanged(){}onProducerUpdateValueVersion(){}set(e){this.producerUpdatesAllowed||mb(),this.equal(this.value,e)||(this.value=e,this.valueVersion++,this.producerMayHaveChanged())}update(e){this.producerUpdatesAllowed||mb(),this.set(e(this.value))}mutate(e){this.producerUpdatesAllowed||mb(),e(this.value),this.valueVersion++,this.producerMayHaveChanged()}asReadonly(){return void 0===this.readonlySignal&&(this.readonlySignal=pb(this,()=>this.signal())),this.readonlySignal}signal(){return this.producerAccessed(),this.value}}const gA=()=>{};class X2 extends as{constructor(e,n,i){super(),this.watch=e,this.schedule=n,this.dirty=!1,this.cleanupFn=gA,this.registerOnCleanup=s=>{this.cleanupFn=s},this.consumerAllowSignalWrites=i}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const e=ar(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=gA,this.watch(this.registerOnCleanup)}finally{ar(e)}}cleanup(){this.cleanupFn()}}class eP{constructor(e,n,i){this.previousValue=e,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}}function Ei(){return _b}function _b(t){return t.type.prototype.ngOnChanges&&(t.setInput=bb),tP}function tP(){const t=mA(this),e=t?.current;if(e){const n=t.previous;if(n===ns)t.previous=e;else for(let i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}}function bb(t,e,n,i){const s=this.declaredInputs[n],c=mA(t)||function yb(t,e){return t[hp]=e}(t,{previous:ns,current:null}),d=c.current||(c.current={}),p=c.previous,m=p[s];d[s]=new eP(m&&m.currentValue,e,p===ns),t[i]=e}Ei.ngInherit=!0;const hp="__ngSimpleChanges__";function mA(t){return t[hp]||null}const cs=function(t,e,n){};function Kt(t){for(;Array.isArray(t);)t=t[Ln];return t}function pp(t,e){return Kt(e[t])}function Ii(t,e){return Kt(e[t.index])}function wA(t,e){return t.data[e]}function Di(t,e){const n=e[t];return _r(n)?n:n[Ln]}function gp(t){return 128==(128&t[rt])}function ma(t,e){return null==e?null:t[e]}function vA(t){t[uc]=0}function nP(t){1024&t[rt]||(t[rt]|=1024,rP(t,1))}function CA(t){1024&t[rt]&&(t[rt]&=-1025,rP(t,-1))}function rP(t,e){let n=t[mn];if(null===n)return;n[rs]+=e;let i=n;for(n=n[mn];null!==n&&(1===e&&1===i[rs]||-1===e&&0===i[rs]);)n[rs]+=e,i=n,n=n[mn]}function AA(t,e){if(256==(256&t[rt]))throw new he(911,!1);null===t[Bs]&&(t[Bs]=[]),t[Bs].push(e)}const Ye={lFrame:SA(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function EA(){return Ye.bindingsEnabled}function oe(){return Ye.lFrame.lView}function Ct(){return Ye.lFrame.tView}function yr(t){return Ye.lFrame.contextLView=t,t[Dn]}function Tn(t){return Ye.lFrame.contextLView=null,t}function ue(){let t=$e();for(;null!==t&&64===t.type;)t=t.parent;return t}function $e(){return Ye.lFrame.currentTNode}function Qn(t,e){const n=Ye.lFrame;n.currentTNode=t,n.isParent=e}function vd(){return Ye.lFrame.isParent}function Yn(){const t=Ye.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Hs(){return Ye.lFrame.bindingIndex++}function oi(t){const e=Ye.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Eb(t,e){const n=Ye.lFrame;n.bindingIndex=n.bindingRootIndex=t,El(e)}function El(t){Ye.lFrame.currentDirectiveIndex=t}function Cd(t){Ye.lFrame.currentQueryIndex=t}function dP(t){const e=t[Te];return 2===e.type?e.declTNode:1===e.type?t[Mr]:null}function wa(t,e,n){if(n&He.SkipSelf){let s=e,c=t;for(;!(s=s.parent,null!==s||n&He.Host||(s=dP(c),null===s||(c=c[lc],10&s.type))););if(null===s)return!1;e=s,t=c}const i=Ye.lFrame=yp();return i.currentTNode=e,i.lView=t,!0}function bp(t){const e=yp(),n=t[Te];Ye.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function yp(){const t=Ye.lFrame,e=null===t?null:t.child;return null===e?SA(t):e}function SA(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Db(){const t=Ye.lFrame;return Ye.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const wp=Db;function kp(){const t=Db();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Rr(){return Ye.lFrame.selectedIndex}function Mo(t){Ye.lFrame.selectedIndex=t}function bn(){const t=Ye.lFrame;return wA(t.tView,t.selectedIndex)}let Ti=!0;function ka(){return Ti}function Gs(t){Ti=t}function Ad(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){const c=t.data[n].type.prototype,{ngAfterContentInit:d,ngAfterContentChecked:p,ngAfterViewInit:m,ngAfterViewChecked:y,ngOnDestroy:k}=c;d&&(t.contentHooks??=[]).push(-n,d),p&&((t.contentHooks??=[]).push(n,p),(t.contentCheckHooks??=[]).push(n,p)),m&&(t.viewHooks??=[]).push(-n,m),y&&((t.viewHooks??=[]).push(n,y),(t.viewCheckHooks??=[]).push(n,y)),null!=k&&(t.destroyHooks??=[]).push(n,k)}}function vp(t,e,n){OA(t,e,3,n)}function Cp(t,e,n,i){(3&t[rt])===n&&OA(t,e,n,i)}function Ap(t,e){let n=t[rt];(3&n)===e&&(n&=4095,n+=1,t[rt]=n)}function OA(t,e,n,i){const c=i??-1,d=e.length-1;let p=0;for(let m=void 0!==i?65535&t[uc]:0;m<d;m++)if("number"==typeof e[m+1]){if(p=e[m],null!=i&&p>=i)break}else e[m]<0&&(t[uc]+=65536),(p<c||-1==c)&&(pP(t,n,e,m),t[uc]=(4294901760&t[uc])+m+2),m++}function LA(t,e){cs(4,t,e);const n=ar(null);try{e.call(t)}finally{ar(n),cs(5,t,e)}}function pP(t,e,n,i){const s=n[i]<0,c=n[i+1],p=t[s?-n[i]:n[i]];s?t[rt]>>12<t[uc]>>16&&(3&t[rt])===e&&(t[rt]+=4096,LA(p,c)):LA(p,c)}const fc=-1;class Ed{constructor(e,n,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}}function Tb(t){return t!==fc}function Qi(t){return 32767&t}function $s(t,e){let n=function VA(t){return t>>16}(t),i=e;for(;n>0;)i=i[lc],n--;return i}let us=!0;function Ip(t){const e=us;return us=t,e}const BA=255,zA=5;let wP=0;const ds={};function Dp(t,e){const n=jA(t,e);if(-1!==n)return n;const i=e[Te];i.firstCreatePass&&(t.injectorIndex=e.length,xb(i.data,t),xb(e,null),xb(i.blueprint,null));const s=Tp(t,e),c=t.injectorIndex;if(Tb(s)){const d=Qi(s),p=$s(s,e),m=p[Te].data;for(let y=0;y<8;y++)e[c+y]=p[d+y]|m[d+y]}return e[c+8]=s,c}function xb(t,e){t.push(0,0,0,0,0,0,0,0,e)}function jA(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Tp(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,i=null,s=e;for(;null!==s;){if(i=WA(s),null===i)return fc;if(n++,s=s[lc],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return fc}function Sb(t,e,n){!function kP(t,e,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(fd)&&(i=n[fd]),null==i&&(i=n[fd]=wP++);const s=i&BA;e.data[t+(s>>zA)]|=1<<s}(t,e,n)}function pc(t,e,n){if(n&He.Optional||void 0!==t)return t;pl()}function UA(t,e,n,i){if(n&He.Optional&&void 0===i&&(i=null),!(n&(He.Self|He.Host))){const s=t[sn],c=vi(void 0);try{return s?s.get(e,i,n&He.Optional):HC(e,i,n&He.Optional)}finally{vi(c)}}return pc(i,0,n)}function HA(t,e,n,i=He.Default,s){if(null!==t){if(2048&e[rt]){const d=function AP(t,e,n,i,s){let c=t,d=e;for(;null!==c&&null!==d&&2048&d[rt]&&!(512&d[rt]);){const p=GA(c,d,n,i|He.Self,ds);if(p!==ds)return p;let m=c.parent;if(!m){const y=d[lb];if(y){const k=y.get(n,ds,i);if(k!==ds)return k}m=WA(d),d=d[lc]}c=m}return s}(t,e,n,i,ds);if(d!==ds)return d}const c=GA(t,e,n,i,ds);if(c!==ds)return c}return UA(e,n,i,s)}function GA(t,e,n,i,s){const c=function CP(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(fd)?t[fd]:void 0;return"number"==typeof e?e>=0?e&BA:qA:e}(n);if("function"==typeof c){if(!wa(e,t,i))return i&He.Host?pc(s,0,i):UA(e,n,i,s);try{const d=c(i);if(null!=d||i&He.Optional)return d;pl()}finally{wp()}}else if("number"==typeof c){let d=null,p=jA(t,e),m=fc,y=i&He.Host?e[_n][Mr]:null;for((-1===p||i&He.SkipSelf)&&(m=-1===p?Tp(t,e):e[p+8],m!==fc&&$A(i,!1)?(d=e[Te],p=Qi(m),e=$s(m,e)):p=-1);-1!==p;){const k=e[Te];if(Mb(c,p,k.data)){const C=xp(p,e,n,d,i,y);if(C!==ds)return C}m=e[p+8],m!==fc&&$A(i,e[Te].data[p+8]===y)&&Mb(c,p,e)?(d=k,p=Qi(m),e=$s(m,e)):p=-1}}return s}function xp(t,e,n,i,s,c){const d=e[Te],p=d.data[t+8],k=function Sp(t,e,n,i,s){const c=t.providerIndexes,d=e.data,p=1048575&c,m=t.directiveStart,k=c>>20,I=s?p+k:t.directiveEnd;for(let M=i?p:p+k;M<I;M++){const O=d[M];if(M<m&&n===O||M>=m&&O.type===n)return M}if(s){const M=d[m];if(M&&So(M)&&M.type===n)return m}return null}(p,d,n,null==i?js(p)&&us:i!=d&&0!=(3&p.type),s&He.Host&&c===p);return null!==k?gc(e,d,k,p):ds}function gc(t,e,n,i){let s=t[n];const c=e.data;if(function gP(t){return t instanceof Ed}(s)){const d=s;d.resolving&&function tp(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new he(-200,`Circular dependency in DI detected for ${t}${n}`)}(function jt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ke(t)}(c[n]));const p=Ip(d.canSeeViewProviders);d.resolving=!0;const m=d.injectImpl?vi(d.injectImpl):null;wa(t,i,He.Default);try{s=t[n]=d.factory(void 0,c,t,i),e.firstCreatePass&&n>=i.directiveStart&&function fP(t,e,n){const{ngOnChanges:i,ngOnInit:s,ngDoCheck:c}=e.type.prototype;if(i){const d=_b(e);(n.preOrderHooks??=[]).push(t,d),(n.preOrderCheckHooks??=[]).push(t,d)}s&&(n.preOrderHooks??=[]).push(0-t,s),c&&((n.preOrderHooks??=[]).push(t,c),(n.preOrderCheckHooks??=[]).push(t,c))}(n,c[n],e)}finally{null!==m&&vi(m),Ip(p),d.resolving=!1,wp()}}return s}function Mb(t,e,n){return!!(n[e+(t>>zA)]&1<<t)}function $A(t,e){return!(t&He.Self||t&He.Host&&e)}class Tl{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,i){return HA(this._tNode,this._lView,e,ld(i),n)}}function qA(){return new Tl(ue(),oe())}function Zn(t){return Io(()=>{const e=t.prototype.constructor,n=e[Fs]||Pb(e),i=Object.prototype;let s=Object.getPrototypeOf(t.prototype).constructor;for(;s&&s!==i;){const c=s[Fs]||Pb(s);if(c&&c!==n)return c;s=Object.getPrototypeOf(s)}return c=>new c})}function Pb(t){return K_(t)?()=>{const e=Pb(Xe(t));return e&&e()}:dc(t)}function WA(t){const e=t[Te],n=e.type;return 2===n?e.declTNode:1===n?t[Mr]:null}const qs="__parameters__";function xl(t,e,n){return Io(()=>{const i=function Mp(t){return function(...n){if(t){const i=t(...n);for(const s in i)this[s]=i[s]}}}(e);function s(...c){if(this instanceof s)return i.apply(this,c),this;const d=new s(...c);return p.annotation=d,p;function p(m,y,k){const C=m.hasOwnProperty(qs)?m[qs]:Object.defineProperty(m,qs,{value:[]})[qs];for(;C.length<=k;)C.push(null);return(C[k]=C[k]||[]).push(d),m}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=t,s.annotationCls=s,s})}function si(t,e){t.forEach(n=>Array.isArray(n)?si(n,e):e(n))}function Ut(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Yi(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function xi(t,e,n){let i=X(t,e);return i>=0?t[1|i]=n:(i=~i,function QA(t,e,n,i){let s=t.length;if(s==e)t.push(n,i);else if(1===s)t.push(i,t[0]),t[0]=n;else{for(s--,t.push(t[s-1],t[s]);s>e;)t[s]=t[s-2],s--;t[e]=n,t[e+1]=i}}(t,i,e,n)),i}function xd(t,e){const n=X(t,e);if(n>=0)return t[1|n]}function X(t,e){return function YA(t,e,n){let i=0,s=t.length>>n;for(;s!==i;){const c=i+(s-i>>1),d=t[c<<n];if(e===d)return c<<n;d>e?s=c:i=c+1}return~(s<<n)}(t,e,1)}const Md=dd(xl("Inject",t=>({token:t})),-1),Pd=dd(xl("Optional"),8),Np=dd(xl("SkipSelf"),4);function Ld(t){return 128==(128&t.flags)}var ai=(()=>((ai=ai||{})[ai.Important=1]="Important",ai[ai.DashCase=2]="DashCase",ai))();const Gb=new Map;let Fd=0;const qb="__ngContext__";function Ur(t,e){_r(e)?(t[qb]=e[wl],function UP(t){Gb.set(t[wl],t)}(e)):t[qb]=e}let Kb;function Qb(t,e){return Kb(t,e)}function zd(t){const e=t[mn];return br(e)?e[mn]:e}function Yb(t){return jp(t[ho])}function Zb(t){return jp(t[it])}function jp(t){for(;null!==t&&!br(t);)t=t[it];return t}function kc(t,e,n,i,s){if(null!=i){let c,d=!1;br(i)?c=i:_r(i)&&(d=!0,i=i[Ln]);const p=Kt(i);0===t&&null!==n?null==s?Zi(e,n,p):$r(e,n,p,s||null,!0):1===t&&null!==n?$r(e,n,p,s||null,!0):2===t?function Wp(t,e,n){const i=$p(t,e);i&&function Jb(t,e,n,i){t.removeChild(e,n,i)}(t,i,e,n)}(e,p,d):3===t&&e.destroyNode(p),null!=c&&function YP(t,e,n,i,s){const c=n[is];c!==Kt(n)&&kc(e,t,i,c,s);for(let p=Ge;p<n.length;p++){const m=n[p];Gd(m[Te],m,t,e,i,c)}}(e,t,c,n,s)}}function Aa(t,e,n){return t.createElement(e,n)}function Gt(t,e){const n=t[kl],i=n.indexOf(e);CA(e),n.splice(i,1)}function yn(t,e){if(t.length<=Ge)return;const n=Ge+e,i=t[n];if(i){const s=i[xo];null!==s&&s!==t&&Gt(s,i),e>0&&(t[n-1][it]=i[it]);const c=Yi(t,Ge+e);!function _1(t,e){Gd(t,e,e[ot],2,null,null),e[Ln]=null,e[Mr]=null}(i[Te],i);const d=c[fo];null!==d&&d.detachView(c[Te]),i[mn]=null,i[it]=null,i[rt]&=-129}return i}function ci(t,e){if(!(256&e[rt])){const n=e[ot];e[ap]?.destroy(),e[md]?.destroy(),n.destroyNode&&Gd(t,e,n,3,null,null),function b1(t){let e=t[ho];if(!e)return Gp(t[Te],t);for(;e;){let n=null;if(_r(e))n=e[ho];else{const i=e[Ge];i&&(n=i)}if(!n){for(;e&&!e[it]&&e!==t;)_r(e)&&Gp(e[Te],e),e=e[mn];null===e&&(e=t),_r(e)&&Gp(e[Te],e),n=e&&e[it]}e=n}}(e)}}function Gp(t,e){if(!(256&e[rt])){e[rt]&=-129,e[rt]|=256,function Jn(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let i=0;i<n.length;i+=2){const s=e[n[i]];if(!(s instanceof Ed)){const c=n[i+1];if(Array.isArray(c))for(let d=0;d<c.length;d+=2){const p=s[c[d]],m=c[d+1];cs(4,p,m);try{m.call(p)}finally{cs(5,p,m)}}else{cs(4,s,c);try{c.call(s)}finally{cs(5,s,c)}}}}}(t,e),function Gn(t,e){const n=t.cleanup,i=e[ga];if(null!==n)for(let c=0;c<n.length-1;c+=2)if("string"==typeof n[c]){const d=n[c+3];d>=0?i[d]():i[-d].unsubscribe(),c+=2}else n[c].call(i[n[c+1]]);null!==i&&(e[ga]=null);const s=e[Bs];if(null!==s){for(let c=0;c<s.length;c++)(0,s[c])();e[Bs]=null}}(t,e),1===e[Te].type&&e[ot].destroy();const n=e[xo];if(null!==n&&br(e[mn])){n!==e[mn]&&Gt(n,e);const i=e[fo];null!==i&&i.detachView(t)}!function yc(t){Gb.delete(t[wl])}(e)}}function Gr(t,e,n){return function hs(t,e,n){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return n[Ln];{const{componentOffset:s}=i;if(s>-1){const{encapsulation:c}=t.data[i.directiveStart+s];if(c===Ci.None||c===Ci.Emulated)return null}return Ii(i,n)}}(t,e.parent,n)}function $r(t,e,n,i,s){t.insertBefore(e,n,i,s)}function Zi(t,e,n){t.appendChild(e,n)}function y1(t,e,n,i,s){null!==i?$r(t,e,n,i,s):Zi(t,e,n)}function $p(t,e){return t.parentNode(e)}let qp,$d,sy,Qp,Xb=function v1(t,e,n){return 40&t.type?Ii(t,n):null};function Hd(t,e,n,i){const s=Gr(t,i,e),c=e[ot],p=function k1(t,e,n){return Xb(t,e,n)}(i.parent||e[Mr],i,e);if(null!=s)if(Array.isArray(n))for(let m=0;m<n.length;m++)y1(c,s,n[m],p,!1);else y1(c,s,n,p,!1);void 0!==qp&&qp(c,i,e,n,s)}function fs(t,e){if(null!==e){const n=e.type;if(3&n)return Ii(e,t);if(4&n)return ty(-1,t[e.index]);if(8&n){const i=e.child;if(null!==i)return fs(t,i);{const s=t[e.index];return br(s)?ty(-1,s):Kt(s)}}if(32&n)return Qb(e,t)()||Kt(t[e.index]);{const i=kr(t,e);return null!==i?Array.isArray(i)?i[0]:fs(zd(t[_n]),i):fs(t,e.next)}}return null}function kr(t,e){return null!==e?t[_n][Mr].projection[e.projection]:null}function ty(t,e){const n=Ge+t+1;if(n<e.length){const i=e[n],s=i[Te].firstChild;if(null!==s)return fs(i,s)}return e[is]}function ny(t,e,n,i,s,c,d){for(;null!=n;){const p=i[n.index],m=n.type;if(d&&0===e&&(p&&Ur(Kt(p),i),n.flags|=2),32!=(32&n.flags))if(8&m)ny(t,e,n.child,i,s,c,!1),kc(e,t,s,p,c);else if(32&m){const y=Qb(n,i);let k;for(;k=y();)kc(e,t,s,k,c);kc(e,t,s,p,c)}else 16&m?ry(t,e,i,n,s,c):kc(e,t,s,p,c);n=d?n.projectionNext:n.next}}function Gd(t,e,n,i,s,c){ny(n,i,t.firstChild,e,s,c,!1)}function ry(t,e,n,i,s,c){const d=n[_n],m=d[Mr].projection[i.projection];if(Array.isArray(m))for(let y=0;y<m.length;y++)kc(e,t,s,m[y],c);else{let y=m;const k=d[mn];Ld(i)&&(y.flags|=128),ny(t,e,y,k,s,c,!0)}}function iy(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function A1(t,e,n){const{mergedAttrs:i,classes:s,styles:c}=n;null!==i&&ib(t,e,i),null!==s&&iy(t,e,s),null!==c&&function C1(t,e,n){t.setAttribute(e,"style",n)}(t,e,c)}function Pl(t){return function oy(){if(void 0===$d&&($d=null,rn.trustedTypes))try{$d=rn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return $d}()?.createHTML(t)||t}function qd(){if(void 0!==sy)return sy;if(typeof document<"u")return document;throw new he(210,!1)}function Yp(){if(void 0===Qp&&(Qp=null,rn.trustedTypes))try{Qp=rn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Qp}function ay(t){return Yp()?.createHTML(t)||t}function ly(t){return Yp()?.createScriptURL(t)||t}class I1{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${id})`}}function Ea(t){return t instanceof I1?t.changingThisBreaksApplicationSecurity:t}function Wd(t,e){const n=function x1(t){return t instanceof I1&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${id})`)}return n===e}class S1{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(Pl(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class Qd{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=Pl(e),n}}const M1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function dy(t){return(t=String(t)).match(M1)?t:"unsafe:"+t}function ps(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Rl(...t){const e={};for(const n of t)for(const i in n)n.hasOwnProperty(i)&&(e[i]=!0);return e}const Zp=ps("area,br,col,hr,img,wbr"),hy=ps("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),fy=ps("rp,rt"),py=Rl(Zp,Rl(hy,ps("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Rl(fy,ps("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Rl(fy,hy)),gy=ps("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),P1=Rl(gy,ps("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ps("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),sR=ps("script,style,template");class aR{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,i=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?i=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,i&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let s=this.checkClobberedElement(n,n.nextSibling);if(s){n=s;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(e){const n=e.nodeName.toLowerCase();if(!py.hasOwnProperty(n))return this.sanitizedSomething=!0,!sR.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const i=e.attributes;for(let s=0;s<i.length;s++){const c=i.item(s),d=c.name,p=d.toLowerCase();if(!P1.hasOwnProperty(p)){this.sanitizedSomething=!0;continue}let m=c.value;gy[p]&&(m=dy(m)),this.buf.push(" ",d,'="',Yd(m),'"')}return this.buf.push(">"),!0}endElement(e){const n=e.nodeName.toLowerCase();py.hasOwnProperty(n)&&!Zp.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(Yd(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}}const my=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,cR=/([^\#-~ |!])/g;function Yd(t){return t.replace(/&/g,"&amp;").replace(my,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(cR,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let gs;function _y(t){return"content"in t&&function uR(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Xn=(()=>((Xn=Xn||{})[Xn.NONE=0]="NONE",Xn[Xn.HTML=1]="HTML",Xn[Xn.STYLE=2]="STYLE",Xn[Xn.SCRIPT=3]="SCRIPT",Xn[Xn.URL=4]="URL",Xn[Xn.RESOURCE_URL=5]="RESOURCE_URL",Xn))();function R1(t){const e=Zd();return e?ay(e.sanitize(Xn.HTML,t)||""):Wd(t,"HTML")?ay(Ea(t)):function lR(t,e){let n=null;try{gs=gs||function uy(t){const e=new Qd(t);return function rR(){try{return!!(new window.DOMParser).parseFromString(Pl(""),"text/html")}catch{return!1}}()?new S1(e):e}(t);let i=e?String(e):"";n=gs.getInertBodyElement(i);let s=5,c=i;do{if(0===s)throw new Error("Failed to sanitize html because the input is unstable");s--,i=c,c=n.innerHTML,n=gs.getInertBodyElement(i)}while(i!==c);return Pl((new aR).sanitizeChildren(_y(n)||n))}finally{if(n){const i=_y(n)||n;for(;i.firstChild;)i.removeChild(i.firstChild)}}}(qd(),Ke(t))}function N1(t){const e=Zd();return e?e.sanitize(Xn.URL,t)||"":Wd(t,"URL")?Ea(t):dy(Ke(t))}function O1(t){const e=Zd();if(e)return ly(e.sanitize(Xn.RESOURCE_URL,t)||"");if(Wd(t,"ResourceURL"))return ly(Ea(t));throw new he(904,!1)}function Zd(){const t=oe();return t&&t[To].sanitizer}class fe{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Ne({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Cc=new fe("ENVIRONMENT_INITIALIZER"),V1=new fe("INJECTOR",-1),F1=new fe("INJECTOR_DEF_TYPES");class by{get(e,n=ml){if(n===ml){const i=new Error(`NullInjectorError: No provider for ${sr(e)}!`);throw i.name="NullInjectorError",i}return n}}function mR(...t){return{\u0275providers:B1(0,t),\u0275fromNgModule:!0}}function B1(t,...e){const n=[],i=new Set;let s;return si(e,c=>{const d=c;Nl(d,n,[],i)&&(s||=[],s.push(d))}),void 0!==s&&z1(s,n),n}function z1(t,e){for(let n=0;n<t.length;n++){const{providers:s}=t[n];Jp(s,c=>{e.push(c)})}}function Nl(t,e,n,i){if(!(t=Xe(t)))return!1;let s=null,c=Y_(t);const d=!c&&zt(t);if(c||d){if(d&&!d.standalone)return!1;s=t}else{const m=t.ngModule;if(c=Y_(m),!c)return!1;s=m}const p=i.has(s);if(d){if(p)return!1;if(i.add(s),d.dependencies){const m="function"==typeof d.dependencies?d.dependencies():d.dependencies;for(const y of m)Nl(y,e,n,i)}}else{if(!c)return!1;{if(null!=c.imports&&!p){let y;i.add(s);try{si(c.imports,k=>{Nl(k,e,n,i)&&(y||=[],y.push(k))})}finally{}void 0!==y&&z1(y,e)}if(!p){const y=dc(s)||(()=>new s);e.push({provide:s,useFactory:y,deps:St},{provide:F1,useValue:s,multi:!0},{provide:Cc,useValue:()=>we(s),multi:!0})}const m=c.providers;null==m||p||Jp(m,k=>{e.push(k)})}}return s!==t&&void 0!==t.providers}function Jp(t,e){for(let n of t)Q_(n)&&(n=n.\u0275providers),Array.isArray(n)?Jp(n,e):e(n)}const U1=Et({provide:String,useValue:Et});function Xp(t){return null!==t&&"object"==typeof t&&U1 in t}function Da(t){return"function"==typeof t}const vy=new fe("Set Injector scope."),Jd={},Xd={};let Cy;function eg(){return void 0===Cy&&(Cy=new by),Cy}class ms{}class Ol extends ms{get destroyed(){return this._destroyed}constructor(e,n,i,s){super(),this.parent=n,this.source=i,this.scopes=s,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,rg(e,d=>this.processProvider(d)),this.records.set(V1,Ac(void 0,this)),s.has("environment")&&this.records.set(ms,Ac(void 0,this));const c=this.records.get(vy);null!=c&&"string"==typeof c.value&&this.scopes.add(c.value),this.injectorDefTypes=new Set(this.get(F1.multi,St,He.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=ts(this),i=vi(void 0);try{return e()}finally{ts(n),vi(i)}}get(e,n=ml,i=He.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(fa))return e[fa](this);i=ld(i);const s=ts(this),c=vi(void 0);try{if(!(i&He.SkipSelf)){let p=this.records.get(e);if(void 0===p){const m=function bR(t){return"function"==typeof t||"object"==typeof t&&t instanceof fe}(e)&&Vs(e);p=m&&this.injectableDefInScope(m)?Ac(tg(e),Jd):null,this.records.set(e,p)}if(null!=p)return this.hydrate(e,p)}return(i&He.Self?eg():this.parent).get(e,n=i&He.Optional&&n===ml?null:n)}catch(d){if("NullInjectorError"===d.name){if((d[cd]=d[cd]||[]).unshift(sr(e)),s)throw d;return function eb(t,e,n,i){const s=t[cd];throw e[Z_]&&s.unshift(e[Z_]),t.message=function tb(t,e,n,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let s=sr(e);if(Array.isArray(e))s=e.map(sr).join(" -> ");else if("object"==typeof e){let c=[];for(let d in e)if(e.hasOwnProperty(d)){let p=e[d];c.push(d+":"+("string"==typeof p?JSON.stringify(p):sr(p)))}s=`{${c.join(", ")}}`}return`${n}${i?"("+i+")":""}[${s}]: ${t.replace($C,"\n  ")}`}("\n"+t.message,s,n,i),t.ngTokenPath=s,t[cd]=null,t}(d,e,"R3InjectorError",this.source)}throw d}finally{vi(c),ts(s)}}resolveInjectorInitializers(){const e=ts(this),n=vi(void 0);try{const i=this.get(Cc.multi,St,He.Self);for(const s of i)s()}finally{ts(e),vi(n)}}toString(){const e=[],n=this.records;for(const i of n.keys())e.push(sr(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new he(205,!1)}processProvider(e){let n=Da(e=Xe(e))?e:Xe(e&&e.provide);const i=function G1(t){return Xp(t)?Ac(void 0,t.useValue):Ac(ng(t),Jd)}(e);if(Da(e)||!0!==e.multi)this.records.get(n);else{let s=this.records.get(n);s||(s=Ac(void 0,Jd,!0),s.factory=()=>ud(s.multi),this.records.set(n,s)),n=e,s.multi.push(e)}this.records.set(n,i)}hydrate(e,n){return n.value===Jd&&(n.value=Xd,n.value=n.factory()),"object"==typeof n.value&&n.value&&function eh(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=Xe(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function tg(t){const e=Vs(t),n=null!==e?e.factory:dc(t);if(null!==n)return n;if(t instanceof fe)throw new he(204,!1);if(t instanceof Function)return function H1(t){const e=t.length;if(e>0)throw function No(t,e){const n=[];for(let i=0;i<t;i++)n.push(e);return n}(e,"?"),new he(204,!1);const n=function P2(t){return t&&(t[ip]||t[UC])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new he(204,!1)}function ng(t,e,n){let i;if(Da(t)){const s=Xe(t);return dc(s)||tg(s)}if(Xp(t))i=()=>Xe(t.useValue);else if(function It(t){return!(!t||!t.useFactory)}(t))i=()=>t.useFactory(...ud(t.deps||[]));else if(function wy(t){return!(!t||!t.useExisting)}(t))i=()=>we(Xe(t.useExisting));else{const s=Xe(t&&(t.useClass||t.provide));if(!function _R(t){return!!t.deps}(t))return dc(s)||tg(s);i=()=>new s(...ud(t.deps))}return i}function Ac(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function rg(t,e){for(const n of t)Array.isArray(n)?rg(n,e):n&&Q_(n)?rg(n.\u0275providers,e):e(n)}const Ll=new fe("AppId",{providedIn:"root",factory:()=>Ay}),Ay="ng",ig=new fe("Platform Initializer"),Ws=new fe("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),$1=new fe("CSP nonce",{providedIn:"root",factory:()=>qd().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Ty=(t,e)=>null;function Q1(t,e){return Ty(t,e)}class Y1{}class Z1{}class X1{resolveComponentFactory(e){throw function J1(t){const e=Error(`No component factory found for ${sr(t)}.`);return e.ngComponent=t,e}(e)}}let sh=(()=>{class t{}return t.NULL=new X1,t})();function eE(){return Tc(ue(),oe())}function Tc(t,e){return new li(Ii(t,e))}let li=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=eE,t})();class Py{}let bs=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function TR(){const t=oe(),n=Di(ue().index,t);return(_r(n)?n:t)[ot]}(),t})(),zl=(()=>{class t{}return t.\u0275prov=Ne({token:t,providedIn:"root",factory:()=>null}),t})();class ah{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const tE=new ah("16.0.1"),Ry={};function jl(t){for(;t;){t[rt]|=64;const e=zd(t);if(ub(t)&&!e)return t;t=e}return null}function lg(t){return t.ngOriginalError}class xc{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&lg(e);for(;n&&lg(n);)n=lg(n);return n||null}}const rE=new fe("",{providedIn:"root",factory:()=>!1});function ws(t){return t instanceof Function?t():t}class cE extends as{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(e){this._lView=e}onConsumerDependencyMayHaveChanged(){jl(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(e,n,i){const s=ar(this);this.trackingVersion++;try{e(n,i)}finally{ar(s)}}destroy(){this.trackingVersion++}}let Sc=null;function zy(){return Sc??=new cE,Sc}function lE(t,e){return t[e]??zy()}function jy(t,e){const n=zy();n.hasReadASignal&&(t[e]=Sc,n.lView=t,Sc=new cE)}const et={};function Me(t){Uy(Ct(),oe(),Rr()+t,!1)}function Uy(t,e,n,i){if(!i)if(3==(3&e[rt])){const c=t.preOrderCheckHooks;null!==c&&vp(e,c,n)}else{const c=t.preOrderHooks;null!==c&&Cp(e,c,0,n)}Mo(n)}function dh(t,e=null,n=null,i){const s=Gy(t,e,n,i);return s.resolveInjectorInitializers(),s}function Gy(t,e=null,n=null,i,s=new Set){const c=[n||St,mR(t)];return i=i||("object"==typeof t?void 0:sr(t)),new Ol(c,e||eg(),i||null,s)}let Ri=(()=>{class t{static create(n,i){if(Array.isArray(n))return dh({name:""},i,n,"");{const s=n.name??"";return dh({name:s},n.parent,n.providers,s)}}}return t.THROW_IF_NOT_FOUND=ml,t.NULL=new by,t.\u0275prov=Ne({token:t,providedIn:"any",factory:()=>we(V1)}),t.__NG_ELEMENT_ID__=-1,t})();function ie(t,e=He.Default){const n=oe();return null===n?we(t,e):HA(ue(),n,Xe(t),e)}function Gl(t,e,n,i,s,c,d,p,m,y,k){const C=e.blueprint.slice();return C[Ln]=s,C[rt]=140|i,(null!==y||t&&2048&t[rt])&&(C[rt]|=2048),vA(C),C[mn]=C[lc]=t,C[Dn]=n,C[To]=d||t&&t[To],C[ot]=p||t&&t[ot],C[sn]=m||t&&t[sn]||null,C[Mr]=c,C[wl]=function zp(){return Fd++}(),C[zs]=k,C[lb]=y,C[_n]=2==e.type?t[_n]:C,C}function $l(t,e,n,i,s){let c=t.data[e];if(null===c)c=function hh(t,e,n,i,s){const c=$e(),d=vd(),m=t.data[e]=function fg(t,e,n,i,s,c){let d=e?e.injectorIndex:-1,p=0;return function _a(){return null!==Ye.skipHydrationRootTNode}()&&(p|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:d,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:p,providerIndexes:0,value:s,attrs:c,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,d?c:c&&c.parent,n,e,i,s);return null===t.firstChild&&(t.firstChild=m),null!==c&&(d?null==c.child&&null!==m.parent&&(c.child=m):null===c.next&&(c.next=m,m.prev=c)),m}(t,e,n,i,s),function lP(){return Ye.lFrame.inI18n}()&&(c.flags|=32);else if(64&c.type){c.type=n,c.value=i,c.attrs=s;const d=function ba(){const t=Ye.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();c.injectorIndex=null===d?-1:d.injectorIndex}return Qn(c,!0),c}function fh(t,e,n,i){if(0===n)return-1;const s=e.length;for(let c=0;c<n;c++)e.push(i),t.blueprint.push(i),t.data.push(null);return s}function ph(t,e,n,i,s){const c=lE(e,ap),d=Rr(),p=2&i;try{if(Mo(-1),p&&e.length>yt&&Uy(t,e,yt,!1),cs(p?2:0,s),p)c.runInContext(n,i,s);else{const y=ar(null);try{n(i,s)}finally{ar(y)}}}finally{p&&null===e[ap]&&jy(e,ap),Mo(d),cs(p?3:1,s)}}function $y(t,e,n){if(up(e)){const i=ar(null);try{const c=e.directiveEnd;for(let d=e.directiveStart;d<c;d++){const p=t.data[d];p.contentQueries&&p.contentQueries(1,n[d],d)}}finally{ar(i)}}}function qy(t,e,n){EA()&&(function tw(t,e,n,i){const s=n.directiveStart,c=n.directiveEnd;js(n)&&function jR(t,e,n){const i=Ii(e,t),d=Wl(t,Gl(t,Wy(n),null,n.onPush?64:16,i,e,null,t[To].rendererFactory.createRenderer(i,n),null,null,null));t[e.index]=d}(e,n,t.data[s+n.componentOffset]),t.firstCreatePass||Dp(n,e),Ur(i,e);const d=n.initialInputs;for(let p=s;p<c;p++){const m=t.data[p],y=gc(e,t,p,n);Ur(y,e),null!==d&&UR(0,p-s,y,m,0,d),So(m)&&(Di(n.index,e)[Dn]=gc(e,t,p,n))}}(t,e,n,Ii(n,e)),64==(64&n.flags)&&mE(t,e,n))}function dg(t,e,n=Ii){const i=e.localNames;if(null!==i){let s=e.index+1;for(let c=0;c<i.length;c+=2){const d=i[c+1],p=-1===d?n(e,t):t[d];t[s++]=p}}}function Wy(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=hg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function hg(t,e,n,i,s,c,d,p,m,y,k){const C=yt+i,I=C+s,M=function Ky(t,e){const n=[];for(let i=0;i<e;i++)n.push(i<t?null:et);return n}(C,I),O="function"==typeof y?y():y;return M[Te]={type:t,blueprint:M,template:n,queries:null,viewQuery:p,declTNode:e,data:M.slice().fill(null,C),bindingStartIndex:C,expandoStartIndex:I,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof c?c():c,pipeRegistry:"function"==typeof d?d():d,firstChild:null,schemas:m,consts:O,incompleteFirstPass:!1,ssrId:k}}let Yy=t=>null;function pg(t,e,n,i){for(let s in t)if(t.hasOwnProperty(s)){n=null===n?{}:n;const c=t[s];null===i?Zy(n,e,s,c):i.hasOwnProperty(s)&&Zy(n,e,i[s],c)}return n}function Zy(t,e,n,i){t.hasOwnProperty(n)?t[n].push(e,i):t[n]=[e,i]}function Ni(t,e,n,i,s,c,d,p){const m=Ii(e,n);let k,y=e.inputs;!p&&null!=y&&(k=y[i])?(_g(t,n,k,i,s),js(e)&&function gE(t,e){const n=Di(e,t);16&n[rt]||(n[rt]|=64)}(n,e.index)):3&e.type&&(i=function pE(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(i),s=null!=d?d(s,e.value||"",i):s,c.setProperty(m,i,s))}function Xy(t,e,n,i){if(EA()){const s=null===i?null:{"":-1},c=function VR(t,e){const n=t.directiveRegistry;let i=null,s=null;if(n)for(let c=0;c<n.length;c++){const d=n[c];if(sb(e,d.selectors,!1))if(i||(i=[]),So(d))if(null!==d.findHostDirectiveDefs){const p=[];s=s||new Map,d.findHostDirectiveDefs(d,p,s),i.unshift(...p,d),nw(t,e,p.length)}else i.unshift(d),nw(t,e,0);else s=s||new Map,d.findHostDirectiveDefs?.(d,i,s),i.push(d)}return null===i?null:[i,s]}(t,n);let d,p;null===c?d=p=null:[d,p]=c,null!==d&&ew(t,e,n,d,s,p),s&&function FR(t,e,n){if(e){const i=t.localNames=[];for(let s=0;s<e.length;s+=2){const c=n[e[s+1]];if(null==c)throw new he(-301,!1);i.push(e[s],c)}}}(n,i,s)}n.mergedAttrs=ac(n.mergedAttrs,n.attrs)}function ew(t,e,n,i,s,c){for(let y=0;y<i.length;y++)Sb(Dp(n,e),t,i[y].type);!function zR(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,i.length);for(let y=0;y<i.length;y++){const k=i[y];k.providersResolver&&k.providersResolver(k)}let d=!1,p=!1,m=fh(t,e,i.length,null);for(let y=0;y<i.length;y++){const k=i[y];n.mergedAttrs=ac(n.mergedAttrs,k.hostAttrs),_E(t,n,e,m,k),BR(m,k,s),null!==k.contentQueries&&(n.flags|=4),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(n.flags|=64);const C=k.type.prototype;!d&&(C.ngOnChanges||C.ngOnInit||C.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),d=!0),!p&&(C.ngOnChanges||C.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),p=!0),m++}!function Jy(t,e,n){const s=e.directiveEnd,c=t.data,d=e.attrs,p=[];let m=null,y=null;for(let k=e.directiveStart;k<s;k++){const C=c[k],I=n?n.get(C):null,O=I?I.outputs:null;m=pg(C.inputs,k,m,I?I.inputs:null),y=pg(C.outputs,k,y,O);const B=null===m||null===d||ob(e)?null:HR(m,k,d);p.push(B)}null!==m&&(m.hasOwnProperty("class")&&(e.flags|=8),m.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=p,e.inputs=m,e.outputs=y}(t,n,c)}function mE(t,e,n){const i=n.directiveStart,s=n.directiveEnd,c=n.index,d=function uP(){return Ye.lFrame.currentDirectiveIndex}();try{Mo(c);for(let p=i;p<s;p++){const m=t.data[p],y=e[p];El(p),(null!==m.hostBindings||0!==m.hostVars||null!==m.hostAttrs)&&LR(m,y)}}finally{Mo(-1),El(d)}}function LR(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function nw(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function BR(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;So(e)&&(n[""]=t)}}function _E(t,e,n,i,s){t.data[i]=s;const c=s.factory||(s.factory=dc(s.type)),d=new Ed(c,So(s),ie);t.blueprint[i]=d,n[i]=d,function NR(t,e,n,i,s){const c=s.hostBindings;if(c){let d=t.hostBindingOpCodes;null===d&&(d=t.hostBindingOpCodes=[]);const p=~e.index;(function OR(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(d)!=p&&d.push(p),d.push(n,i,c)}}(t,e,i,fh(t,n,s.hostVars,et),s)}function ks(t,e,n,i,s,c){const d=Ii(t,e);!function gg(t,e,n,i,s,c,d){if(null==c)t.removeAttribute(e,s,n);else{const p=null==d?Ke(c):d(c,i||"",s);t.setAttribute(e,s,p,n)}}(e[ot],d,c,t.value,n,i,s)}function UR(t,e,n,i,s,c){const d=c[e];if(null!==d)for(let p=0;p<d.length;)rw(i,n,d[p++],d[p++],d[p++])}function rw(t,e,n,i,s){const c=ar(null);try{null!==t.setInput?t.setInput(e,s,n,i):e[i]=s}finally{ar(c)}}function HR(t,e,n){let i=null,s=0;for(;s<n.length;){const c=n[s];if(0!==c)if(5!==c){if("number"==typeof c)break;if(t.hasOwnProperty(c)){null===i&&(i=[]);const d=t[c];for(let p=0;p<d.length;p+=2)if(d[p]===e){i.push(c,d[p+1],n[s+1]);break}}s+=2}else s+=2;else s+=4}return i}function bE(t,e,n,i){return[t,!0,!1,e,null,0,i,n,null,null,null]}function yE(t,e){const n=t.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const c=n[i+1];if(-1!==c){const d=t.data[c];Cd(n[i]),d.contentQueries(2,e[c],c)}}}function Wl(t,e){return t[ho]?t[gd][it]=e:t[ho]=e,t[gd]=e,e}function mg(t,e,n){Cd(0);const i=ar(null);try{e(t,n)}finally{ar(i)}}function vE(t,e){const n=t[sn],i=n?n.get(xc,null):null;i&&i.handleError(e)}function _g(t,e,n,i,s){for(let c=0;c<n.length;){const d=n[c++],p=n[c++];rw(t.data[d],e[d],i,p,s)}}function CE(t,e){const n=Di(e,t),i=n[Te];!function AE(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(i,n);const s=n[Ln];null!==s&&null===n[zs]&&(n[zs]=Q1(s,n[sn])),ow(i,n,n[Dn])}function ow(t,e,n){bp(e);try{const i=t.viewQuery;null!==i&&mg(1,i,n);const s=t.template;null!==s&&ph(t,e,s,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&yE(t,e),t.staticViewQueries&&mg(2,t.viewQuery,n);const c=t.components;null!==c&&function sw(t,e){for(let n=0;n<e.length;n++)CE(t,e[n])}(e,c)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[rt]&=-5,kp()}}let Lr=(()=>{class t{}return t.__NG_ELEMENT_ID__=EE,t.__NG_ENV_ID__=e=>e,t})();class aw extends Lr{constructor(e){super(),this._lView=e}onDestroy(e){return AA(this._lView,e),()=>function iP(t,e){if(null===t[Bs])return;const n=t[Bs].indexOf(e);-1!==n&&t[Bs].splice(n,1)}(this._lView,e)}}function EE(){return new aw(oe())}let cw=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,i,s){const c=typeof Zone>"u"?null:Zone.current,d=new X2(n,y=>{this.all.has(y)&&this.queue.set(y,c)},s);let p;this.all.add(d),d.notify();const m=()=>{d.cleanup(),p?.(),this.all.delete(d),this.queue.delete(d)};return p=i?.onDestroy(m),{destroy:m}}flush(){if(0!==this.queue.size)for(const[n,i]of this.queue)this.queue.delete(n),i?i.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}}return t.\u0275prov=Ne({token:t,providedIn:"root",factory:()=>new t}),t})();function gh(t,e,n){let i=n?t.styles:null,s=n?t.classes:null,c=0;if(null!==e)for(let d=0;d<e.length;d++){const p=e[d];"number"==typeof p?c=p:1==c?s=W_(s,p):2==c&&(i=W_(i,p+": "+e[++d]+";"))}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=s:t.classesWithoutHost=s}function vr(t,e,n,i,s=!1){for(;null!==n;){const c=e[n.index];if(null!==c&&i.push(Kt(c)),br(c)){for(let p=Ge;p<c.length;p++){const m=c[p],y=m[Te].firstChild;null!==y&&vr(m[Te],m,y,i)}c[is]!==c[Ln]&&i.push(c[is])}const d=n.type;if(8&d)vr(t,e,n.child,i);else if(32&d){const p=Qb(n,e);let m;for(;m=p();)i.push(m)}else if(16&d){const p=kr(e,n);if(Array.isArray(p))i.push(...p);else{const m=zd(e[_n]);vr(m[Te],m,p,i,!0)}}n=s?n.projectionNext:n.next}return i}function Mc(t,e,n,i=!0){const s=e[To].rendererFactory;s.begin&&s.begin();try{mh(t,e,t.template,n)}catch(d){throw i&&vE(e,d),d}finally{s.end&&s.end(),e[To].effectManager?.flush()}}function mh(t,e,n,i){const s=e[rt];if(256!=(256&s)){e[To].effectManager?.flush(),bp(e);try{vA(e),function mp(t){return Ye.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&ph(t,e,n,2,i);const d=3==(3&s);if(d){const y=t.preOrderCheckHooks;null!==y&&vp(e,y,null)}else{const y=t.preOrderHooks;null!==y&&Cp(e,y,0,null),Ap(e,0)}if(function WR(t){for(let e=Yb(t);null!==e;e=Zb(e)){if(!e[lp])continue;const n=e[kl];for(let i=0;i<n.length;i++){nP(n[i])}}}(e),function qR(t){for(let e=Yb(t);null!==e;e=Zb(e))for(let n=Ge;n<e.length;n++){const i=e[n],s=i[Te];gp(i)&&mh(s,i,s.template,i[Dn])}}(e),null!==t.contentQueries&&yE(t,e),d){const y=t.contentCheckHooks;null!==y&&vp(e,y)}else{const y=t.contentHooks;null!==y&&Cp(e,y,1),Ap(e,1)}!function Or(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const i=lE(e,md);try{for(let s=0;s<n.length;s++){const c=n[s];if(c<0)Mo(~c);else{const d=c,p=n[++s],m=n[++s];Eb(p,d),i.runInContext(m,2,e[d])}}}finally{null===e[md]&&jy(e,md),Mo(-1)}}(t,e);const p=t.components;null!==p&&function KR(t,e){for(let n=0;n<e.length;n++)DE(t,e[n])}(e,p);const m=t.viewQuery;if(null!==m&&mg(2,m,i),d){const y=t.viewCheckHooks;null!==y&&vp(e,y)}else{const y=t.viewHooks;null!==y&&Cp(e,y,2),Ap(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[rt]&=-73,CA(e)}finally{kp()}}}function DE(t,e){const n=Di(e,t);if(gp(n)){const i=n[Te];80&n[rt]?mh(i,n,i.template,n[Dn]):n[rs]>0&&lw(n)}}function lw(t){for(let i=Yb(t);null!==i;i=Zb(i))for(let s=Ge;s<i.length;s++){const c=i[s];if(gp(c))if(1024&c[rt]){const d=c[Te];mh(d,c,d.template,c[Dn])}else c[rs]>0&&lw(c)}const n=t[Te].components;if(null!==n)for(let i=0;i<n.length;i++){const s=Di(n[i],t);gp(s)&&s[rs]>0&&lw(s)}}class _h{get rootNodes(){const e=this._lView,n=e[Te];return vr(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Dn]}set context(e){this._lView[Dn]=e}get destroyed(){return 256==(256&this._lView[rt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[mn];if(br(e)){const n=e[_d],i=n?n.indexOf(this):-1;i>-1&&(yn(e,i),Yi(n,i))}this._attachedToViewContainer=!1}ci(this._lView[Te],this._lView)}onDestroy(e){AA(this._lView,e)}markForCheck(){jl(this._cdRefInjectingView||this._lView)}detach(){this._lView[rt]&=-129}reattach(){this._lView[rt]|=128}detectChanges(){Mc(this._lView[Te],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new he(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ud(t,e){Gd(t,e,e[ot],2,null,null)}(this._lView[Te],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new he(902,!1);this._appRef=e}}class QR extends _h{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Mc(e[Te],e,e[Dn],!1)}checkNoChanges(){}get context(){return null}}class TE extends sh{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=zt(e);return new bh(n,this.ngModule)}}function xE(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class ME{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,i){i=ld(i);const s=this.injector.get(e,Ry,i);return s!==Ry||n===Ry?s:this.parentInjector.get(e,n,i)}}class bh extends Z1{get inputs(){return xE(this.componentDef.inputs)}get outputs(){return xE(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function tA(t){return t.map(U2).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,i,s){let c=(s=s||this.ngModule)instanceof ms?s:s?.injector;c&&null!==this.componentDef.getStandaloneInjector&&(c=this.componentDef.getStandaloneInjector(c)||c);const d=c?new ME(e,c):e,p=d.get(Py,null);if(null===p)throw new he(407,!1);const k={rendererFactory:p,sanitizer:d.get(zl,null),effectManager:d.get(cw,null)},C=p.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",M=i?function ql(t,e,n,i){const c=i.get(rE,!1)||n===Ci.ShadowDom,d=t.selectRootElement(e,c);return function Qy(t){Yy(t)}(d),d}(C,i,this.componentDef.encapsulation,d):Aa(C,I,function SE(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(I)),O=this.componentDef.onPush?576:528,B=hg(0,null,null,1,0,null,null,null,null,null,null),j=Gl(null,B,null,O,null,null,k,C,d,null,null);let Z,U;bp(j);try{const te=this.componentDef;let pe,Se=null;te.findHostDirectiveDefs?(pe=[],Se=new Map,te.findHostDirectiveDefs(te,pe,Se),pe.push(te)):pe=[te];const Ce=function YR(t,e){const n=t[Te],i=yt;return t[i]=e,$l(n,i,2,"#host",null)}(j,M),At=function RE(t,e,n,i,s,c,d){const p=s[Te];!function ZR(t,e,n,i){for(const s of t)e.mergedAttrs=ac(e.mergedAttrs,s.hostAttrs);null!==e.mergedAttrs&&(gh(e,e.mergedAttrs,!0),null!==n&&A1(i,n,e))}(i,t,e,d);let m=null;null!==e&&(m=Q1(e,s[sn]));const y=c.rendererFactory.createRenderer(e,n),k=Gl(s,Wy(n),null,n.onPush?64:16,s[t.index],t,c,y,null,null,m);return p.firstCreatePass&&nw(p,t,i.length-1),Wl(s,k),s[t.index]=k}(Ce,M,te,pe,j,k,C);U=wA(B,yt),M&&function OE(t,e,n,i){if(i)ib(t,n,["ng-version",tE.full]);else{const{attrs:s,classes:c}=function H2(t){const e=[],n=[];let i=1,s=2;for(;i<t.length;){let c=t[i];if("string"==typeof c)2===s?""!==c&&e.push(c,t[++i]):8===s&&n.push(c);else{if(!uo(s))break;s=c}i++}return{attrs:e,classes:n}}(e.selectors[0]);s&&ib(t,n,s),c&&c.length>0&&iy(t,n,c.join(" "))}}(C,te,M,i),void 0!==n&&function JR(t,e,n){const i=t.projection=[];for(let s=0;s<e.length;s++){const c=n[s];i.push(null!=c?Array.from(c):null)}}(U,this.ngContentSelectors,n),Z=function NE(t,e,n,i,s,c){const d=ue(),p=s[Te],m=Ii(d,s);ew(p,s,d,n,null,i);for(let k=0;k<n.length;k++)Ur(gc(s,p,d.directiveStart+k,d),s);mE(p,s,d),m&&Ur(m,s);const y=gc(s,p,d.directiveStart+d.componentOffset,d);if(t[Dn]=s[Dn]=y,null!==c)for(const k of c)k(y,e);return $y(p,d,t),y}(At,te,pe,Se,j,[XR]),ow(B,j,null)}finally{kp()}return new PE(this.componentType,Z,Tc(U,j),j,U)}}class PE extends Y1{constructor(e,n,i,s,c){super(),this.location=i,this._rootLView=s,this._tNode=c,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new QR(s),this.componentType=e}setInput(e,n){const i=this._tNode.inputs;let s;if(null!==i&&(s=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const c=this._rootLView;_g(c[Te],c,s,e,n),this.previousInputValues.set(e,n),jl(Di(this._tNode.index,c))}}get injector(){return new Tl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function XR(){const t=ue();Ad(oe()[Te],t)}function $t(t){let e=function LE(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const i=[t];for(;e;){let s;if(So(t))s=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new he(903,!1);s=e.\u0275dir}if(s){if(n){i.push(s);const d=t;d.inputs=uw(t.inputs),d.declaredInputs=uw(t.declaredInputs),d.outputs=uw(t.outputs);const p=s.hostBindings;p&&FE(t,p);const m=s.viewQuery,y=s.contentQueries;if(m&&dw(t,m),y&&yh(t,y),Xf(t.inputs,s.inputs),Xf(t.declaredInputs,s.declaredInputs),Xf(t.outputs,s.outputs),So(s)&&s.data.animation){const k=t.data;k.animation=(k.animation||[]).concat(s.data.animation)}}const c=s.features;if(c)for(let d=0;d<c.length;d++){const p=c[d];p&&p.ngInherit&&p(t),p===$t&&(n=!1)}}e=Object.getPrototypeOf(e)}!function VE(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){const s=t[i];s.hostVars=e+=s.hostVars,s.hostAttrs=ac(s.hostAttrs,n=ac(n,s.hostAttrs))}}(i)}function uw(t){return t===ns?{}:t===St?[]:t}function dw(t,e){const n=t.viewQuery;t.viewQuery=n?(i,s)=>{e(i,s),n(i,s)}:e}function yh(t,e){const n=t.contentQueries;t.contentQueries=n?(i,s,c)=>{e(i,s,c),n(i,s,c)}:e}function FE(t,e){const n=t.hostBindings;t.hostBindings=n?(i,s)=>{e(i,s),n(i,s)}:e}function yg(t){return!!hw(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function hw(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Vo(t,e,n){return t[e]=n}function qr(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Fo(t,e,n,i){const s=oe();return qr(s,Hs(),e)&&(Ct(),ks(bn(),s,t,e,n,i)),Fo}function Pc(t,e,n,i){return qr(t,Hs(),n)?e+Ke(n)+i:et}function Qt(t,e,n,i,s,c,d,p){const m=oe(),y=Ct(),k=t+yt,C=y.firstCreatePass?function lN(t,e,n,i,s,c,d,p,m){const y=e.consts,k=$l(e,t,4,d||null,ma(y,p));Xy(e,n,k,ma(y,m)),Ad(e,k);const C=k.tView=hg(2,k,i,s,c,e.directiveRegistry,e.pipeRegistry,null,e.schemas,y,null);return null!==e.queries&&(e.queries.template(e,k),C.queries=e.queries.embeddedTView(k)),k}(k,y,m,e,n,i,s,c,d):y.data[k];Qn(C,!1);const I=Ih(y,m,C,t);ka()&&Hd(y,m,I,C),Ur(I,m),Wl(m,m[k]=bE(I,m,I,C)),Hn(C)&&qy(y,m,C),null!=d&&dg(m,C,p)}let Ih=function tI(t,e,n,i){return Gs(!0),e[ot].createComment("")};function Ve(t,e,n){const i=oe();return qr(i,Hs(),e)&&Ni(Ct(),bn(),i,t,e,i[ot],n,!1),Ve}function kw(t,e,n,i,s){const d=s?"class":"style";_g(t,n,e.inputs[d],d,i)}function _e(t,e,n,i){const s=oe(),c=Ct(),d=yt+t,p=s[ot],m=c.firstCreatePass?function Tg(t,e,n,i,s,c){const d=e.consts,m=$l(e,t,2,i,ma(d,s));return Xy(e,n,m,ma(d,c)),null!==m.attrs&&gh(m,m.attrs,!1),null!==m.mergedAttrs&&gh(m,m.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,m),m}(d,c,s,e,n,i):c.data[d],y=er(c,s,m,p,e,t);s[d]=y;const k=Hn(m);return Qn(m,!0),A1(p,y,m),32!=(32&m.flags)&&ka()&&Hd(c,s,y,m),0===function sP(){return Ye.lFrame.elementDepthCount}()&&Ur(y,s),function aP(){Ye.lFrame.elementDepthCount++}(),k&&(qy(c,s,m),$y(c,m,s)),null!==i&&dg(s,m),_e}function be(){let t=ue();vd()?function ya(){Ye.lFrame.isParent=!1}():(t=t.parent,Qn(t,!1));const e=t;(function Cb(t){return Ye.skipHydrationRootTNode===t})(e)&&function DA(){Ye.skipHydrationRootTNode=null}(),function cP(){Ye.lFrame.elementDepthCount--}();const n=Ct();return n.firstCreatePass&&(Ad(n,t),up(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function Ep(t){return 0!=(8&t.flags)}(e)&&kw(n,e,oe(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function _P(t){return 0!=(16&t.flags)}(e)&&kw(n,e,oe(),e.stylesWithoutHost,!1),be}function Ze(t,e,n,i){return _e(t,e,n,i),be(),Ze}let er=(t,e,n,i,s,c)=>(Gs(!0),Aa(i,s,function Il(){return Ye.lFrame.currentNamespace}()));function ui(){return oe()}function ru(t){return!!t&&"function"==typeof t.then}function iI(t){return!!t&&"function"==typeof t.subscribe}function bt(t,e,n,i){const s=oe(),c=Ct(),d=ue();return function aI(t,e,n,i,s,c,d){const p=Hn(i),y=t.firstCreatePass&&function iw(t){return t.cleanup||(t.cleanup=[])}(t),k=e[Dn],C=function wE(t){return t[ga]||(t[ga]=[])}(e);let I=!0;if(3&i.type||d){const B=Ii(i,e),j=d?d(B):B,Z=C.length,U=d?pe=>d(Kt(pe[i.index])):i.index;let te=null;if(!d&&p&&(te=function sI(t,e,n,i){const s=t.cleanup;if(null!=s)for(let c=0;c<s.length-1;c+=2){const d=s[c];if(d===n&&s[c+1]===i){const p=e[ga],m=s[c+2];return p.length>m?p[m]:null}"string"==typeof d&&(c+=2)}return null}(t,e,s,i.index)),null!==te)(te.__ngLastListenerFn__||te).__ngNextListenerFn__=c,te.__ngLastListenerFn__=c,I=!1;else{c=Aw(i,e,k,c,!1);const pe=n.listen(j,s,c);C.push(c,pe),y&&y.push(s,U,Z,Z+1)}}else c=Aw(i,e,k,c,!1);const M=i.outputs;let O;if(I&&null!==M&&(O=M[s])){const B=O.length;if(B)for(let j=0;j<B;j+=2){const Se=e[O[j]][O[j+1]].subscribe(c),Ce=C.length;C.push(c,Se),y&&y.push(s,i.index,Ce,-(Ce+1))}}}(c,s,s[ot],d,t,e,i),bt}function cI(t,e,n,i){try{return cs(6,e,n),!1!==n(i)}catch(s){return vE(t,s),!1}finally{cs(7,e,n)}}function Aw(t,e,n,i,s){return function c(d){if(d===Function)return i;jl(t.componentOffset>-1?Di(t.index,e):e);let m=cI(e,n,i,d),y=c.__ngNextListenerFn__;for(;y;)m=cI(e,n,y,d)&&m,y=y.__ngNextListenerFn__;return s&&!1===m&&(d.preventDefault(),d.returnValue=!1),m}}function qt(t=1){return function hP(t){return(Ye.lFrame.contextLView=function MA(t,e){for(;t>0;)e=e[lc],t--;return e}(t,Ye.lFrame.contextLView))[Dn]}(t)}function Pa(t,e,n){return iu(t,"",e,"",n),Pa}function iu(t,e,n,i,s){const c=oe(),d=Pc(c,e,n,i);return d!==et&&Ni(Ct(),bn(),c,t,d,c[ot],s,!1),iu}function Th(t,e){return t<<17|e<<2}function Ra(t){return t>>17&32767}function Mg(t){return 2|t}function Na(t){return(131068&t)>>2}function Dw(t,e){return-131069&t|e<<2}function xh(t){return 1|t}function Sh(t,e,n,i,s){const c=t[n+1],d=null===e;let p=i?Ra(c):Na(c),m=!1;for(;0!==p&&(!1===m||d);){const k=t[p+1];bI(t[p],e)&&(m=!0,t[p+1]=i?xh(k):Mg(k)),p=i?Ra(k):Na(k)}m&&(t[n+1]=i?Mg(c):xh(c))}function bI(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&X(t,e)>=0}const tr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function yI(t){return t.substring(tr.key,tr.keyEnd)}function Sw(t,e){const n=tr.textEnd;return n===e?-1:(e=tr.keyEnd=function kI(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,tr.key=e,n),ou(t,e,n))}function ou(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function zo(t,e){return function jo(t,e,n,i){const s=oe(),c=Ct(),d=oi(2);c.firstUpdatePass&&Rw(c,t,d,i),e!==et&&qr(s,d,e)&&Ow(c,c.data[Rr()],s,s[ot],t,s[d+1]=function Lw(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=sr(Ea(t)))),t}(e,n),i,d)}(t,e,null,!0),zo}function II(t){!function Uo(t,e,n,i){const s=Ct(),c=oi(2);s.firstUpdatePass&&Rw(s,null,c,i);const d=oe();if(n!==et&&qr(d,c,n)){const p=s.data[Rr()];if(Vw(p,i)&&!DI(s,c)){let m=i?p.classesWithoutHost:p.stylesWithoutHost;null!==m&&(n=W_(m,n||"")),kw(s,p,d,n,i)}else!function MI(t,e,n,i,s,c,d,p){s===et&&(s=St);let m=0,y=0,k=0<s.length?s[0]:null,C=0<c.length?c[0]:null;for(;null!==k||null!==C;){const I=m<s.length?s[m+1]:void 0,M=y<c.length?c[y+1]:void 0;let B,O=null;k===C?(m+=2,y+=2,I!==M&&(O=C,B=M)):null===C||null!==k&&k<C?(m+=2,O=k):(y+=2,O=C,B=M),null!==O&&Ow(t,e,n,i,O,B,d,p),k=m<s.length?s[m]:null,C=y<c.length?c[y]:null}}(s,p,d,d[ot],d[c+1],d[c+1]=function AN(t,e,n){if(null==n||""===n)return St;const i=[],s=Ea(n);if(Array.isArray(s))for(let c=0;c<s.length;c++)t(i,s[c],!0);else if("object"==typeof s)for(const c in s)s.hasOwnProperty(c)&&t(i,c,s[c]);else"string"==typeof s&&e(i,s);return i}(t,e,n),i,c)}}(EN,Cs,t,!0)}function Cs(t,e){for(let n=function bN(t){return function Mw(t){tr.key=0,tr.keyEnd=0,tr.value=0,tr.valueEnd=0,tr.textEnd=t.length}(t),Sw(t,ou(t,0,tr.textEnd))}(e);n>=0;n=Sw(e,n))xi(t,yI(e),!0)}function DI(t,e){return e>=t.expandoStartIndex}function Rw(t,e,n,i){const s=t.data;if(null===s[n+1]){const c=s[Rr()],d=DI(t,n);Vw(c,i)&&null===e&&!d&&(e=!1),e=function vN(t,e,n,i){const s=function Ib(t){const e=Ye.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let c=i?e.residualClasses:e.residualStyles;if(null===s)0===(i?e.classBindings:e.styleBindings)&&(n=Mh(n=Nw(null,t,e,n,i),e.attrs,i),c=null);else{const d=e.directiveStylingLast;if(-1===d||t[d]!==s)if(n=Nw(s,t,e,n,i),null===c){let m=function CN(t,e,n){const i=n?e.classBindings:e.styleBindings;if(0!==Na(i))return t[Ra(i)]}(t,e,i);void 0!==m&&Array.isArray(m)&&(m=Nw(null,t,e,m[1],i),m=Mh(m,e.attrs,i),function TI(t,e,n,i){t[Ra(n?e.classBindings:e.styleBindings)]=i}(t,e,i,m))}else c=function xI(t,e,n){let i;const s=e.directiveEnd;for(let c=1+e.directiveStylingLast;c<s;c++)i=Mh(i,t[c].hostAttrs,n);return Mh(i,e.attrs,n)}(t,e,i)}return void 0!==c&&(i?e.residualClasses=c:e.residualStyles=c),n}(s,c,e,i),function _I(t,e,n,i,s,c){let d=c?e.classBindings:e.styleBindings,p=Ra(d),m=Na(d);t[i]=n;let k,y=!1;if(Array.isArray(n)?(k=n[1],(null===k||X(n,k)>0)&&(y=!0)):k=n,s)if(0!==m){const I=Ra(t[p+1]);t[i+1]=Th(I,p),0!==I&&(t[I+1]=Dw(t[I+1],i)),t[p+1]=function mI(t,e){return 131071&t|e<<17}(t[p+1],i)}else t[i+1]=Th(p,0),0!==p&&(t[p+1]=Dw(t[p+1],i)),p=i;else t[i+1]=Th(m,0),0===p?p=i:t[m+1]=Dw(t[m+1],i),m=i;y&&(t[i+1]=Mg(t[i+1])),Sh(t,k,i,!0),Sh(t,k,i,!1),function mN(t,e,n,i,s){const c=s?t.residualClasses:t.residualStyles;null!=c&&"string"==typeof e&&X(c,e)>=0&&(n[i+1]=xh(n[i+1]))}(e,k,t,i,c),d=Th(p,m),c?e.classBindings=d:e.styleBindings=d}(s,c,e,n,d,i)}}function Nw(t,e,n,i,s){let c=null;const d=n.directiveEnd;let p=n.directiveStylingLast;for(-1===p?p=n.directiveStart:p++;p<d&&(c=e[p],i=Mh(i,c.hostAttrs,s),c!==t);)p++;return null!==t&&(n.directiveStylingLast=p),i}function Mh(t,e,n){const i=n?1:2;let s=-1;if(null!==e)for(let c=0;c<e.length;c++){const d=e[c];"number"==typeof d?s=d:s===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),xi(t,d,!!n||e[++c]))}return void 0===t?null:t}function EN(t,e,n){const i=String(e);""!==i&&!i.includes(" ")&&xi(t,i,n)}function Ow(t,e,n,i,s,c,d,p){if(!(3&e.type))return;const m=t.data,y=m[p+1],k=function Tw(t){return 1==(1&t)}(y)?PI(m,e,n,s,Na(y),d):void 0;Ph(k)||(Ph(c)||function gN(t){return 2==(2&t)}(y)&&(c=PI(m,null,n,s,p,d)),function ZP(t,e,n,i,s){if(e)s?t.addClass(n,i):t.removeClass(n,i);else{let c=-1===i.indexOf("-")?void 0:ai.DashCase;null==s?t.removeStyle(n,i,c):("string"==typeof s&&s.endsWith("!important")&&(s=s.slice(0,-10),c|=ai.Important),t.setStyle(n,i,s,c))}}(i,d,pp(Rr(),n),s,c))}function PI(t,e,n,i,s,c){const d=null===e;let p;for(;s>0;){const m=t[s],y=Array.isArray(m),k=y?m[1]:m,C=null===k;let I=n[s+1];I===et&&(I=C?St:void 0);let M=C?xd(I,i):k===i?I:void 0;if(y&&!Ph(M)&&(M=xd(m,i)),Ph(M)&&(p=M,d))return p;const O=t[s+1];s=d?Ra(O):Na(O)}if(null!==e){let m=c?e.residualClasses:e.residualStyles;null!=m&&(p=xd(m,i))}return p}function Ph(t){return void 0!==t}function Vw(t,e){return 0!=(t.flags&(e?8:16))}function qe(t,e=""){const n=oe(),i=Ct(),s=t+yt,c=i.firstCreatePass?$l(i,s,1,e,null):i.data[s],d=Fw(i,n,c,e,t);n[s]=d,ka()&&Hd(i,n,d,c),Qn(c,!1)}let Fw=(t,e,n,i,s)=>(Gs(!0),function Hr(t,e){return t.createText(e)}(e[ot],i));function Oi(t){return Oa("",t,""),Oi}function Oa(t,e,n){const i=oe(),s=Pc(i,t,e,n);return s!==et&&function dt(t,e,n){const i=pp(e,t);!function Up(t,e,n){t.setValue(e,n)}(t[ot],i,n)}(i,Rr(),s),Oa}const Go="en-US";let Rg=Go;function Hg(t,e,n,i,s){if(t=Xe(t),Array.isArray(t))for(let c=0;c<t.length;c++)Hg(t[c],e,n,i,s);else{const c=Ct(),d=oe();let p=Da(t)?t:Xe(t.provide),m=ng(t);const y=ue(),k=1048575&y.providerIndexes,C=y.directiveStart,I=y.providerIndexes>>20;if(Da(t)||!t.multi){const M=new Ed(m,s,ie),O=ik(p,e,s?k:k+I,C);-1===O?(Sb(Dp(y,d),c,p),rk(c,t,e.length),e.push(p),y.directiveStart++,y.directiveEnd++,s&&(y.providerIndexes+=1048576),n.push(M),d.push(M)):(n[O]=M,d[O]=M)}else{const M=ik(p,e,k+I,C),O=ik(p,e,k,k+I),j=O>=0&&n[O];if(s&&!j||!s&&!(M>=0&&n[M])){Sb(Dp(y,d),c,p);const Z=function hO(t,e,n,i,s){const c=new Ed(t,n,ie);return c.multi=[],c.index=e,c.componentProviders=0,AD(c,s,i&&!n),c}(s?ED:dO,n.length,s,i,m);!s&&j&&(n[O].providerFactory=Z),rk(c,t,e.length,0),e.push(p),y.directiveStart++,y.directiveEnd++,s&&(y.providerIndexes+=1048576),n.push(Z),d.push(Z)}else rk(c,t,M>-1?M:O,AD(n[s?O:M],m,!s&&i));!s&&i&&j&&n[O].componentProviders++}}}function rk(t,e,n,i){const s=Da(e),c=function ky(t){return!!t.useClass}(e);if(s||c){const m=(c?Xe(e.useClass):e).prototype.ngOnDestroy;if(m){const y=t.destroyHooks||(t.destroyHooks=[]);if(!s&&e.multi){const k=y.indexOf(n);-1===k?y.push(n,[i,m]):y[k+1].push(i,m)}else y.push(n,m)}}}function AD(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ik(t,e,n,i){for(let s=n;s<i;s++)if(e[s]===t)return s;return-1}function dO(t,e,n,i){return ok(this.multi,[])}function ED(t,e,n,i){const s=this.multi;let c;if(this.providerFactory){const d=this.providerFactory.componentProviders,p=gc(n,n[Te],this.providerFactory.index,i);c=p.slice(0,d),ok(s,c);for(let m=d;m<p.length;m++)c.push(p[m])}else c=[],ok(s,c);return c}function ok(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function fn(t,e=[]){return n=>{n.providersResolver=(i,s)=>function CD(t,e,n){const i=Ct();if(i.firstCreatePass){const s=So(t);Hg(n,i.data,i.blueprint,s,!0),Hg(e,i.data,i.blueprint,s,!1)}}(i,s?s(t):t,e)}}class Bc{}class ID{}class Gg extends Bc{constructor(e,n,i){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new TE(this);const s=hn(e);this._bootstrapComponents=ws(s.bootstrap),this._r3Injector=Gy(e,n,[{provide:Bc,useValue:this},{provide:sh,useValue:this.componentFactoryResolver},...i],sr(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class sk extends ID{constructor(e){super(),this.moduleType=e}create(e){return new Gg(this.moduleType,e,[])}}class xD extends Bc{constructor(e){super(),this.componentFactoryResolver=new TE(this),this.instance=null;const n=new Ol([...e.providers,{provide:Bc,useValue:this},{provide:sh,useValue:this.componentFactoryResolver}],e.parent||eg(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function $g(t,e,n=null){return new xD({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let fO=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const i=B1(0,n.type),s=i.length>0?$g([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,s)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=Ne({token:t,providedIn:"environment",factory:()=>new t(we(ms))}),t})();function ak(t){t.getStandaloneInjector=e=>e.get(fO).getOrCreateStandaloneInjector(t)}function Va(t,e,n){const i=Yn()+t,s=oe();return s[i]===et?Vo(s,i,n?e.call(n):e()):function kh(t,e){return t[e]}(s,i)}function qg(t,e,n,i){return function gk(t,e,n,i,s,c){const d=e+n;return qr(t,d,s)?Vo(t,d+1,c?i.call(c,s):i(s)):Uh(t,d+1)}(oe(),Yn(),t,e,n,i)}function hk(t,e,n,i,s){return function FD(t,e,n,i,s,c,d){const p=e+n;return function xa(t,e,n,i){const s=qr(t,e,n);return qr(t,e+1,i)||s}(t,p,s,c)?Vo(t,p+2,d?i.call(d,s,c):i(s,c)):Uh(t,p+2)}(oe(),Yn(),t,e,n,i,s)}function Uh(t,e){const n=t[e];return n===et?void 0:n}function Wg(t){return e=>{setTimeout(t,void 0,e)}}const kt=class GD extends Eo{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,i){let s=e,c=n||(()=>null),d=i;if(e&&"object"==typeof e){const m=e;s=m.next?.bind(m),c=m.error?.bind(m),d=m.complete?.bind(m)}this.__isAsync&&(c=Wg(c),s&&(s=Wg(s)),d&&(d=Wg(d)));const p=super.subscribe({next:s,error:c,complete:d});return e instanceof G&&e.add(p),p}};let Es=(()=>{class t{}return t.__NG_ELEMENT_ID__=WD,t})();const bk=Es,qD=class extends bk{constructor(e,n,i){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n,null)}createEmbeddedViewImpl(e,n,i){const s=this._declarationTContainer.tView,c=Gl(this._declarationLView,s,e,16,null,s.declTNode,null,null,null,n||null,i||null);c[xo]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[fo];return null!==p&&(c[fo]=p.createEmbeddedView(s)),ow(s,c,e),new _h(c)}};function WD(){return function Hh(t,e){return 4&t.type?new qD(e,t,Tc(t,e)):null}(ue(),oe())}let bo=(()=>{class t{}return t.__NG_ELEMENT_ID__=JD,t})();function JD(){return function kk(t,e){let n;const i=e[t.index];return br(i)?n=i:(n=bE(i,e,null,t),e[t.index]=n,Wl(e,n)),vk(n,e,t,i),new XD(n,t,e)}(ue(),oe())}const SO=bo,XD=class extends SO{constructor(e,n,i){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=i}get element(){return Tc(this._hostTNode,this._hostLView)}get injector(){return new Tl(this._hostTNode,this._hostLView)}get parentInjector(){const e=Tp(this._hostTNode,this._hostLView);if(Tb(e)){const n=$s(e,this._hostLView),i=Qi(e);return new Tl(n[Te].data[i+8],n)}return new Tl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=eT(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Ge}createEmbeddedView(e,n,i){let s,c;"number"==typeof i?s=i:null!=i&&(s=i.index,c=i.injector);const p=e.createEmbeddedViewImpl(n||{},c,null);return this.insertImpl(p,s,false),p}createComponent(e,n,i,s,c){const d=e&&!function Ro(t){return"function"==typeof t}(e);let p;if(d)p=n;else{const B=n||{};p=B.index,i=B.injector,s=B.projectableNodes,c=B.environmentInjector||B.ngModuleRef}const m=d?e:new bh(zt(e)),y=i||this.parentInjector;if(!c&&null==m.ngModule){const j=(d?y:this.parentInjector).get(ms,null);j&&(c=j)}zt(m.componentType??{});const M=m.create(y,s,null,c);return this.insertImpl(M.hostView,p,false),M}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,i){const s=e._lView,c=s[Te];if(function kA(t){return br(t[mn])}(s)){const m=this.indexOf(e);if(-1!==m)this.detach(m);else{const y=s[mn],k=new XD(y,y[Mr],y[mn]);k.detach(k.indexOf(e))}}const d=this._adjustIndex(n),p=this._lContainer;if(function Rt(t,e,n,i){const s=Ge+i,c=n.length;i>0&&(n[s-1][it]=e),i<c-Ge?(e[it]=n[s],Ut(n,Ge+i,e)):(n.push(e),e[it]=null),e[mn]=n;const d=e[xo];null!==d&&n!==d&&function wr(t,e){const n=t[kl];e[_n]!==e[mn][mn][_n]&&(t[lp]=!0),null===n?t[kl]=[e]:n.push(e)}(d,e);const p=e[fo];null!==p&&p.insertView(t),e[rt]|=128}(c,s,p,d),!i){const m=ty(d,p),y=s[ot],k=$p(y,p[is]);null!==k&&function jd(t,e,n,i,s,c){i[Ln]=s,i[Mr]=e,Gd(t,i,n,1,s,c)}(c,p[Mr],y,s,k,m)}return e.attachToViewContainerRef(),Ut(wk(p),d,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=eT(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),i=yn(this._lContainer,n);i&&(Yi(wk(this._lContainer),n),ci(i[Te],i))}detach(e){const n=this._adjustIndex(e,-1),i=yn(this._lContainer,n);return i&&null!=Yi(wk(this._lContainer),n)?new _h(i):null}_adjustIndex(e,n=0){return e??this.length+n}};function eT(t){return t[_d]}function wk(t){return t[_d]||(t[_d]=[])}let vk=function tT(t,e,n,i){if(t[is])return;let s;s=8&n.type?Kt(i):function MO(t,e){const n=t[ot],i=n.createComment(""),s=Ii(e,t);return $r(n,$p(n,s),i,function w1(t,e){return t.nextSibling(e)}(n,s),!1),i}(e,n),t[is]=s};const Uk=new fe("Application Initializer");let rm=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i}),this.appInits=me(Uk,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const s of this.appInits){const c=s();if(ru(c))n.push(c);else if(iI(c)){const d=new Promise((p,m)=>{c.subscribe({complete:p,error:m})});n.push(d)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{i()}).catch(s=>{this.reject(s)}),0===n.length&&i(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),kT=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const Is=new fe("LocaleId",{providedIn:"root",factory:()=>me(Is,He.Optional|He.SkipSelf)||function JO(){return typeof $localize<"u"&&$localize.locale||Go}()});class n5{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let Hk=(()=>{class t{compileModuleSync(n){return new sk(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const i=this.compileModuleSync(n),c=ws(hn(n).declarations).reduce((d,p)=>{const m=zt(p);return m&&d.push(new bh(m)),d},[]);return new n5(i,c)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const IT=(()=>Promise.resolve(0))();function Gk(t){typeof Zone>"u"?IT.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}function DT(...t){}class Jt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new kt(!1),this.onMicrotaskEmpty=new kt(!1),this.onStable=new kt(!1),this.onError=new kt(!1),typeof Zone>"u")throw new he(908,!1);Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&n,s.shouldCoalesceRunChangeDetection=i,s.lastRequestAnimationFrameId=-1,s.nativeRequestAnimationFrame=function TT(){let t=rn.requestAnimationFrame,e=rn.cancelAnimationFrame;if(typeof Zone<"u"&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function s5(t){const e=()=>{!function o5(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(rn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,du(t),t.isCheckStableRunning=!0,qk(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),du(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,s,c,d,p)=>{try{return xT(t),n.invokeTask(s,c,d,p)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===c.type||t.shouldCoalesceRunChangeDetection)&&e(),ST(t)}},onInvoke:(n,i,s,c,d,p,m)=>{try{return xT(t),n.invoke(s,c,d,p,m)}finally{t.shouldCoalesceRunChangeDetection&&e(),ST(t)}},onHasTask:(n,i,s,c)=>{n.hasTask(s,c),i===s&&("microTask"==c.change?(t._hasPendingMicrotasks=c.microTask,du(t),qk(t)):"macroTask"==c.change&&(t.hasPendingMacrotasks=c.macroTask))},onHandleError:(n,i,s,c)=>(n.handleError(s,c),t.runOutsideAngular(()=>t.onError.emit(c)),!1)})}(s)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Jt.isInAngularZone())throw new he(909,!1)}static assertNotInAngularZone(){if(Jt.isInAngularZone())throw new he(909,!1)}run(e,n,i){return this._inner.run(e,n,i)}runTask(e,n,i,s){const c=this._inner,d=c.scheduleEventTask("NgZoneEvent: "+s,e,$k,DT,DT);try{return c.runTask(d,n,i)}finally{c.cancelTask(d)}}runGuarded(e,n,i){return this._inner.runGuarded(e,n,i)}runOutsideAngular(e){return this._outer.run(e)}}const $k={};function qk(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function du(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function xT(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ST(t){t._nesting--,qk(t)}class a5{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new kt,this.onMicrotaskEmpty=new kt,this.onStable=new kt,this.onError=new kt}run(e,n,i){return e.apply(n,i)}runGuarded(e,n,i){return e.apply(n,i)}runOutsideAngular(e){return e()}runTask(e,n,i,s){return e.apply(n,i)}}const Wk=new fe("",{providedIn:"root",factory:Kk});function Kk(){const t=me(Jt);let e=!0;return function I2(...t){const e=ed(t),n=function v2(t,e){return"number"==typeof H_(t)?t.pop():e}(t,1/0),i=t;return i.length?1===i.length?qi(i[0]):ic(n)(or(i,e)):es}(new un(s=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{s.next(e),s.complete()})}),new un(s=>{let c;t.runOutsideAngular(()=>{c=t.onStable.subscribe(()=>{Jt.assertNotInAngularZone(),Gk(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,s.next(!0))})})});const d=t.onUnstable.subscribe(()=>{Jt.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{s.next(!1)}))});return()=>{c.unsubscribe(),d.unsubscribe()}}).pipe(function D2(t={}){const{connector:e=(()=>new Eo),resetOnError:n=!0,resetOnComplete:i=!0,resetOnRefCountZero:s=!0}=t;return c=>{let d,p,m,y=0,k=!1,C=!1;const I=()=>{p?.unsubscribe(),p=void 0},M=()=>{I(),d=m=void 0,k=C=!1},O=()=>{const B=d;M(),B?.unsubscribe()};return On((B,j)=>{y++,!C&&!k&&I();const Z=m=m??e();j.add(()=>{y--,0===y&&!C&&!k&&(p=q_(O,s))}),Z.subscribe(j),!d&&y>0&&(d=new nt({next:U=>Z.next(U),error:U=>{C=!0,I(),p=q_(M,n,U),Z.error(U)},complete:()=>{k=!0,I(),p=q_(M,i),Z.complete()}}),qi(B).subscribe(d))})(c)}}()))}const MT=new fe(""),Qh=new fe("");let om,Qk=(()=>{class t{constructor(n,i,s){this._ngZone=n,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,om||(function PT(t){om=t}(s),s.addToWindow(i)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Jt.assertNotInAngularZone(),Gk(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Gk(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(n)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,i,s){let c=-1;i&&i>0&&(c=setTimeout(()=>{this._callbacks=this._callbacks.filter(d=>d.timeoutId!==c),n(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:n,timeoutId:c,updateCb:s})}whenStable(n,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,i,s){return[]}}return t.\u0275fac=function(n){return new(n||t)(we(Jt),we(im),we(Qh))},t.\u0275prov=Ne({token:t,factory:t.\u0275fac}),t})(),im=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,i){this._applications.set(n,i)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,i=!0){return om?.findTestabilityInTree(this,n,i)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),Qs=null;const RT=new fe("AllowMultipleToken"),Yk=new fe("PlatformDestroyListeners"),sm=new fe("appBootstrapListener");class OT{constructor(e,n){this.name=e,this.token=n}}function Zk(t,e,n=[]){const i=`Platform: ${e}`,s=new fe(i);return(c=[])=>{let d=am();if(!d||d.injector.get(RT,!1)){const p=[...n,...c,{provide:s,useValue:!0}];t?t(p):function LT(t){if(Qs&&!Qs.get(RT,!1))throw new he(400,!1);(function Yh(){!function Z2(t){fA=t}(()=>{throw new he(600,!1)})})(),Qs=t;const e=t.get(BT);(function VT(t){t.get(ig,null)?.forEach(n=>n())})(t)}(function FT(t=[],e){return Ri.create({name:e,providers:[{provide:vy,useValue:"platform"},{provide:Yk,useValue:new Set([()=>Qs=null])},...t]})}(p,i))}return function u5(t){const e=am();if(!e)throw new he(401,!1);return e}()}}function am(){return Qs?.get(BT)??null}let BT=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,i){const s=function d5(t="zone.js",e){return"noop"===t?new a5:"zone.js"===t?new Jt(e):t}(i?.ngZone,function zT(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return s.run(()=>{const c=function TD(t,e,n){return new Gg(t,e,n)}(n.moduleType,this.injector,function Xk(t){return[{provide:Jt,useFactory:t},{provide:Cc,multi:!0,useFactory:()=>{const e=me(f5,{optional:!0});return()=>e.initialize()}},{provide:HT,useFactory:h5},{provide:Wk,useFactory:Kk}]}(()=>s)),d=c.injector.get(xc,null);return s.runOutsideAngular(()=>{const p=s.onError.subscribe({next:m=>{d.handleError(m)}});c.onDestroy(()=>{Zh(this._modules,c),p.unsubscribe()})}),function jT(t,e,n){try{const i=n();return ru(i)?i.catch(s=>{throw e.runOutsideAngular(()=>t.handleError(s)),s}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}(d,s,()=>{const p=c.injector.get(rm);return p.runInitializers(),p.donePromise.then(()=>(function WI(t){ki(t,"Expected localeId to be defined"),"string"==typeof t&&(Rg=t.toLowerCase().replace(/_/g,"-"))}(c.injector.get(Is,Go)||Go),this._moduleDoBootstrap(c),c))})})}bootstrapModule(n,i=[]){const s=UT({},i);return function NT(t,e,n){const i=new sk(n);return Promise.resolve(i)}(0,0,n).then(c=>this.bootstrapModuleFactory(c,s))}_moduleDoBootstrap(n){const i=n.injector.get(hu);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!n.instance.ngDoBootstrap)throw new he(-403,!1);n.instance.ngDoBootstrap(i)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new he(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const n=this._injector.get(Yk,null);n&&(n.forEach(i=>i()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(we(Ri))},t.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function UT(t,e){return Array.isArray(e)?e.reduce(UT,t):{...t,...e}}let hu=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=me(HT),this.componentTypes=[],this.components=[],this.isStable=me(Wk),this._injector=me(ms)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,i){const s=n instanceof Z1;if(!this._injector.get(rm).done)throw!s&&function cc(t){const e=zt(t)||In(t)||Sr(t);return null!==e&&e.standalone}(n),new he(405,!1);let d;d=s?n:this._injector.get(sh).resolveComponentFactory(n),this.componentTypes.push(d.componentType);const p=function c5(t){return t.isBoundToModule}(d)?void 0:this._injector.get(Bc),y=d.create(Ri.NULL,[],i||d.selector,p),k=y.location.nativeElement,C=y.injector.get(MT,null);return C?.registerApplication(k),y.onDestroy(()=>{this.detachView(y.hostView),Zh(this.components,y),C?.unregisterApplication(k)}),this._loadComponent(y),y}tick(){if(this._runningTick)throw new he(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){const i=n;Zh(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const i=this._injector.get(sm,[]);i.push(...this._bootstrapListeners),i.forEach(s=>s(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Zh(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new he(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Zh(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const HT=new fe("",{providedIn:"root",factory:()=>me(xc).handleError.bind(void 0)});function h5(){const t=me(Jt),e=me(xc);return n=>t.runOutsideAngular(()=>e.handleError(n))}let f5=(()=>{class t{constructor(){this.zone=me(Jt),this.applicationRef=me(hu)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();let cm=(()=>{class t{}return t.__NG_ELEMENT_ID__=Wt,t})();function Wt(t){return function g5(t,e,n){if(js(t)&&!n){const i=Di(t.index,e);return new _h(i,i)}return 47&t.type?new _h(e[_n],e):null}(ue(),oe(),16==(16&t))}class KT{constructor(){}supports(e){return yg(e)}create(e){return new C5(e)}}const v5=(t,e)=>e;class C5{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||v5}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,i=this._removalsHead,s=0,c=null;for(;n||i;){const d=!i||n&&n.currentIndex<Vr(i,s,c)?n:i,p=Vr(d,s,c),m=d.currentIndex;if(d===i)s--,i=i._nextRemoved;else if(n=n._next,null==d.previousIndex)s++;else{c||(c=[]);const y=p-s,k=m-s;if(y!=k){for(let I=0;I<y;I++){const M=I<c.length?c[I]:c[I]=0,O=M+I;k<=O&&O<y&&(c[I]=M+1)}c[d.previousIndex]=k-y}}p!==m&&e(d,p,m)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!yg(e))throw new he(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let s,c,d,n=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let p=0;p<this.length;p++)c=e[p],d=this._trackByFn(p,c),null!==n&&Object.is(n.trackById,d)?(i&&(n=this._verifyReinsertion(n,c,d,p)),Object.is(n.item,c)||this._addIdentityChange(n,c)):(n=this._mismatch(n,c,d,p),i=!0),n=n._next}else s=0,function UE(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let i;for(;!(i=n.next()).done;)e(i.value)}}(e,p=>{d=this._trackByFn(s,p),null!==n&&Object.is(n.trackById,d)?(i&&(n=this._verifyReinsertion(n,p,d,s)),Object.is(n.item,p)||this._addIdentityChange(n,p)):(n=this._mismatch(n,p,d,s),i=!0),n=n._next,s++}),this.length=s;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,i,s){let c;return null===e?c=this._itTail:(c=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,c,s)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,s))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,c,s)):e=this._addAfter(new A5(n,i),c,s),e}_verifyReinsertion(e,n,i,s){let c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==c?e=this._reinsertAfter(c,e._prev,s):e.currentIndex!=s&&(e.currentIndex=s,this._addToMoves(e,s)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const s=e._prevRemoved,c=e._nextRemoved;return null===s?this._removalsHead=c:s._nextRemoved=c,null===c?this._removalsTail=s:c._prevRemoved=s,this._insertAfter(e,n,i),this._addToMoves(e,i),e}_moveAfter(e,n,i){return this._unlink(e),this._insertAfter(e,n,i),this._addToMoves(e,i),e}_addAfter(e,n,i){return this._insertAfter(e,n,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,i){const s=null===n?this._itHead:n._next;return e._next=s,e._prev=n,null===s?this._itTail=e:s._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new QT),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,i=e._next;return null===n?this._itHead=i:n._next=i,null===i?this._itTail=n:i._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new QT),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class A5{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class E5{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===n||n<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const n=e._prevDup,i=e._nextDup;return null===n?this._head=i:n._nextDup=i,null===i?this._tail=n:i._prevDup=n,null===this._head}}class QT{constructor(){this.map=new Map}put(e){const n=e.trackById;let i=this.map.get(n);i||(i=new E5,this.map.set(n,i)),i.add(e)}get(e,n){const s=this.map.get(e);return s?s.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Vr(t,e,n){const i=t.previousIndex;if(null===i)return i;let s=0;return n&&i<n.length&&(s=n[i]),i+e+s}class dm{constructor(){}supports(e){return e instanceof Map||hw(e)}create(){return new pu}}class pu{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||hw(e)))throw new he(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,s)=>{if(n&&n.key===s)this._maybeAddToChanges(n,i),this._appendAfter=n,n=n._next;else{const c=this._getOrCreateRecordForKey(s,i);n=this._insertBeforeOrAppend(n,c)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let i=n;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const i=e._prev;return n._next=e,n._prev=i,e._prev=n,i&&(i._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const s=this._records.get(e);this._maybeAddToChanges(s,n);const c=s._prev,d=s._next;return c&&(c._next=d),d&&(d._prev=c),s._next=null,s._prev=null,s}const i=new YT(e);return this._records.set(e,i),i.currentValue=n,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(i=>n(e[i],i))}}class YT{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ZT(){return new hm([new KT])}let hm=(()=>{class t{constructor(n){this.factories=n}static create(n,i){if(null!=i){const s=i.factories.slice();n=n.concat(s)}return new t(n)}static extend(n){return{provide:t,useFactory:i=>t.create(n,i||ZT()),deps:[[t,new Np,new Pd]]}}find(n){const i=this.factories.find(s=>s.supports(n));if(null!=i)return i;throw new he(901,!1)}}return t.\u0275prov=Ne({token:t,providedIn:"root",factory:ZT}),t})();function ov(){return new gu([new dm])}let gu=(()=>{class t{constructor(n){this.factories=n}static create(n,i){if(i){const s=i.factories.slice();n=n.concat(s)}return new t(n)}static extend(n){return{provide:t,useFactory:i=>t.create(n,i||ov()),deps:[[t,new Np,new Pd]]}}find(n){const i=this.factories.find(s=>s.supports(n));if(i)return i;throw new he(901,!1)}}return t.\u0275prov=Ne({token:t,providedIn:"root",factory:ov}),t})();const T5=Zk(null,"core",[]);let x5=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(we(hu))},t.\u0275mod=xr({type:t}),t.\u0275inj=mr({}),t})(),nx=(()=>{class t{get whenAllTasksComplete(){return 0===this.collection.size&&this.complete(),this.promise}constructor(){this.taskId=0,this.collection=new Set,this.ngZone=me(Jt),this.completed=!1,this.ngZone.runOutsideAngular(()=>{this.promise=new Promise(n=>{this.resolve=n})})}add(){if(this.completed)return-1;const n=this.taskId++;return this.collection.add(n),n}remove(n){this.completed||(this.collection.delete(n),0===this.collection.size&&this.complete())}ngOnDestroy(){this.complete(),this.collection.clear()}complete(){this.completed=!0,this.resolve()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function jc(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let lv=null;function Ys(){return lv}class ox{}const eo=new fe("DocumentToken");let mm=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Ne({token:t,factory:function(){return me(Uc)},providedIn:"platform"}),t})();const U5=new fe("Location Initialized");let Uc=(()=>{class t extends mm{constructor(){super(),this._doc=me(eo),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ys().getBaseHref(this._doc)}onPopState(n){const i=Ys().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){const i=Ys().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,i,s){this._history.pushState(n,i,s)}replaceState(n,i,s){this._history.replaceState(n,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Ne({token:t,factory:function(){return new t},providedIn:"platform"}),t})();function _m(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function sx(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Ts(t){return t&&"?"!==t[0]?"?"+t:t}let Hc=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Ne({token:t,factory:function(){return me(ax)},providedIn:"root"}),t})();const uv=new fe("appBaseHref");let ax=(()=>{class t extends Hc{constructor(n,i){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??me(eo).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return _m(this._baseHref,n)}path(n=!1){const i=this._platformLocation.pathname+Ts(this._platformLocation.search),s=this._platformLocation.hash;return s&&n?`${i}${s}`:i}pushState(n,i,s,c){const d=this.prepareExternalUrl(s+Ts(c));this._platformLocation.pushState(n,i,d)}replaceState(n,i,s,c){const d=this.prepareExternalUrl(s+Ts(c));this._platformLocation.replaceState(n,i,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(we(mm),we(uv,8))},t.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),H5=(()=>{class t extends Hc{constructor(n,i){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(n){const i=_m(this._baseHref,n);return i.length>0?"#"+i:i}pushState(n,i,s,c){let d=this.prepareExternalUrl(s+Ts(c));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(n,i,d)}replaceState(n,i,s,c){let d=this.prepareExternalUrl(s+Ts(c));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(n,i,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(we(mm),we(uv,8))},t.\u0275prov=Ne({token:t,factory:t.\u0275fac}),t})(),bm=(()=>{class t{constructor(n){this._subject=new kt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const i=this._locationStrategy.getBaseHref();this._basePath=function cx(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(sx(dv(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+Ts(i))}normalize(n){return t.stripTrailingSlash(function $5(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,dv(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",s=null){this._locationStrategy.pushState(s,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ts(i)),s)}replaceState(n,i="",s=null){this._locationStrategy.replaceState(s,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ts(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(s=>s(n,i))}subscribe(n,i,s){return this._subject.subscribe({next:n,error:i,complete:s})}}return t.normalizeQueryParams=Ts,t.joinWithSlash=_m,t.stripTrailingSlash=sx,t.\u0275fac=function(n){return new(n||t)(we(Hc))},t.\u0275prov=Ne({token:t,factory:function(){return function G5(){return new bm(we(Hc))}()},providedIn:"root"}),t})();function dv(t){return t.replace(/\/index.html$/,"")}function g9(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const i=n.indexOf("="),[s,c]=-1==i?[n,""]:[n.slice(0,i),n.slice(i+1)];if(s.trim()===e)return decodeURIComponent(c)}return null}const eL=/\s+/,m9=[];let _9=(()=>{class t{constructor(n,i,s,c){this._iterableDiffers=n,this._keyValueDiffers=i,this._ngEl=s,this._renderer=c,this.initialClasses=m9,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(eL):m9}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(eL):n}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const i of n)this._updateState(i,!0);else if(null!=n)for(const i of Object.keys(n))this._updateState(i,!!n[i]);this._applyStateDiff()}_updateState(n,i){const s=this.stateMap.get(n);void 0!==s?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(n,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const i=n[0],s=n[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(n,i){(n=n.trim()).length>0&&n.split(eL).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return t.\u0275fac=function(n){return new(n||t)(ie(hm),ie(gu),ie(li),ie(bs))},t.\u0275dir=Qe({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),t})();class PJ{constructor(e,n,i,s){this.$implicit=e,this.ngForOf=n,this.index=i,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let gx=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,i,s){this._viewContainer=n,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const i=this._viewContainer;n.forEachOperation((s,c,d)=>{if(null==s.previousIndex)i.createEmbeddedView(this._template,new PJ(s.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)i.remove(null===c?void 0:c);else if(null!==c){const p=i.get(c);i.move(p,d),y9(p,s)}});for(let s=0,c=i.length;s<c;s++){const p=i.get(s).context;p.index=s,p.count=c,p.ngForOf=this._ngForOf}n.forEachIdentityChange(s=>{y9(i.get(s.currentIndex),s)})}static ngTemplateContextGuard(n,i){return!0}}return t.\u0275fac=function(n){return new(n||t)(ie(bo),ie(Es),ie(hm))},t.\u0275dir=Qe({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function y9(t,e){t.context.$implicit=e.item}let Xs=(()=>{class t{constructor(n,i){this._viewContainer=n,this._context=new RJ,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){w9("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){w9("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,i){return!0}}return t.\u0275fac=function(n){return new(n||t)(ie(bo),ie(Es))},t.\u0275dir=Qe({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class RJ{constructor(){this.$implicit=null,this.ngIf=null}}function w9(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${sr(e)}'.`)}let rL=(()=>{class t{constructor(n,i,s){this._ngEl=n,this._differs=i,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){const n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,i){const[s,c]=n.split("."),d=-1===s.indexOf("-")?void 0:ai.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,s,c?`${i}${c}`:i,d):this._renderer.removeStyle(this._ngEl.nativeElement,s,d)}_applyChanges(n){n.forEachRemovedItem(i=>this._setStyle(i.key,null)),n.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),n.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return t.\u0275fac=function(n){return new(n||t)(ie(li),ie(gu),ie(bs))},t.\u0275dir=Qe({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),t})(),C9=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=xr({type:t}),t.\u0275inj=mr({}),t})();function E9(t){return"server"===t}let cX=(()=>{class t{}return t.\u0275prov=Ne({token:t,providedIn:"root",factory:()=>new lX(we(eo),window)}),t})();class lX{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function uX(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let s=i.currentNode;for(;s;){const c=s.shadowRoot;if(c){const d=c.getElementById(e)||c.querySelector(`[name="${e}"]`);if(d)return d}s=i.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),i=n.left+this.window.pageXOffset,s=n.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(i-c[0],s-c[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=I9(this.window.history)||I9(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function I9(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class D9{}class VX extends ox{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class cL extends VX{static makeCurrent(){!function j5(t){lv||(lv=t)}(new cL)}onAndCancel(e,n,i){return e.addEventListener(n,i),()=>{e.removeEventListener(n,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function FX(){return gv=gv||document.querySelector("base"),gv?gv.getAttribute("href"):null}();return null==n?null:function BX(t){bx=bx||document.createElement("a"),bx.setAttribute("href",t);const e=bx.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){gv=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return g9(document.cookie,e)}}let bx,gv=null,jX=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Ne({token:t,factory:t.\u0275fac}),t})();const lL=new fe("EventManagerPlugins");let P9=(()=>{class t{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(s=>{s.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,s){return this._findPluginFor(i).addEventListener(n,i,s)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(c=>c.supports(n)),!i)throw new he(5101,!1);return this._eventNameToPlugin.set(n,i),i}}return t.\u0275fac=function(n){return new(n||t)(we(lL),we(Jt))},t.\u0275prov=Ne({token:t,factory:t.\u0275fac}),t})();class R9{constructor(e){this._doc=e}}const uL="ng-app-id";let N9=(()=>{class t{constructor(n,i,s,c={}){this.doc=n,this.appId=i,this.nonce=s,this.platformId=c,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=E9(c),this.resetHostNodes()}addStyles(n){for(const i of n)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(n){for(const i of n)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(i=>i.remove()),n.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const i of this.getAllStyles())this.addStyleToHost(n,i)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const i of this.hostNodes)this.addStyleToHost(i,n)}onStyleRemoved(n){const i=this.styleRef;i.get(n)?.elements?.forEach(s=>s.remove()),i.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${uL}="${this.appId}"]`);if(n?.length){const i=new Map;return n.forEach(s=>{null!=s.textContent&&i.set(s.textContent,s)}),i}return null}changeUsageCount(n,i){const s=this.styleRef;if(s.has(n)){const c=s.get(n);return c.usage+=i,c.usage}return s.set(n,{usage:i,elements:[]}),i}getStyleElement(n,i){const s=this.styleNodesInDOM,c=s?.get(i);if(c?.parentNode===n)return s.delete(i),c.removeAttribute(uL),c;{const d=this.doc.createElement("style");return this.nonce&&d.setAttribute("nonce",this.nonce),d.textContent=i,this.platformIsServer&&d.setAttribute(uL,this.appId),d}}addStyleToHost(n,i){const s=this.getStyleElement(n,i);n.appendChild(s);const c=this.styleRef,d=c.get(i)?.elements;d?d.push(s):c.set(i,{elements:[s],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return t.\u0275fac=function(n){return new(n||t)(we(eo),we(Ll),we($1,8),we(Ws))},t.\u0275prov=Ne({token:t,factory:t.\u0275fac}),t})();const dL={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},hL=/%COMP%/g,$X=new fe("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function L9(t,e){return e.map(n=>n.replace(hL,t))}let V9=(()=>{class t{constructor(n,i,s,c,d,p,m,y=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestory=c,this.doc=d,this.platformId=p,this.ngZone=m,this.nonce=y,this.rendererByCompId=new Map,this.platformIsServer=E9(p),this.defaultRenderer=new fL(n,d,m,this.platformIsServer)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Ci.ShadowDom&&(i={...i,encapsulation:Ci.Emulated});const s=this.getOrCreateRenderer(n,i);return s instanceof B9?s.applyToHost(n):s instanceof pL&&s.applyStyles(),s}getOrCreateRenderer(n,i){const s=this.rendererByCompId;let c=s.get(i.id);if(!c){const d=this.doc,p=this.ngZone,m=this.eventManager,y=this.sharedStylesHost,k=this.removeStylesOnCompDestory,C=this.platformIsServer;switch(i.encapsulation){case Ci.Emulated:c=new B9(m,y,i,this.appId,k,d,p,C);break;case Ci.ShadowDom:return new QX(m,y,n,i,d,p,this.nonce,C);default:c=new pL(m,y,i,k,d,p,C)}c.onDestroy=()=>s.delete(i.id),s.set(i.id,c)}return c}ngOnDestroy(){this.rendererByCompId.clear()}}return t.\u0275fac=function(n){return new(n||t)(we(P9),we(N9),we(Ll),we($X),we(eo),we(Ws),we(Jt),we($1))},t.\u0275prov=Ne({token:t,factory:t.\u0275fac}),t})();class fL{constructor(e,n,i,s){this.eventManager=e,this.doc=n,this.ngZone=i,this.platformIsServer=s,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(dL[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(F9(e)?e.content:e).appendChild(n)}insertBefore(e,n,i){e&&(F9(e)?e.content:e).insertBefore(n,i)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new he(5104,!1);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,s){if(s){n=s+":"+n;const c=dL[s];c?e.setAttributeNS(c,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){const s=dL[i];s?e.removeAttributeNS(s,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,s){s&(ai.DashCase|ai.Important)?e.style.setProperty(n,i,s&ai.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&ai.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e[n]=i}setValue(e,n){e.nodeValue=n}listen(e,n,i){if("string"==typeof e&&!(e=Ys().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(i))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&(n.preventDefault(),n.returnValue=!1)}}}function F9(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class QX extends fL{constructor(e,n,i,s,c,d,p,m){super(e,c,d,m),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const y=L9(s.id,s.styles);for(const k of y){const C=document.createElement("style");p&&C.setAttribute("nonce",p),C.textContent=k,this.shadowRoot.appendChild(C)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class pL extends fL{constructor(e,n,i,s,c,d,p,m){super(e,c,d,p),this.sharedStylesHost=n,this.removeStylesOnCompDestory=s,this.rendererUsageCount=0,this.styles=m?L9(m,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class B9 extends pL{constructor(e,n,i,s,c,d,p,m){const y=s+"-"+i.id;super(e,n,i,c,d,p,m,y),this.contentAttr=function qX(t){return"_ngcontent-%COMP%".replace(hL,t)}(y),this.hostAttr=function WX(t){return"_nghost-%COMP%".replace(hL,t)}(y)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}}let YX=(()=>{class t extends R9{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,s){return n.addEventListener(i,s,!1),()=>this.removeEventListener(n,i,s)}removeEventListener(n,i,s){return n.removeEventListener(i,s)}}return t.\u0275fac=function(n){return new(n||t)(we(eo))},t.\u0275prov=Ne({token:t,factory:t.\u0275fac}),t})();const z9=["alt","control","meta","shift"],ZX={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},JX={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let XX=(()=>{class t extends R9{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,i,s){const c=t.parseEventName(i),d=t.eventCallback(c.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ys().onAndCancel(n,c.domEventName,d))}static parseEventName(n){const i=n.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const c=t._normalizeKey(i.pop());let d="",p=i.indexOf("code");if(p>-1&&(i.splice(p,1),d="code."),z9.forEach(y=>{const k=i.indexOf(y);k>-1&&(i.splice(k,1),d+=y+".")}),d+=c,0!=i.length||0===c.length)return null;const m={};return m.domEventName=s,m.fullKey=d,m}static matchEventFullKeyCode(n,i){let s=ZX[n.key]||n.key,c="";return i.indexOf("code.")>-1&&(s=n.code,c="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),z9.forEach(d=>{d!==s&&(0,JX[d])(n)&&(c+=d+".")}),c+=s,c===i)}static eventCallback(n,i,s){return c=>{t.matchEventFullKeyCode(c,n)&&s.runGuarded(()=>i(c))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(we(eo))},t.\u0275prov=Ne({token:t,factory:t.\u0275fac}),t})();const U9=[{provide:Ws,useValue:"browser"},{provide:ig,useValue:function eee(){cL.makeCurrent()},multi:!0},{provide:eo,useFactory:function nee(){return function E1(t){sy=t}(document),document},deps:[]}],ree=Zk(T5,"browser",U9),iee=new fe(""),H9=[{provide:Qh,useClass:class zX{addToWindow(e){rn.getAngularTestability=(i,s=!0)=>{const c=e.findTestabilityInTree(i,s);if(null==c)throw new he(5103,!1);return c},rn.getAllAngularTestabilities=()=>e.getAllTestabilities(),rn.getAllAngularRootElements=()=>e.getAllRootElements(),rn.frameworkStabilizers||(rn.frameworkStabilizers=[]),rn.frameworkStabilizers.push(i=>{const s=rn.getAllAngularTestabilities();let c=s.length,d=!1;const p=function(m){d=d||m,c--,0==c&&i(d)};s.forEach(function(m){m.whenStable(p)})})}findTestabilityInTree(e,n,i){return null==n?null:e.getTestability(n)??(i?Ys().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:MT,useClass:Qk,deps:[Jt,im,Qh]},{provide:Qk,useClass:Qk,deps:[Jt,im,Qh]}],G9=[{provide:vy,useValue:"root"},{provide:xc,useFactory:function tee(){return new xc},deps:[]},{provide:lL,useClass:YX,multi:!0,deps:[eo,Jt,Ws]},{provide:lL,useClass:XX,multi:!0,deps:[eo]},V9,N9,P9,{provide:Py,useExisting:V9},{provide:D9,useClass:jX,deps:[]},[]];let oee=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Ll,useValue:n.appId}]}}}return t.\u0275fac=function(n){return new(n||t)(we(iee,12))},t.\u0275mod=xr({type:t}),t.\u0275inj=mr({providers:[...G9,...H9],imports:[C9,x5]}),t})(),$9=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)(we(eo))},t.\u0275prov=Ne({token:t,factory:function(n){let i=null;return i=n?new n:function aee(){return new $9(we(eo))}(),i},providedIn:"root"}),t})();function tt(...t){return or(t,ed(t))}typeof window<"u"&&window;class ko extends Eo{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:i}=this;if(e)throw n;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const{isArray:fee}=Array,{getPrototypeOf:pee,prototype:gee,keys:mee}=Object;function Q9(t){if(1===t.length){const e=t[0];if(fee(e))return{args:e,keys:null};if(function _ee(t){return t&&"object"==typeof t&&pee(t)===gee}(e)){const n=mee(e);return{args:n.map(i=>e[i]),keys:n}}}return{args:t,keys:null}}const{isArray:bee}=Array;function Y9(t){return _t(e=>function yee(t,e){return bee(e)?t(...e):t(e)}(t,e))}function Z9(t,e){return t.reduce((n,i,s)=>(n[i]=e[s],n),{})}function mL(...t){const e=ed(t),n=G_(t),{args:i,keys:s}=Q9(t);if(0===i.length)return or([],e);const c=new un(function wee(t,e,n=ln){return i=>{J9(e,()=>{const{length:s}=t,c=new Array(s);let d=s,p=s;for(let m=0;m<s;m++)J9(e,()=>{const y=or(t[m],e);let k=!1;y.subscribe(pn(i,C=>{c[m]=C,k||(k=!0,p--),p||i.next(n(c.slice()))},()=>{--d||i.complete()}))},i)},i)}}(i,e,s?d=>Z9(s,d):ln));return n?c.pipe(Y9(n)):c}function J9(t,e,n){t?Ls(n,t,e):e()}const yx=Ns(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function _L(...t){return function kee(){return ic(1)}()(or(t,ed(t)))}function X9(t){return new un(e=>{qi(t()).subscribe(e)})}function mv(t,e){const n=Vt(t)?t:()=>t,i=s=>s.error(n());return new un(e?s=>e.schedule(i,0,s):i)}function bL(){return On((t,e)=>{let n=null;t._refCount++;const i=pn(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const s=t._connection,c=n;n=null,s&&(!c||s===c)&&s.unsubscribe(),e.unsubscribe()});t.subscribe(i),i.closed||(n=t.connect())})}class eU extends un{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,dn(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new G;const n=this.getSubject();e.add(this.source.subscribe(pn(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=G.EMPTY)}return e}refCount(){return bL()(this)}}function Ba(t,e){return On((n,i)=>{let s=null,c=0,d=!1;const p=()=>d&&!s&&i.complete();n.subscribe(pn(i,m=>{s?.unsubscribe();let y=0;const k=c++;qi(t(m,k)).subscribe(s=pn(i,C=>i.next(e?e(m,C,k,y++):C),()=>{s=null,p()}))},()=>{d=!0,p()}))})}function ym(t){return t<=0?()=>es:On((e,n)=>{let i=0;e.subscribe(pn(n,s=>{++i<=t&&(n.next(s),t<=i&&n.complete())}))})}function Gc(t,e){return On((n,i)=>{let s=0;n.subscribe(pn(i,c=>t.call(e,c,s++)&&i.next(c)))})}function wx(t){return On((e,n)=>{let i=!1;e.subscribe(pn(n,s=>{i=!0,n.next(s)},()=>{i||n.next(t),n.complete()}))})}function tU(t=Cee){return On((e,n)=>{let i=!1;e.subscribe(pn(n,s=>{i=!0,n.next(s)},()=>i?n.complete():n.error(t())))})}function Cee(){return new yx}function _u(t,e){const n=arguments.length>=2;return i=>i.pipe(t?Gc((s,c)=>t(s,c,i)):ln,ym(1),n?wx(e):tU(()=>new yx))}function wm(t,e){return Vt(e)?ir(t,e,1):ir(t,1)}function to(t,e,n){const i=Vt(t)||e||n?{next:t,error:e,complete:n}:t;return i?On((s,c)=>{var d;null===(d=i.subscribe)||void 0===d||d.call(i);let p=!0;s.subscribe(pn(c,m=>{var y;null===(y=i.next)||void 0===y||y.call(i,m),c.next(m)},()=>{var m;p=!1,null===(m=i.complete)||void 0===m||m.call(i),c.complete()},m=>{var y;p=!1,null===(y=i.error)||void 0===y||y.call(i,m),c.error(m)},()=>{var m,y;p&&(null===(m=i.unsubscribe)||void 0===m||m.call(i)),null===(y=i.finalize)||void 0===y||y.call(i)}))}):ln}function nf(t){return On((e,n)=>{let c,i=null,s=!1;i=e.subscribe(pn(n,void 0,void 0,d=>{c=qi(t(d,nf(t)(e))),i?(i.unsubscribe(),i=null,c.subscribe(n)):s=!0})),s&&(i.unsubscribe(),i=null,c.subscribe(n))})}function nU(t,e){return On(function Aee(t,e,n,i,s){return(c,d)=>{let p=n,m=e,y=0;c.subscribe(pn(d,k=>{const C=y++;m=p?t(m,k,C):(p=!0,k),i&&d.next(m)},s&&(()=>{p&&d.next(m),d.complete()})))}}(t,e,arguments.length>=2,!0))}function yL(t){return t<=0?()=>es:On((e,n)=>{let i=[];e.subscribe(pn(n,s=>{i.push(s),t<i.length&&i.shift()},()=>{for(const s of i)n.next(s);n.complete()},void 0,()=>{i=null}))})}function wL(t){return On((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const pt="primary",_v=Symbol("RouteTitle");class Dee{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function km(t){return new Dee(t)}function Tee(t,e,n){const i=n.path.split("/");if(i.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||i.length<t.length))return null;const s={};for(let c=0;c<i.length;c++){const d=i[c],p=t[c];if(d.startsWith(":"))s[d.substring(1)]=p;else if(d!==p.path)return null}return{consumed:t.slice(0,i.length),posParams:s}}function za(t,e){const n=t?Object.keys(t):void 0,i=e?Object.keys(e):void 0;if(!n||!i||n.length!=i.length)return!1;let s;for(let c=0;c<n.length;c++)if(s=n[c],!rU(t[s],e[s]))return!1;return!0}function rU(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),i=[...e].sort();return n.every((s,c)=>i[c]===s)}return t===e}function iU(t){return t.length>0?t[t.length-1]:null}function bu(t){return function hee(t){return!!t&&(t instanceof un||Vt(t.lift)&&Vt(t.subscribe))}(t)?t:ru(t)?or(Promise.resolve(t)):tt(t)}const See={exact:function aU(t,e,n){if(!rf(t.segments,e.segments)||!kx(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!t.children[i]||!aU(t.children[i],e.children[i],n))return!1;return!0},subset:cU},oU={exact:function Mee(t,e){return za(t,e)},subset:function Pee(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>rU(t[n],e[n]))},ignored:()=>!0};function sU(t,e,n){return See[n.paths](t.root,e.root,n.matrixParams)&&oU[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function cU(t,e,n){return lU(t,e,e.segments,n)}function lU(t,e,n,i){if(t.segments.length>n.length){const s=t.segments.slice(0,n.length);return!(!rf(s,n)||e.hasChildren()||!kx(s,n,i))}if(t.segments.length===n.length){if(!rf(t.segments,n)||!kx(t.segments,n,i))return!1;for(const s in e.children)if(!t.children[s]||!cU(t.children[s],e.children[s],i))return!1;return!0}{const s=n.slice(0,t.segments.length),c=n.slice(t.segments.length);return!!(rf(t.segments,s)&&kx(t.segments,s,i)&&t.children[pt])&&lU(t.children[pt],e,c,i)}}function kx(t,e,n){return e.every((i,s)=>oU[n](t[s].parameters,i.parameters))}class vm{constructor(e=new en([],{}),n={},i=null){this.root=e,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=km(this.queryParams)),this._queryParamMap}toString(){return Oee.serialize(this)}}class en{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vx(this)}}class bv{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=km(this.parameters)),this._parameterMap}toString(){return hU(this)}}function rf(t,e){return t.length===e.length&&t.every((n,i)=>n.path===e[i].path)}let yv=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Ne({token:t,factory:function(){return new kL},providedIn:"root"}),t})();class kL{parse(e){const n=new qee(e);return new vm(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${wv(e.root,!0)}`,i=function Fee(t){const e=Object.keys(t).map(n=>{const i=t[n];return Array.isArray(i)?i.map(s=>`${Cx(n)}=${Cx(s)}`).join("&"):`${Cx(n)}=${Cx(i)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${i}${"string"==typeof e.fragment?`#${function Lee(t){return encodeURI(t)}(e.fragment)}`:""}`}}const Oee=new kL;function vx(t){return t.segments.map(e=>hU(e)).join("/")}function wv(t,e){if(!t.hasChildren())return vx(t);if(e){const n=t.children[pt]?wv(t.children[pt],!1):"",i=[];return Object.entries(t.children).forEach(([s,c])=>{s!==pt&&i.push(`${s}:${wv(c,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}{const n=function Nee(t,e){let n=[];return Object.entries(t.children).forEach(([i,s])=>{i===pt&&(n=n.concat(e(s,i)))}),Object.entries(t.children).forEach(([i,s])=>{i!==pt&&(n=n.concat(e(s,i)))}),n}(t,(i,s)=>s===pt?[wv(t.children[pt],!1)]:[`${s}:${wv(i,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[pt]?`${vx(t)}/${n[0]}`:`${vx(t)}/(${n.join("//")})`}}function uU(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Cx(t){return uU(t).replace(/%3B/gi,";")}function vL(t){return uU(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ax(t){return decodeURIComponent(t)}function dU(t){return Ax(t.replace(/\+/g,"%20"))}function hU(t){return`${vL(t.path)}${function Vee(t){return Object.keys(t).map(e=>`;${vL(e)}=${vL(t[e])}`).join("")}(t.parameters)}`}const Bee=/^[^\/()?;#]+/;function CL(t){const e=t.match(Bee);return e?e[0]:""}const zee=/^[^\/()?;=#]+/,Uee=/^[^=?&#]+/,Gee=/^[^&#]+/;class qee{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new en([],{}):new en([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[pt]=new en(e,n)),i}parseSegment(){const e=CL(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new he(4009,!1);return this.capture(e),new bv(Ax(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function jee(t){const e=t.match(zee);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){const s=CL(this.remaining);s&&(i=s,this.capture(i))}e[Ax(n)]=Ax(i)}parseQueryParam(e){const n=function Hee(t){const e=t.match(Uee);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){const d=function $ee(t){const e=t.match(Gee);return e?e[0]:""}(this.remaining);d&&(i=d,this.capture(i))}const s=dU(n),c=dU(i);if(e.hasOwnProperty(s)){let d=e[s];Array.isArray(d)||(d=[d],e[s]=d),d.push(c)}else e[s]=c}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=CL(this.remaining),s=this.remaining[i.length];if("/"!==s&&")"!==s&&";"!==s)throw new he(4010,!1);let c;i.indexOf(":")>-1?(c=i.slice(0,i.indexOf(":")),this.capture(c),this.capture(":")):e&&(c=pt);const d=this.parseChildren();n[c]=1===Object.keys(d).length?d[pt]:new en([],d),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new he(4011,!1)}}function fU(t){return t.segments.length>0?new en([],{[pt]:t}):t}function pU(t){const e={};for(const i of Object.keys(t.children)){const c=pU(t.children[i]);if(i===pt&&0===c.segments.length&&c.hasChildren())for(const[d,p]of Object.entries(c.children))e[d]=p;else(c.segments.length>0||c.hasChildren())&&(e[i]=c)}return function Wee(t){if(1===t.numberOfChildren&&t.children[pt]){const e=t.children[pt];return new en(t.segments.concat(e.segments),e.children)}return t}(new en(t.segments,e))}function sf(t){return t instanceof vm}function gU(t){let e;const s=fU(function n(c){const d={};for(const m of c.children){const y=n(m);d[m.outlet]=y}const p=new en(c.url,d);return c===t&&(e=p),p}(t.root));return e??s}function mU(t,e,n,i){let s=t;for(;s.parent;)s=s.parent;if(0===e.length)return AL(s,s,s,n,i);const c=function Qee(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new bU(!0,0,t);let e=0,n=!1;const i=t.reduce((s,c,d)=>{if("object"==typeof c&&null!=c){if(c.outlets){const p={};return Object.entries(c.outlets).forEach(([m,y])=>{p[m]="string"==typeof y?y.split("/"):y}),[...s,{outlets:p}]}if(c.segmentPath)return[...s,c.segmentPath]}return"string"!=typeof c?[...s,c]:0===d?(c.split("/").forEach((p,m)=>{0==m&&"."===p||(0==m&&""===p?n=!0:".."===p?e++:""!=p&&s.push(p))}),s):[...s,c]},[]);return new bU(n,e,i)}(e);if(c.toRoot())return AL(s,s,new en([],{}),n,i);const d=function Yee(t,e,n){if(t.isAbsolute)return new Ix(e,!0,0);if(!n)return new Ix(e,!1,NaN);if(null===n.parent)return new Ix(n,!0,0);const i=Ex(t.commands[0])?0:1;return function Zee(t,e,n){let i=t,s=e,c=n;for(;c>s;){if(c-=s,i=i.parent,!i)throw new he(4005,!1);s=i.segments.length}return new Ix(i,!1,s-c)}(n,n.segments.length-1+i,t.numberOfDoubleDots)}(c,s,t),p=d.processChildren?vv(d.segmentGroup,d.index,c.commands):yU(d.segmentGroup,d.index,c.commands);return AL(s,d.segmentGroup,p,n,i)}function Ex(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function kv(t){return"object"==typeof t&&null!=t&&t.outlets}function AL(t,e,n,i,s){let d,c={};i&&Object.entries(i).forEach(([m,y])=>{c[m]=Array.isArray(y)?y.map(k=>`${k}`):`${y}`}),d=t===e?n:_U(t,e,n);const p=fU(pU(d));return new vm(p,c,s)}function _U(t,e,n){const i={};return Object.entries(t.children).forEach(([s,c])=>{i[s]=c===e?n:_U(c,e,n)}),new en(t.segments,i)}class bU{constructor(e,n,i){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&Ex(i[0]))throw new he(4003,!1);const s=i.find(kv);if(s&&s!==iU(i))throw new he(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ix{constructor(e,n,i){this.segmentGroup=e,this.processChildren=n,this.index=i}}function yU(t,e,n){if(t||(t=new en([],{})),0===t.segments.length&&t.hasChildren())return vv(t,e,n);const i=function Xee(t,e,n){let i=0,s=e;const c={match:!1,pathIndex:0,commandIndex:0};for(;s<t.segments.length;){if(i>=n.length)return c;const d=t.segments[s],p=n[i];if(kv(p))break;const m=`${p}`,y=i<n.length-1?n[i+1]:null;if(s>0&&void 0===m)break;if(m&&y&&"object"==typeof y&&void 0===y.outlets){if(!kU(m,y,d))return c;i+=2}else{if(!kU(m,{},d))return c;i++}s++}return{match:!0,pathIndex:s,commandIndex:i}}(t,e,n),s=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const c=new en(t.segments.slice(0,i.pathIndex),{});return c.children[pt]=new en(t.segments.slice(i.pathIndex),t.children),vv(c,0,s)}return i.match&&0===s.length?new en(t.segments,{}):i.match&&!t.hasChildren()?EL(t,e,n):i.match?vv(t,0,s):EL(t,e,n)}function vv(t,e,n){if(0===n.length)return new en(t.segments,{});{const i=function Jee(t){return kv(t[0])?t[0].outlets:{[pt]:t}}(n),s={};if(!i[pt]&&t.children[pt]&&1===t.numberOfChildren&&0===t.children[pt].segments.length){const c=vv(t.children[pt],e,n);return new en(t.segments,c.children)}return Object.entries(i).forEach(([c,d])=>{"string"==typeof d&&(d=[d]),null!==d&&(s[c]=yU(t.children[c],e,d))}),Object.entries(t.children).forEach(([c,d])=>{void 0===i[c]&&(s[c]=d)}),new en(t.segments,s)}}function EL(t,e,n){const i=t.segments.slice(0,e);let s=0;for(;s<n.length;){const c=n[s];if(kv(c)){const m=ete(c.outlets);return new en(i,m)}if(0===s&&Ex(n[0])){i.push(new bv(t.segments[e].path,wU(n[0]))),s++;continue}const d=kv(c)?c.outlets[pt]:`${c}`,p=s<n.length-1?n[s+1]:null;d&&p&&Ex(p)?(i.push(new bv(d,wU(p))),s+=2):(i.push(new bv(d,{})),s++)}return new en(i,{})}function ete(t){const e={};return Object.entries(t).forEach(([n,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(e[n]=EL(new en([],{}),0,i))}),e}function wU(t){const e={};return Object.entries(t).forEach(([n,i])=>e[n]=`${i}`),e}function kU(t,e,n){return t==n.path&&za(e,n.parameters)}const Cv="imperative";class ja{constructor(e,n){this.id=e,this.url=n}}class IL extends ja{constructor(e,n,i="imperative",s=null){super(e,n),this.type=0,this.navigationTrigger=i,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class yu extends ja{constructor(e,n,i){super(e,n),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Dx extends ja{constructor(e,n,i,s){super(e,n),this.reason=i,this.code=s,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Av extends ja{constructor(e,n,i,s){super(e,n),this.reason=i,this.code=s,this.type=16}}class DL extends ja{constructor(e,n,i,s){super(e,n),this.error=i,this.target=s,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class tte extends ja{constructor(e,n,i,s){super(e,n),this.urlAfterRedirects=i,this.state=s,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nte extends ja{constructor(e,n,i,s){super(e,n),this.urlAfterRedirects=i,this.state=s,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rte extends ja{constructor(e,n,i,s,c){super(e,n),this.urlAfterRedirects=i,this.state=s,this.shouldActivate=c,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ite extends ja{constructor(e,n,i,s){super(e,n),this.urlAfterRedirects=i,this.state=s,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ote extends ja{constructor(e,n,i,s){super(e,n),this.urlAfterRedirects=i,this.state=s,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ste{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ate{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class cte{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lte{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ute{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dte{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vU{constructor(e,n,i){this.routerEvent=e,this.position=n,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class hte{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ev,this.attachRef=null}}let Ev=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,i){const s=this.getOrCreateContext(n);s.outlet=i,this.contexts.set(n,s)}onChildOutletDestroyed(n){const i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new hte,this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class CU{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=TL(e,this._root);return n?n.children.map(i=>i.value):[]}firstChild(e){const n=TL(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=xL(e,this._root);return n.length<2?[]:n[n.length-2].children.map(s=>s.value).filter(s=>s!==e)}pathFromRoot(e){return xL(e,this._root).map(n=>n.value)}}function TL(t,e){if(t===e.value)return e;for(const n of e.children){const i=TL(t,n);if(i)return i}return null}function xL(t,e){if(t===e.value)return[e];for(const n of e.children){const i=xL(t,n);if(i.length)return i.unshift(e),i}return[]}class $c{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Cm(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class AU extends CU{constructor(e,n){super(e),this.snapshot=n,SL(this,e)}toString(){return this.snapshot.toString()}}function EU(t,e){const n=function fte(t,e){const d=new Tx([],{},{},"",{},pt,e,null,{});return new DU("",new $c(d,[]))}(0,e),i=new ko([new bv("",{})]),s=new ko({}),c=new ko({}),d=new ko({}),p=new ko(""),m=new Am(i,s,d,p,c,pt,e,n.root);return m.snapshot=n.root,new AU(new $c(m,[]),n)}class Am{constructor(e,n,i,s,c,d,p,m){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=s,this.dataSubject=c,this.outlet=d,this.component=p,this._futureSnapshot=m,this.title=this.dataSubject?.pipe(_t(y=>y[_v]))??tt(void 0),this.url=e,this.params=n,this.queryParams=i,this.fragment=s,this.data=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(_t(e=>km(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(_t(e=>km(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function IU(t,e="emptyOnly"){const n=t.pathFromRoot;let i=0;if("always"!==e)for(i=n.length-1;i>=1;){const s=n[i],c=n[i-1];if(s.routeConfig&&""===s.routeConfig.path)i--;else{if(c.component)break;i--}}return function pte(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(i))}class Tx{get title(){return this.data?.[_v]}constructor(e,n,i,s,c,d,p,m,y){this.url=e,this.params=n,this.queryParams=i,this.fragment=s,this.data=c,this.outlet=d,this.component=p,this.routeConfig=m,this._resolve=y}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=km(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=km(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class DU extends CU{constructor(e,n){super(n),this.url=e,SL(this,n)}toString(){return TU(this._root)}}function SL(t,e){e.value._routerState=t,e.children.forEach(n=>SL(t,n))}function TU(t){const e=t.children.length>0?` { ${t.children.map(TU).join(", ")} } `:"";return`${t.value}${e}`}function ML(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,za(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),za(e.params,n.params)||t.paramsSubject.next(n.params),function xee(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!za(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),za(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function PL(t,e){const n=za(t.params,e.params)&&function Ree(t,e){return rf(t,e)&&t.every((n,i)=>za(n.parameters,e[i].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||PL(t.parent,e.parent))}let RL=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=pt,this.activateEvents=new kt,this.deactivateEvents=new kt,this.attachEvents=new kt,this.detachEvents=new kt,this.parentContexts=me(Ev),this.location=me(bo),this.changeDetector=me(cm),this.environmentInjector=me(ms),this.inputBinder=me(xx,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:i,previousValue:s}=n.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new he(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new he(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new he(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new he(4013,!1);this._activatedRoute=n;const s=this.location,d=n.snapshot.component,p=this.parentContexts.getOrCreateContext(this.name).children,m=new gte(n,p,s.injector);this.activated=s.createComponent(d,{index:s.length,injector:m,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=Qe({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ei]}),t})();class gte{constructor(e,n,i){this.route=e,this.childContexts=n,this.parent=i}get(e,n){return e===Am?this.route:e===Ev?this.childContexts:this.parent.get(e,n)}}const xx=new fe("");let xU=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:i}=n,s=mL([i.queryParams,i.params,i.data]).pipe(Ba(([c,d,p],m)=>(p={...c,...d,...p},0===m?tt(p):Promise.resolve(p)))).subscribe(c=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(n);const d=function B5(t){const e=zt(t);if(!e)return null;const n=new bh(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone}}}(i.component);if(d)for(const{templateName:p}of d.inputs)n.activatedComponentRef.setInput(p,c[p]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,s)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Ne({token:t,factory:t.\u0275fac}),t})();function Iv(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const i=n.value;i._futureSnapshot=e.value;const s=function _te(t,e,n){return e.children.map(i=>{for(const s of n.children)if(t.shouldReuseRoute(i.value,s.value.snapshot))return Iv(t,i,s);return Iv(t,i)})}(t,e,n);return new $c(i,s)}{if(t.shouldAttach(e.value)){const c=t.retrieve(e.value);if(null!==c){const d=c.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(p=>Iv(t,p)),d}}const i=function bte(t){return new Am(new ko(t.url),new ko(t.params),new ko(t.queryParams),new ko(t.fragment),new ko(t.data),t.outlet,t.component,t)}(e.value),s=e.children.map(c=>Iv(t,c));return new $c(i,s)}}const NL="ngNavigationCancelingError";function SU(t,e){const{redirectTo:n,navigationBehaviorOptions:i}=sf(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,s=MU(!1,0,e);return s.url=n,s.navigationBehaviorOptions=i,s}function MU(t,e,n){const i=new Error("NavigationCancelingError: "+(t||""));return i[NL]=!0,i.cancellationCode=e,n&&(i.url=n),i}function PU(t){return RU(t)&&sf(t.url)}function RU(t){return t&&t[NL]}let NU=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Wn({type:t,selectors:[["ng-component"]],standalone:!0,features:[ak],decls:1,vars:0,template:function(n,i){1&n&&Ze(0,"router-outlet")},dependencies:[RL],encapsulation:2}),t})();function OL(t){const e=t.children&&t.children.map(OL),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==pt&&(n.component=NU),n}function ta(t){return t.outlet||pt}function Dv(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class Ete{constructor(e,n,i,s,c){this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=s,this.inputBindingEnabled=c}activate(e){const n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),ML(this.futureState.root),this.activateChildRoutes(n,i,e)}deactivateChildRoutes(e,n,i){const s=Cm(n);e.children.forEach(c=>{const d=c.value.outlet;this.deactivateRoutes(c,s[d],i),delete s[d]}),Object.values(s).forEach(c=>{this.deactivateRouteAndItsChildren(c,i)})}deactivateRoutes(e,n,i){const s=e.value,c=n?n.value:null;if(s===c)if(s.component){const d=i.getContext(s.outlet);d&&this.deactivateChildRoutes(e,n,d.children)}else this.deactivateChildRoutes(e,n,i);else c&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const i=n.getContext(e.value.outlet),s=i&&e.value.component?i.children:n,c=Cm(e);for(const d of Object.keys(c))this.deactivateRouteAndItsChildren(c[d],s);if(i&&i.outlet){const d=i.outlet.detach(),p=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:p})}}deactivateRouteAndOutlet(e,n){const i=n.getContext(e.value.outlet),s=i&&e.value.component?i.children:n,c=Cm(e);for(const d of Object.keys(c))this.deactivateRouteAndItsChildren(c[d],s);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,n,i){const s=Cm(n);e.children.forEach(c=>{this.activateRoutes(c,s[c.value.outlet],i),this.forwardEvent(new dte(c.value.snapshot))}),e.children.length&&this.forwardEvent(new lte(e.value.snapshot))}activateRoutes(e,n,i){const s=e.value,c=n?n.value:null;if(ML(s),s===c)if(s.component){const d=i.getOrCreateContext(s.outlet);this.activateChildRoutes(e,n,d.children)}else this.activateChildRoutes(e,n,i);else if(s.component){const d=i.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const p=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),d.children.onOutletReAttached(p.contexts),d.attachRef=p.componentRef,d.route=p.route.value,d.outlet&&d.outlet.attach(p.componentRef,p.route.value),ML(p.route.value),this.activateChildRoutes(e,null,d.children)}else{const p=Dv(s.snapshot);d.attachRef=null,d.route=s,d.injector=p,d.outlet&&d.outlet.activateWith(s,d.injector),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,i)}}class OU{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Sx{constructor(e,n){this.component=e,this.route=n}}function Ite(t,e,n){const i=t._root;return Tv(i,e?e._root:null,n,[i.value])}function Em(t,e){const n=Symbol(),i=e.get(t,n);return i===n?"function"!=typeof t||function jC(t){return null!==Vs(t)}(t)?e.get(t):t:i}function Tv(t,e,n,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const c=Cm(e);return t.children.forEach(d=>{(function Tte(t,e,n,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const c=t.value,d=e?e.value:null,p=n?n.getContext(t.value.outlet):null;if(d&&c.routeConfig===d.routeConfig){const m=function xte(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!rf(t.url,e.url);case"pathParamsOrQueryParamsChange":return!rf(t.url,e.url)||!za(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!PL(t,e)||!za(t.queryParams,e.queryParams);default:return!PL(t,e)}}(d,c,c.routeConfig.runGuardsAndResolvers);m?s.canActivateChecks.push(new OU(i)):(c.data=d.data,c._resolvedData=d._resolvedData),Tv(t,e,c.component?p?p.children:null:n,i,s),m&&p&&p.outlet&&p.outlet.isActivated&&s.canDeactivateChecks.push(new Sx(p.outlet.component,d))}else d&&xv(e,p,s),s.canActivateChecks.push(new OU(i)),Tv(t,null,c.component?p?p.children:null:n,i,s)})(d,c[d.value.outlet],n,i.concat([d.value]),s),delete c[d.value.outlet]}),Object.entries(c).forEach(([d,p])=>xv(p,n.getContext(d),s)),s}function xv(t,e,n){const i=Cm(t),s=t.value;Object.entries(i).forEach(([c,d])=>{xv(d,s.component?e?e.children.getContext(c):null:e,n)}),n.canDeactivateChecks.push(new Sx(s.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,s))}function Sv(t){return"function"==typeof t}function LU(t){return t instanceof yx||"EmptyError"===t?.name}const Mx=Symbol("INITIAL_VALUE");function Im(){return Ba(t=>mL(t.map(e=>e.pipe(ym(1),function vee(...t){const e=ed(t);return On((n,i)=>{(e?_L(t,n,e):_L(t,n)).subscribe(i)})}(Mx)))).pipe(_t(e=>{for(const n of e)if(!0!==n){if(n===Mx)return Mx;if(!1===n||n instanceof vm)return n}return!0}),Gc(e=>e!==Mx),ym(1)))}function VU(t){return function dl(...t){return xt(t)}(to(e=>{if(sf(e))throw SU(0,e)}),_t(e=>!0===e))}class Px{constructor(e){this.segmentGroup=e||null}}class FU{constructor(e){this.urlTree=e}}function Dm(t){return mv(new Px(t))}function BU(t){return mv(new FU(t))}class Qte{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new he(4002,!1)}lineralizeSegments(e,n){let i=[],s=n.root;for(;;){if(i=i.concat(s.segments),0===s.numberOfChildren)return tt(i);if(s.numberOfChildren>1||!s.children[pt])return mv(new he(4e3,!1));s=s.children[pt]}}applyRedirectCommands(e,n,i){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,i)}applyRedirectCreateUrlTree(e,n,i,s){const c=this.createSegmentGroup(e,n.root,i,s);return new vm(c,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const i={};return Object.entries(e).forEach(([s,c])=>{if("string"==typeof c&&c.startsWith(":")){const p=c.substring(1);i[s]=n[p]}else i[s]=c}),i}createSegmentGroup(e,n,i,s){const c=this.createSegments(e,n.segments,i,s);let d={};return Object.entries(n.children).forEach(([p,m])=>{d[p]=this.createSegmentGroup(e,m,i,s)}),new en(c,d)}createSegments(e,n,i,s){return n.map(c=>c.path.startsWith(":")?this.findPosParam(e,c,s):this.findOrReturn(c,i))}findPosParam(e,n,i){const s=i[n.path.substring(1)];if(!s)throw new he(4001,!1);return s}findOrReturn(e,n){let i=0;for(const s of n){if(s.path===e.path)return n.splice(i),s;i++}return e}}const LL={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Yte(t,e,n,i,s){const c=VL(t,e,n);return c.matched?(i=function yte(t,e){return t.providers&&!t._injector&&(t._injector=$g(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,i),function qte(t,e,n,i){const s=e.canMatch;return s&&0!==s.length?tt(s.map(d=>{const p=Em(d,t);return bu(function Ote(t){return t&&Sv(t.canMatch)}(p)?p.canMatch(e,n):t.runInContext(()=>p(e,n)))})).pipe(Im(),VU()):tt(!0)}(i,e,n).pipe(_t(d=>!0===d?c:{...LL}))):tt(c)}function VL(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...LL}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const s=(e.matcher||Tee)(n,t,e);if(!s)return{...LL};const c={};Object.entries(s.posParams??{}).forEach(([p,m])=>{c[p]=m.path});const d=s.consumed.length>0?{...c,...s.consumed[s.consumed.length-1].parameters}:c;return{matched:!0,consumedSegments:s.consumed,remainingSegments:n.slice(s.consumed.length),parameters:d,positionalParamSegments:s.posParams??{}}}function zU(t,e,n,i){return n.length>0&&function Xte(t,e,n){return n.some(i=>Rx(t,e,i)&&ta(i)!==pt)}(t,n,i)?{segmentGroup:new en(e,Jte(i,new en(n,t.children))),slicedSegments:[]}:0===n.length&&function ene(t,e,n){return n.some(i=>Rx(t,e,i))}(t,n,i)?{segmentGroup:new en(t.segments,Zte(t,0,n,i,t.children)),slicedSegments:n}:{segmentGroup:new en(t.segments,t.children),slicedSegments:n}}function Zte(t,e,n,i,s){const c={};for(const d of i)if(Rx(t,n,d)&&!s[ta(d)]){const p=new en([],{});c[ta(d)]=p}return{...s,...c}}function Jte(t,e){const n={};n[pt]=e;for(const i of t)if(""===i.path&&ta(i)!==pt){const s=new en([],{});n[ta(i)]=s}return n}function Rx(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class ine{constructor(e,n,i,s,c,d,p){this.injector=e,this.configLoader=n,this.rootComponentType=i,this.config=s,this.urlTree=c,this.paramsInheritanceStrategy=d,this.urlSerializer=p,this.allowRedirects=!0,this.applyRedirects=new Qte(this.urlSerializer,this.urlTree)}noMatchError(e){return new he(4002,!1)}recognize(){const e=zU(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,pt).pipe(nf(n=>{if(n instanceof FU)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof Px?this.noMatchError(n):n}),_t(n=>{const i=new Tx([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},pt,this.rootComponentType,null,{}),s=new $c(i,n),c=new DU("",s),d=function Kee(t,e,n=null,i=null){return mU(gU(t),e,n,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return d.queryParams=this.urlTree.queryParams,c.url=this.urlSerializer.serialize(d),this.inheritParamsAndData(c._root),{state:c,tree:d}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,pt).pipe(nf(i=>{throw i instanceof Px?this.noMatchError(i):i}))}inheritParamsAndData(e){const n=e.value,i=IU(n,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(e,n,i,s){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,n,i):this.processSegment(e,n,i,i.segments,s,!0)}processChildren(e,n,i){const s=[];for(const c of Object.keys(i.children))"primary"===c?s.unshift(c):s.push(c);return or(s).pipe(wm(c=>{const d=i.children[c],p=function Cte(t,e){const n=t.filter(i=>ta(i)===e);return n.push(...t.filter(i=>ta(i)!==e)),n}(n,c);return this.processSegmentGroup(e,p,d,c)}),nU((c,d)=>(c.push(...d),c)),wx(null),function Eee(t,e){const n=arguments.length>=2;return i=>i.pipe(t?Gc((s,c)=>t(s,c,i)):ln,yL(1),n?wx(e):tU(()=>new yx))}(),ir(c=>{if(null===c)return Dm(i);const d=jU(c);return function one(t){t.sort((e,n)=>e.value.outlet===pt?-1:n.value.outlet===pt?1:e.value.outlet.localeCompare(n.value.outlet))}(d),tt(d)}))}processSegment(e,n,i,s,c,d){return or(n).pipe(wm(p=>this.processSegmentAgainstRoute(p._injector??e,n,p,i,s,c,d).pipe(nf(m=>{if(m instanceof Px)return tt(null);throw m}))),_u(p=>!!p),nf(p=>{if(LU(p))return function nne(t,e,n){return 0===e.length&&!t.children[n]}(i,s,c)?tt([]):Dm(i);throw p}))}processSegmentAgainstRoute(e,n,i,s,c,d,p){return function tne(t,e,n,i){return!!(ta(t)===i||i!==pt&&Rx(e,n,t))&&("**"===t.path||VL(e,t,n).matched)}(i,s,c,d)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,s,i,c,d,p):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,s,n,i,c,d):Dm(s):Dm(s)}expandSegmentAgainstRouteUsingRedirect(e,n,i,s,c,d){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,s,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,i,s,c,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,i,s){const c=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?BU(c):this.applyRedirects.lineralizeSegments(i,c).pipe(ir(d=>{const p=new en(d,{});return this.processSegment(e,n,p,d,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,i,s,c,d){const{matched:p,consumedSegments:m,remainingSegments:y,positionalParamSegments:k}=VL(n,s,c);if(!p)return Dm(n);const C=this.applyRedirects.applyRedirectCommands(m,s.redirectTo,k);return s.redirectTo.startsWith("/")?BU(C):this.applyRedirects.lineralizeSegments(s,C).pipe(ir(I=>this.processSegment(e,i,n,I.concat(y),d,!1)))}matchSegmentAgainstRoute(e,n,i,s,c,d){let p;if("**"===i.path){const m=s.length>0?iU(s).parameters:{};p=tt({snapshot:new Tx(s,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,UU(i),ta(i),i.component??i._loadedComponent??null,i,HU(i)),consumedSegments:[],remainingSegments:[]}),n.children={}}else p=Yte(n,i,s,e).pipe(_t(({matched:m,consumedSegments:y,remainingSegments:k,parameters:C})=>m?{snapshot:new Tx(y,C,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,UU(i),ta(i),i.component??i._loadedComponent??null,i,HU(i)),consumedSegments:y,remainingSegments:k}:null));return p.pipe(Ba(m=>null===m?Dm(n):this.getChildConfig(e=i._injector??e,i,s).pipe(Ba(({routes:y})=>{const k=i._loadedInjector??e,{snapshot:C,consumedSegments:I,remainingSegments:M}=m,{segmentGroup:O,slicedSegments:B}=zU(n,I,M,y);if(0===B.length&&O.hasChildren())return this.processChildren(k,y,O).pipe(_t(Z=>null===Z?null:[new $c(C,Z)]));if(0===y.length&&0===B.length)return tt([new $c(C,[])]);const j=ta(i)===c;return this.processSegment(k,y,O,B,j?pt:c,!0).pipe(_t(Z=>[new $c(C,Z)]))}))))}getChildConfig(e,n,i){return n.children?tt({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?tt({routes:n._loadedRoutes,injector:n._loadedInjector}):function $te(t,e,n,i){const s=e.canLoad;return void 0===s||0===s.length?tt(!0):tt(s.map(d=>{const p=Em(d,t);return bu(function Mte(t){return t&&Sv(t.canLoad)}(p)?p.canLoad(e,n):t.runInContext(()=>p(e,n)))})).pipe(Im(),VU())}(e,n,i).pipe(ir(s=>s?this.configLoader.loadChildren(e,n).pipe(to(c=>{n._loadedRoutes=c.routes,n._loadedInjector=c.injector})):function Kte(t){return mv(MU(!1,3))}())):tt({routes:[],injector:e})}}function sne(t){const e=t.value.routeConfig;return e&&""===e.path}function jU(t){const e=[],n=new Set;for(const i of t){if(!sne(i)){e.push(i);continue}const s=e.find(c=>i.value.routeConfig===c.value.routeConfig);void 0!==s?(s.children.push(...i.children),n.add(s)):e.push(i)}for(const i of n){const s=jU(i.children);e.push(new $c(i.value,s))}return e.filter(i=>!n.has(i))}function UU(t){return t.data||{}}function HU(t){return t.resolve||{}}function GU(t){return"string"==typeof t.title||null===t.title}function FL(t){return Ba(e=>{const n=t(e);return n?or(n).pipe(_t(()=>e)):tt(e)})}const Tm=new fe("ROUTES");let BL=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=me(Hk)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return tt(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const i=bu(n.loadComponent()).pipe(_t($U),to(c=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=c}),wL(()=>{this.componentLoaders.delete(n)})),s=new eU(i,()=>new Eo).pipe(bL());return this.componentLoaders.set(n,s),s}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return tt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const c=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(_t(p=>{this.onLoadEndListener&&this.onLoadEndListener(i);let m,y;return Array.isArray(p)?y=p:(m=p.create(n).injector,y=m.get(Tm,[],He.Self|He.Optional).flat()),{routes:y.map(OL),injector:m}}),wL(()=>{this.childrenLoaders.delete(i)})),d=new eU(c,()=>new Eo).pipe(bL());return this.childrenLoaders.set(i,d),d}loadModuleFactoryOrRoutes(n){return bu(n()).pipe(_t($U),ir(i=>i instanceof ID||Array.isArray(i)?tt(i):or(this.compiler.compileModuleAsync(i))))}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function $U(t){return function fne(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Nx=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Eo,this.configLoader=me(BL),this.environmentInjector=me(ms),this.urlSerializer=me(yv),this.rootContexts=me(Ev),this.inputBindingEnabled=null!==me(xx,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>tt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new ate(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new ste(s))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:i})}setupNavigations(n){return this.transitions=new ko({id:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Cv,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Gc(i=>0!==i.id),_t(i=>({...i,extractedUrl:n.urlHandlingStrategy.extract(i.rawUrl)})),Ba(i=>{let s=!1,c=!1;return tt(i).pipe(to(d=>{this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ba(d=>{const p=n.browserUrlTree.toString(),m=!n.navigated||d.extractedUrl.toString()!==p||p!==n.currentUrlTree.toString();if(!m&&"reload"!==(d.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const k="";return this.events.next(new Av(d.id,n.serializeUrl(i.rawUrl),k,0)),n.rawUrlTree=d.rawUrl,d.resolve(null),es}if(n.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return qU(d.source)&&(n.browserUrlTree=d.extractedUrl),tt(d).pipe(Ba(k=>{const C=this.transitions?.getValue();return this.events.next(new IL(k.id,this.urlSerializer.serialize(k.extractedUrl),k.source,k.restoredState)),C!==this.transitions?.getValue()?es:Promise.resolve(k)}),function ane(t,e,n,i,s,c){return ir(d=>function rne(t,e,n,i,s,c,d="emptyOnly"){return new ine(t,e,n,i,s,d,c).recognize()}(t,e,n,i,d.extractedUrl,s,c).pipe(_t(({state:p,tree:m})=>({...d,targetSnapshot:p,urlAfterRedirects:m}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),to(k=>{if(i.targetSnapshot=k.targetSnapshot,i.urlAfterRedirects=k.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:k.urlAfterRedirects},"eager"===n.urlUpdateStrategy){if(!k.extras.skipLocationChange){const I=n.urlHandlingStrategy.merge(k.urlAfterRedirects,k.rawUrl);n.setBrowserUrl(I,k)}n.browserUrlTree=k.urlAfterRedirects}const C=new tte(k.id,this.urlSerializer.serialize(k.extractedUrl),this.urlSerializer.serialize(k.urlAfterRedirects),k.targetSnapshot);this.events.next(C)}));if(m&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:k,extractedUrl:C,source:I,restoredState:M,extras:O}=d,B=new IL(k,this.urlSerializer.serialize(C),I,M);this.events.next(B);const j=EU(0,this.rootComponentType).snapshot;return tt(i={...d,targetSnapshot:j,urlAfterRedirects:C,extras:{...O,skipLocationChange:!1,replaceUrl:!1}})}{const k="";return this.events.next(new Av(d.id,n.serializeUrl(i.extractedUrl),k,1)),n.rawUrlTree=d.rawUrl,d.resolve(null),es}}),to(d=>{const p=new nte(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}),_t(d=>i={...d,guards:Ite(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),function Vte(t,e){return ir(n=>{const{targetSnapshot:i,currentSnapshot:s,guards:{canActivateChecks:c,canDeactivateChecks:d}}=n;return 0===d.length&&0===c.length?tt({...n,guardsResult:!0}):function Fte(t,e,n,i){return or(t).pipe(ir(s=>function Gte(t,e,n,i,s){const c=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return c&&0!==c.length?tt(c.map(p=>{const m=Dv(e)??s,y=Em(p,m);return bu(function Nte(t){return t&&Sv(t.canDeactivate)}(y)?y.canDeactivate(t,e,n,i):m.runInContext(()=>y(t,e,n,i))).pipe(_u())})).pipe(Im()):tt(!0)}(s.component,s.route,n,e,i)),_u(s=>!0!==s,!0))}(d,i,s,t).pipe(ir(p=>p&&function Ste(t){return"boolean"==typeof t}(p)?function Bte(t,e,n,i){return or(e).pipe(wm(s=>_L(function jte(t,e){return null!==t&&e&&e(new cte(t)),tt(!0)}(s.route.parent,i),function zte(t,e){return null!==t&&e&&e(new ute(t)),tt(!0)}(s.route,i),function Hte(t,e,n){const i=e[e.length-1],c=e.slice(0,e.length-1).reverse().map(d=>function Dte(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(d)).filter(d=>null!==d).map(d=>X9(()=>tt(d.guards.map(m=>{const y=Dv(d.node)??n,k=Em(m,y);return bu(function Rte(t){return t&&Sv(t.canActivateChild)}(k)?k.canActivateChild(i,t):y.runInContext(()=>k(i,t))).pipe(_u())})).pipe(Im())));return tt(c).pipe(Im())}(t,s.path,n),function Ute(t,e,n){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return tt(!0);const s=i.map(c=>X9(()=>{const d=Dv(e)??n,p=Em(c,d);return bu(function Pte(t){return t&&Sv(t.canActivate)}(p)?p.canActivate(e,t):d.runInContext(()=>p(e,t))).pipe(_u())}));return tt(s).pipe(Im())}(t,s.route,n))),_u(s=>!0!==s,!0))}(i,c,t,e):tt(p)),_t(p=>({...n,guardsResult:p})))})}(this.environmentInjector,d=>this.events.next(d)),to(d=>{if(i.guardsResult=d.guardsResult,sf(d.guardsResult))throw SU(0,d.guardsResult);const p=new rte(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(p)}),Gc(d=>!!d.guardsResult||(n.restoreHistory(d),this.cancelNavigationTransition(d,"",3),!1)),FL(d=>{if(d.guards.canActivateChecks.length)return tt(d).pipe(to(p=>{const m=new ite(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(m)}),Ba(p=>{let m=!1;return tt(p).pipe(function cne(t,e){return ir(n=>{const{targetSnapshot:i,guards:{canActivateChecks:s}}=n;if(!s.length)return tt(n);let c=0;return or(s).pipe(wm(d=>function lne(t,e,n,i){const s=t.routeConfig,c=t._resolve;return void 0!==s?.title&&!GU(s)&&(c[_v]=s.title),function une(t,e,n,i){const s=function dne(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===s.length)return tt({});const c={};return or(s).pipe(ir(d=>function hne(t,e,n,i){const s=Dv(e)??i,c=Em(t,s);return bu(c.resolve?c.resolve(e,n):s.runInContext(()=>c(e,n)))}(t[d],e,n,i).pipe(_u(),to(p=>{c[d]=p}))),yL(1),function Iee(t){return _t(()=>t)}(c),nf(d=>LU(d)?es:mv(d)))}(c,t,e,i).pipe(_t(d=>(t._resolvedData=d,t.data=IU(t,n).resolve,s&&GU(s)&&(t.data[_v]=s.title),null)))}(d.route,i,t,e)),to(()=>c++),yL(1),ir(d=>c===s.length?tt(n):es))})}(n.paramsInheritanceStrategy,this.environmentInjector),to({next:()=>m=!0,complete:()=>{m||(n.restoreHistory(p),this.cancelNavigationTransition(p,"",2))}}))}),to(p=>{const m=new ote(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(m)}))}),FL(d=>{const p=m=>{const y=[];m.routeConfig?.loadComponent&&!m.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(m.routeConfig).pipe(to(k=>{m.component=k}),_t(()=>{})));for(const k of m.children)y.push(...p(k));return y};return mL(p(d.targetSnapshot.root)).pipe(wx(),ym(1))}),FL(()=>this.afterPreactivation()),_t(d=>{const p=function mte(t,e,n){const i=Iv(t,e._root,n?n._root:void 0);return new AU(i,e)}(n.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return i={...d,targetRouterState:p}}),to(d=>{n.currentUrlTree=d.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),n.routerState=d.targetRouterState,"deferred"===n.urlUpdateStrategy&&(d.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,d),n.browserUrlTree=d.urlAfterRedirects)}),((t,e,n,i)=>_t(s=>(new Ete(e,s.targetRouterState,s.currentRouterState,n,i).activate(t),s)))(this.rootContexts,n.routeReuseStrategy,d=>this.events.next(d),this.inputBindingEnabled),ym(1),to({next:d=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new yu(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{s=!0}}),wL(()=>{s||c||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),nf(d=>{if(c=!0,RU(d)){PU(d)||(n.navigated=!0,n.restoreHistory(i,!0));const p=new Dx(i.id,this.urlSerializer.serialize(i.extractedUrl),d.message,d.cancellationCode);if(this.events.next(p),PU(d)){const m=n.urlHandlingStrategy.merge(d.url,n.rawUrlTree),y={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||qU(i.source)};n.scheduleNavigation(m,Cv,null,y,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{n.restoreHistory(i,!0);const p=new DL(i.id,this.urlSerializer.serialize(i.extractedUrl),d,i.targetSnapshot??void 0);this.events.next(p);try{i.resolve(n.errorHandler(d))}catch(m){i.reject(m)}}return es}))}))}cancelNavigationTransition(n,i,s){const c=new Dx(n.id,this.urlSerializer.serialize(n.extractedUrl),i,s);this.events.next(c),n.resolve(!1)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function qU(t){return t!==Cv}let WU=(()=>{class t{buildTitle(n){let i,s=n.root;for(;void 0!==s;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(c=>c.outlet===pt);return i}getResolvedTitleForRoute(n){return n.data[_v]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Ne({token:t,factory:function(){return me(pne)},providedIn:"root"}),t})(),pne=(()=>{class t extends WU{constructor(n){super(),this.title=n}updateTitle(n){const i=this.buildTitle(n);void 0!==i&&this.title.setTitle(i)}}return t.\u0275fac=function(n){return new(n||t)(we($9))},t.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),gne=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Ne({token:t,factory:function(){return me(_ne)},providedIn:"root"}),t})();class mne{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let _ne=(()=>{class t extends mne{}return t.\u0275fac=function(){let e;return function(i){return(e||(e=Zn(t)))(i||t)}}(),t.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Ox=new fe("",{providedIn:"root",factory:()=>({})});let bne=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Ne({token:t,factory:function(){return me(yne)},providedIn:"root"}),t})(),yne=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Wo=(()=>((Wo=Wo||{})[Wo.COMPLETE=0]="COMPLETE",Wo[Wo.FAILED=1]="FAILED",Wo[Wo.REDIRECTING=2]="REDIRECTING",Wo))();function KU(t,e){t.events.pipe(Gc(n=>n instanceof yu||n instanceof Dx||n instanceof DL||n instanceof Av),_t(n=>n instanceof yu||n instanceof Av?Wo.COMPLETE:n instanceof Dx&&(0===n.code||1===n.code)?Wo.REDIRECTING:Wo.FAILED),Gc(n=>n!==Wo.REDIRECTING),ym(1)).subscribe(()=>{e()})}function wne(t){throw t}function kne(t,e,n){return e.parse("/")}const vne={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Cne={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Fr=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=me(kT),this.isNgZoneEnabled=!1,this.options=me(Ox,{optional:!0})||{},this.pendingTasks=me(nx),this.errorHandler=this.options.errorHandler||wne,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||kne,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=me(bne),this.routeReuseStrategy=me(gne),this.titleStrategy=me(WU),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=me(Tm,{optional:!0})?.flat()??[],this.navigationTransitions=me(Nx),this.urlSerializer=me(yv),this.location=me(bm),this.componentInputBindingEnabled=!!me(xx,{optional:!0}),this.isNgZoneEnabled=me(Jt)instanceof Jt&&Jt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new vm,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=EU(0,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId??0},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Cv,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const i="popstate"===n.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,i,n.state)},0)}))}navigateToSyncWithBrowser(n,i,s){const c={replaceUrl:!0},d=s?.navigationId?s:null;if(s){const m={...s};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(c.state=m)}const p=this.parseUrl(n);this.scheduleNavigation(p,i,d,c)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(OL),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,i={}){const{relativeTo:s,queryParams:c,fragment:d,queryParamsHandling:p,preserveFragment:m}=i,y=m?this.currentUrlTree.fragment:d;let C,k=null;switch(p){case"merge":k={...this.currentUrlTree.queryParams,...c};break;case"preserve":k=this.currentUrlTree.queryParams;break;default:k=c||null}null!==k&&(k=this.removeEmptyProps(k));try{C=gU(s?s.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),C=this.currentUrlTree.root}return mU(C,n,k,y??null)}navigateByUrl(n,i={skipLocationChange:!1}){const s=sf(n)?n:this.parseUrl(n),c=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(c,Cv,null,i)}navigate(n,i={skipLocationChange:!1}){return function Ane(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new he(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let i;try{i=this.urlSerializer.parse(n)}catch(s){i=this.malformedUriErrorHandler(s,this.urlSerializer,n)}return i}isActive(n,i){let s;if(s=!0===i?{...vne}:!1===i?{...Cne}:i,sf(n))return sU(this.currentUrlTree,n,s);const c=this.parseUrl(n);return sU(this.currentUrlTree,c,s)}removeEmptyProps(n){return Object.keys(n).reduce((i,s)=>{const c=n[s];return null!=c&&(i[s]=c),i},{})}scheduleNavigation(n,i,s,c,d){if(this.disposed)return Promise.resolve(!1);let p,m,y;d?(p=d.resolve,m=d.reject,y=d.promise):y=new Promise((C,I)=>{p=C,m=I});const k=this.pendingTasks.add();return KU(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(k))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:c,resolve:p,reject:m,promise:y,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),y.catch(C=>Promise.reject(C))}setBrowserUrl(n,i){const s=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){const d={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(s,"",d)}else{const c={...i.extras.state,...this.generateNgRouterState(i.id,(this.browserPageId??0)+1)};this.location.go(s,"",c)}}restoreHistory(n,i=!1){if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-(this.browserPageId??this.currentPageId);0!==c?this.location.historyGo(c):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===c&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,i){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),qc=(()=>{class t{constructor(n,i,s,c,d,p){this.router=n,this.route=i,this.tabIndexAttribute=s,this.renderer=c,this.el=d,this.locationStrategy=p,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Eo;const m=d.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===m||"area"===m,this.isAnchorElement?this.subscription=n.events.subscribe(y=>{y instanceof yu&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(n){this._preserveFragment=jc(n)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(n){this._skipLocationChange=jc(n)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(n){this._replaceUrl=jc(n)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,i,s,c,d){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||i||s||c||d||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function L1(t,e,n){return function gR(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?O1:N1}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,i){const s=this.renderer,c=this.el.nativeElement;null!==i?s.setAttribute(c,n,i):s.removeAttribute(c,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return t.\u0275fac=function(n){return new(n||t)(ie(Fr),ie(Am),function Id(t){return function vP(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const i=n.length;let s=0;for(;s<i;){const c=n[s];if(KC(c))break;if(0===c)s+=2;else if("number"==typeof c)for(s++;s<i&&"string"==typeof n[s];)s++;else{if(c===e)return n[s+1];s+=2}}}return null}(ue(),t)}("tabindex"),ie(bs),ie(li),ie(Hc))},t.\u0275dir=Qe({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,i){1&n&&bt("click",function(c){return i.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),2&n&&Fo("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[Ei]}),t})();class QU{}let Dne=(()=>{class t{constructor(n,i,s,c,d){this.router=n,this.injector=s,this.preloadingStrategy=c,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(Gc(n=>n instanceof yu),wm(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,i){const s=[];for(const c of i){c.providers&&!c._injector&&(c._injector=$g(c.providers,n,`Route: ${c.path}`));const d=c._injector??n,p=c._loadedInjector??d;(c.loadChildren&&!c._loadedRoutes&&void 0===c.canLoad||c.loadComponent&&!c._loadedComponent)&&s.push(this.preloadConfig(d,c)),(c.children||c._loadedRoutes)&&s.push(this.processRoutes(p,c.children??c._loadedRoutes))}return or(s).pipe(ic())}preloadConfig(n,i){return this.preloadingStrategy.preload(i,()=>{let s;s=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(n,i):tt(null);const c=s.pipe(ir(d=>null===d?tt(void 0):(i._loadedRoutes=d.routes,i._loadedInjector=d.injector,this.processRoutes(d.injector??n,d.routes))));return i.loadComponent&&!i._loadedComponent?or([c,this.loader.loadComponent(i)]).pipe(ic()):c})}}return t.\u0275fac=function(n){return new(n||t)(we(Fr),we(Hk),we(ms),we(QU),we(BL))},t.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const zL=new fe("");let YU=(()=>{class t{constructor(n,i,s,c,d={}){this.urlSerializer=n,this.transitions=i,this.viewportScroller=s,this.zone=c,this.options=d,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},d.scrollPositionRestoration=d.scrollPositionRestoration||"disabled",d.anchorScrolling=d.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof IL?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof yu?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Av&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof vU&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new vU(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return t.\u0275fac=function(n){!function Hl(){throw new Error("invalid")}()},t.\u0275prov=Ne({token:t,factory:t.\u0275fac}),t})();function Wc(t,e){return{\u0275kind:t,\u0275providers:e}}function JU(){const t=me(Ri);return e=>{const n=t.get(hu);if(e!==n.components[0])return;const i=t.get(Fr),s=t.get(XU);1===t.get(jL)&&i.initialNavigation(),t.get(e8,null,He.Optional)?.setUpPreloading(),t.get(zL,null,He.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),s.closed||(s.next(),s.complete(),s.unsubscribe())}}const XU=new fe("",{factory:()=>new Eo}),jL=new fe("",{providedIn:"root",factory:()=>1}),e8=new fe("");function Mne(t){return Wc(0,[{provide:e8,useExisting:Dne},{provide:QU,useExisting:t}])}const t8=new fe("ROUTER_FORROOT_GUARD"),Rne=[bm,{provide:yv,useClass:kL},Fr,Ev,{provide:Am,useFactory:function ZU(t){return t.routerState.root},deps:[Fr]},BL,[]];function Nne(){return new OT("Router",Fr)}let UL=(()=>{class t{constructor(n){}static forRoot(n,i){return{ngModule:t,providers:[Rne,[],{provide:Tm,multi:!0,useValue:n},{provide:t8,useFactory:Fne,deps:[[Fr,new Pd,new Np]]},{provide:Ox,useValue:i||{}},i?.useHash?{provide:Hc,useClass:H5}:{provide:Hc,useClass:ax},{provide:zL,useFactory:()=>{const t=me(cX),e=me(Jt),n=me(Ox),i=me(Nx),s=me(yv);return n.scrollOffset&&t.setOffset(n.scrollOffset),new YU(s,i,t,e,n)}},i?.preloadingStrategy?Mne(i.preloadingStrategy).\u0275providers:[],{provide:OT,multi:!0,useFactory:Nne},i?.initialNavigation?Bne(i):[],i?.bindToComponentInputs?Wc(8,[xU,{provide:xx,useExisting:xU}]).\u0275providers:[],[{provide:n8,useFactory:JU},{provide:sm,multi:!0,useExisting:n8}]]}}static forChild(n){return{ngModule:t,providers:[{provide:Tm,multi:!0,useValue:n}]}}}return t.\u0275fac=function(n){return new(n||t)(we(t8,8))},t.\u0275mod=xr({type:t}),t.\u0275inj=mr({}),t})();function Fne(t){return"guarded"}function Bne(t){return["disabled"===t.initialNavigation?Wc(3,[{provide:Uk,multi:!0,useFactory:()=>{const e=me(Fr);return()=>{e.setUpLocationChangeListener()}}},{provide:jL,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Wc(2,[{provide:jL,useValue:0},{provide:Uk,multi:!0,deps:[Ri],useFactory:e=>{const n=e.get(U5,Promise.resolve());return()=>n.then(()=>new Promise(i=>{const s=e.get(Fr),c=e.get(XU);KU(s,()=>{i(!0)}),e.get(Nx).afterPreactivation=()=>(i(!0),c.closed?tt(void 0):c),s.initialNavigation()}))}}]).\u0275providers:[]]}const n8=new fe("");class jne extends G{constructor(e,n){super()}schedule(e,n=0){return this}}const Lx={setInterval(t,e,...n){const{delegate:i}=Lx;return i?.setInterval?i.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Lx;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class Une extends jne{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var i;if(this.closed)return this;this.state=e;const s=this.id,c=this.scheduler;return null!=s&&(this.id=this.recycleAsyncId(c,s,n)),this.pending=!0,this.delay=n,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(c,this.id,n),this}requestAsyncId(e,n,i=0){return Lx.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,n,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return n;null!=n&&Lx.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,n);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let s,i=!1;try{this.work(e)}catch(c){i=!0,s=c||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),s}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ul(i,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const r8={now:()=>(r8.delegate||Date).now(),delegate:void 0};class Mv{constructor(e,n=Mv.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,i){return new this.schedulerActionCtor(this,e).schedule(i,n)}}Mv.now=r8.now;class Gne extends Mv{constructor(e,n=Mv.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,i){for(;e=n.shift();)e.unsubscribe();throw i}}}const qne=new class $ne extends Gne{}(class Hne extends Une{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(e,n,i):(e.flush(this),0)}});function Yne(t,e){return t===e}class Xne extends Error{constructor(e,n){super(function ere(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function l8(t,e){const n=!e?.manualCleanup;n&&!e?.injector&&function ch(t){if(!op()&&!function qC(){return _l}())throw new he(-203,!1)}();const i=n?e?.injector?.get(Lr)??me(Lr):null;let s;s=function pA(t,e){const n=new J2(t,e?.equal??yd);return pb(n,n.signal.bind(n),{set:n.set.bind(n),update:n.update.bind(n),mutate:n.mutate.bind(n),asReadonly:n.asReadonly.bind(n)})}(e?.requireSync?{kind:0}:{kind:1,value:e?.initialValue});const c=t.subscribe({next:d=>s.set({kind:1,value:d}),error:d=>s.set({kind:2,error:d})});return i?.onDestroy(c.unsubscribe.bind(c)),Ht(()=>{const d=s();switch(d.kind){case 1:return d.value;case 2:throw d.error;case 0:throw new Xne(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}const Pv={};function wu(t,e){if(Pv[t]=(Pv[t]||0)+1,"function"==typeof e)return WL(t,(...i)=>({...e(...i),type:t}));switch(e?e._as:"empty"){case"empty":return WL(t,()=>({type:t}));case"props":return WL(t,i=>({...i,type:t}));default:throw new Error("Unexpected config.")}}function WL(t,e){return Object.defineProperty(e,"type",{value:t,writable:!1})}const u8="@ngrx/store/init";let af=(()=>{class t extends ko{constructor(){super({type:u8})}next(n){if("function"==typeof n)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof n>"u")throw new TypeError("Actions must be objects");if(typeof n.type>"u")throw new TypeError("Actions must have a type property");super.next(n)}complete(){}ngOnDestroy(){super.complete()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Ne({token:t,factory:t.\u0275fac}),t})();const ure=[af],QL=new fe("@ngrx/store Internal Root Guard"),d8=new fe("@ngrx/store Internal Initial State"),YL=new fe("@ngrx/store Initial State"),h8=new fe("@ngrx/store Reducer Factory"),f8=new fe("@ngrx/store Internal Reducer Factory Provider"),p8=new fe("@ngrx/store Initial Reducers"),ZL=new fe("@ngrx/store Internal Initial Reducers"),g8=new fe("@ngrx/store Store Features"),m8=new fe("@ngrx/store Internal Store Reducers"),JL=new fe("@ngrx/store Internal Feature Reducers"),_8=new fe("@ngrx/store Internal Feature Configs"),XL=new fe("@ngrx/store Internal Store Features"),b8=new fe("@ngrx/store Internal Feature Reducers Token"),eV=new fe("@ngrx/store Feature Reducers"),y8=new fe("@ngrx/store User Provided Meta Reducers"),zx=new fe("@ngrx/store Meta Reducers"),w8=new fe("@ngrx/store Internal Resolved Meta Reducers"),k8=new fe("@ngrx/store User Runtime Checks Config"),v8=new fe("@ngrx/store Internal User Runtime Checks Config"),Rv=new fe("@ngrx/store Internal Runtime Checks"),Nv=new fe("@ngrx/store Check if Action types are unique");function nV(t,e={}){const n=Object.keys(t),i={};for(let c=0;c<n.length;c++){const d=n[c];"function"==typeof t[d]&&(i[d]=t[d])}const s=Object.keys(i);return function(d,p){d=void 0===d?e:d;let m=!1;const y={};for(let k=0;k<s.length;k++){const C=s[k],M=d[C],O=(0,i[C])(M,p);y[C]=O,m=m||O!==M}return m?y:d}}function A8(...t){return function(e){if(0===t.length)return e;const n=t[t.length-1];return t.slice(0,-1).reduceRight((s,c)=>c(s),n(e))}}function E8(t,e){return Array.isArray(e)&&e.length>0&&(t=A8.apply(null,[...e,t])),(n,i)=>{const s=t(n);return(c,d)=>s(c=void 0===c?i:c,d)}}new fe("@ngrx/store Root Store Provider"),new fe("@ngrx/store Feature State Provider");class jx extends un{}class I8 extends af{}let Ov=(()=>{class t extends ko{get currentReducers(){return this.reducers}constructor(n,i,s,c){super(c(s,i)),this.dispatcher=n,this.initialState=i,this.reducers=s,this.reducerFactory=c}addFeature(n){this.addFeatures([n])}addFeatures(n){const i=n.reduce((s,{reducers:c,reducerFactory:d,metaReducers:p,initialState:m,key:y})=>{const k="function"==typeof c?function hre(t){const e=Array.isArray(t)&&t.length>0?A8(...t):n=>n;return(n,i)=>(n=e(n),(s,c)=>n(s=void 0===s?i:s,c))}(p)(c,m):E8(d,p)(c,m);return s[y]=k,s},{});this.addReducers(i)}removeFeature(n){this.removeFeatures([n])}removeFeatures(n){this.removeReducers(n.map(i=>i.key))}addReducer(n,i){this.addReducers({[n]:i})}addReducers(n){this.reducers={...this.reducers,...n},this.updateReducers(Object.keys(n))}removeReducer(n){this.removeReducers([n])}removeReducers(n){n.forEach(i=>{this.reducers=function dre(t,e){return Object.keys(t).filter(n=>n!==e).reduce((n,i)=>Object.assign(n,{[i]:t[i]}),{})}(this.reducers,i)}),this.updateReducers(n)}updateReducers(n){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:"@ngrx/store/update-reducers",features:n})}ngOnDestroy(){this.complete()}}return t.\u0275fac=function(n){return new(n||t)(we(I8),we(YL),we(p8),we(h8))},t.\u0275prov=Ne({token:t,factory:t.\u0275fac}),t})();const pre=[Ov,{provide:jx,useExisting:Ov},{provide:I8,useExisting:af}];let Ux=(()=>{class t extends Eo{ngOnDestroy(){this.complete()}}return t.\u0275fac=function(){let e;return function(i){return(e||(e=Zn(t)))(i||t)}}(),t.\u0275prov=Ne({token:t,factory:t.\u0275fac}),t})();const gre=[Ux];class D8 extends un{}let T8=(()=>{class t extends ko{constructor(n,i,s,c){super(c);const p=n.pipe($_(qne)).pipe(function Wne(...t){const e=G_(t);return On((n,i)=>{const s=t.length,c=new Array(s);let d=t.map(()=>!1),p=!1;for(let m=0;m<s;m++)qi(t[m]).subscribe(pn(i,y=>{c[m]=y,!p&&!d[m]&&(d[m]=!0,(p=d.every(ln))&&(d=null))},R));n.subscribe(pn(i,m=>{if(p){const y=[m,...c];i.next(e?e(...y):y)}}))})}(i)),y=p.pipe(nU(mre,{state:c}));this.stateSubscription=y.subscribe(({state:k,action:C})=>{this.next(k),s.next(C)}),this.state=l8(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return t.INIT=u8,t.\u0275fac=function(n){return new(n||t)(we(af),we(jx),we(Ux),we(YL))},t.\u0275prov=Ne({token:t,factory:t.\u0275fac}),t})();function mre(t={state:void 0},[e,n]){const{state:i}=t;return{state:n(i,e),action:e}}const _re=[T8,{provide:D8,useExisting:T8}];let vu=(()=>{class t extends un{constructor(n,i,s){super(),this.actionsObserver=i,this.reducerManager=s,this.source=n,this.state=n.state}select(n,...i){return yre.call(null,n,...i)(this)}selectSignal(n,i){return Ht(()=>n(this.state()),{equal:i?.equal||((s,c)=>s===c)})}lift(n){const i=new t(this,this.actionsObserver,this.reducerManager);return i.operator=n,i}dispatch(n){this.actionsObserver.next(n)}next(n){this.actionsObserver.next(n)}error(n){this.actionsObserver.error(n)}complete(){this.actionsObserver.complete()}addReducer(n,i){this.reducerManager.addReducer(n,i)}removeReducer(n){this.reducerManager.removeReducer(n)}}return t.\u0275fac=function(n){return new(n||t)(we(D8),we(af),we(Ov))},t.\u0275prov=Ne({token:t,factory:t.\u0275fac}),t})();const bre=[vu];function yre(t,e,...n){return function(s){let c;if("string"==typeof t){const d=[e,...n].filter(Boolean);c=s.pipe(function Kne(...t){const e=t.length;if(0===e)throw new Error("list of properties cannot be empty.");return _t(n=>{let i=n;for(let s=0;s<e;s++){const c=i?.[t[s]];if(!(typeof c<"u"))return;i=c}return i})}(t,...d))}else{if("function"!=typeof t)throw new TypeError(`Unexpected type '${typeof t}' in select operator, expected 'string' or 'function'`);c=s.pipe(_t(d=>t(d,e)))}return c.pipe(function Qne(t,e=ln){return t=t??Yne,On((n,i)=>{let s,c=!0;n.subscribe(pn(i,d=>{const p=e(d);(c||!t(s,p))&&(c=!1,s=p,i.next(d))}))})}())}}const rV="https://ngrx.io/guide/store/configuration/runtime-checks";function x8(t){return void 0===t}function S8(t){return null===t}function M8(t){return Array.isArray(t)}function P8(t){return"object"==typeof t&&null!==t}function iV(t){return"function"==typeof t}function Ore(t){return t instanceof fe?me(t):t}function Lre(t,e){return e.map((n,i)=>{if(t[i]instanceof fe){const s=me(t[i]);return{key:n.key,reducerFactory:s.reducerFactory?s.reducerFactory:nV,metaReducers:s.metaReducers?s.metaReducers:[],initialState:s.initialState}}return n})}function Vre(t){return t.map(e=>e instanceof fe?me(e):e)}function aV(t){return"function"==typeof t?t():t}function Fre(t,e){return t.concat(e)}function Bre(){if(me(vu,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function cV(t){Object.freeze(t);const e=iV(t);return Object.getOwnPropertyNames(t).forEach(n=>{if(!n.startsWith("\u0275")&&function Ere(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(t,n)&&(!e||"caller"!==n&&"callee"!==n&&"arguments"!==n)){const i=t[n];(P8(i)||iV(i))&&!Object.isFrozen(i)&&cV(i)}}),t}function lV(t,e=[]){return(x8(t)||S8(t))&&0===e.length?{path:["root"],value:t}:Object.keys(t).reduce((i,s)=>{if(i)return i;const c=t[s];return function Are(t){return iV(t)&&t.hasOwnProperty("\u0275cmp")}(c)?i:!(x8(c)||S8(c)||function vre(t){return"number"==typeof t}(c)||function kre(t){return"boolean"==typeof t}(c)||function wre(t){return"string"==typeof t}(c)||M8(c))&&(function R8(t){if(!function Cre(t){return P8(t)&&!M8(t)}(t))return!1;const e=Object.getPrototypeOf(t);return e===Object.prototype||null===e}(c)?lV(c,[...e,s]):{path:[...e,s],value:c})},!1)}function L8(t,e){if(!1===t)return;const n=t.path.join("."),i=new Error(`Detected unserializable ${e} at "${n}". ${rV}#strict${e}serializability`);throw i.value=t.value,i.unserializablePath=n,i}function Hre(t){return{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function Gre({strictActionSerializability:t,strictStateSerializability:e}){return n=>t||e?function jre(t,e){return function(n,i){e.action(i)&&L8(lV(i),"action");const s=t(n,i);return e.state()&&L8(lV(s),"state"),s}}(n,{action:i=>t&&!uV(i),state:()=>e}):n}function $re({strictActionImmutability:t,strictStateImmutability:e}){return n=>t||e?function zre(t,e){return function(n,i){const s=e.action(i)?cV(i):i,c=t(n,s);return e.state()?cV(c):c}}(n,{action:i=>t&&!uV(i),state:()=>e}):n}function uV(t){return t.type.startsWith("@ngrx")}function qre({strictActionWithinNgZone:t}){return e=>t?function Ure(t,e){return function(n,i){if(e.action(i)&&!Jt.isInAngularZone())throw new Error(`Action '${i.type}' running outside NgZone. ${rV}#strictactionwithinngzone`);return t(n,i)}}(e,{action:n=>t&&!uV(n)}):e}function Wre(t){return[{provide:v8,useValue:t},{provide:k8,useFactory:Kre,deps:[v8]},{provide:Rv,deps:[k8],useFactory:Hre},{provide:zx,multi:!0,deps:[Rv],useFactory:$re},{provide:zx,multi:!0,deps:[Rv],useFactory:Gre},{provide:zx,multi:!0,deps:[Rv],useFactory:qre}]}function V8(){return[{provide:Nv,multi:!0,deps:[Rv],useFactory:Qre}]}function Kre(t){return t}function Qre(t){if(!t.strictActionTypeUniqueness)return;const e=Object.entries(Pv).filter(([,n])=>n>1).map(([n])=>n);if(e.length)throw new Error(`Action types are registered more than once, ${e.map(n=>`"${n}"`).join(", ")}. ${rV}#strictactiontypeuniqueness`)}function F8(t={},e={}){return[{provide:QL,useFactory:Bre},{provide:d8,useValue:e.initialState},{provide:YL,useFactory:aV,deps:[d8]},{provide:ZL,useValue:t},{provide:m8,useExisting:t instanceof fe?t:ZL},{provide:p8,deps:[ZL,[new Md(m8)]],useFactory:Ore},{provide:y8,useValue:e.metaReducers?e.metaReducers:[]},{provide:w8,deps:[zx,y8],useFactory:Fre},{provide:f8,useValue:e.reducerFactory?e.reducerFactory:nV},{provide:h8,deps:[f8,w8],useFactory:E8},ure,pre,gre,_re,bre,Wre(e.runtimeChecks),V8()]}function B8(t,e,n={}){return[{provide:_8,multi:!0,useValue:t instanceof Object?{}:n},{provide:g8,multi:!0,useValue:{key:t instanceof Object?t.name:t,reducerFactory:n instanceof fe||!n.reducerFactory?nV:n.reducerFactory,metaReducers:n instanceof fe||!n.metaReducers?[]:n.metaReducers,initialState:n instanceof fe||!n.initialState?void 0:n.initialState}},{provide:XL,deps:[_8,g8],useFactory:Lre},{provide:JL,multi:!0,useValue:t instanceof Object?t.reducer:e},{provide:b8,multi:!0,useExisting:e instanceof fe?e:JL},{provide:eV,multi:!0,deps:[JL,[new Md(b8)]],useFactory:Vre},V8()]}let z8=(()=>{class t{constructor(n,i,s,c,d,p){}}return t.\u0275fac=function(n){return new(n||t)(we(af),we(jx),we(Ux),we(vu),we(QL,8),we(Nv,8))},t.\u0275mod=xr({type:t}),t.\u0275inj=mr({}),t})(),eie=(()=>{class t{constructor(n,i,s,c,d){this.features=n,this.featureReducers=i,this.reducerManager=s;const p=n.map((m,y)=>{const C=i.shift()[y];return{...m,reducers:C,initialState:aV(m.initialState)}});s.addFeatures(p)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return t.\u0275fac=function(n){return new(n||t)(we(XL),we(eV),we(Ov),we(z8),we(Nv,8))},t.\u0275mod=xr({type:t}),t.\u0275inj=mr({}),t})(),j8=(()=>{class t{static forRoot(n,i){return{ngModule:z8,providers:[...F8(n,i)]}}static forFeature(n,i,s={}){return{ngModule:eie,providers:[...B8(n,i,s)]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=xr({type:t}),t.\u0275inj=mr({}),t})();function cf(...t){return{reducer:t.pop(),types:t.map(i=>i.type)}}const U8=wu("[notes] add note",{_as:"props",_p:void 0}),H8=wu("[notes] update note",{_as:"props",_p:void 0}),G8=wu("[notes] move to trash",{_as:"props",_p:void 0}),$8=wu("[notes] move from trash",{_as:"props",_p:void 0}),q8=wu("[notes] delete note",{_as:"props",_p:void 0}),dV=wu("[notes] add all notes ",{_as:"props",_p:void 0}),W8=wu("[notes] add all trash ",{_as:"props",_p:void 0}),K8=function tie(t,...e){const n=new Map;for(const i of e)for(const s of i.types){const c=n.get(s);n.set(s,c?(p,m)=>i.reducer(c(p,m),m):i.reducer)}return function(i=t,s){const c=n.get(s.type);return c?c(i,s):i}}({isDark:!1,theme:"theme-purple-light",notes:new Array,trash:new Array,notesEmptyMessage:"",trashEmptyMessage:""},cf(U8,(t,e)=>({...t,notes:[...t.notes,e],notesEmptyMessage:""})),cf(H8,(t,e)=>{const n=t.notes.findIndex(i=>i.id==e.id);if(console.log(n),n>=0){const i=[...t.notes.slice(0,n),...t.notes.slice(n+1)];return i.push(e),{...t,notes:i}}return t}),cf(dV,(t,{notes:e})=>e.length>0?{...t,notes:e,notesEmptyMessage:""}:{...t,notes:e,notesEmptyMessage:"You have no note"}),cf(W8,(t,{trash:e})=>e.length>0?{...t,trash:e,trashEmptyMessage:""}:{...t,trash:e,trashEmptyMessage:"Trash is empty"}),cf($8,(t,{noteId:e})=>{const n=t.trash.findIndex(i=>i.id==e);if(n>=0){const i={...t.trash[n],enable:!0},s=[...t.trash.slice(0,n),...t.trash.slice(n+1)],c=[...t.notes,i];return{...t,notes:c,trash:s,notesEmptyMessage:0==c.length?"You have no note":"",trashEmptyMessage:0==s.length?"Trash is empty":""}}return t}),cf(G8,(t,{noteId:e})=>{const n=t.notes.findIndex(i=>i.id==e);if(n>=0){const i={...t.notes[n],enable:!1},s=[...t.notes.slice(0,n),...t.notes.slice(n+1)],c=[...t.trash,i];return{...t,notes:s,trash:c,notesEmptyMessage:0==s.length?"You have no note":"",trashEmptyMessage:0==c.length?"Trash is empty":""}}return t}),cf(q8,(t,{noteId:e})=>{const n=t.trash.findIndex(i=>i.id==e);if(n>=0){const i=[...t.trash.slice(0,n),...t.trash.slice(n+1)];return{...t,trash:i,trashEmptyMessage:0==i.length?"Trash is empty":""}}return t})),hV=t=>Object.values(t)[0].notes,Q8=t=>Object.values(t)[0].trash,fV=t=>Object.values(t)[0].notesEmptyMessage,rie=t=>Object.values(t)[0].trashEmptyMessage;function Y8(t,e,n,i,s,c,d){try{var p=t[c](d),m=p.value}catch(y){return void n(y)}p.done?e(m):Promise.resolve(m).then(i,s)}function z(t){return function(){var e=this,n=arguments;return new Promise(function(i,s){var c=t.apply(e,n);function d(m){Y8(c,i,s,d,p,"next",m)}function p(m){Y8(c,i,s,d,p,"throw",m)}d(void 0)})}}const Z8=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=63&s|128):55296==(64512&s)&&i+1<t.length&&56320==(64512&t.charCodeAt(i+1))?(s=65536+((1023&s)<<10)+(1023&t.charCodeAt(++i)),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=63&s|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=63&s|128)}return e},J8={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const c=t[s],d=s+1<t.length,p=d?t[s+1]:0,m=s+2<t.length,y=m?t[s+2]:0;let I=(15&p)<<2|y>>6,M=63&y;m||(M=64,d||(I=64)),i.push(n[c>>2],n[(3&c)<<4|p>>4],n[I],n[M])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Z8(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const c=t[n++];e[i++]=String.fromCharCode((31&s)<<6|63&c)}else if(s>239&&s<365){const m=((7&s)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(1023&m))}else{const c=t[n++],d=t[n++];e[i++]=String.fromCharCode((15&s)<<12|(63&c)<<6|63&d)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const c=n[t.charAt(s++)],p=s<t.length?n[t.charAt(s)]:0;++s;const y=s<t.length?n[t.charAt(s)]:64;++s;const C=s<t.length?n[t.charAt(s)]:64;if(++s,null==c||null==p||null==y||null==C)throw new aie;i.push(c<<2|p>>4),64!==y&&(i.push(p<<4&240|y>>2),64!==C&&i.push(y<<6&192|C))}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class aie extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Hx=function(t){return function(t){const e=Z8(t);return J8.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Gx=function(t){try{return J8.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},$x=()=>{try{return function uie(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Gx(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},eH=t=>{var e,n;return null===(n=null===(e=$x())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},tH=()=>{var t;return null===(t=$x())||void 0===t?void 0:t.config},nH=t=>{var e;return null===(e=$x())||void 0===e?void 0:e[`_${t}`]};class rH{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,i))}}}function Qr(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function iH(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function oH(){try{return"object"==typeof indexedDB}catch{return!1}}function sH(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var c;e((null===(c=s.error)||void 0===c?void 0:c.message)||"")}}catch(n){e(n)}})}class na extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,na.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lf.prototype.create)}}class lf{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,c=this.errors[e],d=c?function vie(t,e){return t.replace(Cie,(n,i)=>{const s=e[i];return null!=s?String(s):`<${i}?>`})}(c,i):"Error";return new na(s,`${this.serviceName}: ${d} (${s}).`,i)}}const Cie=/\{\$([^}]+)}/g;function Lv(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const c=t[s],d=e[s];if(cH(c)&&cH(d)){if(!Lv(c,d))return!1}else if(c!==d)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function cH(t){return null!==t&&"object"==typeof t}function Vv(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Fv(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,c]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(c)}}),e}function Bv(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class Iie{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(void 0===e&&void 0===n&&void 0===i)throw new Error("Missing Observer.");s=function Die(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:i},void 0===s.next&&(s.next=gV),void 0===s.error&&(s.error=gV),void 0===s.complete&&(s.complete=gV);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),c}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gV(){}const Tie=1e3,xie=2,Sie=144e5,Mie=.5;function lH(t,e=Tie,n=xie){const i=e*Math.pow(n,t),s=Math.round(Mie*i*(Math.random()-.5)*2);return Math.min(Sie,i+s)}function Br(t){return t&&t._delegate?t._delegate:t}class ra{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const uf="[DEFAULT]";class Rie{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new rH;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e?.identifier),s=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(s)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(c){if(s)return null;throw c}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Oie(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:uf})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:s});i.resolve(c)}catch{}}}}clearInstance(e=uf){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return z(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...n.filter(i=>"_delete"in i).map(i=>i._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=uf){return this.instances.has(e)}getOptions(e=uf){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[c,d]of this.instancesDeferred.entries())i===this.normalizeInstanceIdentifier(c)&&d.resolve(s);return s}onInit(e,n){var i;const s=this.normalizeInstanceIdentifier(n),c=null!==(i=this.onInitCallbacks.get(s))&&void 0!==i?i:new Set;c.add(e),this.onInitCallbacks.set(s,c);const d=this.instances.get(s);return d&&e(d,s),()=>{c.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===uf?void 0:t),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}var t;return i||null}normalizeInstanceIdentifier(e=uf){return this.component?this.component.multipleInstances?e:uf:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Lie{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Rie(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const _V=[];var Je=(()=>((Je=Je||{})[Je.DEBUG=0]="DEBUG",Je[Je.VERBOSE=1]="VERBOSE",Je[Je.INFO=2]="INFO",Je[Je.WARN=3]="WARN",Je[Je.ERROR=4]="ERROR",Je[Je.SILENT=5]="SILENT",Je))();const uH={debug:Je.DEBUG,verbose:Je.VERBOSE,info:Je.INFO,warn:Je.WARN,error:Je.ERROR,silent:Je.SILENT},Vie=Je.INFO,Fie={[Je.DEBUG]:"log",[Je.VERBOSE]:"log",[Je.INFO]:"info",[Je.WARN]:"warn",[Je.ERROR]:"error"},Bie=(t,e,...n)=>{if(e<t.logLevel)return;const i=(new Date).toISOString(),s=Fie[e];if(!s)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[s](`[${i}]  ${t.name}:`,...n)};class Wx{constructor(e){this.name=e,this._logLevel=Vie,this._logHandler=Bie,this._userLogHandler=null,_V.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?uH[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Je.DEBUG,...e),this._logHandler(this,Je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Je.VERBOSE,...e),this._logHandler(this,Je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Je.INFO,...e),this._logHandler(this,Je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Je.WARN,...e),this._logHandler(this,Je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Je.ERROR,...e),this._logHandler(this,Je.ERROR,...e)}}const zie=(t,e)=>e.some(n=>t instanceof n);let dH,hH;const fH=new WeakMap,bV=new WeakMap,pH=new WeakMap,yV=new WeakMap,wV=new WeakMap;let kV={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return bV.get(t);if("objectStoreNames"===e)return t.objectStoreNames||pH.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Cu(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Wie(t){return"function"==typeof t?function qie(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Uie(){return hH||(hH=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(vV(this),e),Cu(fH.get(this))}:function(...e){return Cu(t.apply(vV(this),e))}:function(e,...n){const i=t.call(vV(this),e,...n);return pH.set(i,e.sort?e.sort():[e]),Cu(i)}}(t):(t instanceof IDBTransaction&&function Gie(t){if(bV.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",c),t.removeEventListener("error",d),t.removeEventListener("abort",d)},c=()=>{n(),s()},d=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",c),t.addEventListener("error",d),t.addEventListener("abort",d)});bV.set(t,e)}(t),zie(t,function jie(){return dH||(dH=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,kV):t)}function Cu(t){if(t instanceof IDBRequest)return function Hie(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",c),t.removeEventListener("error",d)},c=()=>{n(Cu(t.result)),s()},d=()=>{i(t.error),s()};t.addEventListener("success",c),t.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&fH.set(n,t)}).catch(()=>{}),wV.set(e,t),e}(t);if(yV.has(t))return yV.get(t);const e=Wie(t);return e!==t&&(yV.set(t,e),wV.set(e,t)),e}const vV=t=>wV.get(t),Qie=["get","getKey","getAll","getAllKeys","count"],Yie=["put","add","delete","clear"],CV=new Map;function gH(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(CV.get(e))return CV.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=Yie.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!s&&!Qie.includes(n))return;const c=function(){var d=z(function*(p,...m){const y=this.transaction(p,s?"readwrite":"readonly");let k=y.store;return i&&(k=k.index(m.shift())),(yield Promise.all([k[n](...m),s&&y.done]))[0]});return function(m){return d.apply(this,arguments)}}();return CV.set(e,c),c}!function $ie(t){kV=t(kV)}(t=>({...t,get:(e,n,i)=>gH(e,n)||t.get(e,n,i),has:(e,n)=>!!gH(e,n)||t.has(e,n)}));class Zie{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function Jie(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}return null}).filter(n=>n).join(" ")}}const AV="@firebase/app",df=new Wx("@firebase/app"),Kx="[DEFAULT]",Aoe={[AV]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},hf=new Map,Qx=new Map;function Eoe(t,e){try{t.container.addComponent(e)}catch(n){df.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ha(t){const e=t.name;if(Qx.has(e))return df.debug(`There were multiple attempts to register component ${e}.`),!1;Qx.set(e,t);for(const n of hf.values())Eoe(n,t);return!0}function Au(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Kc=new lf("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Doe{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ra("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Kc.create("app-deleted",{appName:this._name})}}const Sm="10.5.2";function _H(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const i=Object.assign({name:Kx,automaticDataCollectionEnabled:!1},e),s=i.name;if("string"!=typeof s||!s)throw Kc.create("bad-app-name",{appName:String(s)});if(n||(n=tH()),!n)throw Kc.create("no-options");const c=hf.get(s);if(c){if(Lv(n,c.options)&&Lv(i,c.config))return c;throw Kc.create("duplicate-app",{appName:s})}const d=new Lie(s);for(const m of Qx.values())d.addComponent(m);const p=new Doe(n,i,d);return hf.set(s,p),p}function EV(t=Kx){const e=hf.get(t);if(!e&&t===Kx&&tH())return _H();if(!e)throw Kc.create("no-app",{appName:t});return e}function Ms(t,e,n){var i;let s=null!==(i=Aoe[t])&&void 0!==i?i:t;n&&(s+=`-${n}`);const c=s.match(/\s|\//),d=e.match(/\s|\//);if(c||d){const p=[`Unable to register library "${s}" with version "${e}":`];return c&&p.push(`library name "${s}" contains illegal characters (whitespace or "/")`),c&&d&&p.push("and"),d&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void df.warn(p.join(" "))}Ha(new ra(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const Toe="firebase-heartbeat-database",xoe=1,zv="firebase-heartbeat-store";let DV=null;function bH(){return DV||(DV=function Kie(t,e,{blocked:n,upgrade:i,blocking:s,terminated:c}={}){const d=indexedDB.open(t,e),p=Cu(d);return i&&d.addEventListener("upgradeneeded",m=>{i(Cu(d.result),m.oldVersion,m.newVersion,Cu(d.transaction),m)}),n&&d.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),p.then(m=>{c&&m.addEventListener("close",()=>c()),s&&m.addEventListener("versionchange",y=>s(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}(Toe,xoe,{upgrade:(t,e)=>{0===e&&t.createObjectStore(zv)}}).catch(t=>{throw Kc.create("idb-open",{originalErrorMessage:t.message})})),DV}function TV(){return(TV=z(function*(t){try{return yield(yield bH()).transaction(zv).objectStore(zv).get(wH(t))}catch(e){if(e instanceof na)df.warn(e.message);else{const n=Kc.create("idb-get",{originalErrorMessage:e?.message});df.warn(n.message)}}})).apply(this,arguments)}function yH(t,e){return xV.apply(this,arguments)}function xV(){return(xV=z(function*(t,e){try{const i=(yield bH()).transaction(zv,"readwrite");yield i.objectStore(zv).put(e,wH(t)),yield i.done}catch(n){if(n instanceof na)df.warn(n.message);else{const i=Kc.create("idb-set",{originalErrorMessage:n?.message});df.warn(i.message)}}})).apply(this,arguments)}function wH(t){return`${t.name}!${t.options.appId}`}class Roe{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Ooe(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){var e=this;return z(function*(){const i=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=kH();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==s&&!e._heartbeatsCache.heartbeats.some(c=>c.date===s))return e._heartbeatsCache.heartbeats.push({date:s,agent:i}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(c=>{const d=new Date(c.date).valueOf();return Date.now()-d<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return z(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=kH(),{heartbeatsToSend:i,unsentEntries:s}=function Noe(t,e=1024){const n=[];let i=t.slice();for(const s of t){const c=n.find(d=>d.agent===s.agent);if(c){if(c.dates.push(s.date),vH(n)>e){c.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),vH(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}(e._heartbeatsCache.heartbeats),c=Hx(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(e._heartbeatsCache.heartbeats=s,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),c})()}}function kH(){return(new Date).toISOString().substring(0,10)}class Ooe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return z(function*(){return!!oH()&&sH().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return z(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Soe(t){return TV.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return z(function*(){var i;if(yield n._canUseIndexedDBPromise){const c=yield n.read();return yH(n.app,{lastSentHeartbeatDate:null!==(i=e.lastSentHeartbeatDate)&&void 0!==i?i:c.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return z(function*(){var i;if(yield n._canUseIndexedDBPromise){const c=yield n.read();return yH(n.app,{lastSentHeartbeatDate:null!==(i=e.lastSentHeartbeatDate)&&void 0!==i?i:c.lastSentHeartbeatDate,heartbeats:[...c.heartbeats,...e.heartbeats]})}})()}}function vH(t){return Hx(JSON.stringify({version:2,heartbeats:t})).length}!function Loe(t){Ha(new ra("platform-logger",e=>new Zie(e),"PRIVATE")),Ha(new ra("heartbeat",e=>new Roe(e),"PRIVATE")),Ms(AV,"0.9.22",t),Ms(AV,"0.9.22","esm2017"),Ms("fire-js","")}("");const Voe=function CH(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},AH=new lf("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Yx=new Wx("@firebase/auth");function Zx(t,...e){Yx.logLevel<=Je.ERROR&&Yx.error(`Auth (${Sm}): ${t}`,...e)}function vo(t,...e){throw SV(t,...e)}function Ko(t,...e){return SV(t,...e)}function EH(t,e,n){const i=Object.assign(Object.assign({},Voe()),{[e]:n});return new lf("auth","Firebase",i).create(e,{appName:t.name})}function SV(t,...e){if("string"!=typeof t){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return AH.create(t,...e)}function ve(t,e,...n){if(!t)throw SV(e,...n)}function Ga(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Zx(e),new Error(e)}function Qc(t,e){t||Ga(e)}function jv(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function IH(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Uv{constructor(e,n){this.shortDelay=e,this.longDelay=n,Qc(n>e,"Short delay should be less than long delay!"),this.isMobile=function mie(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qr())}()||function bie(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function Boe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function MV(){return"http:"===IH()||"https:"===IH()}()||iH()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function PV(t,e){Qc(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class DH{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Ga("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Ga("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Ga("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const joe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Uoe=new Uv(3e4,6e4);function zn(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function $n(t,e,n,i){return RV.apply(this,arguments)}function RV(){return(RV=z(function*(t,e,n,i,s={}){return TH(t,s,z(function*(){let c={},d={};i&&("GET"===e?d=i:c={body:JSON.stringify(i)});const p=Vv(Object.assign({key:t.config.apiKey},d)).slice(1),m=yield t._getAdditionalHeaders();return m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode),DH.fetch()(xH(t,t.config.apiHost,n,p),Object.assign({method:e,headers:m,referrerPolicy:"no-referrer"},c))}))})).apply(this,arguments)}function TH(t,e,n){return NV.apply(this,arguments)}function NV(){return(NV=z(function*(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},joe),e);try{const s=new Goe(t),c=yield Promise.race([n(),s.promise]);s.clearNetworkTimeout();const d=yield c.json();if("needConfirmation"in d)throw Hv(t,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[m,y]=p.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===m)throw Hv(t,"credential-already-in-use",d);if("EMAIL_EXISTS"===m)throw Hv(t,"email-already-in-use",d);if("USER_DISABLED"===m)throw Hv(t,"user-disabled",d);const k=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw EH(t,k,y);vo(t,k)}}catch(s){if(s instanceof na)throw s;vo(t,"network-request-failed",{message:String(s)})}})).apply(this,arguments)}function Yc(t,e,n,i){return OV.apply(this,arguments)}function OV(){return(OV=z(function*(t,e,n,i,s={}){const c=yield $n(t,e,n,i,s);return"mfaPendingCredential"in c&&vo(t,"multi-factor-auth-required",{_serverResponse:c}),c})).apply(this,arguments)}function xH(t,e,n,i){const s=`${e}${n}?${i}`;return t.config.emulator?PV(t.config,s):`${t.config.apiScheme}://${s}`}function Hoe(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Goe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Ko(this.auth,"network-request-failed")),Uoe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Hv(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=Ko(t,e,i);return s.customData._tokenResponse=n,s}function MH(t){return void 0!==t&&void 0!==t.enterprise}class PH{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Hoe(n.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}function RH(t,e){return VV.apply(this,arguments)}function VV(){return(VV=z(function*(t,e){return $n(t,"GET","/v2/recaptchaConfig",zn(t,e))})).apply(this,arguments)}function FV(){return(FV=z(function*(t,e){return $n(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function zV(){return(zV=z(function*(t,e){return $n(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Gv(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function jV(){return(jV=z(function*(t,e=!1){const n=Br(t),i=yield n.getIdToken(e),s=Jx(i);ve(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const c="object"==typeof s.firebase?s.firebase:void 0,d=c?.sign_in_provider;return{claims:s,token:i,authTime:Gv(UV(s.auth_time)),issuedAtTime:Gv(UV(s.iat)),expirationTime:Gv(UV(s.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}})).apply(this,arguments)}function UV(t){return 1e3*Number(t)}function Jx(t){const[e,n,i]=t.split(".");if(void 0===e||void 0===n||void 0===i)return Zx("JWT malformed, contained fewer than 3 sections"),null;try{const s=Gx(n);return s?JSON.parse(s):(Zx("Failed to decode base64 JWT payload"),null)}catch(s){return Zx("Caught error parsing JWT payload as JSON",s?.toString()),null}}function Zc(t,e){return HV.apply(this,arguments)}function HV(){return(HV=z(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(i){throw i instanceof na&&function Zoe({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(i)&&t.auth.currentUser===t&&(yield t.auth.signOut()),i}})).apply(this,arguments)}class Joe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const s=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(z(function*(){yield n.iteration()}),i)}iteration(){var e=this;return z(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class NH{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gv(this.lastLoginAt),this.creationTime=Gv(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function $v(t){return GV.apply(this,arguments)}function GV(){return GV=z(function*(t){var e;const n=t.auth,i=yield t.getIdToken(),s=yield Zc(t,function Koe(t,e){return zV.apply(this,arguments)}(n,{idToken:i}));ve(s?.users.length,n,"internal-error");const c=s.users[0];t._notifyReloadListener(c);const d=null!==(e=c.providerUserInfo)&&void 0!==e&&e.length?function tse(t){return t.map(e=>{var{providerId:n}=e,i=Zu(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}(c.providerUserInfo):[],p=function ese(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}(t.providerData,d),k=!!t.isAnonymous&&!(t.email&&c.passwordHash||p?.length),C={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:p,metadata:new NH(c.createdAt,c.lastLoginAt),isAnonymous:k};Object.assign(t,C)}),GV.apply(this,arguments)}function $V(){return($V=z(function*(t){const e=Br(t);yield $v(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function qV(){return(qV=z(function*(t,e){const n=yield TH(t,{},z(function*(){const i=Vv({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:c}=t.config,d=xH(t,s,"/v1/token",`key=${c}`),p=yield t._getAdditionalHeaders();return p["Content-Type"]="application/x-www-form-urlencoded",DH.fetch()(d,{method:"POST",headers:p,body:i})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class qv{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Yoe(t){const e=Jx(t);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var i=this;return z(function*(){return ve(!i.accessToken||i.refreshToken,e,"user-token-expired"),n||!i.accessToken||i.isExpired?i.refreshToken?(yield i.refresh(e,i.refreshToken),i.accessToken):null:i.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var i=this;return z(function*(){const{accessToken:s,refreshToken:c,expiresIn:d}=yield function nse(t,e){return qV.apply(this,arguments)}(e,n);i.updateTokensAndExpiration(s,c,Number(d))})()}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:c}=n,d=new qv;return i&&(ve("string"==typeof i,"internal-error",{appName:e}),d.refreshToken=i),s&&(ve("string"==typeof s,"internal-error",{appName:e}),d.accessToken=s),c&&(ve("number"==typeof c,"internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qv,this.toJSON())}_performRefresh(){return Ga("not implemented")}}function Eu(t,e){ve("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class ff{constructor(e){var{uid:n,auth:i,stsTokenManager:s}=e,c=Zu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Joe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new NH(c.createdAt||void 0,c.lastLoginAt||void 0)}getIdToken(e){var n=this;return z(function*(){const i=yield Zc(n,n.stsTokenManager.getToken(n.auth,e));return ve(i,n.auth,"internal-error"),n.accessToken!==i&&(n.accessToken=i,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),i})()}getIdTokenResult(e){return function Qoe(t){return jV.apply(this,arguments)}(this,e)}reload(){return function Xoe(t){return $V.apply(this,arguments)}(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ff(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var i=this;return z(function*(){let s=!1;e.idToken&&e.idToken!==i.stsTokenManager.accessToken&&(i.stsTokenManager.updateFromServerResponse(e),s=!0),n&&(yield $v(i)),yield i.auth._persistUserIfCurrent(i),s&&i.auth._notifyListenersIfCurrent(i)})()}delete(){var e=this;return z(function*(){const n=yield e.getIdToken();return yield Zc(e,function qoe(t,e){return FV.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,s,c,d,p,m,y,k;const C=null!==(i=n.displayName)&&void 0!==i?i:void 0,I=null!==(s=n.email)&&void 0!==s?s:void 0,M=null!==(c=n.phoneNumber)&&void 0!==c?c:void 0,O=null!==(d=n.photoURL)&&void 0!==d?d:void 0,B=null!==(p=n.tenantId)&&void 0!==p?p:void 0,j=null!==(m=n._redirectEventId)&&void 0!==m?m:void 0,Z=null!==(y=n.createdAt)&&void 0!==y?y:void 0,U=null!==(k=n.lastLoginAt)&&void 0!==k?k:void 0,{uid:te,emailVerified:pe,isAnonymous:Se,providerData:Ce,stsTokenManager:At}=n;ve(te&&At,e,"internal-error");const Tr=qv.fromJSON(this.name,At);ve("string"==typeof te,e,"internal-error"),Eu(C,e.name),Eu(I,e.name),ve("boolean"==typeof pe,e,"internal-error"),ve("boolean"==typeof Se,e,"internal-error"),Eu(M,e.name),Eu(O,e.name),Eu(B,e.name),Eu(j,e.name),Eu(Z,e.name),Eu(U,e.name);const nc=new ff({uid:te,auth:e,email:I,emailVerified:pe,displayName:C,isAnonymous:Se,photoURL:O,phoneNumber:M,tenantId:B,stsTokenManager:Tr,createdAt:Z,lastLoginAt:U});return Ce&&Array.isArray(Ce)&&(nc.providerData=Ce.map(a2=>Object.assign({},a2))),j&&(nc._redirectEventId=j),nc}static _fromIdTokenResponse(e,n,i=!1){return z(function*(){const s=new qv;s.updateFromServerResponse(n);const c=new ff({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return yield $v(c),c})()}}const OH=new Map;function Jc(t){Qc(t instanceof Function,"Expected a class definition");let e=OH.get(t);return e?(Qc(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,OH.set(t,e),e)}const LH=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return z(function*(){return!0})()}_set(n,i){var s=this;return z(function*(){s.storage[n]=i})()}_get(n){var i=this;return z(function*(){const s=i.storage[n];return void 0===s?null:s})()}_remove(n){var i=this;return z(function*(){delete i.storage[n]})()}_addListener(n,i){}_removeListener(n,i){}}return t.type="NONE",t})();function Xx(t,e,n){return`firebase:${t}:${e}:${n}`}class Pm{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:c}=this.auth;this.fullUserKey=Xx(this.userKey,s.apiKey,c),this.fullPersistenceKey=Xx("persistence",s.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return z(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?ff._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return z(function*(){if(n.persistence===e)return;const i=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,i?n.setCurrentUser(i):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,i="authUser"){return z(function*(){if(!n.length)return new Pm(Jc(LH),e,i);const s=(yield Promise.all(n.map(function(){var y=z(function*(k){if(yield k._isAvailable())return k});return function(k){return y.apply(this,arguments)}}()))).filter(y=>y);let c=s[0]||Jc(LH);const d=Xx(i,e.config.apiKey,e.name);let p=null;for(const y of n)try{const k=yield y._get(d);if(k){const C=ff._fromJSON(e,k);y!==c&&(p=C),c=y;break}}catch{}const m=s.filter(y=>y._shouldAllowMigration);return c._shouldAllowMigration&&m.length?(c=m[0],p&&(yield c._set(d,p.toJSON())),yield Promise.all(n.map(function(){var y=z(function*(k){if(k!==c)try{yield k._remove(d)}catch{}});return function(k){return y.apply(this,arguments)}}())),new Pm(c,e,i)):new Pm(c,e,i)})()}}function VH(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zH(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(FH(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(UH(e))return"Blackberry";if(HH(e))return"Webos";if(WV(e))return"Safari";if((e.includes("chrome/")||BH(e))&&!e.includes("edge/"))return"Chrome";if(jH(e))return"Android";{const i=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===i?.length)return i[1]}return"Other"}function FH(t=Qr()){return/firefox\//i.test(t)}function WV(t=Qr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function BH(t=Qr()){return/crios\//i.test(t)}function zH(t=Qr()){return/iemobile/i.test(t)}function jH(t=Qr()){return/android/i.test(t)}function UH(t=Qr()){return/blackberry/i.test(t)}function HH(t=Qr()){return/webos/i.test(t)}function eS(t=Qr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function GH(t=Qr()){return eS(t)||jH(t)||HH(t)||UH(t)||/windows phone/i.test(t)||zH(t)}function $H(t,e=[]){let n;switch(t){case"Browser":n=VH(Qr());break;case"Worker":n=`${VH(Qr())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Sm}/${i}`}class sse{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=c=>new Promise((d,p)=>{try{d(e(c))}catch(m){p(m)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return z(function*(){if(n.auth.currentUser===e)return;const i=[];try{for(const s of n.queue)yield s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const c of i)try{c()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}})()}}function KV(){return(KV=z(function*(t,e={}){return $n(t,"GET","/v2/passwordPolicy",zn(t,e))})).apply(this,arguments)}class lse{constructor(e){var n,i,s,c;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=d.minPasswordLength)&&void 0!==n?n:6,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),void 0!==d.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),void 0!==d.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),void 0!==d.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),void 0!==d.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(s=null===(i=e.allowedNonAlphanumericCharacters)||void 0===i?void 0:i.join(""))&&void 0!==s?s:"",this.forceUpgradeOnSignin=null!==(c=e.forceUpgradeOnSignin)&&void 0!==c&&c,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,s,c,d,p;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=null===(n=m.meetsMinPasswordLength)||void 0===n||n),m.isValid&&(m.isValid=null===(i=m.meetsMaxPasswordLength)||void 0===i||i),m.isValid&&(m.isValid=null===(s=m.containsLowercaseLetter)||void 0===s||s),m.isValid&&(m.isValid=null===(c=m.containsUppercaseLetter)||void 0===c||c),m.isValid&&(m.isValid=null===(d=m.containsNumericCharacter)||void 0===d||d),m.isValid&&(m.isValid=null===(p=m.containsNonAlphanumericCharacter)||void 0===p||p),m}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){let i;this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class use{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qH(this),this.idTokenSubscription=new qH(this),this.beforeStateQueue=new sse(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AH,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){var i=this;return n&&(this._popupRedirectResolver=Jc(n)),this._initializationPromise=this.queue(z(function*(){var s,c;if(!i._deleted&&(i.persistenceManager=yield Pm.create(i,e),!i._deleted)){if(null!==(s=i._popupRedirectResolver)&&void 0!==s&&s._shouldInitProactively)try{yield i._popupRedirectResolver._initialize(i)}catch{}yield i.initializeCurrentUser(n),i.lastNotifiedUid=(null===(c=i.currentUser)||void 0===c?void 0:c.uid)||null,!i._deleted&&(i._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return z(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return z(function*(){var i;const s=yield n.assertedPersistence.getCurrentUser();let c=s,d=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const p=null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId,m=c?._redirectEventId,y=yield n.tryRedirectSignIn(e);(!p||p===m)&&y?.user&&(c=y.user,d=!0)}if(!c)return n.directlySetCurrentUser(null);if(!c._redirectEventId){if(d)try{yield n.beforeStateQueue.runMiddleware(c)}catch(p){c=s,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(p))}return c?n.reloadAndSetCurrentUserOrClear(c):n.directlySetCurrentUser(null)}return ve(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===c._redirectEventId?n.directlySetCurrentUser(c):n.reloadAndSetCurrentUserOrClear(c)})()}tryRedirectSignIn(e){var n=this;return z(function*(){let i=null;try{i=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return i})()}reloadAndSetCurrentUserOrClear(e){var n=this;return z(function*(){try{yield $v(e)}catch(i){if("auth/network-request-failed"!==i?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function zoe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return z(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return z(function*(){const i=e?Br(e):null;return i&&ve(i.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(i&&i._clone(n))})()}_updateCurrentUser(e,n=!1){var i=this;return z(function*(){if(!i._deleted)return e&&ve(i.tenantId===e.tenantId,i,"tenant-id-mismatch"),n||(yield i.beforeStateQueue.runMiddleware(e)),i.queue(z(function*(){yield i.directlySetCurrentUser(e),i.notifyAuthListeners()}))})()}signOut(){var e=this;return z(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(z(function*(){yield n.assertedPersistence.setPersistence(Jc(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var n=this;return z(function*(){n._getPasswordPolicyInternal()||(yield n._updatePasswordPolicy());const i=n._getPasswordPolicyInternal();return i.schemaVersion!==n.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(n._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return z(function*(){const n=yield function ase(t){return KV.apply(this,arguments)}(e),i=new lse(n);null===e.tenantId?e._projectPasswordPolicy=i:e._tenantPasswordPolicies[e.tenantId]=i})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new lf("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var i=this;return z(function*(){const s=yield i.getOrInitRedirectPersistenceManager(n);return null===e?s.removeCurrentUser():s.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return z(function*(){if(!n.redirectPersistenceManager){const i=e&&Jc(e)||n._popupRedirectResolver;ve(i,n,"argument-error"),n.redirectPersistenceManager=yield Pm.create(n,[Jc(i._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return z(function*(){var i,s;return n._isInitialized&&(yield n.queue(z(function*(){}))),(null===(i=n._currentUser)||void 0===i?void 0:i._redirectEventId)===e?n._currentUser:(null===(s=n.redirectUser)||void 0===s?void 0:s._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return z(function*(){if(e===n.currentUser)return n.queue(z(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const c="function"==typeof n?n:n.next.bind(n);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),"function"==typeof n){const m=e.addObserver(n,i,s);return()=>{d=!0,m()}}{const m=e.addObserver(n);return()=>{d=!0,m()}}}directlySetCurrentUser(e){var n=this;return z(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$H(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return z(function*(){var n;const i={"X-Client-Version":e.clientVersion};e.app.options.appId&&(i["X-Firebase-gmpid"]=e.app.options.appId);const s=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();s&&(i["X-Firebase-Client"]=s);const c=yield e._getAppCheckToken();return c&&(i["X-Firebase-AppCheck"]=c),i})()}_getAppCheckToken(){var e=this;return z(function*(){var n;const i=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return i?.error&&function Foe(t,...e){Yx.logLevel<=Je.WARN&&Yx.warn(`Auth (${Sm}): ${t}`,...e)}(`Error while retrieving App Check token: ${i.error}`),i?.token})()}}function Ar(t){return Br(t)}class qH{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Eie(t,e){const n=new Iie(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function QV(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const c=Ko("internal-error");c.customData=s,n(c)},i.type="text/javascript",i.charset="UTF-8",function dse(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(i)})}function WH(t){return`__${t}${Math.floor(1e6*Math.random())}`}class KH{constructor(e){this.type="recaptcha-enterprise",this.auth=Ar(e)}verify(e="verify",n=!1){var i=this;return z(function*(){function c(){return c=z(function*(p){if(!n){if(null==p.tenantId&&null!=p._agentRecaptchaConfig)return p._agentRecaptchaConfig.siteKey;if(null!=p.tenantId&&void 0!==p._tenantRecaptchaConfigs[p.tenantId])return p._tenantRecaptchaConfigs[p.tenantId].siteKey}return new Promise(function(){var m=z(function*(y,k){RH(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(C=>{if(void 0!==C.recaptchaKey){const I=new PH(C);return null==p.tenantId?p._agentRecaptchaConfig=I:p._tenantRecaptchaConfigs[p.tenantId]=I,y(I.siteKey)}k(new Error("recaptcha Enterprise site key undefined"))}).catch(C=>{k(C)})});return function(y,k){return m.apply(this,arguments)}}())}),c.apply(this,arguments)}function d(p,m,y){const k=window.grecaptcha;MH(k)?k.enterprise.ready(()=>{k.enterprise.execute(p,{action:e}).then(C=>{m(C)}).catch(()=>{m("NO_RECAPTCHA")})}):y(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((p,m)=>{(function s(p){return c.apply(this,arguments)})(i.auth).then(y=>{if(!n&&MH(window.grecaptcha))d(y,p,m);else{if(typeof window>"u")return void m(new Error("RecaptchaVerifier is only supported in browser"));QV("https://www.google.com/recaptcha/enterprise.js?render="+y).then(()=>{d(y,p,m)}).catch(k=>{m(k)})}}).catch(y=>{m(y)})})})()}}function QH(t,e,n){return YV.apply(this,arguments)}function YV(){return(YV=z(function*(t,e,n,i=!1){const s=new KH(t);let c;try{c=yield s.verify(n)}catch{c=yield s.verify(n,!0)}const d=Object.assign({},e);return Object.assign(d,i?{captchaResp:c}:{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d})).apply(this,arguments)}function tS(t,e,n,i){return ZV.apply(this,arguments)}function ZV(){return ZV=z(function*(t,e,n,i){var s;if(null!==(s=t._getRecaptchaConfig())&&void 0!==s&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=yield QH(t,e,n,"getOobCode"===n);return i(t,c)}return i(t,e).catch(function(){var c=z(function*(d){if("auth/missing-recaptcha-token"===d.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=yield QH(t,e,n,"getOobCode"===n);return i(t,p)}return Promise.reject(d)});return function(d){return c.apply(this,arguments)}}())}),ZV.apply(this,arguments)}function YH(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ZH(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class XV{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ga("not implemented")}_getIdTokenResponse(e){return Ga("not implemented")}_linkToIdToken(e,n){return Ga("not implemented")}_getReauthenticationResolver(e){return Ga("not implemented")}}function XH(t,e){return tF.apply(this,arguments)}function tF(){return(tF=z(function*(t,e){return $n(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function vse(t,e){return rF.apply(this,arguments)}function rF(){return(rF=z(function*(t,e){return Yc(t,"POST","/v1/accounts:signInWithPassword",zn(t,e))})).apply(this,arguments)}function lF(){return(lF=z(function*(t,e){return Yc(t,"POST","/v1/accounts:signInWithEmailLink",zn(t,e))})).apply(this,arguments)}function uF(){return(uF=z(function*(t,e){return Yc(t,"POST","/v1/accounts:signInWithEmailLink",zn(t,e))})).apply(this,arguments)}class Wv extends XV{constructor(e,n,i,s=null){super("password",i),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Wv(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Wv(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return z(function*(){switch(n.signInMethod){case"password":return tS(e,{returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",vse);case"emailLink":return function Dse(t,e){return lF.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:vo(e,"internal-error")}})()}_linkToIdToken(e,n){var i=this;return z(function*(){switch(i.signInMethod){case"password":return XH(e,{idToken:n,returnSecureToken:!0,email:i._email,password:i._password});case"emailLink":return function Tse(t,e){return uF.apply(this,arguments)}(e,{idToken:n,email:i._email,oobCode:i._password});default:vo(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Xc(t,e){return dF.apply(this,arguments)}function dF(){return(dF=z(function*(t,e){return Yc(t,"POST","/v1/accounts:signInWithIdp",zn(t,e))})).apply(this,arguments)}class Rm extends XV{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Rm(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):vo("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e,{providerId:i,signInMethod:s}=n,c=Zu(n,["providerId","signInMethod"]);if(!i||!s)return null;const d=new Rm(i,s);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){return Xc(e,this.buildRequest())}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Xc(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Xc(e,n)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Vv(n)}return e}}class Qv{constructor(e){var n,i,s,c,d,p;const m=Fv(Bv(e)),y=null!==(n=m.apiKey)&&void 0!==n?n:null,k=null!==(i=m.oobCode)&&void 0!==i?i:null,C=function Ose(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(s=m.mode)&&void 0!==s?s:null);ve(y&&k&&C,"argument-error"),this.apiKey=y,this.operation=C,this.code=k,this.continueUrl=null!==(c=m.continueUrl)&&void 0!==c?c:null,this.languageCode=null!==(d=m.languageCode)&&void 0!==d?d:null,this.tenantId=null!==(p=m.tenantId)&&void 0!==p?p:null}static parseLink(e){const n=function Lse(t){const e=Fv(Bv(t)).link,n=e?Fv(Bv(e)).deep_link_id:null,i=Fv(Bv(t)).deep_link_id;return(i?Fv(Bv(i)).link:null)||i||n||e||t}(e);try{return new Qv(n)}catch{return null}}}let eG=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,i){return Wv._fromEmailAndPassword(n,i)}static credentialWithLink(n,i){const s=Qv.parseLink(i);return ve(s,"argument-error"),Wv._fromEmailAndCode(n,s.code,s.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class Iu{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class tG extends Iu{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}let Vse=(()=>{class t extends tG{constructor(){super("google.com"),this.addScope("profile")}static credential(n,i){return Rm._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:i})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;const{oauthIdToken:i,oauthAccessToken:s}=n;if(!i&&!s)return null;try{return t.credential(i,s)}catch{return null}}}return t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com",t})();function nG(t,e){return _F.apply(this,arguments)}function _F(){return(_F=z(function*(t,e){return Yc(t,"POST","/v1/accounts:signUp",zn(t,e))})).apply(this,arguments)}class Ps{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,i,s=!1){return z(function*(){const c=yield ff._fromIdTokenResponse(e,i,s),d=rG(i);return new Ps({user:c,providerId:d,_tokenResponse:i,operationType:n})})()}static _forOperation(e,n,i){return z(function*(){yield e._updateTokensIfNecessary(i,!0);const s=rG(i);return new Ps({user:e,providerId:s,_tokenResponse:i,operationType:n})})()}}function rG(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class iS extends na{constructor(e,n,i,s){var c;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,iS.prototype),this.customData={appName:e.name,tenantId:null!==(c=e.tenantId)&&void 0!==c?c:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new iS(e,n,i,s)}}function iG(t,e,n,i){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(c=>{throw"auth/multi-factor-auth-required"===c.code?iS._fromErrorAndOperation(t,c,e,i):c})}function kF(){return(kF=z(function*(t,e,n=!1){const i=yield Zc(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Ps._forOperation(t,"link",i)})).apply(this,arguments)}function CF(){return(CF=z(function*(t,e,n=!1){const{auth:i}=t,s="reauthenticate";try{const c=yield Zc(t,iG(i,s,e,t),n);ve(c.idToken,i,"internal-error");const d=Jx(c.idToken);ve(d,i,"internal-error");const{sub:p}=d;return ve(t.uid===p,i,"user-mismatch"),Ps._forOperation(t,s,c)}catch(c){throw"auth/user-not-found"===c?.code&&vo(i,"user-mismatch"),c}})).apply(this,arguments)}function aG(t,e){return AF.apply(this,arguments)}function AF(){return(AF=z(function*(t,e,n=!1){const i="signIn",s=yield iG(t,i,e),c=yield Ps._fromIdTokenResponse(t,i,s);return n||(yield t._updateCurrentUser(c.user)),c})).apply(this,arguments)}function EF(t,e){return IF.apply(this,arguments)}function IF(){return(IF=z(function*(t,e){return aG(Ar(t),e)})).apply(this,arguments)}function NF(t){return OF.apply(this,arguments)}function OF(){return(OF=z(function*(t){const e=Ar(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})).apply(this,arguments)}function jF(){return(jF=z(function*(t,e,n){const i=Ar(t),d=yield tS(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",nG).catch(m=>{throw"auth/password-does-not-meet-requirements"===m.code&&NF(t),m}),p=yield Ps._fromIdTokenResponse(i,"signIn",d);return yield i._updateCurrentUser(p.user),p})).apply(this,arguments)}const aS="__sak";class lG{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(aS,"1"),this.storage.removeItem(aS),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const lae=(()=>{class t extends lG{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,i)=>this.onStorageEvent(n,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function sae(){const t=Qr();return WV(t)||eS(t)}()&&function ose(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=GH(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),c=this.localCache[i];s!==c&&n(i,c,s)}}onStorageEvent(n,i=!1){if(!n.key)return void this.forAllChangedKeys((p,m,y)=>{this.notifyListeners(p,y)});const s=n.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const p=this.storage.getItem(s);if(n.newValue!==p)null!==n.newValue?this.storage.setItem(s,n.newValue):this.storage.removeItem(s);else if(this.localCache[s]===n.newValue&&!i)return}const c=()=>{const p=this.storage.getItem(s);!i&&this.localCache[s]===p||this.notifyListeners(s,p)},d=this.storage.getItem(s);!function ise(){return function yie(){const t=Qr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||d===n.newValue||n.newValue===n.oldValue?c():setTimeout(c,10)}notifyListeners(n,i){this.localCache[n]=i;const s=this.listeners[n];if(s)for(const c of Array.from(s))c(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:i,newValue:s}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,i){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,i){var s=()=>super._set,c=this;return z(function*(){yield s().call(c,n,i),c.localCache[n]=JSON.stringify(i)})()}_get(n){var i=()=>super._get,s=this;return z(function*(){const c=yield i().call(s,n);return s.localCache[n]=JSON.stringify(c),c})()}_remove(n){var i=()=>super._remove,s=this;return z(function*(){yield i().call(s,n),delete s.localCache[n]})()}}return t.type="LOCAL",t})(),uG=(()=>{class t extends lG{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,i){}_removeListener(n,i){}}return t.type="SESSION",t})();let dae=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const i=this.receivers.find(c=>c.isListeningto(n));if(i)return i;const s=new t(n);return this.receivers.push(s),s}isListeningto(n){return this.eventTarget===n}handleEvent(n){var i=this;return z(function*(){const s=n,{eventId:c,eventType:d,data:p}=s.data,m=i.handlersMap[d];if(!m?.size)return;s.ports[0].postMessage({status:"ack",eventId:c,eventType:d});const y=Array.from(m).map(function(){var C=z(function*(I){return I(s.origin,p)});return function(I){return C.apply(this,arguments)}}()),k=yield function uae(t){return Promise.all(t.map(function(){var e=z(function*(n){try{return{fulfilled:!0,value:yield n}}catch(i){return{fulfilled:!1,reason:i}}});return function(n){return e.apply(this,arguments)}}()))}(y);s.ports[0].postMessage({status:"done",eventId:c,eventType:d,response:k})})()}_subscribe(n,i){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(i)}_unsubscribe(n,i){this.handlersMap[n]&&i&&this.handlersMap[n].delete(i),(!i||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function cS(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(10*Math.random());return t+n}class hae{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,i=50){var s=this;return z(function*(){const c=typeof MessageChannel<"u"?new MessageChannel:null;if(!c)throw new Error("connection_unavailable");let d,p;return new Promise((m,y)=>{const k=cS("",20);c.port1.start();const C=setTimeout(()=>{y(new Error("unsupported_event"))},i);p={messageChannel:c,onMessage(I){const M=I;if(M.data.eventId===k)switch(M.data.status){case"ack":clearTimeout(C),d=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(d),m(M.data.response);break;default:clearTimeout(C),clearTimeout(d),y(new Error("invalid_response"))}}},s.handlers.add(p),c.port1.addEventListener("message",p.onMessage),s.target.postMessage({eventType:e,eventId:k,data:n},[c.port2])}).finally(()=>{p&&s.removeMessageHandler(p)})})()}}function Er(){return window}function rB(){return typeof Er().WorkerGlobalScope<"u"&&"function"==typeof Er().importScripts}function iB(){return(iB=z(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const dG="firebaseLocalStorageDb",lS="firebaseLocalStorage",hG="fbase_key";class Zv{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function uS(t,e){return t.transaction([lS],e?"readwrite":"readonly").objectStore(lS)}function oB(){const t=indexedDB.open(dG,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(lS,{keyPath:hG})}catch(s){n(s)}}),t.addEventListener("success",z(function*(){const i=t.result;i.objectStoreNames.contains(lS)?e(i):(i.close(),yield function bae(){const t=indexedDB.deleteDatabase(dG);return new Zv(t).toPromise()}(),e(yield oB()))}))})}function fG(t,e,n){return sB.apply(this,arguments)}function sB(){return(sB=z(function*(t,e,n){const i=uS(t,!0).put({[hG]:e,value:n});return new Zv(i).toPromise()})).apply(this,arguments)}function aB(){return(aB=z(function*(t,e){const n=uS(t,!1).get(e),i=yield new Zv(n).toPromise();return void 0===i?null:i.value})).apply(this,arguments)}function pG(t,e){const n=uS(t,!0).delete(e);return new Zv(n).toPromise()}const vae=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return z(function*(){return n.db||(n.db=yield oB()),n.db})()}_withRetries(n){var i=this;return z(function*(){let s=0;for(;;)try{const c=yield i._openDb();return yield n(c)}catch(c){if(s++>3)throw c;i.db&&(i.db.close(),i.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return z(function*(){return rB()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return z(function*(){n.receiver=dae._getInstance(function mae(){return rB()?self:null}()),n.receiver._subscribe("keyChanged",function(){var i=z(function*(s,c){return{keyProcessed:(yield n._poll()).includes(c.key)}});return function(s,c){return i.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var i=z(function*(s,c){return["keyChanged"]});return function(s,c){return i.apply(this,arguments)}}())})()}initializeSender(){var n=this;return z(function*(){var i,s;if(n.activeServiceWorker=yield function pae(){return iB.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new hae(n.activeServiceWorker);const c=yield n.sender._send("ping",{},800);c&&null!==(i=c[0])&&void 0!==i&&i.fulfilled&&null!==(s=c[0])&&void 0!==s&&s.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var i=this;return z(function*(){if(i.sender&&i.activeServiceWorker&&function gae(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===i.activeServiceWorker)try{yield i.sender._send("keyChanged",{key:n},i.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return z(function*(){try{if(!indexedDB)return!1;const n=yield oB();return yield fG(n,aS,"1"),yield pG(n,aS),!0}catch{}return!1})()}_withPendingWrite(n){var i=this;return z(function*(){i.pendingWrites++;try{yield n()}finally{i.pendingWrites--}})()}_set(n,i){var s=this;return z(function*(){return s._withPendingWrite(z(function*(){return yield s._withRetries(c=>fG(c,n,i)),s.localCache[n]=i,s.notifyServiceWorker(n)}))})()}_get(n){var i=this;return z(function*(){const s=yield i._withRetries(c=>function yae(t,e){return aB.apply(this,arguments)}(c,n));return i.localCache[n]=s,s})()}_remove(n){var i=this;return z(function*(){return i._withPendingWrite(z(function*(){return yield i._withRetries(s=>pG(s,n)),delete i.localCache[n],i.notifyServiceWorker(n)}))})()}_poll(){var n=this;return z(function*(){const i=yield n._withRetries(d=>{const p=uS(d,!1).getAll();return new Zv(p).toPromise()});if(!i)return[];if(0!==n.pendingWrites)return[];const s=[],c=new Set;for(const{fbase_key:d,value:p}of i)c.add(d),JSON.stringify(n.localCache[d])!==JSON.stringify(p)&&(n.notifyListeners(d,p),s.push(d));for(const d of Object.keys(n.localCache))n.localCache[d]&&!c.has(d)&&(n.notifyListeners(d,null),s.push(d));return s})()}notifyListeners(n,i){this.localCache[n]=i;const s=this.listeners[n];if(s)for(const c of Array.from(s))c(i)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(z(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,i){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function gf(t,e){return e?Jc(e):(ve(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}WH("rcb"),new Uv(3e4,6e4);class mB extends XV{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Fae(t){return aG(t.auth,new mB(t),t.bypassAuthState)}function Bae(t){const{auth:e,user:n}=t;return ve(n,e,"internal-error"),function sG(t,e){return CF.apply(this,arguments)}(n,new mB(t),t.bypassAuthState)}function zae(t){return _B.apply(this,arguments)}function _B(){return(_B=z(function*(t){const{auth:e,user:n}=t;return ve(n,e,"internal-error"),function wF(t,e){return kF.apply(this,arguments)}(n,new mB(t),t.bypassAuthState)})).apply(this,arguments)}class mG{constructor(e,n,i,s,c=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=z(function*(i,s){e.pendingPromise={resolve:i,reject:s};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(c){e.reject(c)}});return function(i,s){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return z(function*(){const{urlResponse:i,sessionId:s,postBody:c,tenantId:d,error:p,type:m}=e;if(p)return void n.reject(p);const y={auth:n.auth,requestUri:i,sessionId:s,tenantId:d||void 0,postBody:c||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(m)(y))}catch(k){n.reject(k)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Fae;case"linkViaPopup":case"linkViaRedirect":return zae;case"reauthViaPopup":case"reauthViaRedirect":return Bae;default:vo(this.auth,"internal-error")}}resolve(e){Qc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const jae=new Uv(2e3,1e4);function bB(){return(bB=z(function*(t,e,n){const i=Ar(t);!function Mm(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&vo(t,"argument-error"),EH(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(t,e,Iu);const s=gf(i,n);return new kB(i,"signInViaPopup",e,s).executeNotNull()})).apply(this,arguments)}let kB=(()=>{class t extends mG{constructor(n,i,s,c,d){super(n,i,c,d),this.provider=s,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){var n=this;return z(function*(){const i=yield n.execute();return ve(i,n.auth,"internal-error"),i})()}onExecution(){var n=this;return z(function*(){Qc(1===n.filter.length,"Popup operations only handle one event");const i=cS();n.authWindow=yield n.resolver._openPopup(n.auth,n.provider,n.filter[0],i),n.authWindow.associatedEvent=i,n.resolver._originValidation(n.auth).catch(s=>{n.reject(s)}),n.resolver._isIframeWebStorageSupported(n.auth,s=>{s||n.reject(Ko(n.auth,"web-storage-unsupported"))}),n.pollUserCancellation()})()}get eventId(){var n;return(null===(n=this.authWindow)||void 0===n?void 0:n.associatedEvent)||null}cancel(){this.reject(Ko(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){const n=()=>{var i,s;this.pollId=null!==(s=null===(i=this.authWindow)||void 0===i?void 0:i.window)&&void 0!==s&&s.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ko(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(n,jae.get())};n()}}return t.currentPopupAction=null,t})();const Hae="pendingRedirect",Jv=new Map;class Gae extends mG{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}execute(){var e=()=>super.execute,n=this;return z(function*(){let i=Jv.get(n.auth._key());if(!i){try{const c=(yield function $ae(t,e){return vB.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;i=()=>Promise.resolve(c)}catch(s){i=()=>Promise.reject(s)}Jv.set(n.auth._key(),i)}return n.bypassAuthState||Jv.set(n.auth._key(),()=>Promise.resolve(null)),i()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,i=this;return z(function*(){if("signInViaRedirect"===e.type)return n().call(i,e);if("unknown"!==e.type){if(e.eventId){const s=yield i.auth._redirectUserForId(e.eventId);if(s)return i.user=s,n().call(i,e);i.resolve(null)}}else i.resolve(null)})()}onExecution(){return z(function*(){})()}cleanUp(){}}function vB(){return(vB=z(function*(t,e){const n=function bG(t){return Xx(Hae,t.config.apiKey,t.name)}(e),i=function _G(t){return Jc(t._redirectPersistence)}(t);if(!(yield i._isAvailable()))return!1;const s="true"===(yield i._get(n));return yield i._remove(n),s})).apply(this,arguments)}function qae(t,e){Jv.set(t._key(),e)}function yG(t,e){return xB.apply(this,arguments)}function xB(){return(xB=z(function*(t,e,n=!1){const i=Ar(t),s=gf(i,e),d=yield new Gae(i,s,n).execute();return d&&!n&&(delete d.user._redirectEventId,yield i._persistUserIfCurrent(d.user),yield i._setRedirectUser(null,e)),d})).apply(this,arguments)}class Zae{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function Jae(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vG(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!vG(e)){const s=(null===(i=e.error.code)||void 0===i?void 0:i.split("auth/")[1])||"internal-error";n.onError(Ko(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(kG(e))}saveEventToCache(e){this.cachedEventUids.add(kG(e)),this.lastProcessedEventTime=Date.now()}}function kG(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function vG({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function MB(){return(MB=z(function*(t,e={}){return $n(t,"GET","/v1/projects",e)})).apply(this,arguments)}const ece=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tce=/^https?/;function PB(){return PB=z(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function Xae(t){return MB.apply(this,arguments)}(t);for(const n of e)try{if(rce(n))return}catch{}vo(t,"unauthorized-domain")}),PB.apply(this,arguments)}function rce(t){const e=jv(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const d=new URL(t);return""===d.hostname&&""===i?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&d.hostname===i}if(!tce.test(n))return!1;if(ece.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}const ice=new Uv(3e4,6e4);function CG(){const t=Er().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let hS=null;const ace=new Uv(5e3,15e3),cce="__/auth/iframe",lce="emulator/auth/iframe",uce={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dce=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hce(t){const e=t.config;ve(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?PV(e,lce):`https://${t.config.authDomain}/${cce}`,i={apiKey:e.apiKey,appName:t.name,v:Sm},s=dce.get(t.config.apiHost);s&&(i.eid=s);const c=t._getFrameworks();return c.length&&(i.fw=c.join(",")),`${n}?${Vv(i).slice(1)}`}function RB(){return RB=z(function*(t){const e=yield function sce(t){return hS=hS||function oce(t){return new Promise((e,n)=>{var i,s,c;function d(){CG(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{CG(),n(Ko(t,"network-request-failed"))},timeout:ice.get()})}if(null!==(s=null===(i=Er().gapi)||void 0===i?void 0:i.iframes)&&void 0!==s&&s.Iframe)e(gapi.iframes.getContext());else{if(null===(c=Er().gapi)||void 0===c||!c.load){const p=WH("iframefcb");return Er()[p]=()=>{gapi.load?d():n(Ko(t,"network-request-failed"))},QV(`https://apis.google.com/js/api.js?onload=${p}`).catch(m=>n(m))}d()}}).catch(e=>{throw hS=null,e})}(t),hS}(t),n=Er().gapi;return ve(n,t,"internal-error"),e.open({where:document.body,url:hce(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uce,dontclear:!0},i=>new Promise(function(){var s=z(function*(c,d){yield i.restyle({setHideOnLeave:!1});const p=Ko(t,"network-request-failed"),m=Er().setTimeout(()=>{d(p)},ace.get());function y(){Er().clearTimeout(m),c(i)}i.ping(y).then(y,()=>{d(p)})});return function(c,d){return s.apply(this,arguments)}}()))}),RB.apply(this,arguments)}const pce={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class AG{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const kce="__/auth/handler",vce="emulator/auth/handler",Cce=encodeURIComponent("fac");function EG(t,e,n,i,s,c){return NB.apply(this,arguments)}function NB(){return(NB=z(function*(t,e,n,i,s,c){ve(t.config.authDomain,t,"auth-domain-config-required"),ve(t.config.apiKey,t,"invalid-api-key");const d={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Sm,eventId:s};if(e instanceof Iu){e.setDefaultLanguage(t.languageCode),d.providerId=e.providerId||"",function Aie(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[k,C]of Object.entries(c||{}))d[k]=C}if(e instanceof tG){const k=e.getScopes().filter(C=>""!==C);k.length>0&&(d.scopes=k.join(","))}t.tenantId&&(d.tid=t.tenantId);const p=d;for(const k of Object.keys(p))void 0===p[k]&&delete p[k];const m=yield t._getAppCheckToken(),y=m?`#${Cce}=${encodeURIComponent(m)}`:"";return`${function Ace({config:t}){return t.emulator?PV(t,vce):`https://${t.authDomain}/${kce}`}(t)}?${Vv(p).slice(1)}${y}`})).apply(this,arguments)}const OB="webStorageSupport",Ice=class Ece{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uG,this._completeRedirectFn=yG,this._overrideRedirectResult=qae}_openPopup(e,n,i,s){var c=this;return z(function*(){var d;Qc(null===(d=c.eventManagers[e._key()])||void 0===d?void 0:d.manager,"_initialize() not called before _openPopup()");const p=yield EG(e,n,i,jv(),s);return function yce(t,e,n,i=500,s=600){const c=Math.max((window.screen.availHeight-s)/2,0).toString(),d=Math.max((window.screen.availWidth-i)/2,0).toString();let p="";const m=Object.assign(Object.assign({},pce),{width:i.toString(),height:s.toString(),top:c,left:d}),y=Qr().toLowerCase();n&&(p=BH(y)?"_blank":n),FH(y)&&(e=e||"http://localhost",m.scrollbars="yes");const k=Object.entries(m).reduce((I,[M,O])=>`${I}${M}=${O},`,"");if(function rse(t=Qr()){var e;return eS(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(y)&&"_self"!==p)return function wce(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}(e||"",p),new AG(null);const C=window.open(e||"",p,k);ve(C,t,"popup-blocked");try{C.focus()}catch{}return new AG(C)}(e,p,cS())})()}_openRedirect(e,n,i,s){var c=this;return z(function*(){return yield c._originValidation(e),function fae(t){Er().location.href=t}(yield EG(e,n,i,jv(),s)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:c}=this.eventManagers[n];return s?Promise.resolve(s):(Qc(c,"If manager is not set, promise should be"),c)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}initAndGetManager(e){var n=this;return z(function*(){const i=yield function fce(t){return RB.apply(this,arguments)}(e),s=new Zae(e);return i.register("authEvent",c=>(ve(c?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(c.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:s},n.iframes[e._key()]=i,s})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(OB,{type:OB},s=>{var c;const d=null===(c=s?.[0])||void 0===c?void 0:c[OB];void 0!==d&&n(!!d),vo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function nce(t){return PB.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return GH()||WV()||eS()}};var TG="@firebase/auth";class Dce{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return z(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Mce=nH("authIdTokenMaxAge")||300;let SG=null;const Pce=t=>function(){var e=z(function*(n){const i=n&&(yield n.getIdTokenResult()),s=i&&((new Date).getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>Mce)return;const c=i?.token;SG!==c&&(SG=c,yield fetch(t,{method:c?"POST":"DELETE",headers:c?{Authorization:`Bearer ${c}`}:{}}))});return function(n){return e.apply(this,arguments)}}();!function xce(t){Ha(new ra("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=i.options;ve(d&&!d.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:d,authDomain:p,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$H(t)},y=new use(i,s,c,m);return function _se(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Jc);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Ha(new ra("auth-internal",e=>{const n=Ar(e.getProvider("auth").getImmediate());return new Dce(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ms(TG,"1.3.2",function Tce(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Ms(TG,"1.3.2","esm2017")}("Browser"),Ms("firebase","10.5.2","app");const Lce=(t,e)=>e.some(n=>t instanceof n);let MG,PG;const RG=new WeakMap,VB=new WeakMap,NG=new WeakMap,FB=new WeakMap,BB=new WeakMap;let zB={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return VB.get(t);if("objectStoreNames"===e)return t.objectStoreNames||NG.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Du(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Hce(t){return"function"==typeof t?function Uce(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Fce(){return PG||(PG=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(jB(this),e),Du(RG.get(this))}:function(...e){return Du(t.apply(jB(this),e))}:function(e,...n){const i=t.call(jB(this),e,...n);return NG.set(i,e.sort?e.sort():[e]),Du(i)}}(t):(t instanceof IDBTransaction&&function zce(t){if(VB.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",c),t.removeEventListener("error",d),t.removeEventListener("abort",d)},c=()=>{n(),s()},d=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",c),t.addEventListener("error",d),t.addEventListener("abort",d)});VB.set(t,e)}(t),Lce(t,function Vce(){return MG||(MG=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,zB):t)}function Du(t){if(t instanceof IDBRequest)return function Bce(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",c),t.removeEventListener("error",d)},c=()=>{n(Du(t.result)),s()},d=()=>{i(t.error),s()};t.addEventListener("success",c),t.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&RG.set(n,t)}).catch(()=>{}),BB.set(e,t),e}(t);if(FB.has(t))return FB.get(t);const e=Hce(t);return e!==t&&(FB.set(t,e),BB.set(e,t)),e}const jB=t=>BB.get(t),$ce=["get","getKey","getAll","getAllKeys","count"],qce=["put","add","delete","clear"],UB=new Map;function OG(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(UB.get(e))return UB.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=qce.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!s&&!$ce.includes(n))return;const c=function(){var d=z(function*(p,...m){const y=this.transaction(p,s?"readwrite":"readonly");let k=y.store;return i&&(k=k.index(m.shift())),(yield Promise.all([k[n](...m),s&&y.done]))[0]});return function(m){return d.apply(this,arguments)}}();return UB.set(e,c),c}!function jce(t){zB=t(zB)}(t=>({...t,get:(e,n,i)=>OG(e,n)||t.get(e,n,i),has:(e,n)=>!!OG(e,n)||t.has(e,n)}));const LG="@firebase/installations",HB="0.6.4",VG=1e4,FG=`w:${HB}`,BG="FIS_v2",Wce="https://firebaseinstallations.googleapis.com/v1",Kce=36e5,el=new lf("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function zG(t){return t instanceof na&&t.code.includes("request-failed")}function GB({projectId:t}){return`${Wce}/projects/${t}/installations`}function jG(t){return{token:t.token,requestStatus:2,expiresIn:Jce(t.expiresIn),creationTime:Date.now()}}function $B(t,e){return qB.apply(this,arguments)}function qB(){return(qB=z(function*(t,e){const i=(yield e.json()).error;return el.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})})).apply(this,arguments)}function UG({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function WB(t){return KB.apply(this,arguments)}function KB(){return(KB=z(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function Jce(t){return Number(t.replace("s","000"))}function QB(){return(QB=z(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=GB(t),s=UG(t),c=e.getImmediate({optional:!0});if(c){const y=yield c.getHeartbeatsHeader();y&&s.append("x-firebase-client",y)}const p={method:"POST",headers:s,body:JSON.stringify({fid:n,authVersion:BG,appId:t.appId,sdkVersion:FG})},m=yield WB(()=>fetch(i,p));if(m.ok){const y=yield m.json();return{fid:y.fid||n,registrationStatus:2,refreshToken:y.refreshToken,authToken:jG(y.authToken)}}throw yield $B("Create Installation",m)})).apply(this,arguments)}function GG(t){return new Promise(e=>{setTimeout(e,t)})}const nle=/^[cdef][\w-]{21}$/,YB="";function rle(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function ile(t){return function tle(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return nle.test(n)?n:YB}catch{return YB}}function Nm(t){return`${t.appName}!${t.appId}`}const Om=new Map;function $G(t,e){const n=Nm(t);qG(n,e),function ale(t,e){const n=function WG(){return!mf&&"BroadcastChannel"in self&&(mf=new BroadcastChannel("[Firebase] FID Change"),mf.onmessage=t=>{qG(t.data.key,t.data.fid)}),mf}();n&&n.postMessage({key:t,fid:e}),function KG(){0===Om.size&&mf&&(mf.close(),mf=null)}()}(n,e)}function qG(t,e){const n=Om.get(t);if(n)for(const i of n)i(e)}let mf=null;const cle="firebase-installations-database",lle=1,_f="firebase-installations-store";let ZB=null;function JB(){return ZB||(ZB=function Gce(t,e,{blocked:n,upgrade:i,blocking:s,terminated:c}={}){const d=indexedDB.open(t,e),p=Du(d);return i&&d.addEventListener("upgradeneeded",m=>{i(Du(d.result),m.oldVersion,m.newVersion,Du(d.transaction))}),n&&d.addEventListener("blocked",()=>n()),p.then(m=>{c&&m.addEventListener("close",()=>c()),s&&m.addEventListener("versionchange",()=>s())}).catch(()=>{}),p}(cle,lle,{upgrade:(t,e)=>{0===e&&t.createObjectStore(_f)}})),ZB}function pS(t,e){return XB.apply(this,arguments)}function XB(){return(XB=z(function*(t,e){const n=Nm(t),s=(yield JB()).transaction(_f,"readwrite"),c=s.objectStore(_f),d=yield c.get(n);return yield c.put(e,n),yield s.done,(!d||d.fid!==e.fid)&&$G(t,e.fid),e})).apply(this,arguments)}function e4(t){return t4.apply(this,arguments)}function t4(){return(t4=z(function*(t){const e=Nm(t),i=(yield JB()).transaction(_f,"readwrite");yield i.objectStore(_f).delete(e),yield i.done})).apply(this,arguments)}function Xv(t,e){return n4.apply(this,arguments)}function n4(){return(n4=z(function*(t,e){const n=Nm(t),s=(yield JB()).transaction(_f,"readwrite"),c=s.objectStore(_f),d=yield c.get(n),p=e(d);return void 0===p?yield c.delete(n):yield c.put(p,n),yield s.done,p&&(!d||d.fid!==p.fid)&&$G(t,p.fid),p})).apply(this,arguments)}function r4(t){return i4.apply(this,arguments)}function i4(){return i4=z(function*(t){let e;const n=yield Xv(t.appConfig,i=>{const s=function ule(t){return YG(t||{fid:rle(),registrationStatus:0})}(i),c=function dle(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(el.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=function hle(t,e){return o4.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:i}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:fle(t)}:{installationEntry:e}}(t,s);return e=c.registrationPromise,c.installationEntry});return n.fid===YB?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),i4.apply(this,arguments)}function o4(){return o4=z(function*(t,e){try{const n=yield function ele(t,e){return QB.apply(this,arguments)}(t,e);return pS(t.appConfig,n)}catch(n){throw zG(n)&&409===n.customData.serverCode?yield e4(t.appConfig):yield pS(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),o4.apply(this,arguments)}function fle(t){return s4.apply(this,arguments)}function s4(){return(s4=z(function*(t){let e=yield QG(t.appConfig);for(;1===e.registrationStatus;)yield GG(100),e=yield QG(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:i}=yield r4(t);return i||n}return e})).apply(this,arguments)}function QG(t){return Xv(t,e=>{if(!e)throw el.create("installation-not-found");return YG(e)})}function YG(t){return function ple(t){return 1===t.registrationStatus&&t.registrationTime+VG<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function a4(){return(a4=z(function*({appConfig:t,heartbeatServiceProvider:e},n){const i=function mle(t,{fid:e}){return`${GB(t)}/${e}/authTokens:generate`}(t,n),s=function HG(t,{refreshToken:e}){const n=UG(t);return n.append("Authorization",function Xce(t){return`${BG} ${t}`}(e)),n}(t,n),c=e.getImmediate({optional:!0});if(c){const y=yield c.getHeartbeatsHeader();y&&s.append("x-firebase-client",y)}const p={method:"POST",headers:s,body:JSON.stringify({installation:{sdkVersion:FG,appId:t.appId}})},m=yield WB(()=>fetch(i,p));if(m.ok)return jG(yield m.json());throw yield $B("Generate Auth Token",m)})).apply(this,arguments)}function c4(t){return l4.apply(this,arguments)}function l4(){return l4=z(function*(t,e=!1){let n;const i=yield Xv(t.appConfig,c=>{if(!JG(c))throw el.create("not-registered");const d=c.authToken;if(!e&&function yle(t){return 2===t.requestStatus&&!function wle(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Kce}(t)}(d))return c;if(1===d.requestStatus)return n=function _le(t,e){return u4.apply(this,arguments)}(t,e),c;{if(!navigator.onLine)throw el.create("app-offline");const p=function kle(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(c);return n=function ble(t,e){return d4.apply(this,arguments)}(t,p),p}});return n?yield n:i.authToken}),l4.apply(this,arguments)}function u4(){return(u4=z(function*(t,e){let n=yield ZG(t.appConfig);for(;1===n.authToken.requestStatus;)yield GG(100),n=yield ZG(t.appConfig);const i=n.authToken;return 0===i.requestStatus?c4(t,e):i})).apply(this,arguments)}function ZG(t){return Xv(t,e=>{if(!JG(e))throw el.create("not-registered");return function vle(t){return 1===t.requestStatus&&t.requestTime+VG<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function d4(){return d4=z(function*(t,e){try{const n=yield function gle(t,e){return a4.apply(this,arguments)}(t,e),i=Object.assign(Object.assign({},e),{authToken:n});return yield pS(t.appConfig,i),n}catch(n){if(!zG(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield pS(t.appConfig,i)}else yield e4(t.appConfig);throw n}}),d4.apply(this,arguments)}function JG(t){return void 0!==t&&2===t.registrationStatus}function h4(){return(h4=z(function*(t){const e=t,{installationEntry:n,registrationPromise:i}=yield r4(e);return i?i.catch(console.error):c4(e).catch(console.error),n.fid})).apply(this,arguments)}function f4(){return f4=z(function*(t,e=!1){const n=t;return yield function Ele(t){return p4.apply(this,arguments)}(n),(yield c4(n,e)).token}),f4.apply(this,arguments)}function p4(){return(p4=z(function*(t){const{registrationPromise:e}=yield r4(t);e&&(yield e)})).apply(this,arguments)}function _4(t){return el.create("missing-app-config-values",{valueName:t})}const XG="installations",Sle=t=>{const e=t.getProvider("app").getImmediate(),n=function Tle(t){if(!t||!t.options)throw _4("App Configuration");if(!t.name)throw _4("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw _4(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Au(e,"heartbeat"),_delete:()=>Promise.resolve()}},Mle=t=>{const n=Au(t.getProvider("app").getImmediate(),XG).getImmediate();return{getId:()=>function Cle(t){return h4.apply(this,arguments)}(n),getToken:s=>function Ale(t){return f4.apply(this,arguments)}(n,s)}};(function Ple(){Ha(new ra(XG,Sle,"PUBLIC")),Ha(new ra("installations-internal",Mle,"PRIVATE"))})(),Ms(LG,HB),Ms(LG,HB,"esm2017");const gS="analytics",Rle="firebase_id",Nle="origin",Ole=6e4,Lle="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",b4="https://www.googletagmanager.com/gtag/js",Yr=new Wx("@firebase/analytics"),no=new lf("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Fle(t){if(!t.startsWith(b4)){const e=no.create("invalid-gtag-resource",{gtagURL:t});return Yr.warn(e.message),""}return t}function e$(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function y4(){return(y4=z(function*(t,e,n,i,s,c){const d=i[s];try{if(d)yield e[d];else{const m=(yield e$(n)).find(y=>y.measurementId===s);m&&(yield e[m.appId])}}catch(p){Yr.error(p)}t("config",s,c)})).apply(this,arguments)}function w4(){return(w4=z(function*(t,e,n,i,s){try{let c=[];if(s&&s.send_to){let d=s.send_to;Array.isArray(d)||(d=[d]);const p=yield e$(n);for(const m of d){const y=p.find(C=>C.measurementId===m),k=y&&e[y.appId];if(!k){c=[];break}c.push(k)}}0===c.length&&(c=Object.values(e)),yield Promise.all(c),t("event",i,s||{})}catch(c){Yr.error(c)}})).apply(this,arguments)}const Wle=30,t$=new class Qle{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Yle(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function k4(){return(k4=z(function*(t){var e;const{appId:n,apiKey:i}=t,s={method:"GET",headers:Yle(i)},c=Lle.replace("{app-id}",n),d=yield fetch(c,s);if(200!==d.status&&304!==d.status){let p="";try{const m=yield d.json();null!==(e=m.error)&&void 0!==e&&e.message&&(p=m.error.message)}catch{}throw no.create("config-fetch-failed",{httpStatus:d.status,responseMessage:p})}return d.json()})).apply(this,arguments)}function v4(){return(v4=z(function*(t,e=t$,n){const{appId:i,apiKey:s,measurementId:c}=t.options;if(!i)throw no.create("no-app-id");if(!s){if(c)return{measurementId:c,appId:i};throw no.create("no-api-key")}const d=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},p=new tue;return setTimeout(z(function*(){p.abort()}),void 0!==n?n:Ole),n$({appId:i,apiKey:s,measurementId:c},d,p,e)})).apply(this,arguments)}function n$(t,e,n){return C4.apply(this,arguments)}function C4(){return C4=z(function*(t,{throttleEndTimeMillis:e,backoffCount:n},i,s=t$){var c;const{appId:d,measurementId:p}=t;try{yield function Xle(t,e){return new Promise((n,i)=>{const s=Math.max(e-Date.now(),0),c=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(c),i(no.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(i,e)}catch(m){if(p)return Yr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${p} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:d,measurementId:p};throw m}try{const m=yield function Zle(t){return k4.apply(this,arguments)}(t);return s.deleteThrottleMetadata(d),m}catch(m){const y=m;if(!function eue(t){if(!(t instanceof na&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(y)){if(s.deleteThrottleMetadata(d),p)return Yr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${p} provided in the "measurementId" field in the local Firebase config. [${y?.message}]`),{appId:d,measurementId:p};throw m}const k=503===Number(null===(c=y?.customData)||void 0===c?void 0:c.httpStatus)?lH(n,s.intervalMillis,Wle):lH(n,s.intervalMillis),C={throttleEndTimeMillis:Date.now()+k,backoffCount:n+1};return s.setThrottleMetadata(d,C),Yr.debug(`Calling attemptFetch again in ${k} millis`),n$(t,C,i,s)}}),C4.apply(this,arguments)}class tue{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let A4,M4;function E4(){return(E4=z(function*(t,e,n,i,s){if(s&&s.global)t("event",n,i);else{const c=yield e;t("event",n,Object.assign(Object.assign({},i),{send_to:c}))}})).apply(this,arguments)}function P4(){return(P4=z(function*(){if(!oH())return Yr.warn(no.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield sH()}catch(t){return Yr.warn(no.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function R4(){return R4=z(function*(t,e,n,i,s,c,d){var p;const m=function Jle(t){return v4.apply(this,arguments)}(t);m.then(M=>{n[M.measurementId]=M.appId,t.options.measurementId&&M.measurementId!==t.options.measurementId&&Yr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${M.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(M=>Yr.error(M)),e.push(m);const y=function cue(){return P4.apply(this,arguments)}().then(M=>{if(M)return i.getId()}),[k,C]=yield Promise.all([m,y]);(function qle(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(b4)&&n.src.includes(t))return n;return null})(c)||function zle(t,e){const n=function Ble(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:Fle}),i=document.createElement("script"),s=`${b4}?l=${t}&id=${e}`;i.src=n?n?.createScriptURL(s):s,i.async=!0,document.head.appendChild(i)}(c,k.measurementId),M4&&(s("consent","default",M4),function r$(t){M4=t}(void 0)),s("js",new Date);const I=null!==(p=d?.config)&&void 0!==p?p:{};return I[Nle]="firebase",I.update=!0,null!=C&&(I[Rle]=C),s("config",k.measurementId,I),A4&&(s("set",A4),function i$(t){A4=t}(void 0)),k.measurementId}),R4.apply(this,arguments)}class uue{constructor(e){this.app=e}_delete(){return delete $a[this.app.options.appId],Promise.resolve()}}let $a={},o$=[];const s$={};let c$,qa,mS="dataLayer",N4=!1;function hue(t,e,n){!function due(){const t=[];if(iH()&&t.push("This is a browser extension environment."),function wie(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}()||t.push("Cookies are not available."),t.length>0){const e=t.map((i,s)=>`(${s+1}) ${i}`).join(" "),n=no.create("invalid-analytics-context",{errorInfo:e});Yr.warn(n.message)}}();const i=t.options.appId;if(!i)throw no.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw no.create("no-api-key");Yr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=$a[i])throw no.create("already-exists",{id:i});if(!N4){!function jle(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(mS);const{wrappedGtag:c,gtagCore:d}=function $le(t,e,n,i,s){let c=function(...d){window[i].push(arguments)};return window[s]&&"function"==typeof window[s]&&(c=window[s]),window[s]=function Gle(t,e,n,i){function c(){return c=z(function*(d,...p){try{if("event"===d){const[m,y]=p;yield function Hle(t,e,n,i,s){return w4.apply(this,arguments)}(t,e,n,m,y)}else if("config"===d){const[m,y]=p;yield function Ule(t,e,n,i,s,c){return y4.apply(this,arguments)}(t,e,n,i,m,y)}else if("consent"===d){const[m]=p;t("consent","update",m)}else if("get"===d){const[m,y,k]=p;t("get",m,y,k)}else if("set"===d){const[m]=p;t("set",m)}else t(d,...p)}catch(m){Yr.error(m)}}),c.apply(this,arguments)}return function s(d){return c.apply(this,arguments)}}(c,t,e,n),{gtagCore:c,wrappedGtag:window[s]}}($a,o$,s$,mS,"gtag");qa=c,c$=d,N4=!0}return $a[i]=function lue(t,e,n,i,s,c,d){return R4.apply(this,arguments)}(t,o$,s$,e,c$,mS,n),new uue(t)}const l$="@firebase/analytics";!function mue(){Ha(new ra(gS,(e,{options:n})=>hue(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),Ha(new ra("analytics-internal",function t(e){try{const n=e.getProvider(gS).getImmediate();return{logEvent:(i,s,c)=>function gue(t,e,n,i){t=Br(t),function nue(t,e,n,i,s){return E4.apply(this,arguments)}(qa,$a[t.app.options.appId],e,n,i).catch(s=>Yr.error(s))}(n,i,s,c)}}catch(n){throw no.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Ms(l$,"0.10.0"),Ms(l$,"0.10.0","esm2017")}();var xe,_ue=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ia={},V4=V4||{},lt=_ue||self;function _S(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function e0(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var F4="closure_uid_"+(1e9*Math.random()>>>0),yue=0;function wue(t,e,n){return t.call.apply(t.bind,arguments)}function kue(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,i),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function Bi(t,e,n){return(Bi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?wue:kue).apply(null,arguments)}function bS(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function Zr(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(i,s,c){for(var d=Array(arguments.length-2),p=2;p<arguments.length;p++)d[p-2]=arguments[p];return e.prototype[s].apply(i,d)}}function Tu(){this.s=this.s,this.o=this.o}Tu.prototype.s=!1,Tu.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function bue(t){Object.prototype.hasOwnProperty.call(t,F4)&&t[F4]||(t[F4]=++yue)}(this)},Tu.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const d$=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function B4(t){const e=t.length;if(0<e){const n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function h$(t,e){for(let n=1;n<arguments.length;n++){const i=arguments[n];if(_S(i)){const s=t.length||0,c=i.length||0;t.length=s+c;for(let d=0;d<c;d++)t[s+d]=i[d]}else t.push(i)}}function zi(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}zi.prototype.h=function(){this.defaultPrevented=!0};var Cue=function(){if(!lt.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{lt.addEventListener("test",()=>{},e),lt.removeEventListener("test",()=>{},e)}catch{}return t}();function t0(t){return/^[\s\xa0]*$/.test(t)}function yS(){var t=lt.navigator;return t&&(t=t.userAgent)?t:""}function Wa(t){return-1!=yS().indexOf(t)}function z4(t){return z4[" "](t),t}z4[" "]=function(){};var U4,t,Eue=Wa("Opera"),Lm=Wa("Trident")||Wa("MSIE"),f$=Wa("Edge"),j4=f$||Lm,p$=Wa("Gecko")&&!(-1!=yS().toLowerCase().indexOf("webkit")&&!Wa("Edge"))&&!(Wa("Trident")||Wa("MSIE"))&&!Wa("Edge"),Iue=-1!=yS().toLowerCase().indexOf("webkit")&&!Wa("Edge");function g$(){var t=lt.document;return t?t.documentMode:void 0}e:{var H4="",G4=(t=yS(),p$?/rv:([^\);]+)(\)|;)/.exec(t):f$?/Edge\/([\d\.]+)/.exec(t):Lm?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Iue?/WebKit\/(\S+)/.exec(t):Eue?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(G4&&(H4=G4?G4[1]:""),Lm){var $4=g$();if(null!=$4&&$4>parseFloat(H4)){U4=String($4);break e}}U4=H4}var Due=lt.document&&Lm&&(g$()||parseInt(U4,10))||void 0;function n0(t,e){if(zi.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(p$){e:{try{z4(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Tue[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&n0.$.h.call(this)}}Zr(n0,zi);var Tue={2:"touch",3:"pen",4:"mouse"};n0.prototype.h=function(){n0.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var r0="closure_listenable_"+(1e6*Math.random()|0),xue=0;function Sue(t,e,n,i,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.la=s,this.key=++xue,this.fa=this.ia=!1}function wS(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function W4(t,e,n){for(const i in t)e.call(n,t[i],i,t)}function _$(t){const e={};for(const n in t)e[n]=t[n];return e}const b$="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function y$(t,e){let n,i;for(let s=1;s<arguments.length;s++){for(n in i=arguments[s],i)t[n]=i[n];for(let c=0;c<b$.length;c++)n=b$[c],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function kS(t){this.src=t,this.g={},this.h=0}function K4(t,e){var n=e.type;if(n in t.g){var c,i=t.g[n],s=d$(i,e);(c=0<=s)&&Array.prototype.splice.call(i,s,1),c&&(wS(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function Q4(t,e,n,i){for(var s=0;s<t.length;++s){var c=t[s];if(!c.fa&&c.listener==e&&c.capture==!!n&&c.la==i)return s}return-1}kS.prototype.add=function(t,e,n,i,s){var c=t.toString();(t=this.g[c])||(t=this.g[c]=[],this.h++);var d=Q4(t,e,i,s);return-1<d?(e=t[d],n||(e.ia=!1)):((e=new Sue(e,this.src,c,!!i,s)).ia=n,t.push(e)),e};var Y4="closure_lm_"+(1e6*Math.random()|0),Z4={};function w$(t,e,n,i,s){if(i&&i.once)return v$(t,e,n,i,s);if(Array.isArray(e)){for(var c=0;c<e.length;c++)w$(t,e[c],n,i,s);return null}return n=t3(n),t&&t[r0]?t.O(e,n,e0(i)?!!i.capture:!!i,s):k$(t,e,n,!1,i,s)}function k$(t,e,n,i,s,c){if(!e)throw Error("Invalid event type");var d=e0(s)?!!s.capture:!!s,p=X4(t);if(p||(t[Y4]=p=new kS(t)),(n=p.add(e,n,i,d,c)).proxy)return n;if(i=function Pue(){const e=Rue;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)Cue||(s=d),void 0===s&&(s=!1),t.addEventListener(e.toString(),i,s);else if(t.attachEvent)t.attachEvent(A$(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}return n}function v$(t,e,n,i,s){if(Array.isArray(e)){for(var c=0;c<e.length;c++)v$(t,e[c],n,i,s);return null}return n=t3(n),t&&t[r0]?t.P(e,n,e0(i)?!!i.capture:!!i,s):k$(t,e,n,!0,i,s)}function C$(t,e,n,i,s){if(Array.isArray(e))for(var c=0;c<e.length;c++)C$(t,e[c],n,i,s);else i=e0(i)?!!i.capture:!!i,n=t3(n),t&&t[r0]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=Q4(c=t.g[e],n,i,s))&&(wS(c[n]),Array.prototype.splice.call(c,n,1),0==c.length&&(delete t.g[e],t.h--))):t&&(t=X4(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Q4(e,n,i,s)),(n=-1<t?e[t]:null)&&J4(n))}function J4(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[r0])K4(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(A$(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=X4(e))?(K4(n,t),0==n.h&&(n.src=null,e[Y4]=null)):wS(t)}}}function A$(t){return t in Z4?Z4[t]:Z4[t]="on"+t}function Rue(t,e){if(t.fa)t=!0;else{e=new n0(e,this);var n=t.listener,i=t.la||t.src;t.ia&&J4(t),t=n.call(i,e)}return t}function X4(t){return(t=t[Y4])instanceof kS?t:null}var e3="__closure_events_fn_"+(1e9*Math.random()>>>0);function t3(t){return"function"==typeof t?t:(t[e3]||(t[e3]=function(e){return t.handleEvent(e)}),t[e3])}function Jr(){Tu.call(this),this.i=new kS(this),this.S=this,this.J=null}function fi(t,e){var n,i=t.J;if(i)for(n=[];i;i=i.J)n.push(i);if(t=t.S,i=e.type||e,"string"==typeof e)e=new zi(e,t);else if(e instanceof zi)e.target=e.target||t;else{var s=e;y$(e=new zi(i,t),s)}if(s=!0,n)for(var c=n.length-1;0<=c;c--){var d=e.g=n[c];s=vS(d,i,!0,e)&&s}if(s=vS(d=e.g=t,i,!0,e)&&s,s=vS(d,i,!1,e)&&s,n)for(c=0;c<n.length;c++)s=vS(d=e.g=n[c],i,!1,e)&&s}function vS(t,e,n,i){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var s=!0,c=0;c<e.length;++c){var d=e[c];if(d&&!d.fa&&d.capture==n){var p=d.listener,m=d.la||d.src;d.ia&&K4(t.i,d),s=!1!==p.call(m,i)&&s}}return s&&!i.defaultPrevented}Zr(Jr,Tu),Jr.prototype[r0]=!0,Jr.prototype.removeEventListener=function(t,e,n,i){C$(this,t,e,n,i)},Jr.prototype.N=function(){if(Jr.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)wS(n[i]);delete t.g[e],t.h--}}this.J=null},Jr.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)},Jr.prototype.P=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};var n3=lt.JSON.stringify;function Oue(){var t=r3;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var E$=new class Nue{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Vue,t=>t.reset());class Vue{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Fue(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Bue(t){lt.setTimeout(()=>{throw t},0)}let o0,s0=!1,r3=new class Lue{constructor(){this.h=this.g=null}add(e,n){const i=E$.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i}},I$=()=>{const t=lt.Promise.resolve(void 0);o0=()=>{t.then(zue)}};var zue=()=>{for(var t;t=Oue();){try{t.h.call(t.g)}catch(n){Bue(n)}var e=E$;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}s0=!1};function CS(t,e){Jr.call(this),this.h=t||1,this.g=e||lt,this.j=Bi(this.qb,this),this.l=Date.now()}function i3(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function o3(t,e,n){if("function"==typeof t)n&&(t=Bi(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Bi(t.handleEvent,t)}return 2147483647<Number(e)?-1:lt.setTimeout(t,e||0)}function D$(t){t.g=o3(()=>{t.g=null,t.i&&(t.i=!1,D$(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Zr(CS,Jr),(xe=CS.prototype).ga=!1,xe.T=null,xe.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),fi(this,"tick"),this.ga&&(i3(this),this.start()))}},xe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},xe.N=function(){CS.$.N.call(this),i3(this),delete this.g};class jue extends Tu{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:D$(this)}N(){super.N(),this.g&&(lt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function a0(t){Tu.call(this),this.h=t,this.g={}}Zr(a0,Tu);var T$=[];function x$(t,e,n,i){Array.isArray(n)||(n&&(T$[0]=n.toString()),n=T$);for(var s=0;s<n.length;s++){var c=w$(e,n[s],i||t.handleEvent,!1,t.h||t);if(!c)break;t.g[c.key]=c}}function S$(t){W4(t.g,function(e,n){this.g.hasOwnProperty(n)&&J4(e)},t),t.g={}}function AS(){this.g=!0}function Vm(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function $ue(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var s=i[1];if(Array.isArray(s)&&!(1>s.length)){var c=s[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var d=1;d<s.length;d++)s[d]=""}}}return n3(n)}catch{return e}}(t,n)+(i?" "+i:"")})}a0.prototype.N=function(){a0.$.N.call(this),S$(this)},a0.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},AS.prototype.Ea=function(){this.g=!1},AS.prototype.info=function(){};var bf={},M$=null;function ES(){return M$=M$||new Jr}function P$(t){zi.call(this,bf.Ta,t)}function c0(t){const e=ES();fi(e,new P$(e))}function R$(t,e){zi.call(this,bf.STAT_EVENT,t),this.stat=e}function ro(t){const e=ES();fi(e,new R$(e,t))}function N$(t,e){zi.call(this,bf.Ua,t),this.size=e}function l0(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return lt.setTimeout(function(){t()},e)}bf.Ta="serverreachability",Zr(P$,zi),bf.STAT_EVENT="statevent",Zr(R$,zi),bf.Ua="timingevent",Zr(N$,zi);var IS={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},O$={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function s3(){}function V$(){}s3.prototype.h=null;var l3,u0={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function a3(){zi.call(this,"d")}function c3(){zi.call(this,"c")}function DS(){}function d0(t,e,n,i){this.l=t,this.j=e,this.m=n,this.W=i||1,this.U=new a0(this),this.P=que,this.V=new CS(t=j4?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new F$}function F$(){this.i=null,this.g="",this.h=!1}Zr(a3,zi),Zr(c3,zi),Zr(DS,s3),DS.prototype.g=function(){return new XMLHttpRequest},DS.prototype.i=function(){return{}},l3=new DS;var que=45e3,u3={},TS={};function d3(t,e,n){t.L=1,t.v=PS(tl(e)),t.s=n,t.S=!0,B$(t,null)}function B$(t,e){t.G=Date.now(),h0(t),t.A=tl(t.v);var n=t.A,i=t.W;Array.isArray(i)||(i=[String(i)]),Q$(n.i,"t",i),t.C=0,n=t.l.J,t.h=new F$,t.g=yq(t.l,n?e:null,!t.s),0<t.O&&(t.M=new jue(Bi(t.Pa,t,t.g),t.O)),x$(t.U,t.g,"readystatechange",t.nb),e=t.I?_$(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),c0(),function Uue(t,e,n,i,s,c){t.info(function(){if(t.g)if(c)for(var d="",p=c.split("&"),m=0;m<p.length;m++){var y=p[m].split("=");if(1<y.length){var k=y[0];y=y[1];var C=k.split("_");d=2<=C.length&&"type"==C[1]?d+(k+"=")+y+"&":d+(k+"=redacted&")}}else d=null;else d=c;return"XMLHTTP REQ ("+i+") [attempt "+s+"]: "+e+"\n"+n+"\n"+d})}(t.j,t.u,t.A,t.m,t.W,t.s)}function z$(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function j$(t,e,n){let s,i=!0;for(;!t.J&&t.C<n.length;){if(s=Wue(t,n),s==TS){4==e&&(t.o=4,ro(14),i=!1),Vm(t.j,t.m,null,"[Incomplete Response]");break}if(s==u3){t.o=4,ro(15),Vm(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}Vm(t.j,t.m,s,null),h3(t,s)}z$(t)&&s!=TS&&s!=u3&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,ro(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),y3(e),e.M=!0,ro(11))):(Vm(t.j,t.m,n,"[Invalid Chunked Response]"),yf(t),f0(t))}function Wue(t,e){var n=t.C,i=e.indexOf("\n",n);return-1==i?TS:(n=Number(e.substring(n,i)),isNaN(n)?u3:(i+=1)+n>e.length?TS:(e=e.slice(i,i+n),t.C=i+n,e))}function h0(t){t.Y=Date.now()+t.P,U$(t,t.P)}function U$(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=l0(Bi(t.lb,t),e)}function xS(t){t.B&&(lt.clearTimeout(t.B),t.B=null)}function f0(t){0==t.l.H||t.J||gq(t.l,t)}function yf(t){xS(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,i3(t.V),S$(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function h3(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||f3(n.i,t)))if(!t.K&&f3(n.i,t)&&3==n.H){try{var i=n.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var s=i;if(0==s[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;FS(n),LS(n)}b3(n),ro(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&0==n.A&&!n.v&&(n.v=l0(Bi(n.ib,n),6e3));if(1>=J$(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else kf(n,11)}else if((t.K||n.g==t)&&FS(n),!t0(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let y=s[e];if(n.V=y[0],y=y[1],2==n.H)if("c"==y[0]){n.K=y[1],n.pa=y[2];const k=y[3];null!=k&&(n.ra=k,n.l.info("VER="+n.ra));const C=y[4];null!=C&&(n.Ga=C,n.l.info("SVER="+n.Ga));const I=y[5];null!=I&&"number"==typeof I&&0<I&&(n.L=i=1.5*I,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;const M=t.g;if(M){const O=M.g?M.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(O){var c=i.i;c.g||-1==O.indexOf("spdy")&&-1==O.indexOf("quic")&&-1==O.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(p3(c,c.h),c.h=null))}if(i.F){const B=M.g?M.g.getResponseHeader("X-HTTP-Session-Id"):null;B&&(i.Da=B,Mn(i.I,i.F,B))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var d=t;if((i=n).wa=bq(i,i.J?i.pa:null,i.Y),d.K){X$(i.i,d);var p=d,m=i.L;m&&p.setTimeout(m),p.B&&(xS(p),h0(p)),i.g=d}else fq(i);0<n.j.length&&VS(n)}else"stop"!=y[0]&&"close"!=y[0]||kf(n,7);else 3==n.H&&("stop"==y[0]||"close"==y[0]?"stop"==y[0]?kf(n,7):_3(n):"noop"!=y[0]&&n.h&&n.h.Aa(y),n.A=0)}c0()}catch{}}function H$(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(_S(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function Que(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(_S(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const i in t)e[n++]=i;return e}}}(t),i=function Kue(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(_S(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}(t),s=i.length,c=0;c<s;c++)e.call(void 0,i[c],n&&n[c],t)}(xe=d0.prototype).setTimeout=function(t){this.P=t},xe.nb=function(t){t=t.target;const e=this.M;e&&3==Ka(t)?e.l():this.Pa(t)},xe.Pa=function(t){try{if(t==this.g)e:{const k=Ka(this.g);var e=this.g.Ia();if(this.g.da(),!(3>k)&&(3!=k||j4||this.g&&(this.h.h||this.g.ja()||aq(this.g)))){this.J||4!=k||7==e||c0(),xS(this);var n=this.g.da();this.ca=n;t:if(z$(this)){var i=aq(this.g);t="";var s=i.length,c=4==Ka(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){yf(this),f0(this);var d="";break t}this.h.i=new lt.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:c&&e==s-1});i.splice(0,s),this.h.g+=t,this.C=0,d=this.h.g}else d=this.g.ja();if(this.i=200==n,function Hue(t,e,n,i,s,c,d){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+s+"]: "+e+"\n"+n+"\n"+c+" "+d})}(this.j,this.u,this.A,this.m,this.W,k,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var p,m=this.g;if((p=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!t0(p)){var y=p;break t}}y=null}if(!(n=y)){this.i=!1,this.o=3,ro(12),yf(this),f0(this);break e}Vm(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,h3(this,n)}this.S?(j$(this,k,d),j4&&this.i&&3==k&&(x$(this.U,this.V,"tick",this.mb),this.V.start())):(Vm(this.j,this.m,d,null),h3(this,d)),4==k&&yf(this),this.i&&!this.J&&(4==k?gq(this.l,this):(this.i=!1,h0(this)))}else(function fde(t){const e={};t=(t.g&&2<=Ka(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<t.length;i++){if(t0(t[i]))continue;var n=Fue(t[i]);const s=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const c=e[s]||[];e[s]=c,c.push(n)}!function Mue(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(i){return i.join(", ")})})(this.g),400==n&&0<d.indexOf("Unknown SID")?(this.o=3,ro(12)):(this.o=0,ro(13)),yf(this),f0(this)}}}catch{}},xe.mb=function(){if(this.g){var t=Ka(this.g),e=this.g.ja();this.C<e.length&&(xS(this),j$(this,t,e),this.i&&4!=t&&h0(this))}},xe.cancel=function(){this.J=!0,yf(this)},xe.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function Gue(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(c0(),ro(17)),yf(this),this.o=2,f0(this)):U$(this,this.Y-t)};var G$=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wf(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof wf){this.h=t.h,SS(this,t.j),this.s=t.s,this.g=t.g,MS(this,t.m),this.l=t.l;var e=t.i,n=new m0;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),$$(this,n),this.o=t.o}else t&&(e=String(t).match(G$))?(this.h=!1,SS(this,e[1]||"",!0),this.s=p0(e[2]||""),this.g=p0(e[3]||"",!0),MS(this,e[4]),this.l=p0(e[5]||"",!0),$$(this,e[6]||"",!0),this.o=p0(e[7]||"")):(this.h=!1,this.i=new m0(null,this.h))}function tl(t){return new wf(t)}function SS(t,e,n){t.j=n?p0(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function MS(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function $$(t,e,n){e instanceof m0?(t.i=e,function nde(t,e){e&&!t.j&&(xu(t),t.i=null,t.g.forEach(function(n,i){var s=i.toLowerCase();i!=s&&(W$(this,i),Q$(this,s,n))},t)),t.j=e}(t.i,t.h)):(n||(e=g0(e,ede)),t.i=new m0(e,t.h))}function Mn(t,e,n){t.i.set(e,n)}function PS(t){return Mn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function p0(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function g0(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Zue),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Zue(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}wf.prototype.toString=function(){var t=[],e=this.j;e&&t.push(g0(e,q$,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(g0(e,q$,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(g0(n,"/"==n.charAt(0)?Xue:Jue,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",g0(n,tde)),t.join("")};var q$=/[#\/\?@]/g,Jue=/[#\?:]/g,Xue=/[#\?]/g,ede=/[#\?@]/g,tde=/#/g;function m0(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function xu(t){t.g||(t.g=new Map,t.h=0,t.i&&function Yue(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),s=null;if(0<=i){var c=t[n].substring(0,i);s=t[n].substring(i+1)}else c=t[n];e(c,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function W$(t,e){xu(t),e=Fm(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function K$(t,e){return xu(t),e=Fm(t,e),t.g.has(e)}function Q$(t,e,n){W$(t,e),0<n.length&&(t.i=null,t.g.set(Fm(t,e),B4(n)),t.h+=n.length)}function Fm(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Y$(t){this.l=t||ide,t=lt.PerformanceNavigationTiming?0<(t=lt.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(lt.g&&lt.g.Ka&&lt.g.Ka()&&lt.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(xe=m0.prototype).add=function(t,e){xu(this),this.i=null,t=Fm(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},xe.forEach=function(t,e){xu(this),this.g.forEach(function(n,i){n.forEach(function(s){t.call(e,s,i,this)},this)},this)},xe.ta=function(){xu(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){const s=t[i];for(let c=0;c<s.length;c++)n.push(e[i])}return n},xe.Z=function(t){xu(this);let e=[];if("string"==typeof t)K$(this,t)&&(e=e.concat(this.g.get(Fm(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},xe.set=function(t,e){return xu(this),this.i=null,K$(this,t=Fm(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},xe.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},xe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];const c=encodeURIComponent(String(i)),d=this.Z(i);for(i=0;i<d.length;i++){var s=c;""!==d[i]&&(s+="="+encodeURIComponent(String(d[i]))),t.push(s)}}return this.i=t.join("&")};var ide=10;function Z$(t){return!!t.h||!!t.g&&t.g.size>=t.j}function J$(t){return t.h?1:t.g?t.g.size:0}function f3(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function p3(t,e){t.g?t.g.add(e):t.h=e}function X$(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function eq(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return B4(t.i)}Y$.prototype.cancel=function(){if(this.i=eq(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var ode=class{stringify(t){return lt.JSON.stringify(t,void 0)}parse(t){return lt.JSON.parse(t,void 0)}};function sde(){this.g=new ode}function ade(t,e,n){const i=n||"";try{H$(t,function(s,c){let d=s;e0(s)&&(d=n3(s)),e.push(i+c+"="+encodeURIComponent(d))})}catch(s){throw e.push(i+"type="+encodeURIComponent("_badmap")),s}}function RS(t,e,n,i,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(i)}catch{}}function _0(t){this.l=t.ec||null,this.j=t.ob||!1}function NS(t,e){Jr.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=g3,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Zr(_0,s3),_0.prototype.g=function(){return new NS(this.l,this.j)},_0.prototype.i=function(t){return function(){return t}}({}),Zr(NS,Jr);var g3=0;function tq(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function b0(t){t.readyState=4,t.l=null,t.j=null,t.A=null,y0(t)}function y0(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(xe=NS.prototype).open=function(t,e){if(this.readyState!=g3)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,y0(this)},xe.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||lt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},xe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,b0(this)),this.readyState=g3},xe.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,y0(this)),this.g&&(this.readyState=3,y0(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof lt.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;tq(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},xe.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?b0(this):y0(this),3==this.readyState&&tq(this)}},xe.Za=function(t){this.g&&(this.response=this.responseText=t,b0(this))},xe.Ya=function(t){this.g&&(this.response=t,b0(this))},xe.ka=function(){this.g&&b0(this)},xe.setRequestHeader=function(t,e){this.v.append(t,e)},xe.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},xe.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(NS.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var lde=lt.JSON.parse;function nr(t){Jr.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=nq,this.L=this.M=!1}Zr(nr,Jr);var nq="",ude=/^https?$/i,dde=["POST","PUT"];function rq(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,iq(t),OS(t)}function iq(t){t.F||(t.F=!0,fi(t,"complete"),fi(t,"error"))}function oq(t){if(t.h&&typeof V4<"u"&&(!t.C[1]||4!=Ka(t)||2!=t.da()))if(t.v&&4==Ka(t))o3(t.La,0,t);else if(fi(t,"readystatechange"),4==Ka(t)){t.h=!1;try{const d=t.da();e:switch(d){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var i;if(i=0===d){var s=String(t.I).match(G$)[1]||null;!s&&lt.self&&lt.self.location&&(s=lt.self.location.protocol.slice(0,-1)),i=!ude.test(s?s.toLowerCase():"")}n=i}if(n)fi(t,"complete"),fi(t,"success");else{t.m=6;try{var c=2<Ka(t)?t.g.statusText:""}catch{c=""}t.j=c+" ["+t.da()+"]",iq(t)}}finally{OS(t)}}}function OS(t,e){if(t.g){sq(t);const n=t.g,i=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||fi(t,"ready");try{n.onreadystatechange=i}catch{}}}function sq(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(lt.clearTimeout(t.A),t.A=null)}function Ka(t){return t.g?t.g.readyState:0}function aq(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case nq:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function cq(t){let e="";return W4(t,function(n,i){e+=i,e+=":",e+=n,e+="\r\n"}),e}function m3(t,e,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=cq(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Mn(t,e,n))}function w0(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function lq(t){this.Ga=0,this.j=[],this.l=new AS,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=w0("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=w0("baseRetryDelayMs",5e3,t),this.hb=w0("retryDelaySeedMs",1e4,t),this.eb=w0("forwardChannelMaxRetries",2,t),this.xa=w0("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new Y$(t&&t.concurrentRequestLimit),this.Ja=new sde,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function _3(t){if(uq(t),3==t.H){var e=t.W++,n=tl(t.I);if(Mn(n,"SID",t.K),Mn(n,"RID",e),Mn(n,"TYPE","terminate"),k0(t,n),(e=new d0(t,t.l,e)).L=2,e.v=PS(tl(n)),n=!1,lt.navigator&&lt.navigator.sendBeacon)try{n=lt.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&lt.Image&&((new Image).src=e.v,n=!0),n||(e.g=yq(e.l,null),e.g.ha(e.v)),e.G=Date.now(),h0(e)}_q(t)}function LS(t){t.g&&(y3(t),t.g.cancel(),t.g=null)}function uq(t){LS(t),t.u&&(lt.clearTimeout(t.u),t.u=null),FS(t),t.i.cancel(),t.m&&("number"==typeof t.m&&lt.clearTimeout(t.m),t.m=null)}function VS(t){if(!Z$(t.i)&&!t.m){t.m=!0;var e=t.Na;o0||I$(),s0||(o0(),s0=!0),r3.add(e,t),t.C=0}}function dq(t,e){var n;n=e?e.m:t.W++;const i=tl(t.I);Mn(i,"SID",t.K),Mn(i,"RID",n),Mn(i,"AID",t.V),k0(t,i),t.o&&t.s&&m3(i,t.o,t.s),n=new d0(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=hq(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),p3(t.i,n),d3(n,i,e)}function k0(t,e){t.na&&W4(t.na,function(n,i){Mn(e,i,n)}),t.h&&H$({},function(n,i){Mn(e,i,n)})}function hq(t,e,n){n=Math.min(t.j.length,n);var i=t.h?Bi(t.h.Va,t.h,t):null;e:{var s=t.j;let c=-1;for(;;){const d=["count="+n];-1==c?0<n?(c=s[0].g,d.push("ofs="+c)):c=0:d.push("ofs="+c);let p=!0;for(let m=0;m<n;m++){let y=s[m].g;const k=s[m].map;if(y-=c,0>y)c=Math.max(0,s[m].g-100),p=!1;else try{ade(k,d,"req"+y+"_")}catch{i&&i(k)}}if(p){i=d.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,i}function fq(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;o0||I$(),s0||(o0(),s0=!0),r3.add(e,t),t.A=0}}function b3(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=l0(Bi(t.Ma,t),mq(t,t.A)),t.A++,0))}function y3(t){null!=t.B&&(lt.clearTimeout(t.B),t.B=null)}function pq(t){t.g=new d0(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=tl(t.wa);Mn(e,"RID","rpc"),Mn(e,"SID",t.K),Mn(e,"AID",t.V),Mn(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Mn(e,"TO",t.qa),Mn(e,"TYPE","xmlhttp"),k0(t,e),t.o&&t.s&&m3(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=PS(tl(e)),n.s=null,n.S=!0,B$(n,t)}function FS(t){null!=t.v&&(lt.clearTimeout(t.v),t.v=null)}function gq(t,e){var n=null;if(t.g==e){FS(t),y3(t),t.g=null;var i=2}else{if(!f3(t.i,e))return;n=e.F,X$(t.i,e),i=1}if(0!=t.H)if(e.i)if(1==i){n=e.s?e.s.length:0,e=Date.now()-e.G;var s=t.C;fi(i=ES(),new N$(i,n)),VS(t)}else fq(t);else if(3==(s=e.o)||0==s&&0<e.ca||!(1==i&&function pde(t,e){return!(J$(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=l0(Bi(t.Na,t,e),mq(t,t.C)),t.C++,0)))}(t,e)||2==i&&b3(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:kf(t,5);break;case 4:kf(t,10);break;case 3:kf(t,6);break;default:kf(t,2)}}function mq(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function kf(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var i=Bi(t.pb,t);n||(n=new wf("//www.google.com/images/cleardot.gif"),lt.location&&"http"==lt.location.protocol||SS(n,"https"),PS(n)),function cde(t,e){const n=new AS;if(lt.Image){const i=new Image;i.onload=bS(RS,n,i,"TestLoadImage: loaded",!0,e),i.onerror=bS(RS,n,i,"TestLoadImage: error",!1,e),i.onabort=bS(RS,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=bS(RS,n,i,"TestLoadImage: timeout",!1,e),lt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}(n.toString(),i)}else ro(2);t.H=0,t.h&&t.h.za(e),_q(t),uq(t)}function _q(t){if(t.H=0,t.ma=[],t.h){const e=eq(t.i);(0!=e.length||0!=t.j.length)&&(h$(t.ma,e),h$(t.ma,t.j),t.i.i.length=0,B4(t.j),t.j.length=0),t.h.ya()}}function bq(t,e,n){var i=n instanceof wf?tl(n):new wf(n);if(""!=i.g)e&&(i.g=e+"."+i.g),MS(i,i.m);else{var s=lt.location;i=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var c=new wf(null);i&&SS(c,i),e&&(c.g=e),s&&MS(c,s),n&&(c.l=n),i=c}return e=t.Da,(n=t.F)&&e&&Mn(i,n,e),Mn(i,"VER",t.ra),k0(t,i),i}function yq(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new nr(n&&t.Ha&&!t.va?new _0({ob:!0}):t.va)).Oa(t.J),e}function wq(){}function BS(){if(Lm&&!(10<=Number(Due)))throw Error("Environmental error: no available transport.")}function Qo(t,e){Jr.call(this),this.g=new lq(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!t0(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!t0(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Bm(this)}function kq(t){a3.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function vq(){c3.call(this),this.status=1}function Bm(t){this.g=t}function oa(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function w3(t,e,n){n||(n=0);var i=Array(16);if("string"==typeof e)for(var s=0;16>s;++s)i[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)i[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var c=t.g[3],d=(e=t.g[0])+(c^(n=t.g[1])&((s=t.g[2])^c))+i[0]+3614090360&4294967295;d=(n=(s=(c=(e=(n=(s=(c=(e=(n=(s=(c=(e=(n=(s=(c=(e=(n=(s=(c=(e=(n=(s=(c=(e=(n=(s=(c=(e=(n=(s=(c=(e=(n=(s=(c=(e=(n=(s=(c=(e=(n=(s=(c=(e=(n=(s=(c=(e=(n=(s=(c=(e=(n=(s=(c=(e=(n=(s=(c=(e=n+(d<<7&4294967295|d>>>25))+((d=c+(s^e&(n^s))+i[1]+3905402710&4294967295)<<12&4294967295|d>>>20))+((d=s+(n^c&(e^n))+i[2]+606105819&4294967295)<<17&4294967295|d>>>15))+((d=n+(e^s&(c^e))+i[3]+3250441966&4294967295)<<22&4294967295|d>>>10))+((d=e+(c^n&(s^c))+i[4]+4118548399&4294967295)<<7&4294967295|d>>>25))+((d=c+(s^e&(n^s))+i[5]+1200080426&4294967295)<<12&4294967295|d>>>20))+((d=s+(n^c&(e^n))+i[6]+2821735955&4294967295)<<17&4294967295|d>>>15))+((d=n+(e^s&(c^e))+i[7]+4249261313&4294967295)<<22&4294967295|d>>>10))+((d=e+(c^n&(s^c))+i[8]+1770035416&4294967295)<<7&4294967295|d>>>25))+((d=c+(s^e&(n^s))+i[9]+2336552879&4294967295)<<12&4294967295|d>>>20))+((d=s+(n^c&(e^n))+i[10]+4294925233&4294967295)<<17&4294967295|d>>>15))+((d=n+(e^s&(c^e))+i[11]+2304563134&4294967295)<<22&4294967295|d>>>10))+((d=e+(c^n&(s^c))+i[12]+1804603682&4294967295)<<7&4294967295|d>>>25))+((d=c+(s^e&(n^s))+i[13]+4254626195&4294967295)<<12&4294967295|d>>>20))+((d=s+(n^c&(e^n))+i[14]+2792965006&4294967295)<<17&4294967295|d>>>15))+((d=n+(e^s&(c^e))+i[15]+1236535329&4294967295)<<22&4294967295|d>>>10))+((d=e+(s^c&(n^s))+i[1]+4129170786&4294967295)<<5&4294967295|d>>>27))+((d=c+(n^s&(e^n))+i[6]+3225465664&4294967295)<<9&4294967295|d>>>23))+((d=s+(e^n&(c^e))+i[11]+643717713&4294967295)<<14&4294967295|d>>>18))+((d=n+(c^e&(s^c))+i[0]+3921069994&4294967295)<<20&4294967295|d>>>12))+((d=e+(s^c&(n^s))+i[5]+3593408605&4294967295)<<5&4294967295|d>>>27))+((d=c+(n^s&(e^n))+i[10]+38016083&4294967295)<<9&4294967295|d>>>23))+((d=s+(e^n&(c^e))+i[15]+3634488961&4294967295)<<14&4294967295|d>>>18))+((d=n+(c^e&(s^c))+i[4]+3889429448&4294967295)<<20&4294967295|d>>>12))+((d=e+(s^c&(n^s))+i[9]+568446438&4294967295)<<5&4294967295|d>>>27))+((d=c+(n^s&(e^n))+i[14]+3275163606&4294967295)<<9&4294967295|d>>>23))+((d=s+(e^n&(c^e))+i[3]+4107603335&4294967295)<<14&4294967295|d>>>18))+((d=n+(c^e&(s^c))+i[8]+1163531501&4294967295)<<20&4294967295|d>>>12))+((d=e+(s^c&(n^s))+i[13]+2850285829&4294967295)<<5&4294967295|d>>>27))+((d=c+(n^s&(e^n))+i[2]+4243563512&4294967295)<<9&4294967295|d>>>23))+((d=s+(e^n&(c^e))+i[7]+1735328473&4294967295)<<14&4294967295|d>>>18))+((d=n+(c^e&(s^c))+i[12]+2368359562&4294967295)<<20&4294967295|d>>>12))+((d=e+(n^s^c)+i[5]+4294588738&4294967295)<<4&4294967295|d>>>28))+((d=c+(e^n^s)+i[8]+2272392833&4294967295)<<11&4294967295|d>>>21))+((d=s+(c^e^n)+i[11]+1839030562&4294967295)<<16&4294967295|d>>>16))+((d=n+(s^c^e)+i[14]+4259657740&4294967295)<<23&4294967295|d>>>9))+((d=e+(n^s^c)+i[1]+2763975236&4294967295)<<4&4294967295|d>>>28))+((d=c+(e^n^s)+i[4]+1272893353&4294967295)<<11&4294967295|d>>>21))+((d=s+(c^e^n)+i[7]+4139469664&4294967295)<<16&4294967295|d>>>16))+((d=n+(s^c^e)+i[10]+3200236656&4294967295)<<23&4294967295|d>>>9))+((d=e+(n^s^c)+i[13]+681279174&4294967295)<<4&4294967295|d>>>28))+((d=c+(e^n^s)+i[0]+3936430074&4294967295)<<11&4294967295|d>>>21))+((d=s+(c^e^n)+i[3]+3572445317&4294967295)<<16&4294967295|d>>>16))+((d=n+(s^c^e)+i[6]+76029189&4294967295)<<23&4294967295|d>>>9))+((d=e+(n^s^c)+i[9]+3654602809&4294967295)<<4&4294967295|d>>>28))+((d=c+(e^n^s)+i[12]+3873151461&4294967295)<<11&4294967295|d>>>21))+((d=s+(c^e^n)+i[15]+530742520&4294967295)<<16&4294967295|d>>>16))+((d=n+(s^c^e)+i[2]+3299628645&4294967295)<<23&4294967295|d>>>9))+((d=e+(s^(n|~c))+i[0]+4096336452&4294967295)<<6&4294967295|d>>>26))+((d=c+(n^(e|~s))+i[7]+1126891415&4294967295)<<10&4294967295|d>>>22))+((d=s+(e^(c|~n))+i[14]+2878612391&4294967295)<<15&4294967295|d>>>17))+((d=n+(c^(s|~e))+i[5]+4237533241&4294967295)<<21&4294967295|d>>>11))+((d=e+(s^(n|~c))+i[12]+1700485571&4294967295)<<6&4294967295|d>>>26))+((d=c+(n^(e|~s))+i[3]+2399980690&4294967295)<<10&4294967295|d>>>22))+((d=s+(e^(c|~n))+i[10]+4293915773&4294967295)<<15&4294967295|d>>>17))+((d=n+(c^(s|~e))+i[1]+2240044497&4294967295)<<21&4294967295|d>>>11))+((d=e+(s^(n|~c))+i[8]+1873313359&4294967295)<<6&4294967295|d>>>26))+((d=c+(n^(e|~s))+i[15]+4264355552&4294967295)<<10&4294967295|d>>>22))+((d=s+(e^(c|~n))+i[6]+2734768916&4294967295)<<15&4294967295|d>>>17))+((d=n+(c^(s|~e))+i[13]+1309151649&4294967295)<<21&4294967295|d>>>11))+((c=(e=n+((d=e+(s^(n|~c))+i[4]+4149444226&4294967295)<<6&4294967295|d>>>26))+((d=c+(n^(e|~s))+i[11]+3174756917&4294967295)<<10&4294967295|d>>>22))^((s=c+((d=s+(e^(c|~n))+i[2]+718787259&4294967295)<<15&4294967295|d>>>17))|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(d<<21&4294967295|d>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+c&4294967295}function tn(t,e){this.h=e;for(var n=[],i=!0,s=t.length-1;0<=s;s--){var c=0|t[s];i&&c==e||(n[s]=c,i=!1)}this.g=n}(xe=nr.prototype).Oa=function(t){this.M=t},xe.ha=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():l3.g(),this.C=function L$(t){return t.h||(t.h=t.i())}(this.u?this.u:l3),this.g.onreadystatechange=Bi(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(c){return void rq(this,c)}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var s in i)n.set(s,i[s]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const c of i.keys())n.set(c,i.get(c))}i=Array.from(n.keys()).find(c=>"content-type"==c.toLowerCase()),s=lt.FormData&&t instanceof lt.FormData,!(0<=d$(dde,e))||i||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,d]of n)this.g.setRequestHeader(c,d);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{sq(this),0<this.B&&((this.L=function hde(t){return Lm&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Bi(this.ua,this)):this.A=o3(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(c){rq(this,c)}},xe.ua=function(){typeof V4<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,fi(this,"timeout"),this.abort(8))},xe.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,fi(this,"complete"),fi(this,"abort"),OS(this))},xe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),OS(this,!0)),nr.$.N.call(this)},xe.La=function(){this.s||(this.G||this.v||this.l?oq(this):this.kb())},xe.kb=function(){oq(this)},xe.isActive=function(){return!!this.g},xe.da=function(){try{return 2<Ka(this)?this.g.status:-1}catch{return-1}},xe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},xe.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),lde(e)}},xe.Ia=function(){return this.m},xe.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(xe=lq.prototype).ra=8,xe.H=1,xe.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new d0(this,this.l,t);let c=this.s;if(this.U&&(c?(c=_$(c),y$(c,this.U)):c=this.U),null!==this.o||this.O||(s.I=c,c=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var i=this.j[n];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=hq(this,s,e),Mn(n=tl(this.I),"RID",t),Mn(n,"CVER",22),this.F&&Mn(n,"X-HTTP-Session-Id",this.F),k0(this,n),c&&(this.O?e="headers="+encodeURIComponent(String(cq(c)))+"&"+e:this.o&&m3(n,this.o,c)),p3(this.i,s),this.bb&&Mn(n,"TYPE","init"),this.P?(Mn(n,"$req",e),Mn(n,"SID","null"),s.aa=!0,d3(s,n,null)):d3(s,n,e),this.H=2}}else 3==this.H&&(t?dq(this,t):0==this.j.length||Z$(this.i)||dq(this))},xe.Ma=function(){if(this.u=null,pq(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=l0(Bi(this.jb,this),t)}},xe.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ro(10),LS(this),pq(this))},xe.ib=function(){null!=this.v&&(this.v=null,LS(this),b3(this),ro(19))},xe.pb=function(t){t?(this.l.info("Successfully pinged google.com"),ro(2)):(this.l.info("Failed to ping google.com"),ro(1))},xe.isActive=function(){return!!this.h&&this.h.isActive(this)},(xe=wq.prototype).Ba=function(){},xe.Aa=function(){},xe.za=function(){},xe.ya=function(){},xe.isActive=function(){return!0},xe.Va=function(){},BS.prototype.g=function(t,e){return new Qo(t,e)},Zr(Qo,Jr),Qo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;ro(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=bq(t,null,t.Y),VS(t)},Qo.prototype.close=function(){_3(this.g)},Qo.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=n3(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&VS(e)},Qo.prototype.N=function(){this.g.h=null,delete this.j,_3(this.g),delete this.g,Qo.$.N.call(this)},Zr(kq,a3),Zr(vq,c3),Zr(Bm,wq),Bm.prototype.Ba=function(){fi(this.g,"a")},Bm.prototype.Aa=function(t){fi(this.g,new kq(t))},Bm.prototype.za=function(t){fi(this.g,new vq)},Bm.prototype.ya=function(){fi(this.g,"b")},Zr(oa,function gde(){this.blockSize=-1}),oa.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},oa.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,i=this.m,s=this.h,c=0;c<e;){if(0==s)for(;c<=n;)w3(this,t,c),c+=this.blockSize;if("string"==typeof t){for(;c<e;)if(i[s++]=t.charCodeAt(c++),s==this.blockSize){w3(this,i),s=0;break}}else for(;c<e;)if(i[s++]=t[c++],s==this.blockSize){w3(this,i),s=0;break}}this.h=s,this.i+=e},oa.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)t[n++]=this.g[e]>>>i&255;return t};var mde={};function k3(t){return-128<=t&&128>t?function Aue(t,e){var n=mde;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new tn([0|e],0>e?-1:0)}):new tn([0|t],0>t?-1:0)}function Qa(t){if(isNaN(t)||!isFinite(t))return zm;if(0>t)return pi(Qa(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=v3;return new tn(e,0)}var v3=4294967296,zm=k3(0),C3=k3(1),Aq=k3(16777216);function nl(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function Rs(t){return-1==t.h}function pi(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new tn(n,~t.h).add(C3)}function zS(t,e){return t.add(pi(e))}function jS(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function v0(t,e){this.g=t,this.h=e}function US(t,e){if(nl(e))throw Error("division by zero");if(nl(t))return new v0(zm,zm);if(Rs(t))return e=US(pi(t),e),new v0(pi(e.g),pi(e.h));if(Rs(e))return e=US(t,pi(e)),new v0(pi(e.g),e.h);if(30<t.g.length){if(Rs(t)||Rs(e))throw Error("slowDivide_ only works with positive integers.");for(var n=C3,i=e;0>=i.X(t);)n=Eq(n),i=Eq(i);var s=jm(n,1),c=jm(i,1);for(i=jm(i,2),n=jm(n,2);!nl(i);){var d=c.add(i);0>=d.X(t)&&(s=s.add(n),c=d),i=jm(i,1),n=jm(n,1)}return e=zS(t,s.R(e)),new v0(s,e)}for(s=zm;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,i-48),d=(c=Qa(n)).R(e);Rs(d)||0<d.X(t);)d=(c=Qa(n-=i)).R(e);nl(c)&&(c=C3),s=s.add(c),t=zS(t,d)}return new v0(s,t)}function Eq(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.D(i)<<1|t.D(i-1)>>>31;return new tn(n,t.h)}function jm(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,s=[],c=0;c<i;c++)s[c]=0<e?t.D(c+n)>>>e|t.D(c+n+1)<<32-e:t.D(c+n);return new tn(s,t.h)}(xe=tn.prototype).ea=function(){if(Rs(this))return-pi(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var i=this.D(n);t+=(0<=i?i:v3+i)*e,e*=v3}return t},xe.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(nl(this))return"0";if(Rs(this))return"-"+pi(this).toString(t);for(var e=Qa(Math.pow(t,6)),n=this,i="";;){var s=US(n,e).g,c=((0<(n=zS(n,s.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(nl(n=s))return c+i;for(;6>c.length;)c="0"+c;i=c+i}},xe.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},xe.X=function(t){return Rs(t=zS(this,t))?-1:nl(t)?0:1},xe.abs=function(){return Rs(this)?pi(this):this},xe.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,s=0;s<=e;s++){var c=i+(65535&this.D(s))+(65535&t.D(s)),d=(c>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);i=d>>>16,n[s]=(d&=65535)<<16|(c&=65535)}return new tn(n,-2147483648&n[n.length-1]?-1:0)},xe.R=function(t){if(nl(this)||nl(t))return zm;if(Rs(this))return Rs(t)?pi(this).R(pi(t)):pi(pi(this).R(t));if(Rs(t))return pi(this.R(pi(t)));if(0>this.X(Aq)&&0>t.X(Aq))return Qa(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<t.g.length;s++){var c=this.D(i)>>>16,d=65535&this.D(i),p=t.D(s)>>>16,m=65535&t.D(s);n[2*i+2*s]+=d*m,jS(n,2*i+2*s),n[2*i+2*s+1]+=c*m,jS(n,2*i+2*s+1),n[2*i+2*s+1]+=d*p,jS(n,2*i+2*s+1),n[2*i+2*s+2]+=c*p,jS(n,2*i+2*s+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new tn(n,0)},xe.gb=function(t){return US(this,t).h},xe.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)&t.D(i);return new tn(n,this.h&t.h)},xe.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)|t.D(i);return new tn(n,this.h|t.h)},xe.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)^t.D(i);return new tn(n,this.h^t.h)},BS.prototype.createWebChannel=BS.prototype.g,Qo.prototype.send=Qo.prototype.u,Qo.prototype.open=Qo.prototype.m,Qo.prototype.close=Qo.prototype.close,IS.NO_ERROR=0,IS.TIMEOUT=8,IS.HTTP_ERROR=6,O$.COMPLETE="complete",V$.EventType=u0,u0.OPEN="a",u0.CLOSE="b",u0.ERROR="c",u0.MESSAGE="d",Jr.prototype.listen=Jr.prototype.O,nr.prototype.listenOnce=nr.prototype.P,nr.prototype.getLastError=nr.prototype.Sa,nr.prototype.getLastErrorCode=nr.prototype.Ia,nr.prototype.getStatus=nr.prototype.da,nr.prototype.getResponseJson=nr.prototype.Wa,nr.prototype.getResponseText=nr.prototype.ja,nr.prototype.send=nr.prototype.ha,nr.prototype.setWithCredentials=nr.prototype.Oa,oa.prototype.digest=oa.prototype.l,oa.prototype.reset=oa.prototype.reset,oa.prototype.update=oa.prototype.j,tn.prototype.add=tn.prototype.add,tn.prototype.multiply=tn.prototype.R,tn.prototype.modulo=tn.prototype.gb,tn.prototype.compare=tn.prototype.X,tn.prototype.toNumber=tn.prototype.ea,tn.prototype.toString=tn.prototype.toString,tn.prototype.getBits=tn.prototype.D,tn.fromNumber=Qa,tn.fromString=function Cq(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return pi(Cq(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Qa(Math.pow(e,8)),i=zm,s=0;s<t.length;s+=8){var c=Math.min(8,t.length-s),d=parseInt(t.substring(s,s+c),e);8>c?(c=Qa(Math.pow(e,c)),i=i.R(c).add(Qa(d))):i=(i=i.R(n)).add(Qa(d))}return i};var _de=ia.createWebChannelTransport=function(){return new BS},bde=ia.getStatEventTarget=function(){return ES()},A3=ia.ErrorCode=IS,yde=ia.EventType=O$,wde=ia.Event=bf,Iq=ia.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},kde=ia.FetchXmlHttpFactory=_0,HS=ia.WebChannel=V$,vde=ia.XhrIo=nr,Cde=ia.Md5=oa,Um=ia.Integer=tn;const Dq="@firebase/firestore";class Xr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xr.UNAUTHENTICATED=new Xr(null),Xr.GOOGLE_CREDENTIALS=new Xr("google-credentials-uid"),Xr.FIRST_PARTY=new Xr("first-party-uid"),Xr.MOCK_USER=new Xr("mock-user");let Hm="10.5.2";const Su=new Wx("@firebase/firestore");function Gm(){return Su.logLevel}function le(t,...e){if(Su.logLevel<=Je.DEBUG){const n=e.map(E3);Su.debug(`Firestore (${Hm}): ${t}`,...n)}}function ur(t,...e){if(Su.logLevel<=Je.ERROR){const n=e.map(E3);Su.error(`Firestore (${Hm}): ${t}`,...n)}}function Yo(t,...e){if(Su.logLevel<=Je.WARN){const n=e.map(E3);Su.warn(`Firestore (${Hm}): ${t}`,...n)}}function E3(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function Re(t="Unexpected state"){const e=`FIRESTORE (${Hm}) INTERNAL ASSERTION FAILED: `+t;throw ur(e),new Error(e)}function Le(t,e){t||Re()}function Ae(t,e){return t}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends na{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class zr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class Tq{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ade{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Xr.UNAUTHENTICATED))}shutdown(){}}class Ede{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Ide{constructor(e){this.t=e,this.currentUser=Xr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var i=this;let s=this.i;const c=y=>this.i!==s?(s=this.i,n(y)):Promise.resolve();let d=new zr;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new zr,e.enqueueRetryable(()=>c(this.currentUser))};const p=()=>{const y=d;e.enqueueRetryable(z(function*(){yield y.promise,yield c(i.currentUser)}))},m=y=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(y=>m(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new zr)}},0),p()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Le("string"==typeof i.accessToken),new Tq(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Le(null===e||"string"==typeof e),new Xr(e)}}class Dde{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=Xr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Tde{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new Dde(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Xr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class xq{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xde{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const i=c=>{null!=c.error&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.R;return this.R=c.token,le("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>i(c))};const s=c=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>s(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?s(c):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Le("string"==typeof n.token),this.R=n.token,new xq(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Sde(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}class Sq{static newId(){const n=62*Math.floor(256/62);let i="";for(;i.length<20;){const s=Sde(40);for(let c=0;c<s.length;++c)i.length<20&&s[c]<n&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(s[c]%62))}return i}}function ct(t,e){return t<e?-1:t>e?1:0}function $m(t,e,n){return t.length===e.length&&t.every((i,s)=>n(i,e[s]))}class qn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new de(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return qn.fromMillis(Date.now())}static fromDate(e){return qn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new qn(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ct(this.nanoseconds,e.nanoseconds):ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Fe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new qn(0,0))}static max(){return new Fe(new qn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class C0{constructor(e,n,i){void 0===n?n=0:n>e.length&&Re(),void 0===i?i=e.length-n:i>e.length-n&&Re(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return 0===C0.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof C0?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let s=0;s<i;s++){const c=e.get(s),d=n.get(s);if(c<d)return-1;if(c>d)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ot extends C0{construct(e,n,i){return new Ot(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new de(ee.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new Ot(n)}static emptyPath(){return new Ot([])}}const Mde=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jn extends C0{construct(e,n,i){return new jn(e,n,i)}static isValidIdentifier(e){return Mde.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new jn(["__name__"])}static fromServerFormat(e){const n=[];let i="",s=0;const c=()=>{if(0===i.length)throw new de(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let d=!1;for(;s<e.length;){const p=e[s];if("\\"===p){if(s+1===e.length)throw new de(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[s+1];if("\\"!==m&&"."!==m&&"`"!==m)throw new de(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,s+=2}else"`"===p?(d=!d,s++):"."!==p||d?(i+=p,s++):(c(),s++)}if(c(),d)throw new de(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jn(n)}static emptyPath(){return new jn([])}}class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(Ot.fromString(e))}static fromName(e){return new Ie(Ot.fromString(e).popFirst(5))}static empty(){return new Ie(Ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ot.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new Ot(e.slice()))}}function Rq(t){return new Zo(t.readTime,t.key,-1)}class Zo{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Zo(Fe.min(),Ie.empty(),-1)}static max(){return new Zo(Fe.max(),Ie.empty(),-1)}}function D3(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=Ie.comparator(t.documentKey,e.documentKey),0!==n?n:ct(t.largestBatchId,e.largestBatchId))}const Nq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Nde{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Mu(t){return T3.apply(this,arguments)}function T3(){return T3=z(function*(t){if(t.code!==ee.FAILED_PRECONDITION||t.message!==Nq)throw t;le("LocalStore","Unexpectedly lost primary lease")}),T3.apply(this,arguments)}class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Y((i,s)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(i,s)},this.catchCallback=c=>{this.wrapFailure(n,c).next(i,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Y?n:Y.resolve(n)}catch(n){return Y.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.reject(n)}static resolve(e){return new Y((n,i)=>{n(e)})}static reject(e){return new Y((n,i)=>{i(e)})}static waitFor(e){return new Y((n,i)=>{let s=0,c=0,d=!1;e.forEach(p=>{++s,p.next(()=>{++c,d&&c===s&&n()},m=>i(m))}),d=!0,c===s&&n()})}static or(e){let n=Y.resolve(!1);for(const i of e)n=n.next(s=>s?Y.resolve(s):i());return n}static forEach(e,n){const i=[];return e.forEach((s,c)=>{i.push(n.call(this,s,c))}),this.waitFor(i)}static mapArray(e,n){return new Y((i,s)=>{const c=e.length,d=new Array(c);let p=0;for(let m=0;m<c;m++){const y=m;n(e[y]).next(k=>{d[y]=k,++p,p===c&&i(d)},k=>s(k))}})}static doWhile(e,n){return new Y((i,s)=>{const c=()=>{!0===e()?n().next(()=>{c()},s):i()};c()})}}function Pu(t){return"IndexedDbTransactionError"===t.name}let Jo=(()=>{class t{constructor(n,i){this.previousValue=n,i&&(i.sequenceNumberHandler=s=>this.se(s),this.oe=s=>i.writeSequenceNumber(s))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function E0(t){return null==t}function I0(t){return 0===t&&1/t==-1/0}function Hq(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ru(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Gq(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class vn{constructor(e,n){this.comparator=e,this.root=n||gi.EMPTY}insert(e,n){return new vn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gi.BLACK,null,null))}remove(e){return new vn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(0===i)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(0===s)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qS(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qS(this.root,e,this.comparator,!1)}getReverseIterator(){return new qS(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qS(this.root,e,this.comparator,!0)}}class qS{constructor(e,n,i,s){this.isReverse=s,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?i(e.key,n):1,n&&s&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gi{constructor(e,n,i,s,c){this.key=e,this.value=n,this.color=i??gi.RED,this.left=s??gi.EMPTY,this.right=c??gi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,s,c){return new gi(e??this.key,n??this.value,i??this.color,s??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const c=i(e,s.key);return s=c<0?s.copy(null,null,null,s.left.insert(e,n,i),null):0===c?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return gi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===n(e,s.key)){if(s.right.isEmpty())return gi.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Re();const e=this.left.check();if(e!==this.right.check())throw Re();return e+(this.isRed()?0:1)}}gi.EMPTY=null,gi.RED=!0,gi.BLACK=!1,gi.EMPTY=new class{constructor(){this.size=0}get key(){throw Re()}get value(){throw Re()}get color(){throw Re()}get left(){throw Re()}get right(){throw Re()}copy(e,n,i,s,c){return this}insert(e,n,i){return new gi(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class cn{constructor(e){this.comparator=e,this.data=new vn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let i;for(i=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $q(this.data.getIterator())}getIteratorFrom(e){return new $q(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof cn)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,c=i.getNext().key;if(0!==this.comparator(s,c))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new cn(this.comparator);return n.data=e,n}}class $q{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Co{constructor(e){this.fields=e,e.sort(jn.comparator)}static empty(){return new Co([])}unionWith(e){let n=new cn(jn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Co(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $m(this.fields,e.fields,(n,i)=>n.isEqual(i))}}class qq extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class jr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new qq("Invalid base64 string: "+c):c}}(e);return new jr(n)}static fromUint8Array(e){const n=function(s){let c="";for(let d=0;d<s.length;++d)c+=String.fromCharCode(s[d]);return c}(e);return new jr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jr.EMPTY_BYTE_STRING=new jr("");const rhe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nu(t){if(Le(!!t),"string"==typeof t){let e=0;const n=rhe.exec(t);if(Le(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:rr(t.seconds),nanos:rr(t.nanos)}}function rr(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function rl(t){return"string"==typeof t?jr.fromBase64String(t):jr.fromUint8Array(t)}function WS(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function KS(t){const e=t.mapValue.fields.__previous_value__;return WS(e)?KS(e):e}function D0(t){const e=Nu(t.mapValue.fields.__local_write_time__.timestampValue);return new qn(e.seconds,e.nanos)}class ihe{constructor(e,n,i,s,c,d,p,m,y){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=m,this.useFetchStreams=y}}class Ef{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ef("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ef&&e.projectId===this.projectId&&e.database===this.database}}const Ou={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Lu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?WS(t)?4:Yq(t)?9007199254740991:10:Re()}function Za(t,e){if(t===e)return!0;const n=Lu(t);if(n!==Lu(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return D0(t).isEqual(D0(e));case 3:return function(s,c){if("string"==typeof s.timestampValue&&"string"==typeof c.timestampValue&&s.timestampValue.length===c.timestampValue.length)return s.timestampValue===c.timestampValue;const d=Nu(s.timestampValue),p=Nu(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return c=e,rl(t.bytesValue).isEqual(rl(c.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,c){return rr(s.geoPointValue.latitude)===rr(c.geoPointValue.latitude)&&rr(s.geoPointValue.longitude)===rr(c.geoPointValue.longitude)}(t,e);case 2:return function(s,c){if("integerValue"in s&&"integerValue"in c)return rr(s.integerValue)===rr(c.integerValue);if("doubleValue"in s&&"doubleValue"in c){const d=rr(s.doubleValue),p=rr(c.doubleValue);return d===p?I0(d)===I0(p):isNaN(d)&&isNaN(p)}return!1}(t,e);case 9:return $m(t.arrayValue.values||[],e.arrayValue.values||[],Za);case 10:return function(s,c){const d=s.mapValue.fields||{},p=c.mapValue.fields||{};if(Hq(d)!==Hq(p))return!1;for(const m in d)if(d.hasOwnProperty(m)&&(void 0===p[m]||!Za(d[m],p[m])))return!1;return!0}(t,e);default:return Re()}var c}function T0(t,e){return void 0!==(t.values||[]).find(n=>Za(n,e))}function Vu(t,e){if(t===e)return 0;const n=Lu(t),i=Lu(e);if(n!==i)return ct(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ct(t.booleanValue,e.booleanValue);case 2:return function(c,d){const p=rr(c.integerValue||c.doubleValue),m=rr(d.integerValue||d.doubleValue);return p<m?-1:p>m?1:p===m?0:isNaN(p)?isNaN(m)?0:-1:1}(t,e);case 3:return Wq(t.timestampValue,e.timestampValue);case 4:return Wq(D0(t),D0(e));case 5:return ct(t.stringValue,e.stringValue);case 6:return function(c,d){const p=rl(c),m=rl(d);return p.compareTo(m)}(t.bytesValue,e.bytesValue);case 7:return function(c,d){const p=c.split("/"),m=d.split("/");for(let y=0;y<p.length&&y<m.length;y++){const k=ct(p[y],m[y]);if(0!==k)return k}return ct(p.length,m.length)}(t.referenceValue,e.referenceValue);case 8:return function(c,d){const p=ct(rr(c.latitude),rr(d.latitude));return 0!==p?p:ct(rr(c.longitude),rr(d.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(c,d){const p=c.values||[],m=d.values||[];for(let y=0;y<p.length&&y<m.length;++y){const k=Vu(p[y],m[y]);if(k)return k}return ct(p.length,m.length)}(t.arrayValue,e.arrayValue);case 10:return function(c,d){if(c===Ou.mapValue&&d===Ou.mapValue)return 0;if(c===Ou.mapValue)return 1;if(d===Ou.mapValue)return-1;const p=c.fields||{},m=Object.keys(p),y=d.fields||{},k=Object.keys(y);m.sort(),k.sort();for(let C=0;C<m.length&&C<k.length;++C){const I=ct(m[C],k[C]);if(0!==I)return I;const M=Vu(p[m[C]],y[k[C]]);if(0!==M)return M}return ct(m.length,k.length)}(t.mapValue,e.mapValue);default:throw Re()}}function Wq(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ct(t,e);const n=Nu(t),i=Nu(e),s=ct(n.seconds,i.seconds);return 0!==s?s:ct(n.nanos,i.nanos)}function Qm(t){return M3(t)}function M3(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Nu(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?rl(t.bytesValue).toBase64():"referenceValue"in t?Ie.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",s=!0;for(const c of n.values||[])s?s=!1:i+=",",i+=M3(c);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",c=!0;for(const d of i)c?c=!1:s+=",",s+=`${d}:${M3(n.fields[d])}`;return s+"}"}(t.mapValue):Re()}function If(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function P3(t){return!!t&&"integerValue"in t}function x0(t){return!!t&&"arrayValue"in t}function Kq(t){return!!t&&"nullValue"in t}function Qq(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ZS(t){return!!t&&"mapValue"in t}function S0(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ru(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=S0(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=S0(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Yq(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class mi{constructor(e){this.value=e}static empty(){return new mi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!ZS(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=S0(n)}setAll(e){let n=jn.emptyPath(),i={},s=[];e.forEach((d,p)=>{if(!n.isImmediateParentOf(p)){const m=this.getFieldsMap(n);this.applyChanges(m,i,s),i={},s=[],n=p.popLast()}d?i[p.lastSegment()]=S0(d):s.push(p.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,i,s)}delete(e){const n=this.field(e.popLast());ZS(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Za(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=n.mapValue.fields[e.get(i)];ZS(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,i){Ru(n,(s,c)=>e[s]=c);for(const s of i)delete e[s]}clone(){return new mi(S0(this.value))}}function Xq(t){const e=[];return Ru(t.fields,(n,i)=>{const s=new jn([n]);if(ZS(i)){const c=Xq(i.mapValue).fields;if(0===c.length)e.push(s);else for(const d of c)e.push(s.child(d))}else e.push(s)}),new Co(e)}class Pn{constructor(e,n,i,s,c,d,p){this.key=e,this.documentType=n,this.version=i,this.readTime=s,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Pn(e,0,Fe.min(),Fe.min(),Fe.min(),mi.empty(),0)}static newFoundDocument(e,n,i,s){return new Pn(e,1,n,Fe.min(),i,s,0)}static newNoDocument(e,n){return new Pn(e,2,n,Fe.min(),Fe.min(),mi.empty(),0)}static newUnknownDocument(e,n){return new Pn(e,3,n,Fe.min(),Fe.min(),mi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Fe.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Fu{constructor(e,n){this.position=e,this.inclusive=n}}function eW(t,e,n){let i=0;for(let s=0;s<t.position.length;s++){const c=e[s],d=t.position[s];if(i=c.field.isKeyField()?Ie.comparator(Ie.fromName(d.referenceValue),n.key):Vu(d,n.data.field(c.field)),"desc"===c.dir&&(i*=-1),0!==i)break}return i}function tW(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Za(t.position[n],e.position[n]))return!1;return!0}class M0{constructor(e,n="asc"){this.field=e,this.dir=n}}function ahe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class nW{}class Dt extends nW{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,i):new che(e,n,i):"array-contains"===n?new dhe(e,i):"in"===n?new cW(e,i):"not-in"===n?new hhe(e,i):"array-contains-any"===n?new fhe(e,i):new Dt(e,n,i)}static createKeyFieldInFilter(e,n,i){return"in"===n?new lhe(e,i):new uhe(e,i)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Vu(n,this.value)):null!==n&&Lu(this.value)===Lu(n)&&this.matchesComparison(Vu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nn extends nW{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new nn(e,n)}matches(e){return Ym(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Ym(t){return"and"===t.op}function N3(t){return function rW(t){for(const e of t.filters)if(e instanceof nn)return!1;return!0}(t)&&Ym(t)}function O3(t){if(t instanceof Dt)return t.field.canonicalString()+t.op.toString()+Qm(t.value);if(N3(t))return t.filters.map(e=>O3(e)).join(",");{const e=t.filters.map(n=>O3(n)).join(",");return`${t.op}(${e})`}}function iW(t,e){return t instanceof Dt?(i=t,(s=e)instanceof Dt&&i.op===s.op&&i.field.isEqual(s.field)&&Za(i.value,s.value)):t instanceof nn?function(i,s){return s instanceof nn&&i.op===s.op&&i.filters.length===s.filters.length&&i.filters.reduce((c,d,p)=>c&&iW(d,s.filters[p]),!0)}(t,e):void Re();var i,s}function sW(t){return t instanceof Dt?`${(n=t).field.canonicalString()} ${n.op} ${Qm(n.value)}`:t instanceof nn?function(n){return n.op.toString()+" {"+n.getFilters().map(sW).join(" ,")+"}"}(t):"Filter";var n}class che extends Dt{constructor(e,n,i){super(e,n,i),this.key=Ie.fromName(i.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class lhe extends Dt{constructor(e,n){super(e,"in",n),this.keys=aW(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class uhe extends Dt{constructor(e,n){super(e,"not-in",n),this.keys=aW(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function aW(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(i=>Ie.fromName(i.referenceValue))}class dhe extends Dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return x0(n)&&T0(n.arrayValue,this.value)}}class cW extends Dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&T0(this.value.arrayValue,n)}}class hhe extends Dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(T0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!T0(this.value.arrayValue,n)}}class fhe extends Dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!x0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>T0(this.value.arrayValue,i))}}class phe{constructor(e,n=null,i=[],s=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=c,this.startAt=d,this.endAt=p,this.ce=null}}function L3(t,e=null,n=[],i=[],s=null,c=null,d=null){return new phe(t,e,n,i,s,c,d)}function Df(t){const e=Ae(t);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>O3(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>{return(c=i).field.canonicalString()+c.dir;var c}).join(","),E0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Qm(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Qm(i)).join(",")),e.ce=n}return e.ce}function P0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!ahe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!iW(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!tW(t.startAt,e.startAt)&&tW(t.endAt,e.endAt)}function JS(t){return Ie.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class il{constructor(e,n=null,i=[],s=[],c=null,d="F",p=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=m,this.le=null,this.he=null,this.Pe=null}}function Zm(t){return new il(t)}function hW(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function V3(t){return null!==t.collectionGroup}function Jm(t){const e=Ae(t);if(null===e.le){e.le=[];const n=new Set;for(const c of e.explicitOrderBy)e.le.push(c),n.add(c.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new cn(jn.comparator);return d.filters.forEach(m=>{m.getFlattenedFilters().forEach(y=>{y.isInequality()&&(p=p.add(y.field))})}),p})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.le.push(new M0(c,i))}),n.has(jn.keyField().canonicalString())||e.le.push(new M0(jn.keyField(),i))}return e.le}function io(t){const e=Ae(t);return e.he||(e.he=function fW(t,e){if("F"===t.limitType)return L3(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>new M0(s.field,"desc"===s.dir?"asc":"desc"));const n=t.endAt?new Fu(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Fu(t.startAt.position,t.startAt.inclusive):null;return L3(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}(e,Jm(t))),e.he}function F3(t,e){const n=t.filters.concat([e]);return new il(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function eM(t,e,n){return new il(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function R0(t,e){return P0(io(t),io(e))&&t.limitType===e.limitType}function pW(t){return`${Df(io(t))}|lt:${t.limitType}`}function Xm(t){return`Query(target=${function(n){let i=n.path.canonicalString();return null!==n.collectionGroup&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>sW(s)).join(", ")}]`),E0(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>{return`${(d=s).field.canonicalString()} (${d.dir})`;var d}).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>Qm(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>Qm(s)).join(",")),`Target(${i})`}(io(t))}; limitType=${t.limitType})`}function N0(t,e){return e.isFoundDocument()&&function(i,s){const c=s.key.path;return null!==i.collectionGroup?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(c):Ie.isDocumentKey(i.path)?i.path.isEqual(c):i.path.isImmediateParentOf(c)}(t,e)&&function(i,s){for(const c of Jm(i))if(!c.field.isKeyField()&&null===s.data.field(c.field))return!1;return!0}(t,e)&&function(i,s){for(const c of i.filters)if(!c.matches(s))return!1;return!0}(t,e)&&(s=e,!((i=t).startAt&&!function(d,p,m){const y=eW(d,p,m);return d.inclusive?y<=0:y<0}(i.startAt,Jm(i),s)||i.endAt&&!function(d,p,m){const y=eW(d,p,m);return d.inclusive?y>=0:y>0}(i.endAt,Jm(i),s)));var i,s}function mW(t){return(e,n)=>{let i=!1;for(const s of Jm(t)){const c=ghe(s,e,n);if(0!==c)return c;i=i||s.field.isKeyField()}return 0}}function ghe(t,e,n){const i=t.field.isKeyField()?Ie.comparator(e.key,n.key):function(c,d,p){const m=d.data.field(c),y=p.data.field(c);return null!==m&&null!==y?Vu(m,y):Re()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Re()}}class ol{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(void 0!==i)for(const[s,c]of i)if(this.equalsFn(s,e))return c}has(e){return void 0!==this.get(e)}set(e,n){const i=this.mapKeyFn(e),s=this.inner[i];if(void 0===s)return this.inner[i]=[[e,n]],void this.innerSize++;for(let c=0;c<s.length;c++)if(this.equalsFn(s[c][0],e))return void(s[c]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(void 0===i)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return 1===i.length?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ru(this.inner,(n,i)=>{for(const[s,c]of i)e(s,c)})}isEmpty(){return Gq(this.inner)}size(){return this.innerSize}}const mhe=new vn(Ie.comparator);function Ao(){return mhe}const _W=new vn(Ie.comparator);function O0(...t){let e=_W;for(const n of t)e=e.insert(n.key,n);return e}function bW(t){let e=_W;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Ja(){return L0()}function yW(){return L0()}function L0(){return new ol(t=>t.toString(),(t,e)=>t.isEqual(e))}const _he=new vn(Ie.comparator),bhe=new cn(Ie.comparator);function gt(...t){let e=bhe;for(const n of t)e=e.add(n);return e}const yhe=new cn(ct);function wW(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:I0(e)?"-0":e}}function kW(t){return{integerValue:""+t}}function vW(t,e){return function Lq(t){return"number"==typeof t&&Number.isInteger(t)&&!I0(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?kW(e):wW(t,e)}class tM{constructor(){this._=void 0}}function whe(t,e,n){return t instanceof e_?function(s,c){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return c&&WS(c)&&(c=KS(c)),c&&(d.fields.__previous_value__=c),{mapValue:d}}(n,e):t instanceof Tf?AW(t,e):t instanceof xf?EW(t,e):function(s,c){const d=CW(s,c),p=IW(d)+IW(s.Ie);return P3(d)&&P3(s.Ie)?kW(p):wW(s.serializer,p)}(t,e)}function khe(t,e,n){return t instanceof Tf?AW(t,e):t instanceof xf?EW(t,e):n}function CW(t,e){return t instanceof t_?P3(i=e)||(c=i)&&"doubleValue"in c?e:{integerValue:0}:null;var i,c}class e_ extends tM{}class Tf extends tM{constructor(e){super(),this.elements=e}}function AW(t,e){const n=DW(e);for(const i of t.elements)n.some(s=>Za(s,i))||n.push(i);return{arrayValue:{values:n}}}class xf extends tM{constructor(e){super(),this.elements=e}}function EW(t,e){let n=DW(e);for(const i of t.elements)n=n.filter(s=>!Za(s,i));return{arrayValue:{values:n}}}class t_ extends tM{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function IW(t){return rr(t.integerValue||t.doubleValue)}function DW(t){return x0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Che{constructor(e,n){this.version=e,this.transformResults=n}}class Un{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Un}static exists(e){return new Un(void 0,e)}static updateTime(e){return new Un(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nM(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class rM{}function TW(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new r_(t.key,Un.none()):new n_(t.key,t.data,Un.none());{const n=t.data,i=mi.empty();let s=new cn(jn.comparator);for(let c of e.fields)if(!s.has(c)){let d=n.field(c);null===d&&c.length>1&&(c=c.popLast(),d=n.field(c)),null===d?i.delete(c):i.set(c,d),s=s.add(c)}return new sl(t.key,i,new Co(s.toArray()),Un.none())}}function Ahe(t,e,n){t instanceof n_?function(s,c,d){const p=s.value.clone(),m=MW(s.fieldTransforms,c,d.transformResults);p.setAll(m),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(t,e,n):t instanceof sl?function(s,c,d){if(!nM(s.precondition,c))return void c.convertToUnknownDocument(d.version);const p=MW(s.fieldTransforms,c,d.transformResults),m=c.data;m.setAll(SW(s)),m.setAll(p),c.convertToFoundDocument(d.version,m).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function F0(t,e,n,i){return t instanceof n_?function(c,d,p,m){if(!nM(c.precondition,d))return p;const y=c.value.clone(),k=PW(c.fieldTransforms,m,d);return y.setAll(k),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null}(t,e,n,i):t instanceof sl?function(c,d,p,m){if(!nM(c.precondition,d))return p;const y=PW(c.fieldTransforms,m,d),k=d.data;return k.setAll(SW(c)),k.setAll(y),d.convertToFoundDocument(d.version,k).setHasLocalMutations(),null===p?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(C=>C.field))}(t,e,n,i):(p=n,nM(t.precondition,d=e)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p);var d,p}function Ehe(t,e){let n=null;for(const i of t.fieldTransforms){const s=e.data.field(i.field),c=CW(i.transform,s||null);null!=c&&(null===n&&(n=mi.empty()),n.set(i.field,c))}return n||null}function xW(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(i=t.fieldTransforms)&&void 0===s||i&&s&&$m(i,s,(c,d)=>function vhe(t,e){return t.field.isEqual(e.field)&&(s=e.transform,(i=t.transform)instanceof Tf&&s instanceof Tf||i instanceof xf&&s instanceof xf?$m(i.elements,s.elements,Za):i instanceof t_&&s instanceof t_?Za(i.Ie,s.Ie):i instanceof e_&&s instanceof e_);var i,s}(c,d))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var i,s}class n_ extends rM{constructor(e,n,i,s=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class sl extends rM{constructor(e,n,i,s,c=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function SW(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function MW(t,e,n){const i=new Map;Le(t.length===n.length);for(let s=0;s<n.length;s++){const c=t[s],d=c.transform,p=e.data.field(c.field);i.set(c.field,khe(d,p,n[s]))}return i}function PW(t,e,n){const i=new Map;for(const s of t){const c=s.transform,d=n.data.field(s.field);i.set(s.field,whe(c,d,e))}return i}class r_ extends rM{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class z3 extends rM{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class j3{constructor(e,n,i,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const c=this.mutations[s];c.key.isEqual(e.key)&&Ahe(c,e,i[s])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=F0(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=F0(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=yW();return this.mutations.forEach(s=>{const c=e.get(s.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=n.has(s.key)?null:p;const m=TW(d,p);null!==m&&i.set(s.key,m),d.isValidDocument()||d.convertToNoDocument(Fe.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),gt())}isEqual(e){return this.batchId===e.batchId&&$m(this.mutations,e.mutations,(n,i)=>xW(n,i))&&$m(this.baseMutations,e.baseMutations,(n,i)=>xW(n,i))}}class U3{constructor(e,n,i,s){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(e,n,i){Le(e.mutations.length===i.length);let s=_he;const c=e.mutations;for(let d=0;d<c.length;d++)s=s.insert(c[d].key,i[d].version);return new U3(e,n,i,s)}}class H3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Dhe{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ir,Lt;function NW(t){if(void 0===t)return ur("GRPC error has no .code"),ee.UNKNOWN;switch(t){case Ir.OK:return ee.OK;case Ir.CANCELLED:return ee.CANCELLED;case Ir.UNKNOWN:return ee.UNKNOWN;case Ir.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Ir.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Ir.INTERNAL:return ee.INTERNAL;case Ir.UNAVAILABLE:return ee.UNAVAILABLE;case Ir.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Ir.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Ir.NOT_FOUND:return ee.NOT_FOUND;case Ir.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Ir.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Ir.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Ir.ABORTED:return ee.ABORTED;case Ir.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Ir.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Ir.DATA_LOSS:return ee.DATA_LOSS;default:return Re()}}(Lt=Ir||(Ir={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";const The=new Um([4294967295,4294967295],0);function LW(t){const e=function OW(){return new TextEncoder}().encode(t),n=new Cde;return n.update(e),new Uint8Array(n.digest())}function VW(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Um([n,i],0),new Um([s,c],0)]}class G3{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new B0(`Invalid padding: ${n}`);if(i<0)throw new B0(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new B0(`Invalid hash count: ${i}`);if(0===e.length&&0!==n)throw new B0(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Um.fromNumber(this.Te)}de(e,n,i){let s=e.add(n.multiply(Um.fromNumber(i)));return 1===s.compare(The)&&(s=new Um([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=LW(e),[i,s]=VW(n);for(let c=0;c<this.hashCount;c++){const d=this.de(i,s,c);if(!this.Ae(d))return!1}return!0}static create(e,n,i){const s=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new G3(c,s,n);return i.forEach(p=>d.insert(p)),d}insert(e){if(0===this.Te)return;const n=LW(e),[i,s]=VW(n);for(let c=0;c<this.hashCount;c++){const d=this.de(i,s,c);this.Re(d)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class B0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class z0{constructor(e,n,i,s,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const s=new Map;return s.set(e,j0.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new z0(Fe.min(),s,new vn(ct),Ao(),gt())}}class j0{constructor(e,n,i,s,c){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new j0(i,n,gt(),gt(),gt())}}class oM{constructor(e,n,i,s){this.Ve=e,this.removedTargetIds=n,this.key=i,this.me=s}}class FW{constructor(e,n){this.targetId=e,this.fe=n}}class BW{constructor(e,n,i=jr.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=s}}class zW{constructor(){this.ge=0,this.pe=UW(),this.ye=jr.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=gt(),n=gt(),i=gt();return this.pe.forEach((s,c)=>{switch(c){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:Re()}}),new j0(this.ye,this.we,e,n,i)}Fe(){this.Se=!1,this.pe=UW()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class xhe{constructor(e){this.Le=e,this.ke=new Map,this.qe=Ao(),this.Qe=jW(),this.Ke=new vn(ct)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const i=this.ze(n);switch(e.state){case 0:this.je(n)&&i.Ce(e.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(e.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(n);break;case 3:this.je(n)&&(i.Be(),i.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),i.Ce(e.resumeToken));break;default:Re()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((i,s)=>{this.je(s)&&n(s)})}Je(e){const n=e.targetId,i=e.fe.count,s=this.Ye(n);if(s){const c=s.target;if(JS(c))if(0===i){const d=new Ie(c.path);this.We(n,d,Pn.newNoDocument(d,Fe.min()))}else Le(1===i);else{const d=this.Ze(n);if(d!==i){const p=this.Xe(e),m=p?this.et(p,e,d):1;0!==m&&(this.He(n),this.Ke=this.Ke.insert(n,2===m?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:c=0}=n;let d,p;try{d=rl(i).toUint8Array()}catch(m){if(m instanceof qq)return Yo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{p=new G3(d,s,c)}catch(m){return Yo(m instanceof B0?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return 0===p.Te?null:p}et(e,n,i){return n.fe.count===i-this.rt(e,n.targetId)?0:2}rt(e,n){const i=this.Le.getRemoteKeysForTarget(n);let s=0;return i.forEach(c=>{const d=this.Le.nt(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.We(n,c,null),s++)}),s}it(e){const n=new Map;this.ke.forEach((c,d)=>{const p=this.Ye(d);if(p){if(c.current&&JS(p.target)){const m=new Ie(p.target.path);null!==this.qe.get(m)||this.st(d,m)||this.We(d,m,Pn.newNoDocument(m,e))}c.De&&(n.set(d,c.ve()),c.Fe())}});let i=gt();this.Qe.forEach((c,d)=>{let p=!0;d.forEachWhile(m=>{const y=this.Ye(m);return!y||"TargetPurposeLimboResolution"===y.purpose||(p=!1,!1)}),p&&(i=i.add(c))}),this.qe.forEach((c,d)=>d.setReadTime(e));const s=new z0(e,n,this.Ke,this.qe,i);return this.qe=Ao(),this.Qe=jW(),this.Ke=new vn(ct),s}Ue(e,n){if(!this.je(e))return;const i=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,i),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,i){if(!this.je(e))return;const s=this.ze(e);this.st(e,n)?s.Me(n,1):s.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),i&&(this.qe=this.qe.insert(n,i))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new zW,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new cn(ct),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||le("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new zW),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function jW(){return new vn(Ie.comparator)}function UW(){return new vn(Ie.comparator)}const She={asc:"ASCENDING",desc:"DESCENDING"},Mhe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Phe={and:"AND",or:"OR"};class Rhe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function $3(t,e){return t.useProto3Json||E0(e)?e:{value:e}}function i_(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HW(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Nhe(t,e){return i_(t,e.toTimestamp())}function dr(t){return Le(!!t),Fe.fromTimestamp(function(n){const i=Nu(n);return new qn(i.seconds,i.nanos)}(t))}function q3(t,e){return(i=t,new Ot(["projects",i.projectId,"databases",i.database])).child("documents").child(e).canonicalString();var i}function GW(t){const e=Ot.fromString(t);return Le(XW(e)),e}function U0(t,e){return q3(t.databaseId,e.path)}function Xa(t,e){const n=GW(e);if(n.get(1)!==t.databaseId.projectId)throw new de(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new de(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ie(qW(n))}function W3(t,e){return q3(t.databaseId,e)}function H0(t){return new Ot(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function qW(t){return Le(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function WW(t,e,n){return{name:U0(t,e),fields:n.value.mapValue.fields}}function QW(t,e){return{documents:[W3(t,e.path)]}}function Q3(t,e){const n={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(n.parent=W3(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=W3(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const s=function(m){if(0!==m.length)return JW(nn.create(m,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const c=function(m){if(0!==m.length)return m.map(y=>{return{field:Bu((C=y).field),direction:Bhe(C.dir)};var C})}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=$3(t,e.limit);return null!==d&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(n.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),n;var m}function YW(t){let e=function $W(t){const e=GW(t);return 4===e.length?Ot.emptyPath():qW(e)}(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){Le(1===i);const k=n.from[0];k.allDescendants?s=k.collectionId:e=e.child(k.collectionId)}let c=[];n.where&&(c=function(C){const I=ZW(C);return I instanceof nn&&N3(I)?I.getFilters():[I]}(n.where));let d=[];n.orderBy&&(d=n.orderBy.map(I=>{return new M0(o_((O=I).field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction));var O}));let p=null;n.limit&&(p=function(C){let I;return I="object"==typeof C?C.value:C,E0(I)?null:I}(n.limit));let m=null;var C;n.startAt&&(m=new Fu((C=n.startAt).values||[],!!C.before));let y=null;return n.endAt&&(y=function(C){return new Fu(C.values||[],!C.before)}(n.endAt)),function dW(t,e,n,i,s,c,d,p){return new il(t,e,n,i,s,c,d,p)}(e,s,d,c,p,"F",m,y)}function ZW(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=o_(n.unaryFilter.field);return Dt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=o_(n.unaryFilter.field);return Dt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=o_(n.unaryFilter.field);return Dt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=o_(n.unaryFilter.field);return Dt.create(d,"!=",{nullValue:"NULL_VALUE"});default:return Re()}}(t):void 0!==t.fieldFilter?Dt.create(o_((n=t).fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Re()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return nn.create(n.compositeFilter.filters.map(i=>ZW(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Re()}}(n.compositeFilter.op))}(t):Re();var n}function Bhe(t){return She[t]}function zhe(t){return Mhe[t]}function jhe(t){return Phe[t]}function Bu(t){return{fieldPath:t.canonicalString()}}function o_(t){return jn.fromServerFormat(t.fieldPath)}function JW(t){return t instanceof Dt?function(n){if("=="===n.op){if(Qq(n.value))return{unaryFilter:{field:Bu(n.field),op:"IS_NAN"}};if(Kq(n.value))return{unaryFilter:{field:Bu(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(Qq(n.value))return{unaryFilter:{field:Bu(n.field),op:"IS_NOT_NAN"}};if(Kq(n.value))return{unaryFilter:{field:Bu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bu(n.field),op:zhe(n.op),value:n.value}}}(t):t instanceof nn?function(n){const i=n.getFilters().map(s=>JW(s));return 1===i.length?i[0]:{compositeFilter:{op:jhe(n.op),filters:i}}}(t):Re()}function Uhe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function XW(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class al{constructor(e,n,i,s,c=Fe.min(),d=Fe.min(),p=jr.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=m}withSequenceNumber(e){return new al(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new al(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new al(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new al(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class eK{constructor(e){this.ut=e}}function Y3(t){const e=YW({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?eM(e,e.limit,"L"):e}class Rf{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(rr(e.integerValue));else if("doubleValue"in e){const i=rr(e.doubleValue);isNaN(i)?this.Tt(n,13):(this.Tt(n,15),I0(i)?n.Et(0):n.Et(i))}else if("timestampValue"in e){const i=e.timestampValue;this.Tt(n,20),"string"==typeof i?n.dt(i):(n.dt(`${i.seconds||""}`),n.Et(i.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(rl(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const i=e.geoPointValue;this.Tt(n,45),n.Et(i.latitude||0),n.Et(i.longitude||0)}else"mapValue"in e?Yq(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):Re()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const i=e.fields||{};this.Tt(n,55);for(const s of Object.keys(i))this.At(s,n),this.Pt(i[s],n)}yt(e,n){const i=e.values||[];this.Tt(n,50);for(const s of i)this.Pt(s,n)}ft(e,n){this.Tt(n,37),Ie.fromName(e).path.forEach(i=>{this.Tt(n,60),this.wt(i,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}Rf.St=new Rf;class Yhe{constructor(){this.on=new nz}addToCollectionParentIndex(e,n){return this.on.add(n),Y.resolve()}getCollectionParents(e,n){return Y.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return Y.resolve()}deleteFieldIndex(e,n){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,n){return Y.resolve()}getDocumentsMatchingTarget(e,n){return Y.resolve(null)}getIndexType(e,n){return Y.resolve(0)}getFieldIndexes(e,n){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,n){return Y.resolve(Zo.min())}getMinOffsetFromCollectionGroup(e,n){return Y.resolve(Zo.min())}updateCollectionGroup(e,n,i){return Y.resolve()}updateIndexEntries(e,n){return Y.resolve()}}class nz{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n]||new cn(Ot.comparator),c=!s.has(i);return this.index[n]=s.add(i),c}has(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(e){return(this.index[e]||new cn(Ot.comparator)).toArray()}}new Uint8Array(0);class Ui{constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Ui(e,Ui.DEFAULT_COLLECTION_PERCENTILE,Ui.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Ui.DEFAULT_COLLECTION_PERCENTILE=10,Ui.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ui.DEFAULT=new Ui(41943040,Ui.DEFAULT_COLLECTION_PERCENTILE,Ui.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ui.DISABLED=new Ui(-1,0,0);class Of{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Of(0)}static Nn(){return new Of(-1)}}class nfe{constructor(){this.changes=new ol(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Pn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return void 0!==i?Y.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ofe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class DK{constructor(e,n,i,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(null!==i&&F0(i.mutation,s,Co.empty(),qn.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,gt()).next(()=>i))}getLocalViewOfDocuments(e,n,i=gt()){const s=Ja();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,i).next(c=>{let d=O0();return c.forEach((p,m)=>{d=d.insert(p,m.overlayedDocument)}),d}))}getOverlayedDocuments(e,n){const i=Ja();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,gt()))}populateOverlays(e,n,i){const s=[];return i.forEach(c=>{n.has(c)||s.push(c)}),this.documentOverlayCache.getOverlays(e,s).next(c=>{c.forEach((d,p)=>{n.set(d,p)})})}computeViews(e,n,i,s){let c=Ao();const d=L0(),p=L0();return n.forEach((m,y)=>{const k=i.get(y.key);s.has(y.key)&&(void 0===k||k.mutation instanceof sl)?c=c.insert(y.key,y):void 0!==k?(d.set(y.key,k.mutation.getFieldMask()),F0(k.mutation,y,k.mutation.getFieldMask(),qn.now())):d.set(y.key,Co.empty())}),this.recalculateAndSaveOverlays(e,c).next(m=>(m.forEach((y,k)=>d.set(y,k)),n.forEach((y,k)=>{var C;return p.set(y,new ofe(k,null!==(C=d.get(y))&&void 0!==C?C:null))}),p))}recalculateAndSaveOverlays(e,n){const i=L0();let s=new vn((d,p)=>d-p),c=gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(d=>{for(const p of d)p.keys().forEach(m=>{const y=n.get(m);if(null===y)return;let k=i.get(m)||Co.empty();k=p.applyToLocalView(y,k),i.set(m,k);const C=(s.get(p.batchId)||gt()).add(m);s=s.insert(p.batchId,C)})}).next(()=>{const d=[],p=s.getReverseIterator();for(;p.hasNext();){const m=p.getNext(),y=m.key,k=m.value,C=yW();k.forEach(I=>{if(!c.has(I)){const M=TW(n.get(I),i.get(I));null!==M&&C.set(I,M),c=c.add(I)}}),d.push(this.documentOverlayCache.saveOverlays(e,y,C))}return Y.waitFor(d)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,s){return Ie.isDocumentKey((d=n).path)&&null===d.collectionGroup&&0===d.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):V3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,s):this.getDocumentsMatchingCollectionQuery(e,n,i,s);var d}getNextDocuments(e,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,s).next(c=>{const d=s-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,s-c.size):Y.resolve(Ja());let p=-1,m=c;return d.next(y=>Y.forEach(y,(k,C)=>(p<C.largestBatchId&&(p=C.largestBatchId),c.get(k)?Y.resolve():this.remoteDocumentCache.getEntry(e,k).next(I=>{m=m.insert(k,I)}))).next(()=>this.populateOverlays(e,y,c)).next(()=>this.computeViews(e,m,y,gt())).next(k=>({batchId:p,changes:bW(k)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next(i=>{let s=O0();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,i,s){const c=n.collectionGroup;let d=O0();return this.indexManager.getCollectionParents(e,c).next(p=>Y.forEach(p,m=>{const y=(C=n,I=m.child(c),new il(I,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt));var C,I;return this.getDocumentsMatchingCollectionQuery(e,y,i,s).next(k=>{k.forEach((C,I)=>{d=d.insert(C,I)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,n,i,s){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,c,s))).next(d=>{c.forEach((m,y)=>{const k=y.getKey();null===d.get(k)&&(d=d.insert(k,Pn.newInvalidDocument(k)))});let p=O0();return d.forEach((m,y)=>{const k=c.get(m);void 0!==k&&F0(k.mutation,y,Co.empty(),qn.now()),N0(n,y)&&(p=p.insert(m,y))}),p})}}class sfe{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return Y.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,{id:(s=n).id,version:s.version,createTime:dr(s.createTime)}),Y.resolve();var s}getNamedQuery(e,n){return Y.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,{name:(s=n).name,query:Y3(s.bundledQuery),readTime:dr(s.readTime)}),Y.resolve();var s}}class afe{constructor(){this.overlays=new vn(Ie.comparator),this.lr=new Map}getOverlay(e,n){return Y.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Ja();return Y.forEach(n,s=>this.getOverlay(e,s).next(c=>{null!==c&&i.set(s,c)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((s,c)=>{this.lt(e,n,c)}),Y.resolve()}removeOverlaysForBatchId(e,n,i){const s=this.lr.get(i);return void 0!==s&&(s.forEach(c=>this.overlays=this.overlays.remove(c)),this.lr.delete(i)),Y.resolve()}getOverlaysForCollection(e,n,i){const s=Ja(),c=n.length+1,d=new Ie(n.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const m=p.getNext().value,y=m.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&m.largestBatchId>i&&s.set(m.getKey(),m)}return Y.resolve(s)}getOverlaysForCollectionGroup(e,n,i,s){let c=new vn((y,k)=>y-k);const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>i){let k=c.get(y.largestBatchId);null===k&&(k=Ja(),c=c.insert(y.largestBatchId,k)),k.set(y.getKey(),y)}}const p=Ja(),m=c.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((y,k)=>p.set(y,k)),!(p.size()>=s)););return Y.resolve(p)}lt(e,n,i){const s=this.overlays.get(i.key);if(null!==s){const d=this.lr.get(s.largestBatchId).delete(i.key);this.lr.set(s.largestBatchId,d)}this.overlays=this.overlays.insert(i.key,new H3(n,i));let c=this.lr.get(n);void 0===c&&(c=gt(),this.lr.set(n,c)),this.lr.set(n,c.add(i.key))}}class rz{constructor(){this.hr=new cn(ti.Pr),this.Ir=new cn(ti.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const i=new ti(e,n);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.dr(new ti(e,n))}Ar(e,n){e.forEach(i=>this.removeReference(i,n))}Rr(e){const n=new Ie(new Ot([])),i=new ti(n,e),s=new ti(n,e+1),c=[];return this.Ir.forEachInRange([i,s],d=>{this.dr(d),c.push(d.key)}),c}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new Ie(new Ot([])),i=new ti(n,e),s=new ti(n,e+1);let c=gt();return this.Ir.forEachInRange([i,s],d=>{c=c.add(d.key)}),c}containsKey(e){const n=new ti(e,0),i=this.hr.firstAfterOrEqual(n);return null!==i&&e.isEqual(i.key)}}class ti{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return Ie.comparator(e.key,n.key)||ct(e.gr,n.gr)}static Tr(e,n){return ct(e.gr,n.gr)||Ie.comparator(e.key,n.key)}}class cfe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new cn(ti.Pr)}checkEmpty(e){return Y.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,i,s){const c=this.pr;this.pr++;const d=new j3(c,n,i,s);this.mutationQueue.push(d);for(const p of s)this.yr=this.yr.add(new ti(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return Y.resolve(d)}lookupMutationBatch(e,n){return Y.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const s=this.Sr(n+1),c=s<0?0:s;return Y.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new ti(n,0),s=new ti(n,Number.POSITIVE_INFINITY),c=[];return this.yr.forEachInRange([i,s],d=>{const p=this.wr(d.gr);c.push(p)}),Y.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new cn(ct);return n.forEach(s=>{const c=new ti(s,0),d=new ti(s,Number.POSITIVE_INFINITY);this.yr.forEachInRange([c,d],p=>{i=i.add(p.gr)})}),Y.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,s=i.length+1;let c=i;Ie.isDocumentKey(c)||(c=c.child(""));const d=new ti(new Ie(c),0);let p=new cn(ct);return this.yr.forEachWhile(m=>{const y=m.key.path;return!!i.isPrefixOf(y)&&(y.length===s&&(p=p.add(m.gr)),!0)},d),Y.resolve(this.br(p))}br(e){const n=[];return e.forEach(i=>{const s=this.wr(i);null!==s&&n.push(s)}),n}removeMutationBatch(e,n){Le(0===this.Dr(n.batchId,"removed")),this.mutationQueue.shift();let i=this.yr;return Y.forEach(n.mutations,s=>{const c=new ti(s.key,n.batchId);return i=i.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.yr=i})}Fn(e){}containsKey(e,n){const i=new ti(n,0),s=this.yr.firstAfterOrEqual(i);return Y.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return Y.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class lfe{constructor(e){this.Cr=e,this.docs=new vn(Ie.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,s=this.docs.get(i),c=s?s.size:0,d=this.Cr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return Y.resolve(i?i.document.mutableCopy():Pn.newInvalidDocument(n))}getEntries(e,n){let i=Ao();return n.forEach(s=>{const c=this.docs.get(s);i=i.insert(s,c?c.document.mutableCopy():Pn.newInvalidDocument(s))}),Y.resolve(i)}getDocumentsMatchingQuery(e,n,i,s){let c=Ao();const d=n.path,p=new Ie(d.child("")),m=this.docs.getIteratorFrom(p);for(;m.hasNext();){const{key:y,value:{document:k}}=m.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||D3(Rq(k),i)<=0||(s.has(k.key)||N0(n,k))&&(c=c.insert(k.key,k.mutableCopy()))}return Y.resolve(c)}getAllFromCollectionGroup(e,n,i,s){Re()}vr(e,n){return Y.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new ufe(this)}getSize(e){return Y.resolve(this.size)}}class ufe extends nfe{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this._r.addEntry(e,s)):this._r.removeEntry(i)}),Y.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}class dfe{constructor(e){this.persistence=e,this.Fr=new ol(n=>Df(n),P0),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this.Mr=0,this.Or=new rz,this.targetCount=0,this.Nr=Of.On()}forEachTarget(e,n){return this.Fr.forEach((i,s)=>n(s)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Mr&&(this.Mr=n),Y.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new Of(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,Y.resolve()}updateTargetData(e,n){return this.kn(n),Y.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,n,i){let s=0;const c=[];return this.Fr.forEach((d,p)=>{p.sequenceNumber<=n&&null===i.get(p.targetId)&&(this.Fr.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),s++)}),Y.waitFor(c).next(()=>s)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,n){const i=this.Fr.get(n)||null;return Y.resolve(i)}addMatchingKeys(e,n,i){return this.Or.Er(n,i),Y.resolve()}removeMatchingKeys(e,n,i){this.Or.Ar(n,i);const s=this.persistence.referenceDelegate,c=[];return s&&n.forEach(d=>{c.push(s.markPotentiallyOrphaned(e,d))}),Y.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),Y.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Or.mr(n);return Y.resolve(i)}containsKey(e,n){return Y.resolve(this.Or.containsKey(n))}}class iz{constructor(e,n){this.Br={},this.overlays={},this.Lr=new Jo(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new dfe(this),this.indexManager=new Yhe,this.remoteDocumentCache=new lfe(i=>this.referenceDelegate.Qr(i)),this.serializer=new eK(n),this.Kr=new sfe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new afe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Br[e.toKey()];return i||(i=new cfe(n,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,i){le("MemoryPersistence","Starting transaction:",e);const s=new hfe(this.Lr.next());return this.referenceDelegate.$r(),i(s).next(c=>this.referenceDelegate.Ur(s).next(()=>c)).toPromise().then(c=>(s.raiseOnCommittedEvent(),c))}Wr(e,n){return Y.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,n)))}}class hfe extends Nde{constructor(e){super(),this.currentSequenceNumber=e}}class fM{constructor(e){this.persistence=e,this.Gr=new rz,this.zr=null}static jr(e){return new fM(e)}get Hr(){if(this.zr)return this.zr;throw Re()}addReference(e,n,i){return this.Gr.addReference(i,n),this.Hr.delete(i.toString()),Y.resolve()}removeReference(e,n,i){return this.Gr.removeReference(i,n),this.Hr.add(i.toString()),Y.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),Y.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(s=>this.Hr.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(c=>this.Hr.add(c.toString()))}).next(()=>i.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.Hr,i=>{const s=Ie.fromPath(i);return this.Jr(e,s).next(c=>{c||n.removeEntry(s,Fe.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(i=>{i?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return Y.or([()=>Y.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}class cz{constructor(e,n,i,s){this.targetId=e,this.fromCache=n,this.ki=i,this.qi=s}static Qi(e,n){let i=gt(),s=gt();for(const c of n.docChanges)switch(c.type){case 0:i=i.add(c.doc.key);break;case 1:s=s.add(c.doc.key)}return new cz(e,n.fromCache,i,s)}}class pfe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class xK{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,i,s){const c={result:null};return this.zi(e,n).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ji(e,n,s,i).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new pfe;return this.Hi(e,n,d).next(p=>{if(c.result=p,this.$i)return this.Ji(e,n,d,p.size)})}).next(()=>c.result)}Ji(e,n,i,s){return i.documentReadCount<this.Ui?(Gm()<=Je.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Xm(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),Y.resolve()):(Gm()<=Je.DEBUG&&le("QueryEngine","Query:",Xm(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.Wi*s?(Gm()<=Je.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Xm(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,io(n))):Y.resolve())}zi(e,n){if(hW(n))return Y.resolve(null);let i=io(n);return this.indexManager.getIndexType(e,i).next(s=>0===s?null:(null!==n.limit&&1===s&&(n=eM(n,null,"F"),i=io(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(c=>{const d=gt(...c);return this.Gi.getDocuments(e,d).next(p=>this.indexManager.getMinOffset(e,i).next(m=>{const y=this.Yi(n,p);return this.Zi(n,y,d,m.readTime)?this.zi(e,eM(n,null,"F")):this.Xi(e,y,n,m)}))})))}ji(e,n,i,s){return hW(n)||s.isEqual(Fe.min())?Y.resolve(null):this.Gi.getDocuments(e,i).next(c=>{const d=this.Yi(n,c);return this.Zi(n,d,i,s)?Y.resolve(null):(Gm()<=Je.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Xm(n)),this.Xi(e,d,n,function Pq(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,s=Fe.fromTimestamp(1e9===i?new qn(n+1,0):new qn(n,i));return new Zo(s,Ie.empty(),e)}(s,-1)).next(p=>p))})}Yi(e,n){let i=new cn(mW(e));return n.forEach((s,c)=>{N0(e,c)&&(i=i.add(c))}),i}Zi(e,n,i,s){if(null===e.limit)return!1;if(i.size!==n.size)return!0;const c="F"===e.limitType?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(s)>0)}Hi(e,n,i){return Gm()<=Je.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Xm(n)),this.Gi.getDocumentsMatchingQuery(e,n,Zo.min(),i)}Xi(e,n,i,s){return this.Gi.getDocumentsMatchingQuery(e,i,s).next(c=>(n.forEach(d=>{c=c.insert(d.key,d)}),c))}}class gfe{constructor(e,n,i,s){this.persistence=e,this.es=n,this.serializer=s,this.ts=new vn(ct),this.ns=new ol(c=>Df(c),P0),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(i)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DK(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function MK(t,e){return lz.apply(this,arguments)}function lz(){return lz=z(function*(t,e){const n=Ae(t);return yield n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(c=>(s=c,n.os(e),n.mutationQueue.getAllMutationBatches(i))).next(c=>{const d=[],p=[];let m=gt();for(const y of s){d.push(y.batchId);for(const k of y.mutations)m=m.add(k.key)}for(const y of c){p.push(y.batchId);for(const k of y.mutations)m=m.add(k.key)}return n.localDocuments.getDocuments(i,m).next(y=>({_s:y,removedBatchIds:d,addedBatchIds:p}))})})}),lz.apply(this,arguments)}function PK(t){const e=Ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function bfe(t,e){const n=Ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function d_(t,e,n){return uz.apply(this,arguments)}function uz(){return uz=z(function*(t,e,n){const i=Ae(t),s=i.ts.get(e),c=n?"readwrite":"readwrite-primary";try{n||(yield i.persistence.runTransaction("Release target",c,d=>i.persistence.referenceDelegate.removeTarget(d,s)))}catch(d){if(!Pu(d))throw d;le("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}i.ts=i.ts.remove(e),i.ns.delete(s.target)}),uz.apply(this,arguments)}function mM(t,e,n){const i=Ae(t);let s=Fe.min(),c=gt();return i.persistence.runTransaction("Execute query","readwrite",d=>function(m,y,k){const C=Ae(m),I=C.ns.get(k);return void 0!==I?Y.resolve(C.ts.get(I)):C.qr.getTargetData(y,k)}(i,d,io(e)).next(p=>{if(p)return s=p.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(d,p.targetId).next(m=>{c=m})}).next(()=>i.es.getDocumentsMatchingQuery(d,e,n?s:Fe.min(),n?c:gt())).next(p=>(function LK(t,e,n){let i=t.rs.get(e)||Fe.min();n.forEach((s,c)=>{c.readTime.compareTo(i)>0&&(i=c.readTime)}),t.rs.set(e,i)}(i,function gW(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),p),{documents:p,ls:c})))}class gz{constructor(){this.activeTargetIds=function B3(){return yhe}()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class BK{constructor(){this.eo=new gz,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,i){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new gz,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class kfe{ro(e){}shutdown(){}}class zK{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let yM=null;function _z(){return null===yM?yM=268435456+Math.round(2147483648*Math.random()):yM++,"0x"+yM.toString(16)}const vfe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Cfe{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const Hi="WebChannelConnection";class Afe extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.mo=i+"://"+n.host,this.fo=`projects/${s}/databases/${c}`,this.po="(default)"===this.databaseId.database?`project_id=${s}`:`project_id=${s}&database_id=${c}`}get yo(){return!1}wo(n,i,s,c,d){const p=_z(),m=this.So(n,i);le("RestConnection",`Sending RPC '${n}' ${p}:`,m,s);const y={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(y,c,d),this.Do(n,m,y,s).then(k=>(le("RestConnection",`Received RPC '${n}' ${p}: `,k),k),k=>{throw Yo("RestConnection",`RPC '${n}' ${p} failed with error: `,k,"url: ",m,"request:",s),k})}Co(n,i,s,c,d,p){return this.wo(n,i,s,c,d)}bo(n,i,s){n["X-Goog-Api-Client"]="gl-js/ fire/"+Hm,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((c,d)=>n[d]=c),s&&s.headers.forEach((c,d)=>n[d]=c)}So(n,i){return`${this.mo}/v1/${i}:${vfe[n]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,i,s){const c=_z();return new Promise((d,p)=>{const m=new vde;m.setWithCredentials(!0),m.listenOnce(yde.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case A3.NO_ERROR:const k=m.getResponseJson();le(Hi,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(k)),d(k);break;case A3.TIMEOUT:le(Hi,`RPC '${e}' ${c} timed out`),p(new de(ee.DEADLINE_EXCEEDED,"Request time out"));break;case A3.HTTP_ERROR:const C=m.getStatus();if(le(Hi,`RPC '${e}' ${c} failed with status:`,C,"response text:",m.getResponseText()),C>0){let I=m.getResponseJson();Array.isArray(I)&&(I=I[0]);const M=I?.error;if(M&&M.status&&M.message){const O=function(j){const Z=j.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(Z)>=0?Z:ee.UNKNOWN}(M.status);p(new de(O,M.message))}else p(new de(ee.UNKNOWN,"Server responded with status "+m.getStatus()))}else p(new de(ee.UNAVAILABLE,"Connection failed."));break;default:Re()}}finally{le(Hi,`RPC '${e}' ${c} completed.`)}});const y=JSON.stringify(s);le(Hi,`RPC '${e}' ${c} sending request:`,s),m.send(n,"POST",y,i,15)})}vo(e,n,i){const s=_z(),c=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=_de(),p=bde(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;void 0!==y&&(m.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(m.xmlHttpFactory=new kde({})),this.bo(m.initMessageHeaders,n,i),m.encodeInitMessageHeaders=!0;const k=c.join("");le(Hi,`Creating RPC '${e}' stream ${s}: ${k}`,m);const C=d.createWebChannel(k,m);let I=!1,M=!1;const O=new Cfe({co:j=>{M?le(Hi,`Not sending because RPC '${e}' stream ${s} is closed:`,j):(I||(le(Hi,`Opening RPC '${e}' stream ${s} transport.`),C.open(),I=!0),le(Hi,`RPC '${e}' stream ${s} sending:`,j),C.send(j))},lo:()=>C.close()}),B=(j,Z,U)=>{j.listen(Z,te=>{try{U(te)}catch(pe){setTimeout(()=>{throw pe},0)}})};return B(C,HS.EventType.OPEN,()=>{M||le(Hi,`RPC '${e}' stream ${s} transport opened.`)}),B(C,HS.EventType.CLOSE,()=>{M||(M=!0,le(Hi,`RPC '${e}' stream ${s} transport closed`),O.Ro())}),B(C,HS.EventType.ERROR,j=>{M||(M=!0,Yo(Hi,`RPC '${e}' stream ${s} transport errored:`,j),O.Ro(new de(ee.UNAVAILABLE,"The operation could not be completed")))}),B(C,HS.EventType.MESSAGE,j=>{var Z;if(!M){const U=j.data[0];Le(!!U);const pe=U.error||(null===(Z=U[0])||void 0===Z?void 0:Z.error);if(pe){le(Hi,`RPC '${e}' stream ${s} received error:`,pe);const Se=pe.status;let Ce=function(nc){const a2=Ir[nc];if(void 0!==a2)return NW(a2)}(Se),At=pe.message;void 0===Ce&&(Ce=ee.INTERNAL,At="Unknown error status: "+Se+" with message "+pe.message),M=!0,O.Ro(new de(Ce,At)),C.close()}else le(Hi,`RPC '${e}' stream ${s} received:`,U),O.Vo(U)}}),B(p,wde.STAT_EVENT,j=>{j.stat===Iq.PROXY?le(Hi,`RPC '${e}' stream ${s} detected buffering proxy`):j.stat===Iq.NOPROXY&&le(Hi,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{O.Ao()},0),O}}function wM(){return typeof document<"u"?document:null}function J0(t){return new Rhe(t,!0)}class bz{constructor(e,n,i=1e3,s=1.5,c=6e4){this.si=e,this.timerId=n,this.Fo=i,this.Mo=s,this.xo=c,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),s=Math.max(0,n-i);s>0&&le("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,s,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class UK{constructor(e,n,i,s,c,d,p,m){this.si=e,this.Ko=i,this.$o=s,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=m,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new bz(e,n)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return z(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return z(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){var i=this;return z(function*(){i.t_(),i.n_(),i.zo.cancel(),i.Uo++,4!==e?i.zo.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(ur(n.toString()),ur("Using maximum backoff delay to prevent overloading the backend."),i.zo.Lo()):n&&n.code===ee.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.r_(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Io(n)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.Uo===n&&this.s_(i,s)},i=>{e(()=>{const s=new de(ee.UNKNOWN,"Fetching auth token failed: "+i.message);return this.o_(s)})})}s_(e,n){const i=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{i(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(s=>{i(()=>this.o_(s))}),this.stream.onMessage(s=>{i(()=>this.onMessage(s))})}Jo(){var e=this;this.state=5,this.zo.ko(z(function*(){e.state=0,e.start()}))}o_(e){return le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Efe extends UK{constructor(e,n,i,s,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,d),this.serializer=c}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=function Lhe(t,e){let n;if("targetChange"in e){const i="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:Re(),s=e.targetChange.targetIds||[],c=function(y,k){return y.useProto3Json?(Le(void 0===k||"string"==typeof k),jr.fromBase64String(k||"")):(Le(void 0===k||k instanceof Uint8Array),jr.fromUint8Array(k||new Uint8Array))}(t,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&function(y){const k=void 0===y.code?ee.UNKNOWN:NW(y.code);return new de(k,y.message||"")}(d);n=new BW(i,s,c,p||null)}else if("documentChange"in e){const i=e.documentChange,s=Xa(t,i.document.name),c=dr(i.document.updateTime),d=i.document.createTime?dr(i.document.createTime):Fe.min(),p=new mi({mapValue:{fields:i.document.fields}}),m=Pn.newFoundDocument(s,c,d,p);n=new oM(i.targetIds||[],i.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const i=e.documentDelete,s=Xa(t,i.document),c=i.readTime?dr(i.readTime):Fe.min(),d=Pn.newNoDocument(s,c);n=new oM([],i.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const i=e.documentRemove,s=Xa(t,i.document);n=new oM([],i.removedTargetIds||[],s,null)}else{if(!("filter"in e))return Re();{const i=e.filter,{count:s=0,unchangedNames:c}=i,d=new Dhe(s,c);n=new FW(i.targetId,d)}}var y;return n}(this.serializer,e),i=function(c){if(!("targetChange"in c))return Fe.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Fe.min():d.readTime?dr(d.readTime):Fe.min()}(e);return this.listener.a_(n,i)}u_(e){const n={};n.database=H0(this.serializer),n.addTarget=function(c,d){let p;const m=d.target;if(p=JS(m)?{documents:QW(c,m)}:{query:Q3(c,m)},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=HW(c,d.resumeToken);const y=$3(c,d.expectedCount);null!==y&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(Fe.min())>0){p.readTime=i_(c,d.snapshotVersion.toTimestamp());const y=$3(c,d.expectedCount);null!==y&&(p.expectedCount=y)}return p}(this.serializer,e);const i=function Fhe(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);i&&(n.labels=i),this.e_(n)}c_(e){const n={};n.database=H0(this.serializer),n.removeTarget=e,this.e_(n)}}class Ife extends UK{constructor(e,n,i,s,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,d),this.serializer=c,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(Le(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=function Vhe(t,e){return t&&t.length>0?(Le(void 0!==e),t.map(n=>function(s,c){let d=dr(s.updateTime?s.updateTime:c);return d.isEqual(Fe.min())&&(d=dr(c)),new Che(d,s.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),i=dr(e.commitTime);return this.listener.I_(i,n)}return Le(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=H0(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>function G0(t,e){let n;if(e instanceof n_)n={update:WW(t,e.key,e.value)};else if(e instanceof r_)n={delete:U0(t,e.key)};else if(e instanceof sl)n={update:WW(t,e.key,e.data),updateMask:Uhe(e.fieldMask)};else{if(!(e instanceof z3))return Re();n={verify:U0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(c,d){const p=d.transform;if(p instanceof e_)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Tf)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof xf)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof t_)return{fieldPath:d.field.canonicalString(),increment:p.Ie};throw Re()}(0,i))),e.precondition.isNone||(n.currentDocument=void 0!==(c=e.precondition).updateTime?{updateTime:Nhe(t,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:Re()),n;var c}(this.serializer,i))};this.e_(n)}}class Dfe extends class{}{constructor(e,n,i,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.d_=!1}A_(){if(this.d_)throw new de(ee.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.wo(e,n,i,s,c)).catch(s=>{throw"FirebaseError"===s.name?(s.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new de(ee.UNKNOWN,s.toString())})}Co(e,n,i,s){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Co(e,n,i,c,d,s)).catch(c=>{throw"FirebaseError"===c.name?(c.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new de(ee.UNKNOWN,c.toString())})}terminate(){this.d_=!0}}class xfe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(ur(n),this.f_=!1):le("OnlineStateTracker",n)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class Sfe{constructor(e,n,i,s,c){var d=this;this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=c,this.F_.ro(p=>{i.enqueueAndForget(z(function*(){var m;Hu(d)&&(le("RemoteStore","Restarting streams for network reachability change."),yield(m=z(function*(k){const C=Ae(k);C.C_.add(4),yield h_(C),C.M_.set("Unknown"),C.C_.delete(4),yield X0(C)}),function y(k){return m.apply(this,arguments)})(d))}))}),this.M_=new xfe(i,s)}}function X0(t){return wz.apply(this,arguments)}function wz(){return wz=z(function*(t){if(Hu(t))for(const e of t.v_)yield e(!0)}),wz.apply(this,arguments)}function h_(t){return kz.apply(this,arguments)}function kz(){return kz=z(function*(t){for(const e of t.v_)yield e(!1)}),kz.apply(this,arguments)}function kM(t,e){const n=Ae(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),Az(n)?Cz(n):p_(n).Ho()&&vz(n,e))}function eC(t,e){const n=Ae(t),i=p_(n);n.D_.delete(e),i.Ho()&&HK(n,e),0===n.D_.size&&(i.Ho()?i.Zo():Hu(n)&&n.M_.set("Unknown"))}function vz(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}p_(t).u_(e)}function HK(t,e){t.x_.Oe(e),p_(t).c_(e)}function Cz(t){t.x_=new xhe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),p_(t).start(),t.M_.g_()}function Az(t){return Hu(t)&&!p_(t).jo()&&t.D_.size>0}function Hu(t){return 0===Ae(t).C_.size}function GK(t){t.x_=void 0}function Mfe(t){return Ez.apply(this,arguments)}function Ez(){return Ez=z(function*(t){t.D_.forEach((e,n)=>{vz(t,e)})}),Ez.apply(this,arguments)}function Pfe(t,e){return Iz.apply(this,arguments)}function Iz(){return Iz=z(function*(t,e){GK(t),Az(t)?(t.M_.w_(e),Cz(t)):t.M_.set("Unknown")}),Iz.apply(this,arguments)}function Rfe(t,e,n){return Dz.apply(this,arguments)}function Dz(){return Dz=z(function*(t,e,n){if(t.M_.set("Online"),e instanceof BW&&2===e.state&&e.cause)try{yield(i=z(function*(c,d){const p=d.cause;for(const m of d.targetIds)c.D_.has(m)&&(yield c.remoteSyncer.rejectListen(m,p),c.D_.delete(m),c.x_.removeTarget(m))}),function s(c,d){return i.apply(this,arguments)})(t,e)}catch(i){le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield vM(t,i)}else if(e instanceof oM?t.x_.$e(e):e instanceof FW?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(Fe.min()))try{const i=yield PK(t.localStore);n.compareTo(i)>=0&&(yield function(c,d){const p=c.x_.it(d);return p.targetChanges.forEach((m,y)=>{if(m.resumeToken.approximateByteSize()>0){const k=c.D_.get(y);k&&c.D_.set(y,k.withResumeToken(m.resumeToken,d))}}),p.targetMismatches.forEach((m,y)=>{const k=c.D_.get(m);if(!k)return;c.D_.set(m,k.withResumeToken(jr.EMPTY_BYTE_STRING,k.snapshotVersion)),HK(c,m);const C=new al(k.target,m,y,k.sequenceNumber);vz(c,C)}),c.remoteSyncer.applyRemoteEvent(p)}(t,n))}catch(i){le("RemoteStore","Failed to raise snapshot:",i),yield vM(t,i)}var i}),Dz.apply(this,arguments)}function vM(t,e,n){return Tz.apply(this,arguments)}function Tz(){return Tz=z(function*(t,e,n){if(!Pu(e))throw e;t.C_.add(1),yield h_(t),t.M_.set("Offline"),n||(n=()=>PK(t.localStore)),t.asyncQueue.enqueueRetryable(z(function*(){le("RemoteStore","Retrying IndexedDB access"),yield n(),t.C_.delete(1),yield X0(t)}))}),Tz.apply(this,arguments)}function $K(t,e){return e().catch(n=>vM(t,n,e))}function f_(t){return xz.apply(this,arguments)}function xz(){return xz=z(function*(t){const e=Ae(t),n=Gu(e);let i=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;Nfe(e);)try{const s=yield bfe(e.localStore,i);if(null===s){0===e.b_.length&&n.Zo();break}i=s.batchId,Ofe(e,s)}catch(s){yield vM(e,s)}qK(e)&&WK(e)}),xz.apply(this,arguments)}function Nfe(t){return Hu(t)&&t.b_.length<10}function Ofe(t,e){t.b_.push(e);const n=Gu(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function qK(t){return Hu(t)&&!Gu(t).jo()&&t.b_.length>0}function WK(t){Gu(t).start()}function Lfe(t){return Sz.apply(this,arguments)}function Sz(){return Sz=z(function*(t){Gu(t).E_()}),Sz.apply(this,arguments)}function Vfe(t){return Mz.apply(this,arguments)}function Mz(){return Mz=z(function*(t){const e=Gu(t);for(const n of t.b_)e.P_(n.mutations)}),Mz.apply(this,arguments)}function Ffe(t,e,n){return Pz.apply(this,arguments)}function Pz(){return Pz=z(function*(t,e,n){const i=t.b_.shift(),s=U3.from(i,e,n);yield $K(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),yield f_(t)}),Pz.apply(this,arguments)}function Bfe(t,e){return Rz.apply(this,arguments)}function Rz(){return Rz=z(function*(t,e){var n;e&&Gu(t).h_&&(yield(n=z(function*(s,c){if(function RW(t){switch(t){default:return Re();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0}}(p=c.code)&&p!==ee.ABORTED){const d=s.b_.shift();Gu(s).Yo(),yield $K(s,()=>s.remoteSyncer.rejectFailedWrite(d.batchId,c)),yield f_(s)}var p}),function i(s,c){return n.apply(this,arguments)})(t,e)),qK(t)&&WK(t)}),Rz.apply(this,arguments)}function KK(t,e){return Nz.apply(this,arguments)}function Nz(){return Nz=z(function*(t,e){const n=Ae(t);n.asyncQueue.verifyOperationInProgress(),le("RemoteStore","RemoteStore received new credentials");const i=Hu(n);n.C_.add(3),yield h_(n),i&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield X0(n)}),Nz.apply(this,arguments)}function Lz(){return Lz=z(function*(t,e){const n=Ae(t);e?(n.C_.delete(2),yield X0(n)):e||(n.C_.add(2),yield h_(n),n.M_.set("Unknown"))}),Lz.apply(this,arguments)}function p_(t){return t.O_||(t.O_=function(n,i,s){const c=Ae(n);return c.A_(),new Efe(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,s)}(t.datastore,t.asyncQueue,{ho:Mfe.bind(null,t),Io:Pfe.bind(null,t),a_:Rfe.bind(null,t)}),t.v_.push(function(){var e=z(function*(n){n?(t.O_.Yo(),Az(t)?Cz(t):t.M_.set("Unknown")):(yield t.O_.stop(),GK(t))});return function(n){return e.apply(this,arguments)}}())),t.O_}function Gu(t){return t.N_||(t.N_=function(n,i,s){const c=Ae(n);return c.A_(),new Ife(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,s)}(t.datastore,t.asyncQueue,{ho:Lfe.bind(null,t),Io:Bfe.bind(null,t),T_:Vfe.bind(null,t),I_:Ffe.bind(null,t)}),t.v_.push(function(){var e=z(function*(n){n?(t.N_.Yo(),yield f_(t)):(yield t.N_.stop(),t.b_.length>0&&(le("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))});return function(n){return e.apply(this,arguments)}}())),t.N_}class Vz{constructor(e,n,i,s,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=c,this.deferred=new zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,s,c){const d=Date.now()+i,p=new Vz(e,n,d,s,c);return p.start(i),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new de(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function g_(t,e){if(ur("AsyncQueue",`${e}: ${t}`),Pu(t))return new de(ee.UNAVAILABLE,`${e}: ${t}`);throw t}class m_{constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ie.comparator(n.key,i.key):(n,i)=>Ie.comparator(n.key,i.key),this.keyedMap=O0(),this.sortedSet=new vn(this.comparator)}static emptySet(e){return new m_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof m_)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,c=i.getNext().key;if(!s.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const i=new m_;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}class QK{constructor(){this.B_=new vn(Ie.comparator)}track(e){const n=e.doc.key,i=this.B_.get(n);i?0!==e.type&&3===i.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==i.type?this.B_=this.B_.insert(n,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.B_=this.B_.remove(n):1===e.type&&2===i.type?this.B_=this.B_.insert(n,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Re():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,i)=>{e.push(i)}),e}}class __{constructor(e,n,i,s,c,d,p,m,y){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=m,this.hasCachedResults=y}static fromInitialDocuments(e,n,i,s,c){const d=[];return n.forEach(p=>{d.push({type:0,doc:p})}),new __(e,n,m_.emptySet(n),d,i,s,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&R0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}class zfe{constructor(){this.k_=void 0,this.listeners=[]}}class jfe{constructor(){this.queries=new ol(e=>pW(e),R0),this.onlineState="Unknown",this.q_=new Set}}function Fz(t,e){return Bz.apply(this,arguments)}function Bz(){return Bz=z(function*(t,e){const n=Ae(t),i=e.query;let s=!1,c=n.queries.get(i);if(c||(s=!0,c=new zfe),s)try{c.k_=yield n.onListen(i)}catch(d){const p=g_(d,`Initialization of query '${Xm(e.query)}' failed`);return void e.onError(p)}n.queries.set(i,c),c.listeners.push(e),e.Q_(n.onlineState),c.k_&&e.K_(c.k_)&&Uz(n)}),Bz.apply(this,arguments)}function zz(t,e){return jz.apply(this,arguments)}function jz(){return jz=z(function*(t,e){const n=Ae(t),i=e.query;let s=!1;const c=n.queries.get(i);if(c){const d=c.listeners.indexOf(e);d>=0&&(c.listeners.splice(d,1),s=0===c.listeners.length)}if(s)return n.queries.delete(i),n.onUnlisten(i)}),jz.apply(this,arguments)}function Ufe(t,e){const n=Ae(t);let i=!1;for(const s of e){const d=n.queries.get(s.query);if(d){for(const p of d.listeners)p.K_(s)&&(i=!0);d.k_=s}}i&&Uz(n)}function Hfe(t,e,n){const i=Ae(t),s=i.queries.get(e);if(s)for(const c of s.listeners)c.onError(n);i.queries.delete(e)}function Uz(t){t.q_.forEach(e=>{e.next()})}class Hz{constructor(e,n,i){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}K_(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)3!==s.type&&i.push(s);e=new __(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){return!e.fromCache||(!this.options.J_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=__.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class JK{constructor(e){this.key=e}}class XK{constructor(e){this.key=e}}class eQ{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=gt(),this.mutatedKeys=gt(),this._a=mW(e),this.aa=new m_(this._a)}get ua(){return this.ia}ca(e,n){const i=n?n.la:new QK,s=n?n.aa:this.aa;let c=n?n.mutatedKeys:this.mutatedKeys,d=s,p=!1;const m="F"===this.query.limitType&&s.size===this.query.limit?s.last():null,y="L"===this.query.limitType&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((k,C)=>{const I=s.get(k),M=N0(this.query,C)?C:null,O=!!I&&this.mutatedKeys.has(I.key),B=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let j=!1;I&&M?I.data.isEqual(M.data)?O!==B&&(i.track({type:3,doc:M}),j=!0):this.ha(I,M)||(i.track({type:2,doc:M}),j=!0,(m&&this._a(M,m)>0||y&&this._a(M,y)<0)&&(p=!0)):!I&&M?(i.track({type:0,doc:M}),j=!0):I&&!M&&(i.track({type:1,doc:I}),j=!0,(m||y)&&(p=!0)),j&&(M?(d=d.add(M),c=B?c.add(k):c.delete(k)):(d=d.delete(k),c=c.delete(k)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const k="F"===this.query.limitType?d.last():d.first();d=d.delete(k.key),c=c.delete(k.key),i.track({type:1,doc:k})}return{aa:d,la:i,Zi:p,mutatedKeys:c}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i){const s=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const c=e.la.L_();c.sort((y,k)=>function(I,M){const O=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re()}};return O(I)-O(M)}(y.type,k.type)||this._a(y.doc,k.doc)),this.Pa(i);const d=n?this.Ia():[],p=0===this.oa.size&&this.current?1:0,m=p!==this.sa;return this.sa=p,0!==c.length||m?{snapshot:new __(this.query,e.aa,s,c,e.mutatedKeys,0===p,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ta:d}:{Ta:d}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new QK,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=gt(),this.aa.forEach(i=>{this.Ea(i.key)&&(this.oa=this.oa.add(i.key))});const n=[];return e.forEach(i=>{this.oa.has(i)||n.push(new XK(i))}),this.oa.forEach(i=>{e.has(i)||n.push(new JK(i))}),n}da(e){this.ia=e.ls,this.oa=gt();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return __.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class qfe{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class Wfe{constructor(e){this.key=e,this.Ra=!1}}class Kfe{constructor(e,n,i,s,c,d){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Va={},this.ma=new ol(p=>pW(p),R0),this.fa=new Map,this.ga=new Set,this.pa=new vn(Ie.comparator),this.ya=new Map,this.wa=new rz,this.Sa={},this.ba=new Map,this.Da=Of.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function Qfe(t,e){return Gz.apply(this,arguments)}function Gz(){return Gz=z(function*(t,e){const n=function fj(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=tQ.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ipe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Jfe.bind(null,e),e.Va.a_=Ufe.bind(null,e.eventManager),e.Va.Fa=Hfe.bind(null,e.eventManager),e}(t);let i,s;const c=n.ma.get(e);if(c)i=c.targetId,n.sharedClientState.addLocalQueryTarget(i),s=c.view.Aa();else{const d=yield function u_(t,e){const n=Ae(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.qr.getTargetData(i,e).next(c=>c?(s=c,Y.resolve(s)):n.qr.allocateTargetId(i).next(d=>(s=new al(e,d,"TargetPurposeListen",i.currentSequenceNumber),n.qr.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.ts.get(i.targetId);return(null===s||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ts=n.ts.insert(i.targetId,i),n.ns.set(e,i.targetId)),i})}(n.localStore,io(e)),p=n.sharedClientState.addLocalQueryTarget(d.targetId);i=d.targetId,s=yield function $z(t,e,n,i,s){return qz.apply(this,arguments)}(n,e,i,"current"===p,d.resumeToken),n.isPrimaryClient&&kM(n.remoteStore,d)}return s}),Gz.apply(this,arguments)}function qz(){return qz=z(function*(t,e,n,i,s){t.va=(C,I,M)=>{return(O=z(function*(j,Z,U,te){let pe=Z.view.ca(U);pe.Zi&&(pe=yield mM(j.localStore,Z.query,!1).then(({documents:At})=>Z.view.ca(At,pe)));const Se=te&&te.targetChanges.get(Z.targetId),Ce=Z.view.applyChanges(pe,j.isPrimaryClient,Se);return nj(j,Z.targetId,Ce.Ta),Ce.snapshot}),function B(j,Z,U,te){return O.apply(this,arguments)})(t,C,I,M);var O};const c=yield mM(t.localStore,e,!0),d=new eQ(e,c.ls),p=d.ca(c.documents),m=j0.createSynthesizedTargetChangeForCurrentChange(n,i&&"Offline"!==t.onlineState,s),y=d.applyChanges(p,t.isPrimaryClient,m);nj(t,n,y.Ta);const k=new qfe(e,n,d);return t.ma.set(e,k),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),y.snapshot}),qz.apply(this,arguments)}function Yfe(t,e){return Wz.apply(this,arguments)}function Wz(){return Wz=z(function*(t,e){const n=Ae(t),i=n.ma.get(e),s=n.fa.get(i.targetId);if(s.length>1)return n.fa.set(i.targetId,s.filter(c=>!R0(c,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||(yield d_(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),eC(n.remoteStore,i.targetId),b_(n,i.targetId)}).catch(Mu))):(b_(n,i.targetId),yield d_(n.localStore,i.targetId,!0))}),Wz.apply(this,arguments)}function Kz(){return Kz=z(function*(t,e,n){const i=function pj(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Xfe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=epe.bind(null,e),e}(t);try{const s=yield function(d,p){const m=Ae(d),y=qn.now(),k=p.reduce((M,O)=>M.add(O.key),gt());let C,I;return m.persistence.runTransaction("Locally write mutations","readwrite",M=>{let O=Ao(),B=gt();return m.ss.getEntries(M,k).next(j=>{O=j,O.forEach((Z,U)=>{U.isValidDocument()||(B=B.add(Z))})}).next(()=>m.localDocuments.getOverlayedDocuments(M,O)).next(j=>{C=j;const Z=[];for(const U of p){const te=Ehe(U,C.get(U.key).overlayedDocument);null!=te&&Z.push(new sl(U.key,te,Xq(te.value.mapValue),Un.exists(!0)))}return m.mutationQueue.addMutationBatch(M,y,Z,p)}).next(j=>{I=j;const Z=j.applyToLocalDocumentSet(C,B);return m.documentOverlayCache.saveOverlays(M,j.batchId,Z)})}).then(()=>({batchId:I.batchId,changes:bW(C)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(d,p,m){let y=d.Sa[d.currentUser.toKey()];y||(y=new vn(ct)),y=y.insert(p,m),d.Sa[d.currentUser.toKey()]=y}(i,s.batchId,n),yield cl(i,s.changes),yield f_(i.remoteStore)}catch(s){const c=g_(s,"Failed to persist write");n.reject(c)}}),Kz.apply(this,arguments)}function tQ(t,e){return Qz.apply(this,arguments)}function Qz(){return Qz=z(function*(t,e){const n=Ae(t);try{const i=yield function _fe(t,e){const n=Ae(t),i=e.snapshotVersion;let s=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=n.ss.newChangeBuffer({trackRemovals:!0});s=n.ts;const p=[];e.targetChanges.forEach((k,C)=>{const I=s.get(C);if(!I)return;p.push(n.qr.removeMatchingKeys(c,k.removedDocuments,C).next(()=>n.qr.addMatchingKeys(c,k.addedDocuments,C)));let M=I.withSequenceNumber(c.currentSequenceNumber);var B,j,Z;null!==e.targetMismatches.get(C)?M=M.withResumeToken(jr.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):k.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(k.resumeToken,i)),s=s.insert(C,M),j=M,Z=k,(0===(B=I).resumeToken.approximateByteSize()||j.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=3e8||Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0)&&p.push(n.qr.updateTargetData(c,M))});let m=Ao(),y=gt();if(e.documentUpdates.forEach(k=>{e.resolvedLimboDocuments.has(k)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(c,k))}),p.push(function RK(t,e,n){let i=gt(),s=gt();return n.forEach(c=>i=i.add(c)),e.getEntries(t,i).next(c=>{let d=Ao();return n.forEach((p,m)=>{const y=c.get(p);m.isFoundDocument()!==y.isFoundDocument()&&(s=s.add(p)),m.isNoDocument()&&m.version.isEqual(Fe.min())?(e.removeEntry(p,m.readTime),d=d.insert(p,m)):!y.isValidDocument()||m.version.compareTo(y.version)>0||0===m.version.compareTo(y.version)&&y.hasPendingWrites?(e.addEntry(m),d=d.insert(p,m)):le("LocalStore","Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",m.version)}),{us:d,cs:s}})}(c,d,e.documentUpdates).next(k=>{m=k.us,y=k.cs})),!i.isEqual(Fe.min())){const k=n.qr.getLastRemoteSnapshotVersion(c).next(C=>n.qr.setTargetsMetadata(c,c.currentSequenceNumber,i));p.push(k)}return Y.waitFor(p).next(()=>d.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,m,y)).next(()=>m)}).then(c=>(n.ts=s,c))}(n.localStore,e);e.targetChanges.forEach((s,c)=>{const d=n.ya.get(c);d&&(Le(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?d.Ra=!0:s.modifiedDocuments.size>0?Le(d.Ra):s.removedDocuments.size>0&&(Le(d.Ra),d.Ra=!1))}),yield cl(n,i,e)}catch(i){yield Mu(i)}}),Qz.apply(this,arguments)}function nQ(t,e,n){const i=Ae(t);if(i.isPrimaryClient&&0===n||!i.isPrimaryClient&&1===n){const s=[];i.ma.forEach((c,d)=>{const p=d.view.Q_(e);p.snapshot&&s.push(p.snapshot)}),function(d,p){const m=Ae(d);m.onlineState=p;let y=!1;m.queries.forEach((k,C)=>{for(const I of C.listeners)I.Q_(p)&&(y=!0)}),y&&Uz(m)}(i.eventManager,e),s.length&&i.Va.a_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function Jfe(t,e,n){return Yz.apply(this,arguments)}function Yz(){return Yz=z(function*(t,e,n){const i=Ae(t);i.sharedClientState.updateQueryState(e,"rejected",n);const s=i.ya.get(e),c=s&&s.key;if(c){let d=new vn(Ie.comparator);d=d.insert(c,Pn.newNoDocument(c,Fe.min()));const p=gt().add(c),m=new z0(Fe.min(),new Map,new vn(ct),d,p);yield tQ(i,m),i.pa=i.pa.remove(c),i.ya.delete(e),rj(i)}else yield d_(i.localStore,e,!1).then(()=>b_(i,e,n)).catch(Mu)}),Yz.apply(this,arguments)}function Xfe(t,e){return Zz.apply(this,arguments)}function Zz(){return Zz=z(function*(t,e){const n=Ae(t),i=e.batch.batchId;try{const s=yield function mfe(t,e){const n=Ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),c=n.ss.newChangeBuffer({trackRemovals:!0});return function(p,m,y,k){const C=y.batch,I=C.keys();let M=Y.resolve();return I.forEach(O=>{M=M.next(()=>k.getEntry(m,O)).next(B=>{const j=y.docVersions.get(O);Le(null!==j),B.version.compareTo(j)<0&&(C.applyToRemoteDocument(B,y),B.isValidDocument()&&(B.setReadTime(y.commitVersion),k.addEntry(B)))})}),M.next(()=>p.mutationQueue.removeMutationBatch(m,C))}(n,i,e,c).next(()=>c.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(p){let m=gt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(m=m.add(p.batch.mutations[y].key));return m}(e))).next(()=>n.localDocuments.getDocuments(i,s))})}(n.localStore,e);tj(n,i,null),ej(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),yield cl(n,s)}catch(s){yield Mu(s)}}),Zz.apply(this,arguments)}function epe(t,e,n){return Jz.apply(this,arguments)}function Jz(){return Jz=z(function*(t,e,n){const i=Ae(t);try{const s=yield function(d,p){const m=Ae(d);return m.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let k;return m.mutationQueue.lookupMutationBatch(y,p).next(C=>(Le(null!==C),k=C.keys(),m.mutationQueue.removeMutationBatch(y,C))).next(()=>m.mutationQueue.performConsistencyCheck(y)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(y,k,p)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,k)).next(()=>m.localDocuments.getDocuments(y,k))})}(i.localStore,e);tj(i,e,n),ej(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),yield cl(i,s)}catch(s){yield Mu(s)}}),Jz.apply(this,arguments)}function ej(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function tj(t,e,n){const i=Ae(t);let s=i.Sa[i.currentUser.toKey()];if(s){const c=s.get(e);c&&(n?c.reject(n):c.resolve(),s=s.remove(e)),i.Sa[i.currentUser.toKey()]=s}}function b_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.fa.get(e))t.ma.delete(i),n&&t.Va.Fa(i,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(i=>{t.wa.containsKey(i)||rQ(t,i)})}function rQ(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);null!==n&&(eC(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),rj(t))}function nj(t,e,n){for(const i of n)i instanceof JK?(t.wa.addReference(i.key,e),npe(t,i)):i instanceof XK?(le("SyncEngine","Document no longer in limbo: "+i.key),t.wa.removeReference(i.key,e),t.wa.containsKey(i.key)||rQ(t,i.key)):Re()}function npe(t,e){const n=e.key,i=n.path.canonicalString();t.pa.get(n)||t.ga.has(i)||(le("SyncEngine","New document in limbo: "+n),t.ga.add(i),rj(t))}function rj(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new Ie(Ot.fromString(e)),i=t.Da.next();t.ya.set(i,new Wfe(n)),t.pa=t.pa.insert(n,i),kM(t.remoteStore,new al(io(Zm(n.path)),i,"TargetPurposeLimboResolution",Jo._e))}}function cl(t,e,n){return ij.apply(this,arguments)}function ij(){return ij=z(function*(t,e,n){const i=Ae(t),s=[],c=[],d=[];var p;i.ma.isEmpty()||(i.ma.forEach((p,m)=>{d.push(i.va(m,e,n).then(y=>{if((y||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(m.targetId,y?.fromCache?"not-current":"current"),y){s.push(y);const k=cz.Qi(m.targetId,y);c.push(k)}}))}),yield Promise.all(d),i.Va.a_(s),yield(p=z(function*(y,k){const C=Ae(y);try{yield C.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>Y.forEach(k,M=>Y.forEach(M.ki,O=>C.persistence.referenceDelegate.addReference(I,M.targetId,O)).next(()=>Y.forEach(M.qi,O=>C.persistence.referenceDelegate.removeReference(I,M.targetId,O)))))}catch(I){if(!Pu(I))throw I;le("LocalStore","Failed to update sequence numbers: "+I)}for(const I of k){const M=I.targetId;if(!I.fromCache){const O=C.ts.get(M),j=O.withLastLimboFreeSnapshotVersion(O.snapshotVersion);C.ts=C.ts.insert(M,j)}}}),function m(y,k){return p.apply(this,arguments)})(i.localStore,c))}),ij.apply(this,arguments)}function rpe(t,e){return oj.apply(this,arguments)}function oj(){return oj=z(function*(t,e){const n=Ae(t);if(!n.currentUser.isEqual(e)){le("SyncEngine","User change. New user:",e.toKey());const i=yield MK(n.localStore,e);n.currentUser=e,(c=n).ba.forEach(p=>{p.forEach(m=>{m.reject(new de(ee.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.ba.clear(),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield cl(n,i._s)}var c}),oj.apply(this,arguments)}function ipe(t,e){const n=Ae(t),i=n.ya.get(e);if(i&&i.Ra)return gt().add(i.key);{let s=gt();const c=n.fa.get(e);if(!c)return s;for(const d of c){const p=n.ma.get(d);s=s.unionWith(p.view.ua)}return s}}class CM{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return z(function*(){n.serializer=J0(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function SK(t,e,n,i){return new gfe(t,e,n,i)}(this.persistence,new xK,e.initialUser,this.serializer)}createPersistence(e){return new iz(fM.jr,this.serializer)}createSharedClientState(e){return new BK}terminate(){var e=this;return z(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class y_{initialize(e,n){var i=this;return z(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(n),i.remoteStore=i.createRemoteStore(n),i.eventManager=i.createEventManager(n),i.syncEngine=i.createSyncEngine(n,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=s=>nQ(i.syncEngine,s,1),i.remoteStore.remoteSyncer.handleCredentialChange=rpe.bind(null,i.syncEngine),yield function Oz(t,e){return Lz.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new jfe}createDatastore(e){const n=J0(e.databaseInfo.databaseId),i=new Afe(e.databaseInfo);return new Dfe(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return i=this.localStore,s=this.datastore,c=e.asyncQueue,d=n=>nQ(this.syncEngine,n,0),p=zK.D()?new zK:new kfe,new Sfe(i,s,c,d,p);var i,s,c,d,p}createSyncEngine(e,n){return function(s,c,d,p,m,y,k){const C=new Kfe(s,c,d,p,m,y);return k&&(C.Ca=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=z(function*(i){const s=Ae(i);le("RemoteStore","RemoteStore shutting down."),s.C_.add(5),yield h_(s),s.F_.shutdown(),s.M_.set("Unknown")}),function n(i){return e.apply(this,arguments)})(this.remoteStore);var e}}class AM{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):ur("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class _pe{constructor(e,n,i,s){var c=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=Xr.UNAUTHENTICATED,this.clientId=Sq.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var d=z(function*(p){le("FirestoreClient","Received user=",p.uid),yield c.authCredentialListener(p),c.user=p});return function(p){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(i,d=>(le("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return z(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new de(ee.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(z(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(i){const s=g_(i,"Failed to shutdown persistence");n.reject(s)}})),n.promise}}function EM(t,e){return gj.apply(this,arguments)}function gj(){return gj=z(function*(t,e){t.asyncQueue.verifyOperationInProgress(),le("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(function(){var s=z(function*(c){i.isEqual(c)||(yield MK(e.localStore,c),i=c)});return function(c){return s.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),gj.apply(this,arguments)}function mj(t,e){return _j.apply(this,arguments)}function _j(){return _j=z(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function bj(t){return yj.apply(this,arguments)}(t);le("FirestoreClient","Initializing OnlineComponentProvider");const i=yield t.getConfiguration();yield e.initialize(n,i),t.setCredentialChangeListener(s=>KK(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,c)=>KK(e.remoteStore,c)),t._onlineComponents=e}),_j.apply(this,arguments)}function yj(){return yj=z(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){le("FirestoreClient","Using user provided OfflineComponentProvider");try{yield EM(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function lQ(t){return"FirebaseError"===t.name?t.code===ee.FAILED_PRECONDITION||t.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;Yo("Error using user provided cache. Falling back to memory cache: "+n),yield EM(t,new CM)}}else le("FirestoreClient","Using default OfflineComponentProvider"),yield EM(t,new CM);return t._offlineComponents}),yj.apply(this,arguments)}function IM(t){return wj.apply(this,arguments)}function wj(){return wj=z(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(le("FirestoreClient","Using user provided OnlineComponentProvider"),yield mj(t,t._uninitializedComponentsProvider._online)):(le("FirestoreClient","Using default OnlineComponentProvider"),yield mj(t,new y_))),t._onlineComponents}),wj.apply(this,arguments)}function k_(t){return vj.apply(this,arguments)}function vj(){return vj=z(function*(t){const e=yield IM(t),n=e.eventManager;return n.onListen=Qfe.bind(null,e.syncEngine),n.onUnlisten=Yfe.bind(null,e.syncEngine),n}),vj.apply(this,arguments)}function gQ(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const mQ=new Map;function Cj(t,e,n){if(!n)throw new de(ee.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function _Q(t){if(!Ie.isDocumentKey(t))throw new de(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function bQ(t){if(Ie.isDocumentKey(t))throw new de(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function DM(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(i=t).constructor?i.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var i;return"function"==typeof t?"a function":Re()}function Tt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new de(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=DM(t);throw new de(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class wQ{constructor(e){var n,i;if(void 0===e.host){if(void 0!==e.ssl)throw new de(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new de(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Tpe(t,e,n,i){if(!0===e&&!0===i)throw new de(ee.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=gQ(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(c){if(void 0!==c.timeoutSeconds){if(isNaN(c.timeoutSeconds))throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tC{constructor(e,n,i,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wQ({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new de(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new de(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wQ(e),void 0!==e.credentials&&(this._authCredentials=function(i){if(!i)return new Ade;switch(i.type){case"firstParty":return new Tde(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new de(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=mQ.get(n);i&&(le("ComponentProvider","Removing Datastore"),mQ.delete(n),i.terminate())}(this),Promise.resolve()}}class _i{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new _i(this.firestore,e,this._query)}}class hr{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ec(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hr(this.firestore,e,this._key)}}class ec extends _i{constructor(e,n,i){super(e,n,Zm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hr(this.firestore,null,new Ie(e))}withConverter(e){return new ec(this.firestore,e,this._path)}}function kQ(t,e,...n){if(t=Br(t),Cj("collection","path",e),t instanceof tC){const i=Ot.fromString(e,...n);return bQ(i),new ec(t,null,i)}{if(!(t instanceof hr||t instanceof ec))throw new de(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Ot.fromString(e,...n));return bQ(i),new ec(t.firestore,null,i)}}function Vf(t,e,...n){if(t=Br(t),1===arguments.length&&(e=Sq.newId()),Cj("doc","path",e),t instanceof tC){const i=Ot.fromString(e,...n);return _Q(i),new hr(t,null,new Ie(i))}{if(!(t instanceof hr||t instanceof ec))throw new de(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Ot.fromString(e,...n));return _Q(i),new hr(t.firestore,t instanceof ec?t.converter:null,new Ie(i))}}class Spe{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new bz(this,"async_queue_retry"),this.iu=()=>{const n=wM();n&&le("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=wM();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=wM();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new zr;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return z(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(n){if(!Pu(n))throw n;le("AsyncQueue","Operation failed with retryable error: "+n)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(i=>{throw this.eu=i,this.tu=!1,ur("INTERNAL UNHANDLED ERROR: ",function(d){let p=d.message||"";return d.stack&&(p=d.stack.includes(d.message)?d.stack:d.message+"\n"+d.stack),p}(i)),i}).then(i=>(this.tu=!1,i))));return this.Ja=n,n}enqueueAfterDelay(e,n,i){this.su(),this.ru.indexOf(e)>-1&&(n=0);const s=Vz.createAndSchedule(this,e,n,i,c=>this.au(c));return this.Xa.push(s),s}su(){this.eu&&Re()}verifyOperationInProgress(){}uu(){var e=this;return z(function*(){let n;do{n=e.Ja,yield n}while(n!==e.Ja)})()}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}class Cn extends tC{constructor(e,n,i,s){super(e,n,i,s),this.type="firestore",this._queue=new Spe,this._persistenceKey=s?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||CQ(this),this._firestoreClient.terminate()}}function fr(t){return t._firestoreClient||CQ(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function CQ(t){var e,n,i;const s=t._freezeSettings(),c=(m=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new ihe(t._databaseId,m,t._persistenceKey,(k=s).host,k.ssl,k.experimentalForceLongPolling,k.experimentalAutoDetectLongPolling,gQ(k.experimentalLongPollingOptions),k.useFetchStreams));var m,k;t._firestoreClient=new _pe(t._authCredentials,t._appCheckCredentials,t._queue,c),null!==(n=s.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(i=s.localCache)&&void 0!==i&&i._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}class Ff{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ff(jr.fromBase64String(e))}catch(n){throw new de(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ff(jr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class v_{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new de(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ej{constructor(e){this._methodName=e}}class Ij{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ct(this._lat,e._lat)||ct(this._long,e._long)}}const Npe=/^__.*__$/;class Ope{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return null!==this.fieldMask?new sl(e,this.data,this.fieldMask,n,this.fieldTransforms):new n_(e,this.data,n,this.fieldTransforms)}}class IQ{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new sl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function DQ(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re()}}class TM{constructor(e,n,i,s,c,d){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,void 0===c&&this.Pu(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new TM(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const i=null===(n=this.path)||void 0===n?void 0:n.child(e),s=this.Tu({path:i,du:!1});return s.Au(e),s}Ru(e){var n;const i=null===(n=this.path)||void 0===n?void 0:n.child(e),s=this.Tu({path:i,du:!1});return s.Pu(),s}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return SM(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(DQ(this.Iu)&&Npe.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class Lpe{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||J0(e)}pu(e,n,i,s=!1){return new TM({Iu:e,methodName:n,gu:i,path:jn.emptyPath(),du:!1,fu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function C_(t){const e=t._freezeSettings(),n=J0(t._databaseId);return new Lpe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Dj(t,e,n,i,s,c={}){const d=t.pu(c.merge||c.mergeFields?2:0,e,n,s);xj("Data must be an object, but it was:",d,i);const p=PQ(i,d);let m,y;if(c.merge)m=new Co(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const k=[];for(const C of c.mergeFields){const I=iC(e,C,n);if(!d.contains(I))throw new de(ee.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);NQ(k,I)||k.push(I)}m=new Co(k),y=d.fieldTransforms.filter(C=>m.covers(C.field))}else m=null,y=d.fieldTransforms;return new Ope(new mi(p),m,y)}class rC extends Ej{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof rC}}function Bf(t,e){if(RQ(t=Br(t)))return xj("Unsupported field value:",e,t),PQ(t,e);if(t instanceof Ej)return function(i,s){if(!DQ(s.Iu))throw s.mu(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.mu(`${i._methodName}() is not currently supported inside arrays`);const c=i._toFieldTransform(s);c&&s.fieldTransforms.push(c)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(i,s){const c=[];let d=0;for(const p of i){let m=Bf(p,s.Vu(d));null==m&&(m={nullValue:"NULL_VALUE"}),c.push(m),d++}return{arrayValue:{values:c}}}(t,e)}return function(i,s){if(null===(i=Br(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return vW(s.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const c=qn.fromDate(i);return{timestampValue:i_(s.serializer,c)}}if(i instanceof qn){const c=new qn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:i_(s.serializer,c)}}if(i instanceof Ij)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ff)return{bytesValue:HW(s.serializer,i._byteString)};if(i instanceof hr){const c=s.databaseId,d=i.firestore._databaseId;if(!d.isEqual(c))throw s.mu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:q3(i.firestore._databaseId||s.databaseId,i._key.path)}}throw s.mu(`Unsupported field value: ${DM(i)}`)}(t,e)}function PQ(t,e){const n={};return Gq(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ru(t,(i,s)=>{const c=Bf(s,e.Eu(i));null!=c&&(n[i]=c)}),{mapValue:{fields:n}}}function RQ(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof qn||t instanceof Ij||t instanceof Ff||t instanceof hr||t instanceof Ej)}function xj(t,e,n){if(!RQ(n)||"object"!=typeof(s=n)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const i=DM(n);throw e.mu("an object"===i?t+" a custom object":t+" "+i)}var s}function iC(t,e,n){if((e=Br(e))instanceof v_)return e._internalPath;if("string"==typeof e)return xM(t,e);throw SM("Field path arguments must be of type string or ",t,!1,void 0,n)}const zpe=new RegExp("[~\\*/\\[\\]]");function xM(t,e,n){if(e.search(zpe)>=0)throw SM(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new v_(...e.split("."))._internalPath}catch{throw SM(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function SM(t,e,n,i,s){const c=i&&!i.isEmpty(),d=void 0!==s;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let m="";return(c||d)&&(m+=" (found",c&&(m+=` in field ${i}`),d&&(m+=` in document ${s}`),m+=")"),new de(ee.INVALID_ARGUMENT,p+t+m)}function NQ(t,e){return t.some(n=>n.isEqual(e))}class Sj{constructor(e,n,i,s,c){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=s,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new hr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new jpe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(MM("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class jpe extends Sj{data(){return super.data()}}function MM(t,e){return"string"==typeof e?xM(t,e):e instanceof v_?e._internalPath:e._delegate._internalPath}class Mj{}class Upe extends Mj{}function PM(t,e,...n){let i=[];e instanceof Mj&&i.push(e),i=i.concat(n),function(c){const d=c.filter(m=>m instanceof E_).length,p=c.filter(m=>m instanceof oC).length;if(d>1||d>0&&p>0)throw new de(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)t=s._apply(t);return t}class oC extends Upe{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new oC(e,n,i)}_apply(e){const n=this._parse(e);return BQ(e._query,n),new _i(e.firestore,e.converter,F3(e._query,n))}_parse(e){const n=C_(e.firestore);return function(c,d,p,m,y,k,C){let I;if(y.isKeyField()){if("array-contains"===k||"array-contains-any"===k)throw new de(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${k}' queries on documentId().`);if("in"===k||"not-in"===k){FQ(C,k);const M=[];for(const O of C)M.push(VQ(m,c,O));I={arrayValue:{values:M}}}else I=VQ(m,c,C)}else"in"!==k&&"not-in"!==k&&"array-contains-any"!==k||FQ(C,k),I=function MQ(t,e,n,i=!1){return Bf(n,t.pu(i?4:3,e))}(p,"where",C,"in"===k||"not-in"===k);return Dt.create(y,k,I)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function A_(t,e,n){const i=e,s=MM("where",t);return oC._create(s,i,n)}class E_ extends Mj{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new E_(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===n.length?n[0]:nn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(s,c){let d=s;const p=c.getFlattenedFilters();for(const m of p)BQ(d,m),d=F3(d,m)}(e._query,n),new _i(e.firestore,e.converter,F3(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function VQ(t,e,n){if("string"==typeof(n=Br(n))){if(""===n)throw new de(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!V3(e)&&-1!==n.indexOf("/"))throw new de(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Ot.fromString(n));if(!Ie.isDocumentKey(i))throw new de(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return If(t,new Ie(i))}if(n instanceof hr)return If(t,n._key);throw new de(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${DM(n)}.`)}function FQ(t,e){if(!Array.isArray(t)||0===t.length)throw new de(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function BQ(t,e){const n=function(s,c){for(const d of s)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new de(ee.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Hpe{convertValue(e,n="none"){switch(Lu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(rl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Re()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Ru(e,(s,c)=>{i[s]=this.convertValue(c,n)}),i}convertGeoPoint(e){return new Ij(rr(e.latitude),rr(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=KS(e);return null==i?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(D0(e));default:return null}}convertTimestamp(e){const n=Nu(e);return new qn(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Ot.fromString(e);Le(XW(i));const s=new Ef(i.get(1),i.get(3)),c=new Ie(i.popFirst(5));return s.isEqual(n)||ur(`Document ${c} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}class zf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class I_ extends Sj{constructor(e,n,i,s,c,d){super(e,n,i,s,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new LM(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(MM("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class LM extends I_{data(e={}){return super.data(e)}}class D_{constructor(e,n,i,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new zf(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new LM(this._firestore,this._userDataWriter,i.key,i,new zf(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,c){if(s._snapshot.oldDocs.isEmpty()){let d=0;return s._snapshot.docChanges.map(p=>({type:"added",doc:new LM(s._firestore,s._userDataWriter,p.doc.key,p.doc,new zf(s._snapshot.mutatedKeys.has(p.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:d++}))}{let d=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(p=>c||3!==p.type).map(p=>{const m=new LM(s._firestore,s._userDataWriter,p.doc.key,p.doc,new zf(s._snapshot.mutatedKeys.has(p.doc.key),s._snapshot.fromCache),s.query.converter);let y=-1,k=-1;return 0!==p.type&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),1!==p.type&&(d=d.add(p.doc),k=d.indexOf(p.doc.key)),{type:$pe(p.type),doc:m,oldIndex:y,newIndex:k}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function $pe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re()}}class $u extends Hpe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ff(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new hr(this.firestore,null,n)}}function VM(t){t=Tt(t,_i);const e=Tt(t.firestore,Cn),n=fr(e),i=new $u(e);return function OQ(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new de(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query),function pQ(t,e,n={}){const i=new zr;return t.asyncQueue.enqueueAndForget(z(function*(){return function(c,d,p,m,y){const k=new AM({next:I=>{d.enqueueAndForget(()=>zz(c,C)),I.fromCache&&"server"===m.source?y.reject(new de(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(I)},error:I=>y.reject(I)}),C=new Hz(p,k,{includeMetadataChanges:!0,J_:!0});return Fz(c,C)}(yield k_(t),t.asyncQueue,e,n,i)})),i.promise}(n,t._query).then(s=>new D_(e,i,t,s))}function Nj(t,e,n,...i){t=Tt(t,hr);const s=Tt(t.firestore,Cn),c=C_(s);let d;return d="string"==typeof(e=Br(e))||e instanceof v_?function SQ(t,e,n,i,s,c){const d=t.pu(1,e,n),p=[iC(e,i,n)],m=[s];if(c.length%2!=0)throw new de(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<c.length;I+=2)p.push(iC(e,c[I])),m.push(c[I+1]);const y=[],k=mi.empty();for(let I=p.length-1;I>=0;--I)if(!NQ(y,p[I])){const M=p[I];let O=m[I];O=Br(O);const B=d.Ru(M);if(O instanceof rC)y.push(M);else{const j=Bf(O,B);null!=j&&(y.push(M),k.set(M,j))}}const C=new Co(y);return new IQ(k,C,d.fieldTransforms)}(c,"updateDoc",t._key,e,n,i):function xQ(t,e,n,i){const s=t.pu(1,e,n);xj("Data must be an object, but it was:",s,i);const c=[],d=mi.empty();Ru(i,(m,y)=>{const k=xM(e,m,n);y=Br(y);const C=s.Ru(k);if(y instanceof rC)c.push(k);else{const I=Bf(y,C);null!=I&&(c.push(k),d.set(k,I))}});const p=new Co(c);return new IQ(d,p,s.fieldTransforms)}(c,"updateDoc",t._key,e),sC(s,[d.toMutation(t._key,Un.exists(!0))])}function jQ(t){return sC(Tt(t.firestore,Cn),[new r_(t._key,Un.none())])}function UQ(t,e){const n=Tt(t.firestore,Cn),i=Vf(t),s=function Rj(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}(t.converter,e);return sC(n,[Dj(C_(t.firestore),"addDoc",i._key,s,null!==t.converter,{}).toMutation(i._key,Un.exists(!1))]).then(()=>i)}function sC(t,e){return function(i,s){const c=new zr;return i.asyncQueue.enqueueAndForget(z(function*(){return function Zfe(t,e,n){return Kz.apply(this,arguments)}(yield function kj(t){return IM(t).then(e=>e.syncEngine)}(i),s,c)})),c.promise}(fr(t),e)}!function(e,n=!0){Hm=Sm,Ha(new ra("firestore",(i,{instanceIdentifier:s,options:c})=>{const d=i.getProvider("app").getImmediate(),p=new Cn(new Ide(i.getProvider("auth-internal")),new xde(i.getProvider("app-check-internal")),function(y,k){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new de(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ef(y.options.projectId,k)}(d,s),d);return c=Object.assign({useFetchStreams:n},c),p._setSettings(c),p},"PUBLIC").setMultipleInstances(!0)),Ms(Dq,"4.3.2",e),Ms(Dq,"4.3.2","esm2017")}();const Vj=_H({apiKey:"AIzaSyD03QD3KO5GL1qqW8pyzNmOkvxR71ggSWo",authDomain:"herawi-keep-notes.firebaseapp.com",databaseURL:"https://herawi-keep-notes-default-rtdb.firebaseio.com",projectId:"herawi-keep-notes",storageBucket:"herawi-keep-notes.appspot.com",messagingSenderId:"904732458438",appId:"1:904732458438:web:886f29fd28fd6e698686c7",measurementId:"G-G33YYQSJCV"}),oge=(function fue(t=EV()){const e=Au(t=Br(t),gS);e.isInitialized()?e.getImmediate():function pue(t,e={}){const n=Au(t,gS);if(n.isInitialized()){const s=n.getImmediate();if(Lv(e,n.getOptions()))return s;throw no.create("already-initialized")}n.initialize({options:e})}(t)}(Vj),function Ppe(t,e){const i="string"==typeof t?t:e||"(default)",s=Au("object"==typeof t?t:EV(),"firestore").getImmediate({identifier:i});if(!s._initialized){const c=(t=>{const e=eH("firestore");if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),i]:[e.substring(0,n),i]})();c&&function xpe(t,e,n,i={}){var s;const c=(t=Tt(t,tC))._getSettings(),d=`${e}:${n}`;if("firestore.googleapis.com"!==c.host&&c.host!==d&&Yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},c),{host:d,ssl:!1})),i.mockUserToken){let p,m;if("string"==typeof i.mockUserToken)p=i.mockUserToken,m=Xr.MOCK_USER;else{p=function gie(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i=e||"demo-project",s=t.iat||0,c=t.sub||t.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Hx(JSON.stringify({alg:"none",type:"JWT"})),Hx(JSON.stringify(d)),""].join(".")}(i.mockUserToken,null===(s=t._app)||void 0===s?void 0:s.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new de(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Xr(y)}t._authCredentials=new Ede(new Tq(p,m))}}(s,...c)}return s}(Vj)),sge=function Rce(t=EV()){const e=Au(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function mse(t,e){const n=Au(t,"auth");if(n.isInitialized()){const s=n.getImmediate();if(Lv(n.getOptions(),e??{}))return s;vo(s,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:Ice,persistence:[vae,lae,uG]}),i=nH("authTokenSyncURL");if(i){const c=Pce(i);(function eae(t,e,n){Br(t).beforeAuthStateChanged(e,n)})(n,c,()=>c(n.currentUser)),function Xse(t,e,n,i){Br(t).onIdTokenChanged(e,n,i)}(n,d=>c(d))}const s=eH("auth");return s&&function bse(t,e,n){const i=Ar(t);ve(i._canInitEmulator,i,"emulator-config-failed"),ve(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!!n?.disableWarnings,c=YH(e),{host:d,port:p}=function yse(t){const e=YH(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const c=s[1];return{host:c,port:ZH(i.substr(c.length+1))}}{const[c,d]=i.split(":");return{host:c,port:ZH(d)}}}(e);i.config.emulator={url:`${c}//${d}${null===p?"":`:${p}`}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||function wse(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${s}`),n}(Vj),age=new Vse;let aC=(()=>{class t{constructor(n){this.router=n,this.Authentication=sge,this.Database=oge,this.GoogleProvider=age,this.notesCollection=kQ(this.Database,"Notes"),this.userCollectionRef=kQ(this.Database,"Users")}getAllNotesByUserId(n){return VM(PM(this.notesCollection,A_("userId","==",n)))}getNotesByUserId(n){return VM(PM(this.notesCollection,A_("userId","==",n),A_("enable","==",!0)))}getNotesInTrashByUserId(n){return VM(PM(this.notesCollection,A_("userId","==",n),A_("enable","==",!1)))}getNoteByNoteId(n){return function qpe(t){t=Tt(t,hr);const e=Tt(t.firestore,Cn);return function fQ(t,e,n={}){const i=new zr;return t.asyncQueue.enqueueAndForget(z(function*(){return function(c,d,p,m,y){const k=new AM({next:I=>{d.enqueueAndForget(()=>zz(c,C));const M=I.docs.has(p);!M&&I.fromCache?y.reject(new de(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&I.fromCache&&m&&"server"===m.source?y.reject(new de(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(I)},error:I=>y.reject(I)}),C=new Hz(Zm(p.path),k,{includeMetadataChanges:!0,J_:!0});return Fz(c,C)}(yield k_(t),t.asyncQueue,e,n,i)})),i.promise}(fr(e),t._key).then(n=>function Oj(t,e,n){const i=n.docs.get(e._key),s=new $u(t);return new I_(t,s,e._key,i,new zf(n.hasPendingWrites,n.fromCache),e.converter)}(e,t,n))}(Vf(this.Database,"Notes",n))}addNote(n){return UQ(this.notesCollection,n)}updateNote(n){return Nj(Vf(this.Database,"Notes",n.id),{...n})}moveNoteInTrash(n){return Nj(Vf(this.Database,"Notes",n.id),{...n,enable:!1})}moveNoteFromTrash(n){return console.log(n),Nj(Vf(this.Database,"Notes",n.id),{...n,enable:!0})}deleteNote(n){return jQ(Vf(this.Database,"Notes",n))}signUpWithEmailAndPassword(n,i){return function Gse(t,e,n){return jF.apply(this,arguments)}(this.Authentication,n,i)}signInWithEmailAndPassword(n,i){return function $se(t,e,n){return EF(Br(t),eG.credential(e,n)).catch(function(){var i=z(function*(s){throw"auth/password-does-not-meet-requirements"===s.code&&NF(t),s});return function(s){return i.apply(this,arguments)}}())}(this.Authentication,n,i)}signInWithGoogle(){return function Uae(t,e,n){return bB.apply(this,arguments)}(this.Authentication,this.GoogleProvider)}logOut(){(function tae(t){Br(t).signOut()})(this.Authentication),localStorage.clear(),this.router.navigate(["/login"])}addUserInfo(n){return UQ(this.userCollectionRef,n)}deleteUserInfo(n){return jQ(Vf(this.Database,"Users",n))}getUserInfo(n){return VM(PM(this.userCollectionRef,A_("authGeneratedId","==",n)))}}return t.\u0275fac=function(n){return new(n||t)(we(Fr))},t.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),cC=(()=>{class t{constructor(n,i){this.firebaseService=n,this.state=i,this.isLoading=!0,this.emptyMessage="",this.trashEmptyMessage="",this.notes=[],this.trash=[],this.state.select(hV).subscribe(s=>{this.notes=s}),this.state.select(Q8).subscribe(s=>{this.trash=s}),this.state.select(fV).subscribe(s=>{this.emptyMessage=s}),this.firebaseService.getAllNotesByUserId(localStorage.getItem("userId")+"").then(s=>{this.isLoading=!1;let c=s.docs.map(p=>{const m=p.data(),y=m.createdAt,k=m.lastUpdate;return{...p.data(),id:p.id,createdAt:y.toDate(),lastUpdate:k.toDate()}});const d=c.filter(p=>0==p.enable);c=c.filter(p=>1==p.enable),this.state.dispatch(dV({notes:c})),this.state.dispatch(W8({trash:d})),this.isLoading=!1})}getAllNotes(){var n=this;return z(function*(){const i=yield n.firebaseService.getAllNotesByUserId(localStorage.getItem("userId")+"");return n.isLoading=!1,0==i.docs.length?[]:i.docs.map(c=>{const d=c.data(),p=d.createdAt,m=d.lastUpdate;return{...c.data(),id:c.id,createdAt:p.toDate(),lastUpdate:m.toDate()}}).filter(c=>c.enable)})()}addNote(n){var i=this;return z(function*(){return i.firebaseService.addNote({color:n.color,createdAt:n.createdAt,data:n.data,enable:n.enable,lastUpdate:n.lastUpdate,title:n.title,userId:n.userId}).then(s=>(console.log(s.id),i.state.dispatch(U8({...n,id:s.id}))))})()}updateNote(n){var i=this;return z(function*(){return i.state.dispatch(H8(n)),i.firebaseService.updateNote(n)})()}moveToTrash(n){this.firebaseService.moveNoteInTrash(this.notes[this.findNoteIndexById(this.notes,n)]).then(i=>{this.state.dispatch(G8({noteId:n}))})}deleteForever(n){this.firebaseService.deleteNote(n).then(i=>{this.state.dispatch(q8({noteId:n}))})}moveFromTrash(n){this.firebaseService.moveNoteFromTrash(this.trash[this.findNoteIndexById(this.trash,n)]).then(i=>{this.state.dispatch($8({noteId:n}))})}findNoteIndexById(n,i){return n.findIndex(s=>s.id==i)}}return t.\u0275fac=function(n){return new(n||t)(we(aC),we(vu))},t.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),cge=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Wn({type:t,selectors:[["app-btn-loading"]],decls:2,vars:0,consts:[[1,"btn_loading_wrapper"],[1,"btn_loading"]],template:function(n,i){1&n&&(_e(0,"div",0),Ze(1,"div",1),be())},styles:['.btn_loading_wrapper[_ngcontent-%COMP%]{display:block;text-align:center;position:absolute;inset:0;background-color:#ffffffa8;display:flex;align-items:center;justify-content:center}.btn_loading[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px}.btn_loading[_ngcontent-%COMP%]:after{content:" ";display:block;width:20px;height:20px;margin:-2px;border-radius:50%;border:3px solid var(--orange);border-color:var(--orange) transparent var(--orange) transparent;animation:_ngcontent-ng-c1656690201_spinner 1.2s linear infinite}@keyframes _ngcontent-%COMP%_spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']}),t})();function lge(t,e){1&t&&Ze(0,"app-btn-loading")}let lC=(()=>{class t{constructor(){this.btnType=[""],this.btnClick=new kt,this.id="btn_id",this.isLoading=!1}onClick(){this.btnClick.emit()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Wn({type:t,selectors:[["app-button"]],inputs:{btnType:"btnType",text:"text",icon:"icon",id:"id",isLoading:"isLoading"},outputs:{btnClick:"btnClick"},decls:4,vars:7,consts:[[1,"btn","flex","justify_content_center","align_items_center",3,"id","ngClass","click"],[4,"ngIf"]],template:function(n,i){1&n&&(_e(0,"button",0),bt("click",function(){return i.onClick()}),Ze(1,"i"),qe(2),Qt(3,lge,1,0,"app-btn-loading",1),be()),2&n&&(Pa("id",i.id),Ve("ngClass",i.btnType),Me(1),II(i.icon),Me(1),Oa("",i.text," "),Me(1),Ve("ngIf",i.isLoading))},dependencies:[_9,Xs,cge],styles:[".btn[_ngcontent-%COMP%]{outline:none;padding:5px 15px;margin:5px;border-radius:4px;font-size:1rem;border:none;cursor:pointer;transition:all .2s ease-out;-webkit-user-select:none;user-select:none;background-color:var(--orange);position:relative}.btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0}.btn[_ngcontent-%COMP%]:hover{box-shadow:0 0 4px 2px #00000059}.general[_ngcontent-%COMP%]{background:linear-gradient(to right,var(--orange_dark),var(--orange))}.gray[_ngcontent-%COMP%]{background:linear-gradient(to right,#93878769,#605b5b5d)}.success[_ngcontent-%COMP%]{background:linear-gradient(to right,#2cc990,#2cc980)}.full_width[_ngcontent-%COMP%]{width:100%!important}"]}),t})(),qQ=(()=>{class t{constructor(n,i){this._renderer=n,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(ie(bs),ie(li))},t.\u0275dir=Qe({type:t}),t})(),jf=(()=>{class t extends qQ{}return t.\u0275fac=function(){let e;return function(i){return(e||(e=Zn(t)))(i||t)}}(),t.\u0275dir=Qe({type:t,features:[$t]}),t})();const aa=new fe("NgValueAccessor"),hge={provide:aa,useExisting:Zt(()=>zM),multi:!0},pge=new fe("CompositionEventMode");let zM=(()=>{class t extends qQ{constructor(n,i,s){super(n,i),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function fge(){const t=Ys()?Ys().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(ie(bs),ie(li),ie(pge,8))},t.\u0275dir=Qe({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,i){1&n&&bt("input",function(c){return i._handleInput(c.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(c){return i._compositionEnd(c.target.value)})},features:[fn([hge]),$t]}),t})();const Gi=new fe("NgValidators"),Wu=new fe("NgAsyncValidators");function rY(t){return null!=t}function iY(t){return ru(t)?or(t):t}function oY(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function sY(t,e){return e.map(n=>n(t))}function aY(t){return t.map(e=>function mge(t){return!t.validate}(e)?e:n=>e.validate(n))}function Fj(t){return null!=t?function cY(t){if(!t)return null;const e=t.filter(rY);return 0==e.length?null:function(n){return oY(sY(n,e))}}(aY(t)):null}function Bj(t){return null!=t?function lY(t){if(!t)return null;const e=t.filter(rY);return 0==e.length?null:function(n){return function uge(...t){const e=G_(t),{args:n,keys:i}=Q9(t),s=new un(c=>{const{length:d}=n;if(!d)return void c.complete();const p=new Array(d);let m=d,y=d;for(let k=0;k<d;k++){let C=!1;qi(n[k]).subscribe(pn(c,I=>{C||(C=!0,y--),p[k]=I},()=>m--,void 0,()=>{(!m||!C)&&(y||c.next(i?Z9(i,p):p),c.complete())}))}});return e?s.pipe(Y9(e)):s}(sY(n,e).map(iY)).pipe(_t(oY))}}(aY(t)):null}function uY(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function zj(t){return t?Array.isArray(t)?t:[t]:[]}function UM(t,e){return Array.isArray(t)?t.includes(e):t===e}function fY(t,e){const n=zj(e);return zj(t).forEach(s=>{UM(n,s)||n.push(s)}),n}function pY(t,e){return zj(e).filter(n=>!UM(t,n))}class gY{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Fj(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Bj(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class oo extends gY{get formDirective(){return null}get path(){return null}}class Ku extends gY{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class mY{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let jj=(()=>{class t extends mY{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(ie(Ku,2))},t.\u0275dir=Qe({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,i){2&n&&zo("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[$t]}),t})();const uC="VALID",GM="INVALID",T_="PENDING",dC="DISABLED";function $M(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class wY{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===uC}get invalid(){return this.status===GM}get pending(){return this.status==T_}get disabled(){return this.status===dC}get enabled(){return this.status!==dC}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(fY(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(fY(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(pY(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(pY(e,this._rawAsyncValidators))}hasValidator(e){return UM(this._rawValidators,e)}hasAsyncValidator(e){return UM(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=T_,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=dC,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=uC,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===uC||this.status===T_)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?dC:uC}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=T_,this._hasOwnPendingAsyncValidator=!0;const n=iY(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((i,s)=>i&&i._find(s),this)}getError(e,n){const i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new kt,this.statusChanges=new kt}_calculateStatus(){return this._allControlsDisabled()?dC:this.errors?GM:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(T_)?T_:this._anyControlsHaveStatus(GM)?GM:uC}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){$M(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function kge(t){return Array.isArray(t)?Fj(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function vge(t){return Array.isArray(t)?Bj(t):t||null}(this._rawAsyncValidators)}}const x_=new fe("CallSetDisabledState",{providedIn:"root",factory:()=>qM}),qM="always";function hC(t,e,n=qM){(function Wj(t,e){const n=function dY(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(uY(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const i=function hY(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(uY(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]);const s=()=>t.updateValueAndValidity();QM(e._rawValidators,s),QM(e._rawAsyncValidators,s)})(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function Ege(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&kY(t,e)})}(t,e),function Dge(t,e){const n=(i,s)=>{e.valueAccessor.writeValue(i),s&&e.viewToModelUpdate(i)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function Ige(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&kY(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function Age(t,e){if(e.valueAccessor.setDisabledState){const n=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function QM(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function kY(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function AY(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function EY(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const IY=class extends wY{constructor(e=null,n,i){super(function Gj(t){return($M(t)?t.validators:t)||null}(n),function $j(t,e){return($M(e)?e.asyncValidators:t)||null}(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),$M(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=EY(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){AY(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){AY(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){EY(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Oge={provide:Ku,useExisting:Zt(()=>ZM)},xY=(()=>Promise.resolve())();let ZM=(()=>{class t extends Ku{constructor(n,i,s,c,d,p){super(),this._changeDetectorRef=d,this.callSetDisabledState=p,this.control=new IY,this._registered=!1,this.name="",this.update=new kt,this._parent=n,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=function Yj(t,e){if(!e)return null;let n,i,s;return Array.isArray(e),e.forEach(c=>{c.constructor===zM?n=c:function Sge(t){return Object.getPrototypeOf(t.constructor)===jf}(c)?i=c:s=c}),s||i||n||null}(0,c)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const i=n.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function Qj(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){hC(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){xY.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const i=n.isDisabled.currentValue,s=0!==i&&jc(i);xY.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function WM(t,e){return[...e.path,t]}(n,this._parent):[n]}}return t.\u0275fac=function(n){return new(n||t)(ie(oo,9),ie(Gi,10),ie(Wu,10),ie(aa,10),ie(cm,8),ie(x_,8))},t.\u0275dir=Qe({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[fn([Oge]),$t,Ei]}),t})(),MY=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=xr({type:t}),t.\u0275inj=mr({}),t})(),sme=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=xr({type:t}),t.\u0275inj=mr({imports:[MY]}),t})(),QY=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:x_,useValue:n.callSetDisabledState??qM}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=xr({type:t}),t.\u0275inj=mr({imports:[sme]}),t})();const cme=function(t,e){return{color:t,"font-size":e}};function lme(t,e){if(1&t&&(_e(0,"label",3),qe(1),be()),2&t){const n=qt();Pa("for",n.id),Ve("ngStyle",hk(3,cme,n.color,n.fontSize)),Me(1),Oa(" ",n.label," ")}}const ume=function(t){return{"font-size":t}};let JM=(()=>{class t{constructor(){this.showLable=!0,this.inputValueChange=new kt,this.color="#000",this.fontSize="14px"}onInput(){this.inputValueChange.emit(this.inputValue),console.log(this.showLable)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Wn({type:t,selectors:[["app-input"]],inputs:{showLable:"showLable",inputValue:"inputValue",id:"id",label:"label",placeholder:"placeholder",inputType:"inputType",color:"color",fontSize:"fontSize"},outputs:{inputValueChange:"inputValueChange"},decls:3,vars:9,consts:[[1,"input_container"],["class","input_label",3,"ngStyle","for",4,"ngIf"],[1,"input",3,"id","name","ngModel","placeholder","type","ngStyle","ngModelChange"],[1,"input_label",3,"ngStyle","for"]],template:function(n,i){1&n&&(_e(0,"div",0),Qt(1,lme,2,6,"label",1),_e(2,"input",2),bt("ngModelChange",function(c){return i.inputValue=c})("ngModelChange",function(){return i.inputValueChange.emit(i.inputValue)}),be()()),2&n&&(Me(1),Ve("ngIf",i.showLable),Me(1),Pa("id",i.id),Pa("name",i.id),Pa("placeholder",i.placeholder),Pa("type",i.inputType),Ve("ngModel",i.inputValue)("ngStyle",qg(7,ume,i.fontSize)))},dependencies:[Xs,rL,zM,jj,ZM],styles:[".input_container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.input[_ngcontent-%COMP%]{outline:none;border:1px solid #ddd;border-radius:5px;padding:5px 10px;transition:all .2s ease-out;margin:5px;width:300px;box-sizing:border-box}.input[_ngcontent-%COMP%]:hover, .input[_ngcontent-%COMP%]:focus{box-shadow:0 0 2px 3px var(--orange)}.input_label[_ngcontent-%COMP%]{margin:5px;font-size:14px;font-weight:600}"]}),t})();const dme=function(t){return["/notes/edit-note/",t]};function hme(t,e){if(1&t&&(_e(0,"li")(1,"a",14),Ze(2,"i",15),qe(3,"open note "),be()()),2&t){const n=qt();Me(1),Ve("routerLink",qg(1,dme,n.id))}}function fme(t,e){1&t&&(_e(0,"li"),Ze(1,"i",16),qe(2,"Pin"),be())}function pme(t,e){if(1&t){const n=ui();_e(0,"li",17),bt("click",function(){return yr(n),Tn(qt().moveToTrash())}),Ze(1,"i",18),qe(2,"remove"),be()}}function gme(t,e){if(1&t){const n=ui();_e(0,"li",17),bt("click",function(){return yr(n),Tn(qt().moveFromTrash())}),Ze(1,"i",19),qe(2,"Restore"),be()}}function mme(t,e){if(1&t){const n=ui();_e(0,"li",17),bt("click",function(){return yr(n),Tn(qt().deleteForever())}),Ze(1,"i",20),qe(2,"Delete forever"),be()}}const _me=function(t){return{"background-color":t}};let i6=(()=>{class t{constructor(n){this.noteService=n,this.id="",this.color="",this.title="",this.createdAt=new Date,this.lastUpdate=new Date,this.enable=!0,this.userId="",this.data="",this.isLoading=!0}ngOnInit(){this.isLoading=!0,this.formattedDate=this.lastUpdate?.toUTCString(),console.log(this.id)}moveToTrash(){this.noteService.moveToTrash(this.id)}deleteForever(){this.noteService.deleteForever(this.id)}moveFromTrash(){this.noteService.moveFromTrash(this.id)}}return t.\u0275fac=function(n){return new(n||t)(ie(cC))},t.\u0275cmp=Wn({type:t,selectors:[["app-note"]],inputs:{id:"id",color:"color",title:"title",createdAt:"createdAt",lastUpdate:"lastUpdate",enable:"enable",userId:"userId",data:"data"},decls:21,vars:11,consts:[[1,"note","entering-animation","box_shadow",3,"ngStyle"],[1,"note_header"],[1,"note_title_container"],[1,"bi","bi-sticky-fill"],[1,"note_title"],[1,"note_date"],[1,"note_settings"],[1,"setting_icon"],[1,"bi","bi-three-dots"],[1,"setting_menu"],[4,"ngIf"],[3,"click",4,"ngIf"],[1,"box_input","ck","ck-content","ck-editor__editable","ck-rounded-corners","ck-editor__editable_inline","ck-blurred"],[1,"content",3,"innerHTML"],[3,"routerLink"],[1,"bi","bi-arrows-angle-expand"],[1,"bi","bi-pin-fill"],[3,"click"],[1,"bi","bi-trash-fill"],[1,"bi","bi-reply-fill"],[1,"bi","bi-x"]],template:function(n,i){1&n&&(_e(0,"div",0)(1,"div",1)(2,"p",2),Ze(3,"i",3),_e(4,"span",4),qe(5),be(),Ze(6,"br"),_e(7,"span",5),qe(8),be()(),_e(9,"div",6)(10,"span",7),Ze(11,"i",8),be(),_e(12,"div",9)(13,"ul"),Qt(14,hme,4,3,"li",10),Qt(15,fme,3,0,"li",10),Qt(16,pme,3,0,"li",11),Qt(17,gme,3,0,"li",11),Qt(18,mme,3,0,"li",11),be()()()(),_e(19,"div",12),Ze(20,"div",13),be()()),2&n&&(Ve("ngStyle",qg(9,_me,i.color)),Me(5),Oi(i.title),Me(3),Oi(i.formattedDate),Me(6),Ve("ngIf",i.enable),Me(1),Ve("ngIf",i.enable),Me(1),Ve("ngIf",i.enable),Me(1),Ve("ngIf",!i.enable),Me(1),Ve("ngIf",!i.enable),Me(2),Ve("innerHTML",i.data,R1))},dependencies:[Xs,rL,qc],styles:[".note[_ngcontent-%COMP%]{min-width:200px;max-width:500px;height:300px;margin:8px;position:relative;overflow:hidden;padding:0 10px}.note[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-left:0}.note_date[_ngcontent-%COMP%]{font-size:.6rem}.note[_ngcontent-%COMP%]   .note_header[_ngcontent-%COMP%]{padding:10px;display:flex;justify-content:space-between}.note[_ngcontent-%COMP%]   .note_header[_ngcontent-%COMP%]   .note_title_container[_ngcontent-%COMP%]{line-height:20px}.note_title[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px}.note_settings[_ngcontent-%COMP%]   .setting_icon[_ngcontent-%COMP%]{cursor:pointer;padding:30px 0 30px 30px;font-size:18px}.note_settings[_ngcontent-%COMP%]   .setting_icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:0}.setting_icon[_ngcontent-%COMP%]:hover + .setting_menu[_ngcontent-%COMP%]{transform:translateY(0)}.note_settings[_ngcontent-%COMP%]   .setting_menu[_ngcontent-%COMP%]{border-radius:5px;width:120px;position:absolute;background-color:#fff;z-index:100;font-size:.8rem;padding:10px;list-style:none;transform:translateY(-160px);transition:all .2s ease-in-out;transform-origin:top;top:30px;right:5px;box-shadow:0 0 4px 1px #9b9999}.note_settings[_ngcontent-%COMP%]   .setting_menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:4px}.note_settings[_ngcontent-%COMP%]   .setting_menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{font-weight:700;color:#fff;background-color:var(--orange);border-radius:5px}.note_settings[_ngcontent-%COMP%]   .setting_menu[_ngcontent-%COMP%]:hover{transform:translateY(0)}.note[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:10px;font-size:.8rem;background-color:#ffffff85;position:absolute;inset:50px 0 0;box-sizing:border-box;border-radius:15px 15px 5px 5px;resize:none;overflow-y:scroll}"]}),t})(),o6=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Wn({type:t,selectors:[["app-loading"]],decls:2,vars:0,consts:[[1,"loading_wrapper"],[1,"loading"]],template:function(n,i){1&n&&(_e(0,"div",0),Ze(1,"div",1),be())},styles:['.loading_wrapper[_ngcontent-%COMP%]{display:block;text-align:center;min-height:100px}.loading[_ngcontent-%COMP%]{display:inline-block;width:40px;height:40px}.loading[_ngcontent-%COMP%]:after{content:" ";display:block;width:40px;height:40px;margin:4px;border-radius:50%;border:5px solid var(--orange);border-color:var(--orange) transparent var(--orange) transparent;animation:_ngcontent-%COMP%_spinner 1.2s linear infinite}@keyframes _ngcontent-%COMP%_spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']}),t})();function bme(t,e){1&t&&Ze(0,"app-loading")}function yme(t,e){if(1&t&&Ze(0,"app-note",9),2&t){const n=e.$implicit;Ve("color",n.color)("data",n.data)("title",n.title)("lastUpdate",n.lastUpdate)("createdAt",n.createdAt)("enable",n.enable)("userId",n.userId)("id",n.id)}}function wme(t,e){if(1&t&&(_e(0,"h3"),qe(1),be()),2&t){const n=qt();Me(1),Oi(n.emptyMessage)}}const kme=function(){return["/notes/add-note/"]};let vme=(()=>{class t{constructor(n,i){this.state=n,this.noteService=i,this.allNotes=[],this.isLoading=!0}ngOnInit(){this.state.select(hV).subscribe(n=>{this.isLoading=this.noteService.isLoading,this.allNotes=n}),this.state.select(fV).subscribe(n=>{this.emptyMessage=n})}}return t.\u0275fac=function(n){return new(n||t)(ie(vu),ie(cC))},t.\u0275cmp=Wn({type:t,selectors:[["app-notes"]],decls:11,vars:6,consts:[[1,"notes_page","full_width","slideInLeft"],[1,"notes_header","align_items_center"],[1,"search_bar","flex","align_items_center"],[1,"notes_title"],["id","search_note","inputType","text","placeholder","find your notes",3,"showLable"],["icon","bi bi-plus-lg",3,"routerLink"],[1,"notes_container"],[4,"ngIf"],[3,"color","data","title","lastUpdate","createdAt","enable","userId","id",4,"ngFor","ngForOf"],[3,"color","data","title","lastUpdate","createdAt","enable","userId","id"]],template:function(n,i){1&n&&(_e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),qe(4,"Sticky Note"),be(),Ze(5,"app-input",4),be(),Ze(6,"app-button",5),be(),_e(7,"div",6),Qt(8,bme,1,0,"app-loading",7),Qt(9,yme,1,8,"app-note",8),Qt(10,wme,2,1,"h3",7),be()()),2&n&&(Me(5),Ve("showLable",!1),Me(1),Ve("routerLink",Va(5,kme)),Me(2),Ve("ngIf",i.isLoading),Me(1),Ve("ngForOf",i.allNotes),Me(1),Ve("ngIf",i.emptyMessage))},dependencies:[gx,Xs,qc,lC,JM,i6,o6],styles:[".notes_page[_ngcontent-%COMP%]   .notes_header[_ngcontent-%COMP%]{padding:20px;display:flex;font-size:1.5rem;font-weight:900;justify-content:space-between}#search_note[_ngcontent-%COMP%]{width:300px!important;margin-left:20px}.add_button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0}.add_button[_ngcontent-%COMP%]{padding:5px;width:30px;height:20px;font-size:1.5rem;background-color:var(--orange);border-radius:5px;display:flex;align-items:center;justify-content:center}.notes_container[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-flow:wrap}"]}),t})(),Cme=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Wn({type:t,selectors:[["app-not-found"]],decls:11,vars:0,consts:[["id","not_found",1,"not_found","fade_in"],[1,"info_logo"],[1,"bi","bi-exclamation-circle"],[1,"message_container"],[1,"no_toc"],[1,"nf-container","l-flex-wrap","flex-center"]],template:function(n,i){1&n&&(_e(0,"div",0)(1,"span",1),Ze(2,"i",2),be(),_e(3,"div",3)(4,"h1",4),qe(5,"Request for the page failed"),be(),_e(6,"h3"),qe(7," We are unable to retrieve the page at this time. "),Ze(8,"br"),qe(9," Please check your connection and try again later. "),be()()(),Ze(10,"div",5))},styles:["#not_found[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;width:90%;position:absolute;height:90%}.info_logo[_ngcontent-%COMP%]{font-size:100px;font-size:10rem;position:static;color:var(--orange_light)}.message_container[_ngcontent-%COMP%]{text-align:center}.message_container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:var(--orange);font-size:3rem}"]}),t})(),Ame=(()=>{class t{constructor(){this.date=new Date}getTimeAndDateString(){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","SaturDay"][this.date.getDay()]+", "+["January","February","March","April","May","June","July","August","September","October","November","December"][this.date.getMonth()]+" "+this.date.getDate()+", "+this.date.getFullYear()}getTimeMessage(){var n=this.date.getHours();return console.log(n,this.date.getHours()),n<12?"Good Morning":n>=12&&n<=18?"Good Afternoon":"Good Evening"}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Eme(t,e){1&t&&Ze(0,"app-loading")}function Ime(t,e){if(1&t&&Ze(0,"app-note",23),2&t){const n=e.$implicit;Ve("color",n.color)("data",n.data)("title",n.title)("lastUpdate",n.lastUpdate)("createdAt",n.createdAt)("enable",n.enable)("userId",n.userId)("id",n.id)}}function Dme(t,e){if(1&t&&(_e(0,"h3"),qe(1),be()),2&t){const n=qt();Me(1),Oi(n.emptyMessage)}}let Tme=(()=>{class t{constructor(n,i,s){this.timeService=n,this.noteService=i,this.state=s,this.notes=[],this.isLoading=!0,this.recentNotes=[],this.emptyMessage="",this.state.select(hV).subscribe(c=>{this.isLoading=this.noteService.isLoading,this.notes=c,console.log(c)}),this.state.select(fV).subscribe(c=>{this.emptyMessage=c}),this.message=this.timeService.getTimeMessage()+" "+localStorage.getItem("keepNotesUserName"),this.dateMessage=this.timeService.getTimeAndDateString(),this.noteService.getAllNotes().then(c=>{this.state.dispatch(dV({notes:c}))})}}return t.\u0275fac=function(n){return new(n||t)(ie(Ame),ie(cC),ie(vu))},t.\u0275cmp=Wn({type:t,selectors:[["app-home"]],decls:42,vars:5,consts:[[1,"home","full_width","fade_in"],[1,"home_header"],[1,"message_container"],[1,"welcome_message"],[1,"date_time"],[1,"quick_section"],[1,"box","quick_tips","right-to-left"],[1,"box_header"],[1,"bi","bi-lightning-fill"],[1,"box_body"],[1,"box","draw_your_note"],[1,"box_title"],[1,"bi","bi-brush-fill"],[1,"box_description"],[1,"box","plan_project"],[1,"bi","bi-journal-bookmark-fill"],[1,"box","quick_note","left-to-right"],[1,"bi","bi-pin-angle-fill"],[1,"box_input"],[1,"recent_notes","box"],[1,"container"],[4,"ngIf"],[3,"color","data","title","lastUpdate","createdAt","enable","userId","id",4,"ngFor","ngForOf"],[3,"color","data","title","lastUpdate","createdAt","enable","userId","id"]],template:function(n,i){1&n&&(_e(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),qe(4),be(),_e(5,"p",4),qe(6),be()()(),_e(7,"div",5)(8,"div",6)(9,"div",7),Ze(10,"i",8),qe(11,"Quick Tips"),be(),_e(12,"div",9)(13,"div",10)(14,"div",7)(15,"p",11),Ze(16,"i",12),qe(17,"Draw Your Note"),be(),_e(18,"p",13),qe(19,"Everything could be happening"),be()()(),_e(20,"div",14)(21,"div",7)(22,"p",11),Ze(23,"i",15),qe(24,"Plan Your Project"),be(),_e(25,"p",13),qe(26,"Easier to plan your projects"),be()()()()(),_e(27,"div",16)(28,"div",7),Ze(29,"i",17),qe(30,"Quick Notes"),be(),_e(31,"div",18)(32,"textarea"),qe(33,"notes: write down your notes here"),be()()()(),_e(34,"div",19)(35,"div",7),Ze(36,"i",15),qe(37,"Recent "),be(),_e(38,"div",20),Qt(39,Eme,1,0,"app-loading",21),Qt(40,Ime,1,8,"app-note",22),Qt(41,Dme,2,1,"h3",21),be()()()),2&n&&(Me(4),Oi(i.message),Me(2),Oi(i.dateMessage),Me(33),Ve("ngIf",i.isLoading),Me(1),Ve("ngForOf",i.notes),Me(1),Ve("ngIf",i.emptyMessage))},dependencies:[gx,Xs,i6,o6],styles:[".home[_ngcontent-%COMP%]   .home_header[_ngcontent-%COMP%]{height:260px;background-image:url(home-header.f710b344836ff1ed.jpg);background-position:top;background-size:cover}.home[_ngcontent-%COMP%]   .home_header[_ngcontent-%COMP%]   .message_container[_ngcontent-%COMP%]{margin-left:2rem;color:#fff;letter-spacing:1px}.home[_ngcontent-%COMP%]   .home_header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{padding-top:4rem;font-size:1.2rem;font-weight:900}.home[_ngcontent-%COMP%]   .home_header[_ngcontent-%COMP%]   .date_time[_ngcontent-%COMP%]{font-size:.8rem}.box[_ngcontent-%COMP%]{background-color:#fff}.quick_section[_ngcontent-%COMP%]{display:flex;width:calc(100vw - 220px);margin-top:-100px;box-sizing:border-box}.quick_section[_ngcontent-%COMP%]   .quick_tips[_ngcontent-%COMP%]{height:160px;flex:2}.quick_note[_ngcontent-%COMP%]{padding-right:0;height:160px;flex:1}.box[_ngcontent-%COMP%]   .box_header[_ngcontent-%COMP%]   .box_title[_ngcontent-%COMP%]{font-size:.8rem;font-weight:900}.box[_ngcontent-%COMP%]   .box_description[_ngcontent-%COMP%]{font-size:.6rem}.quick_note[_ngcontent-%COMP%]   .box_input[_ngcontent-%COMP%]{margin-top:10px;padding:4px}.box_input[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:130px;resize:none;overflow-y:scroll}.recent_notes[_ngcontent-%COMP%]{margin:10px 30px 30px;background-color:#fff;border-radius:5px}.box_header[_ngcontent-%COMP%]{font-size:1rem!important;font-weight:600}.recent_notes[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;overflow:hidden;flex-flow:wrap}.recent_notes[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]{width:200px}.recent_notes[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]   .note_date[_ngcontent-%COMP%]{font-size:.6rem}.recent_notes[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{margin-top:20px;font-size:.8rem}"]}),t})();var xme=F_(385),Sme=F_.n(xme);function ZY(t,e=new Set){const n=[t],i=new Set;let s=0;for(;n.length>s;){const c=n[s++];if(!i.has(c)&&Pme(c)&&!e.has(c))if(i.add(c),Symbol.iterator in c)try{for(const d of c)n.push(d)}catch{}else for(const d in c)"defaultValue"!==d&&n.push(c[d])}return i}function Pme(t){const e=Object.prototype.toString.call(t),n=typeof t;return!("number"===n||"boolean"===n||"string"===n||"symbol"===n||"function"===n||"[object Date]"===e||"[object RegExp]"===e||"[object Module]"===e||null==t||t._watchdogExcluded||t instanceof EventTarget||t instanceof Event)}Symbol("MainQueueId");class Ome{constructor(e){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit="number"==typeof e.crashNumberLimit?e.crashNumberLimit:3,this._minimumNonErrorTimePeriod="number"==typeof e.minimumNonErrorTimePeriod?e.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=n=>{const i="error"in n?n.error:n.reason;i instanceof Error&&this._handleError(i,n)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(e,n){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(n)}off(e,n){this._listeners[e]=this._listeners[e].filter(i=>i!==n)}_fire(e,...n){const i=this._listeners[e]||[];for(const s of i)s.apply(this,[null,...n])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(e,n){if(this._shouldReactToError(e)){this.crashes.push({message:e.message,stack:e.stack,filename:n instanceof ErrorEvent?n.filename:void 0,lineno:n instanceof ErrorEvent?n.lineno:void 0,colno:n instanceof ErrorEvent?n.colno:void 0,date:this._now()});const i=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:e,causesRestart:i}),i?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(e){return e.is&&e.is("CKEditorError")&&null!=e.context&&"ready"===this.state&&this._isErrorComingFromThisItem(e)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit||(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}const ll=function Lme(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},JY="object"==typeof global&&global&&global.Object===Object&&global;var Fme="object"==typeof self&&self&&self.Object===Object&&self;const ca=JY||Fme||Function("return this")(),s6=function(){return ca.Date.now()};var jme=/\s/;var Gme=/^\s+/;const qme=function $me(t){return t&&t.slice(0,function Ume(t){for(var e=t.length;e--&&jme.test(t.charAt(e)););return e}(t)+1).replace(Gme,"")},S_=ca.Symbol;var XY=Object.prototype,Kme=XY.hasOwnProperty,Qme=XY.toString,gC=S_?S_.toStringTag:void 0;var Xme=Object.prototype.toString;var eZ=S_?S_.toStringTag:void 0;const Hf=function i_e(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":eZ&&eZ in Object(t)?function Yme(t){var e=Kme.call(t,gC),n=t[gC];try{t[gC]=void 0;var i=!0}catch{}var s=Qme.call(t);return i&&(e?t[gC]=n:delete t[gC]),s}(t):function e_e(t){return Xme.call(t)}(t)},Qu=function o_e(t){return null!=t&&"object"==typeof t};var l_e=/^[-+]0x[0-9a-f]+$/i,u_e=/^0b[01]+$/i,d_e=/^0o[0-7]+$/i,h_e=parseInt;const nZ=function f_e(t){if("number"==typeof t)return t;if(function a_e(t){return"symbol"==typeof t||Qu(t)&&"[object Symbol]"==Hf(t)}(t))return NaN;if(ll(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ll(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=qme(t);var n=u_e.test(t);return n||d_e.test(t)?h_e(t.slice(2),n?2:8):l_e.test(t)?NaN:+t};var g_e=Math.max,m_e=Math.min;const k_e=function w_e(t,e,n){var i=!0,s=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return ll(n)&&(i="leading"in n?!!n.leading:i,s="trailing"in n?!!n.trailing:s),function __e(t,e,n){var i,s,c,d,p,m,y=0,k=!1,C=!1,I=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function M(Ce){var At=i,Tr=s;return i=s=void 0,y=Ce,d=t.apply(Tr,At)}function j(Ce){var At=Ce-m;return void 0===m||At>=e||At<0||C&&Ce-y>=c}function Z(){var Ce=s6();if(j(Ce))return U(Ce);p=setTimeout(Z,function B(Ce){var nc=e-(Ce-m);return C?m_e(nc,c-(Ce-y)):nc}(Ce))}function U(Ce){return p=void 0,I&&i?M(Ce):(i=s=void 0,d)}function Se(){var Ce=s6(),At=j(Ce);if(i=arguments,s=this,m=Ce,At){if(void 0===p)return function O(Ce){return y=Ce,p=setTimeout(Z,e),k?M(Ce):d}(m);if(C)return clearTimeout(p),p=setTimeout(Z,e),M(m)}return void 0===p&&(p=setTimeout(Z,e)),d}return e=nZ(e)||0,ll(n)&&(k=!!n.leading,c=(C="maxWait"in n)?g_e(nZ(n.maxWait)||0,e):c,I="trailing"in n?!!n.trailing:I),Se.cancel=function te(){void 0!==p&&clearTimeout(p),y=0,i=m=s=p=void 0},Se.flush=function pe(){return void 0===p?d:U(s6())},Se}(t,e,{leading:i,maxWait:e,trailing:s})},rZ=function v_e(t,e){return function(n){return t(e(n))}},a6=rZ(Object.getPrototypeOf,Object);var iZ=Function.prototype.toString,D_e=Object.prototype.hasOwnProperty,T_e=iZ.call(Object);const oZ=function M_e(t){return Qu(t)&&1===t.nodeType&&!function x_e(t){if(!Qu(t)||"[object Object]"!=Hf(t))return!1;var e=a6(t);if(null===e)return!0;var n=D_e.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&iZ.call(n)==T_e}(t)},sZ=function N_e(t,e){return t===e||t!=t&&e!=e},XM=function O_e(t,e){for(var n=t.length;n--;)if(sZ(t[n][0],e))return n;return-1};var V_e=Array.prototype.splice;function M_(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}M_.prototype.clear=function P_e(){this.__data__=[],this.size=0},M_.prototype.delete=function F_e(t){var e=this.__data__,n=XM(e,t);return!(n<0||(n==e.length-1?e.pop():V_e.call(e,n,1),--this.size,0))},M_.prototype.get=function z_e(t){var e=this.__data__,n=XM(e,t);return n<0?void 0:e[n][1]},M_.prototype.has=function U_e(t){return XM(this.__data__,t)>-1},M_.prototype.set=function G_e(t,e){var n=this.__data__,i=XM(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this};const e2=M_,aZ=function ibe(t){if(!ll(t))return!1;var e=Hf(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},c6=ca["__core-js_shared__"];var cZ=function(){var t=/[^.]+$/.exec(c6&&c6.keys&&c6.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();var lbe=Function.prototype.toString;const Gf=function ube(t){if(null!=t){try{return lbe.call(t)}catch{}try{return t+""}catch{}}return""};var hbe=/^\[object .+?Constructor\]$/,_be=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const ybe=function bbe(t){return!(!ll(t)||function sbe(t){return!!cZ&&cZ in t}(t))&&(aZ(t)?_be:hbe).test(Gf(t))},$f=function vbe(t,e){var n=function wbe(t,e){return t?.[e]}(t,e);return ybe(n)?n:void 0},mC=$f(ca,"Map"),_C=$f(Object,"create");var Mbe=Object.prototype.hasOwnProperty;var Obe=Object.prototype.hasOwnProperty;function P_(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}P_.prototype.clear=function Ebe(){this.__data__=_C?_C(null):{},this.size=0},P_.prototype.delete=function Dbe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},P_.prototype.get=function Pbe(t){var e=this.__data__;if(_C){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return Mbe.call(e,t)?e[t]:void 0},P_.prototype.has=function Lbe(t){var e=this.__data__;return _C?void 0!==e[t]:Obe.call(e,t)},P_.prototype.set=function Bbe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=_C&&void 0===e?"__lodash_hash_undefined__":e,this};const lZ=P_,t2=function $be(t,e){var n=t.__data__;return function Hbe(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map};function R_(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}R_.prototype.clear=function jbe(){this.size=0,this.__data__={hash:new lZ,map:new(mC||e2),string:new lZ}},R_.prototype.delete=function qbe(t){var e=t2(this,t).delete(t);return this.size-=e?1:0,e},R_.prototype.get=function Kbe(t){return t2(this,t).get(t)},R_.prototype.has=function Ybe(t){return t2(this,t).has(t)},R_.prototype.set=function Jbe(t,e){var n=t2(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this};const eye=R_;function N_(t){var e=this.__data__=new e2(t);this.size=e.size}N_.prototype.clear=function q_e(){this.__data__=new e2,this.size=0},N_.prototype.delete=function K_e(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},N_.prototype.get=function Y_e(t){return this.__data__.get(t)},N_.prototype.has=function J_e(t){return this.__data__.has(t)},N_.prototype.set=function nye(t,e){var n=this.__data__;if(n instanceof e2){var i=n.__data__;if(!mC||i.length<199)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new eye(i)}return n.set(t,e),this.size=n.size,this};const iye=N_;var aye=function(){try{var t=$f(Object,"defineProperty");return t({},"",{}),t}catch{}}();const uZ=aye,dZ=function cye(t,e,n){"__proto__"==e&&uZ?uZ(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n};var uye=Object.prototype.hasOwnProperty;const hZ=function dye(t,e,n){var i=t[e];(!uye.call(t,e)||!sZ(i,n)||void 0===n&&!(e in t))&&dZ(t,e,n)},n2=function hye(t,e,n,i){var s=!n;n||(n={});for(var c=-1,d=e.length;++c<d;){var p=e[c],m=i?i(n[p],t[p],p,n,t):void 0;void 0===m&&(m=t[p]),s?dZ(n,p,m):hZ(n,p,m)}return n},fZ=function mye(t){return Qu(t)&&"[object Arguments]"==Hf(t)};var pZ=Object.prototype,_ye=pZ.hasOwnProperty,bye=pZ.propertyIsEnumerable,yye=fZ(function(){return arguments}())?fZ:function(t){return Qu(t)&&_ye.call(t,"callee")&&!bye.call(t,"callee")};const wye=yye,l6=Array.isArray;var gZ="object"==typeof exports&&exports&&!exports.nodeType&&exports,mZ=gZ&&"object"==typeof module&&module&&!module.nodeType&&module,_Z=mZ&&mZ.exports===gZ?ca.Buffer:void 0;const bZ=(_Z?_Z.isBuffer:void 0)||function vye(){return!1};var Tye=/^(?:0|[1-9]\d*)$/;const Sye=function xye(t,e){var n=typeof t;return!!(e=e??9007199254740991)&&("number"==n||"symbol"!=n&&Tye.test(t))&&t>-1&&t%1==0&&t<e},yZ=function Pye(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991};var Rn={};Rn["[object Float32Array]"]=Rn["[object Float64Array]"]=Rn["[object Int8Array]"]=Rn["[object Int16Array]"]=Rn["[object Int32Array]"]=Rn["[object Uint8Array]"]=Rn["[object Uint8ClampedArray]"]=Rn["[object Uint16Array]"]=Rn["[object Uint32Array]"]=!0,Rn["[object Arguments]"]=Rn["[object Array]"]=Rn["[object ArrayBuffer]"]=Rn["[object Boolean]"]=Rn["[object DataView]"]=Rn["[object Date]"]=Rn["[object Error]"]=Rn["[object Function]"]=Rn["[object Map]"]=Rn["[object Number]"]=Rn["[object Object]"]=Rn["[object RegExp]"]=Rn["[object Set]"]=Rn["[object String]"]=Rn["[object WeakMap]"]=!1;const u6=function owe(t){return function(e){return t(e)}};var wZ="object"==typeof exports&&exports&&!exports.nodeType&&exports,bC=wZ&&"object"==typeof module&&module&&!module.nodeType&&module,d6=bC&&bC.exports===wZ&&JY.process;const O_=function(){try{return bC&&bC.require&&bC.require("util").types||d6&&d6.binding&&d6.binding("util")}catch{}}();var kZ=O_&&O_.isTypedArray;const lwe=kZ?u6(kZ):function rwe(t){return Qu(t)&&yZ(t.length)&&!!Rn[Hf(t)]};var dwe=Object.prototype.hasOwnProperty;const vZ=function hwe(t,e){var n=l6(t),i=!n&&wye(t),s=!n&&!i&&bZ(t),c=!n&&!i&&!s&&lwe(t),d=n||i||s||c,p=d?function fye(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}(t.length,String):[],m=p.length;for(var y in t)(e||dwe.call(t,y))&&(!d||!("length"==y||s&&("offset"==y||"parent"==y)||c&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||Sye(y,m)))&&p.push(y);return p};var fwe=Object.prototype;const h6=function pwe(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||fwe)},mwe=rZ(Object.keys,Object);var bwe=Object.prototype.hasOwnProperty;const CZ=function kwe(t){return null!=t&&yZ(t.length)&&!aZ(t)},f6=function vwe(t){return CZ(t)?vZ(t):function ywe(t){if(!h6(t))return mwe(t);var e=[];for(var n in Object(t))bwe.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)};var Twe=Object.prototype.hasOwnProperty;const Swe=function xwe(t){if(!ll(t))return function Ewe(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=h6(t),n=[];for(var i in t)"constructor"==i&&(e||!Twe.call(t,i))||n.push(i);return n},p6=function Mwe(t){return CZ(t)?vZ(t,!0):Swe(t)};var AZ="object"==typeof exports&&exports&&!exports.nodeType&&exports,EZ=AZ&&"object"==typeof module&&module&&!module.nodeType&&module,IZ=EZ&&EZ.exports===AZ?ca.Buffer:void 0,DZ=IZ?IZ.allocUnsafe:void 0;const TZ=function jwe(){return[]};var Hwe=Object.prototype.propertyIsEnumerable,xZ=Object.getOwnPropertySymbols,Gwe=xZ?function(t){return null==t?[]:(t=Object(t),function Bwe(t,e){for(var n=-1,i=null==t?0:t.length,s=0,c=[];++n<i;){var d=t[n];e(d,n,t)&&(c[s++]=d)}return c}(xZ(t),function(e){return Hwe.call(t,e)}))}:TZ;const g6=Gwe,SZ=function Wwe(t,e){for(var n=-1,i=e.length,s=t.length;++n<i;)t[s+n]=e[n];return t};var Qwe=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)SZ(e,g6(t)),t=a6(t);return e}:TZ;const MZ=Qwe,PZ=function Jwe(t,e,n){var i=e(t);return l6(t)?i:SZ(i,n(t))},eke=function Xwe(t){return PZ(t,f6,g6)},nke=function tke(t){return PZ(t,p6,MZ)},m6=$f(ca,"DataView"),_6=$f(ca,"Promise"),b6=$f(ca,"Set"),y6=$f(ca,"WeakMap");var RZ="[object Map]",NZ="[object Promise]",OZ="[object Set]",LZ="[object WeakMap]",VZ="[object DataView]",cke=Gf(m6),lke=Gf(mC),uke=Gf(_6),dke=Gf(b6),hke=Gf(y6),qf=Hf;(m6&&qf(new m6(new ArrayBuffer(1)))!=VZ||mC&&qf(new mC)!=RZ||_6&&qf(_6.resolve())!=NZ||b6&&qf(new b6)!=OZ||y6&&qf(new y6)!=LZ)&&(qf=function(t){var e=Hf(t),n="[object Object]"==e?t.constructor:void 0,i=n?Gf(n):"";if(i)switch(i){case cke:return VZ;case lke:return RZ;case uke:return NZ;case dke:return OZ;case hke:return LZ}return e});const w6=qf;var pke=Object.prototype.hasOwnProperty;const FZ=ca.Uint8Array,k6=function bke(t){var e=new t.constructor(t.byteLength);return new FZ(e).set(new FZ(t)),e};var kke=/\w*$/;var BZ=S_?S_.prototype:void 0,zZ=BZ?BZ.valueOf:void 0;const Kke=function Wke(t,e,n){var i=t.constructor;switch(e){case"[object ArrayBuffer]":return k6(t);case"[object Boolean]":case"[object Date]":return new i(+t);case"[object DataView]":return function yke(t,e){var n=e?k6(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function Ike(t,e){var n=e?k6(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}(t,n);case"[object Map]":case"[object Set]":return new i;case"[object Number]":case"[object String]":return new i(t);case"[object RegExp]":return function vke(t){var e=new t.constructor(t.source,kke.exec(t));return e.lastIndex=t.lastIndex,e}(t);case"[object Symbol]":return function Ake(t){return zZ?Object(zZ.call(t)):{}}(t)}};var jZ=Object.create,Qke=function(){function t(){}return function(e){if(!ll(e))return{};if(jZ)return jZ(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const Yke=Qke;var UZ=O_&&O_.isMap;const rve=UZ?u6(UZ):function eve(t){return Qu(t)&&"[object Map]"==w6(t)};var HZ=O_&&O_.isSet;const cve=HZ?u6(HZ):function ove(t){return Qu(t)&&"[object Set]"==w6(t)};var GZ="[object Arguments]",$Z="[object Function]",qZ="[object Object]",An={};An[GZ]=An["[object Array]"]=An["[object ArrayBuffer]"]=An["[object DataView]"]=An["[object Boolean]"]=An["[object Date]"]=An["[object Float32Array]"]=An["[object Float64Array]"]=An["[object Int8Array]"]=An["[object Int16Array]"]=An["[object Int32Array]"]=An["[object Map]"]=An["[object Number]"]=An[qZ]=An["[object RegExp]"]=An["[object Set]"]=An["[object String]"]=An["[object Symbol]"]=An["[object Uint8Array]"]=An["[object Uint8ClampedArray]"]=An["[object Uint16Array]"]=An["[object Uint32Array]"]=!0,An["[object Error]"]=An[$Z]=An["[object WeakMap]"]=!1;const Ove=function r2(t,e,n,i,s,c){var d,p=1&e,m=2&e,y=4&e;if(n&&(d=s?n(t,i,s,c):n(t)),void 0!==d)return d;if(!ll(t))return t;var k=l6(t);if(k){if(d=function gke(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&pke.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!p)return function Vwe(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}(t,d)}else{var C=w6(t),I=C==$Z||"[object GeneratorFunction]"==C;if(bZ(t))return function Owe(t,e){if(e)return t.slice();var n=t.length,i=DZ?DZ(n):new t.constructor(n);return t.copy(i),i}(t,p);if(C==qZ||C==GZ||I&&!s){if(d=m||I?{}:function Zke(t){return"function"!=typeof t.constructor||h6(t)?{}:Yke(a6(t))}(t),!p)return m?function Ywe(t,e){return n2(t,MZ(t),e)}(t,function Pwe(t,e){return t&&n2(e,p6(e),t)}(d,t)):function $we(t,e){return n2(t,g6(t),e)}(t,function Cwe(t,e){return t&&n2(e,f6(e),t)}(d,t))}else{if(!An[C])return s?t:{};d=Kke(t,C,p)}}c||(c=new iye);var M=c.get(t);if(M)return M;c.set(t,d),cve(t)?t.forEach(function(j){d.add(r2(j,e,n,j,t,c))}):rve(t)&&t.forEach(function(j,Z){d.set(Z,r2(j,e,n,Z,t,c))});var B=k?void 0:(y?m?nke:eke:m?p6:f6)(t);return function oye(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););}(B||t,function(j,Z){B&&(j=t[Z=j]),hZ(d,Z,r2(j,e,n,Z,t,c))}),d};class zve extends Ome{constructor(e,n={}){super(n),this._editor=null,this._initUsingData=!0,this._editables={},this._throttledSave=k_e(this._save.bind(this),"number"==typeof n.saveInterval?n.saveInterval:5e3),e&&(this._creator=(i,s)=>e.create(i,s)),this._destructor=i=>i.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(e=>{console.error("An error happened during the editor destroying.",e)}).then(()=>{const e={},n=[],i=this._config.rootsAttributes||{},s={};for(const[d,p]of Object.entries(this._data.roots))p.isLoaded?(e[d]="",s[d]=i[d]||{}):n.push(d);const c={...this._config,extraPlugins:this._config.extraPlugins||[],lazyRoots:n,rootsAttributes:s,_watchdogInitialData:this._data};return delete c.initialData,c.extraPlugins.push(jve),this._initUsingData?this.create(e,c,c.context):oZ(this._elementOrData)?this.create(this._elementOrData,c,c.context):this.create(this._editables,c,c.context)}).then(()=>{this._fire("restart")})}create(e=this._elementOrData,n=this._config,i){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=e,this._initUsingData="string"==typeof e||Object.keys(e).length>0&&"string"==typeof Object.values(e)[0],this._config=this._cloneEditorConfiguration(n)||{},this._config.context=i,this._creator(e,this._config))).then(s=>{this._editor=s,s.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=s.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const e=this._editor;return this._editor=null,e.model.document.off("change:data",this._throttledSave),this._destructor(e)})}_save(){const e=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=e}catch(n){console.error(n,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(e){this._excludedProps=e}_getData(){const e=this._editor,n=e.model.document.roots.filter(p=>p.isAttached()&&"$graveyard"!=p.rootName),{plugins:i}=e,s=i.has("CommentsRepository")&&i.get("CommentsRepository"),c=i.has("TrackChanges")&&i.get("TrackChanges"),d={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};n.forEach(p=>{d.roots[p.rootName]={content:JSON.stringify(Array.from(p.getChildren())),attributes:JSON.stringify(Array.from(p.getAttributes())),isLoaded:p._isLoaded}});for(const p of e.model.markers)p._affectsData&&(d.markers[p.name]={rangeJSON:p.getRange().toJSON(),usingOperation:p._managedUsingOperations,affectsData:p._affectsData});return s&&(d.commentThreads=JSON.stringify(s.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),c&&(d.suggestions=JSON.stringify(c.getSuggestions({toJSON:!0,skipNotAttached:!0}))),d}_getEditables(){const e={};for(const n of this.editor.model.document.getRootNames()){const i=this.editor.ui.getEditableElement(n);i&&(e[n]=i)}return e}_isErrorComingFromThisItem(e){return function Rme(t,e,n=new Set){if(t===e&&function Nme(t){return"object"==typeof t&&null!==t}(t))return!0;const i=ZY(t,n),s=ZY(e,n);for(const c of i)if(s.has(c))return!0;return!1}(this._editor,e.context,this._excludedProps)}_cloneEditorConfiguration(e){return function Fve(t,e){return Ove(t,5,e="function"==typeof e?e:void 0)}(e,(n,i)=>{if(oZ(n)||"context"===i)return n})}}class jve{constructor(e){this.editor=e,this._data=e.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",e=>{e.stop(),this.editor.model.enqueueChange({isUndoable:!1},n=>{this._restoreCollaborationData(),this._restoreEditorData(n)}),this.editor.data.fire("ready")},{priority:999})}_createNode(e,n){if("name"in n){const i=e.createElement(n.name,n.attributes);if(n.children)for(const s of n.children)i._appendChild(this._createNode(e,s));return i}return e.createText(n.data,n.attributes)}_restoreEditorData(e){const n=this.editor;Object.entries(this._data.roots).forEach(([i,{content:s,attributes:c}])=>{const d=JSON.parse(s),p=JSON.parse(c),m=n.model.document.getRoot(i);for(const[y,k]of p)e.setAttribute(y,k,m);for(const y of d){const k=this._createNode(e,y);e.insert(k,m,"end")}}),Object.entries(this._data.markers).forEach(([i,s])=>{const{document:c}=n.model,{rangeJSON:{start:d,end:p},...m}=s,y=c.getRoot(d.root),k=e.createPositionFromPath(y,d.path,d.stickiness),C=e.createPositionFromPath(y,p.path,p.stickiness),I=e.createRange(k,C);e.addMarker(i,{range:I,...m})})}_restoreCollaborationData(){const e=JSON.parse(this._data.commentThreads),n=JSON.parse(this._data.suggestions);e.forEach(i=>{const s=this.editor.config.get("collaboration.channelId"),c=this.editor.plugins.get("CommentsRepository");c.hasCommentThread(i.threadId)&&c.getCommentThread(i.threadId).remove(),c.addCommentThread({channelId:s,...i})}),n.forEach(i=>{const s=this.editor.plugins.get("TrackChangesEditing");s.hasSuggestion(i.id)?s.getSuggestion(i.id).attributes=i.attributes:s.addSuggestionData(i)})}}function Uve(t,e){}const $i=new Array(256).fill(0).map((t,e)=>("0"+e.toString(16)).slice(-2)),v6="Lock from Angular integration (@ckeditor/ckeditor5-angular)";let Gve=(()=>{class t{constructor(n,i){this.config={},this.data="",this.tagName="div",this.disableTwoWayDataBinding=!1,this.ready=new kt,this.change=new kt,this.blur=new kt,this.focus=new kt,this.error=new kt,this.initiallyDisabled=!1,this.isEditorSettingData=!1,this.id=function Hve(){const t=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,n=4294967296*Math.random()>>>0,i=4294967296*Math.random()>>>0;return"e"+$i[t>>0&255]+$i[t>>8&255]+$i[t>>16&255]+$i[t>>24&255]+$i[e>>0&255]+$i[e>>8&255]+$i[e>>16&255]+$i[e>>24&255]+$i[n>>0&255]+$i[n>>8&255]+$i[n>>16&255]+$i[n>>24&255]+$i[i>>0&255]+$i[i>>8&255]+$i[i>>16&255]+$i[i>>24&255]}(),this.ngZone=i,this.elementRef=n;const{CKEDITOR_VERSION:s}=window;if(s){const[c]=s.split(".").map(Number);c<37&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 37 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')}set disabled(n){this.setDisabledState(n)}get disabled(){return this.editorInstance?this.editorInstance.isReadOnly:this.initiallyDisabled}get editorInstance(){let n=this.editorWatchdog;return this.watchdog&&(n=this.watchdog._watchdogs.get(this.id)),n?n.editor:null}getId(){return this.id}ngOnChanges(n){Object.prototype.hasOwnProperty.call(n,"data")&&n.data&&!n.data.isFirstChange()&&this.writeValue(n.data.currentValue)}ngAfterViewInit(){this.attachToWatchdog()}ngOnDestroy(){var n=this;return z(function*(){n.watchdog?yield n.watchdog.remove(n.id):n.editorWatchdog&&n.editorWatchdog.editor&&(yield n.editorWatchdog.destroy(),n.editorWatchdog=void 0)})()}writeValue(n){null===n&&(n=""),this.editorInstance?(this.isEditorSettingData=!0,this.editorInstance.data.set(n),this.isEditorSettingData=!1):(this.data=n,this.ready.pipe(_u()).subscribe(i=>{i.data.set(this.data)}))}registerOnChange(n){this.cvaOnChange=n}registerOnTouched(n){this.cvaOnTouched=n}setDisabledState(n){this.editorInstance&&(n?this.editorInstance.enableReadOnlyMode(v6):this.editorInstance.disableReadOnlyMode(v6)),this.initiallyDisabled=n}attachToWatchdog(){var n=this;const i=(m,y)=>this.ngZone.runOutsideAngular(z(function*(){n.elementRef.nativeElement.appendChild(m);const k=yield n.editor.create(m,y);return n.initiallyDisabled&&k.enableReadOnlyMode(v6),n.ngZone.run(()=>{n.ready.emit(k)}),n.setUpEditorEvents(k),k})),s=function(){var m=z(function*(y){yield y.destroy(),n.elementRef.nativeElement.removeChild(n.editorElement)});return function(k){return m.apply(this,arguments)}}(),c=m=>{(function $ve(t){return t.observed||t.observers.length>0})(this.error)&&this.ngZone.run(()=>this.error.emit(m))},d=document.createElement(this.tagName),p=this.getConfig();if(this.editorElement=d,this.watchdog)this.watchdog.add({id:this.id,type:"editor",creator:i,destructor:s,sourceElementOrData:d,config:p}).catch(m=>{c(m)}),this.watchdog.on("itemError",(m,{itemId:y})=>{y===this.id&&c()});else{const m=new zve(this.editor,this.editorWatchdogConfig);m.setCreator(i),m.setDestructor(s),m.on("error",c),this.editorWatchdog=m,this.ngZone.runOutsideAngular(()=>{m.create(d,p).catch(y=>{c(y)})})}}getConfig(){if(this.data&&this.config.initialData)throw new Error("Editor data should be provided either using `config.initialData` or `data` properties.");const n={...this.config},i=this.config.initialData||this.data;return i&&(n.initialData=i),n}setUpEditorEvents(n){const s=n.editing.view.document;n.model.document.on("change:data",c=>{this.ngZone.run(()=>{if(!this.disableTwoWayDataBinding){if(this.cvaOnChange&&!this.isEditorSettingData){const d=n.data.get();this.cvaOnChange(d)}this.change.emit({event:c,editor:n})}})}),s.on("focus",c=>{this.ngZone.run(()=>{this.focus.emit({event:c,editor:n})})}),s.on("blur",c=>{this.ngZone.run(()=>{this.cvaOnTouched&&this.cvaOnTouched(),this.blur.emit({event:c,editor:n})})})}}return t.\u0275fac=function(n){return new(n||t)(ie(li),ie(Jt))},t.\u0275cmp=Wn({type:t,selectors:[["ckeditor"]],inputs:{editor:"editor",config:"config",data:"data",tagName:"tagName",watchdog:"watchdog",editorWatchdogConfig:"editorWatchdogConfig",disableTwoWayDataBinding:"disableTwoWayDataBinding",disabled:"disabled"},outputs:{ready:"ready",change:"change",blur:"blur",focus:"focus",error:"error"},features:[fn([{provide:aa,useExisting:Zt(()=>t),multi:!0}]),Ei],decls:1,vars:0,template:function(n,i){1&n&&Qt(0,Uve,0,0,"ng-template")},encapsulation:2}),t})(),qve=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=xr({type:t}),t.\u0275inj=mr({imports:[[QY,C9]]}),t})();function Wve(t,e){if(1&t){const n=ui();_e(0,"div")(1,"button",4),bt("click",function(){return yr(n),Tn(qt(2).handleYesClick())}),qe(2,"Yes"),be(),_e(3,"button",4),bt("click",function(){return yr(n),Tn(qt(2).handleNoClick())}),qe(4,"No"),be()()}}function Kve(t,e){if(1&t){const n=ui();_e(0,"div")(1,"button",4),bt("click",function(){return yr(n),Tn(qt(2).handleOkClick())}),qe(2,"Ok"),be()()}}function Qve(t,e){if(1&t){const n=ui();_e(0,"div",1),bt("click",function(){return yr(n),Tn(qt().closeBackdrop())}),_e(1,"div",2)(2,"p"),qe(3),be(),Qt(4,Wve,5,0,"div",3),Qt(5,Kve,3,0,"div",3),be()()}if(2&t){const n=qt();Me(3),Oi(n.message),Me(1),Ve("ngIf","asking"==n.modalType),Me(1),Ve("ngIf","info"==n.modalType)}}let Yve=(()=>{class t{constructor(){this.showModal=!1,this.modalType="asking",this.message="",this.onYesClick=new kt,this.onNoClick=new kt,this.onOkClick=new kt,this.onClick=new kt}handleYesClick(){this.onYesClick.emit()}handleNoClick(){this.onNoClick.emit()}handleOkClick(){this.onOkClick.emit()}closeBackdrop(){this.onClick.emit(),this.showModal=!this.showModal,console.log("backdrop")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Wn({type:t,selectors:[["app-modal"]],inputs:{showModal:"showModal",modalType:"modalType",message:"message"},outputs:{onYesClick:"onYesClick",onNoClick:"onNoClick",onOkClick:"onOkClick",onClick:"onClick"},decls:1,vars:1,consts:[["class","backdrop flex justify_content_center align_items_center",3,"click",4,"ngIf"],[1,"backdrop","flex","justify_content_center","align_items_center",3,"click"],[1,"modal"],[4,"ngIf"],[1,"btn","flex","justify_content_center","align_items_center",3,"click"]],template:function(n,i){1&n&&Qt(0,Qve,6,3,"div",0),2&n&&Ve("ngIf",i.showModal)},dependencies:[Xs],styles:[".backdrop[_ngcontent-%COMP%]{width:100%;height:100%;position:fixed;top:0;left:0;background-color:#000000a4;z-index:200}.modal[_ngcontent-%COMP%]{width:45%;z-index:300;position:fixed;background-color:#fff;border-radius:5px;left:27%;padding:30px 0;top:40%;box-sizing:border-box;transition:all .3s ease-out;text-align:center}.modal[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#000;font-weight:500;margin-bottom:20px}.modal[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:5px 20px!important;padding:5px 20px!important}.modal[_ngcontent-%COMP%]   .spinner__wrapper[_ngcontent-%COMP%]{display:block;text-align:center;min-height:100px;position:absolute;width:100%;height:100%;z-index:1000;display:flex;justify-content:center;align-items:center;background:#fff}@media (max-width: 768){.modal[_ngcontent-%COMP%]{width:60%;left:20%;top:40%}}"]}),t})(),WZ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Wn({type:t,selectors:[["app-full-screen-loading"]],decls:2,vars:0,consts:[[1,"full_screen_loading_wrapper"],[1,"full_screen_loading"]],template:function(n,i){1&n&&(_e(0,"div",0),Ze(1,"div",1),be())},styles:['.full_screen_loading_wrapper[_ngcontent-%COMP%]{position:fixed;display:flex;align-items:center;justify-content:center;text-align:center;inset:0 0 0 180px}.full_screen_loading[_ngcontent-%COMP%]{display:inline-block;width:40px;height:40px}.full_screen_loading[_ngcontent-%COMP%]:after{content:" ";display:block;width:40px;height:40px;margin:4px;border-radius:50%;border:5px solid var(--orange);border-color:var(--orange) transparent var(--orange) transparent;animation:_ngcontent-%COMP%_spinner 1.2s linear infinite}@keyframes _ngcontent-%COMP%_spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']}),t})();function Zve(t,e){1&t&&Ze(0,"app-full-screen-loading")}const Jve=function(){return["/notes"]},Xve=function(){return["success"]};function e0e(t,e){if(1&t){const n=ui();_e(0,"div",2)(1,"div",3)(2,"p"),qe(3,"Create Your sticky note here"),be(),Ze(4,"app-button",4),be(),_e(5,"div",5)(6,"app-input",6),bt("inputValueChange",function(s){return yr(n),Tn(qt().noteTitle=s)}),be(),_e(7,"app-input",7),bt("inputValueChange",function(s){return yr(n),Tn(qt().color=s)}),be(),_e(8,"ckeditor",8),bt("ngModelChange",function(s){return yr(n),Tn(qt().data=s)})("change",function(s){return yr(n),Tn(qt().onChange(s))})("ready",function(s){return yr(n),Tn(qt().onReady(s))}),be()(),_e(9,"div",9)(10,"app-button",10),bt("btnClick",function(){return yr(n),Tn(qt().save())}),be(),_e(11,"app-button",11),bt("btnClick",function(){return yr(n),Tn(qt().handleModalShow())}),be()(),_e(12,"app-modal",12),bt("onYesClick",function(){return yr(n),Tn(qt().deleteNote())})("onNoClick",function(){return yr(n),Tn(qt().handleModalShow())}),be()()}if(2&t){const n=qt();Me(4),Ve("routerLink",Va(15,Jve)),Me(2),Ve("id","note_title")("inputValue",n.noteTitle),Me(1),Ve("id","note_title")("inputValue",n.color),Me(1),Ve("editor",n.editor)("ngModel",n.data)("config",n.editorConfig),Me(2),Ve("isLoading",n.isLoadingBtn)("id","btn_save")("btnType",Va(16,Xve)),Me(1),Ve("id","btn_remove"),Me(1),Ve("modalType","asking")("message",n.modalMessage)("showModal",n.showModal)}}let KZ=(()=>{class t{onReady(n){const i=n.ui.getEditableElement();i.parentElement.insertBefore(n.ui.view.toolbar.element,i)}constructor(n,i,s){this.router=n,this.firebaseService=i,this.noteService=s,this.isLoading=!1,this.isLoadingBtn=!1,this.showModal=!1,this.modalMessage="",this.editor=Sme(),this.noteTitle="",this.color="#d82262",this.date=(new Date).toDateString(),this.editorConfig={toolbar:{items:["undo","redo","|","heading","|","fontfamily","fontSize","fontColor","fontBackgroundColor","|","bold","italic","strikethrough","subscript","superscript","code","|","link","uploadImage","blockQuote","codeBlock","|","alignment","|","bulletedList","numberedList","todoList","outdent","indent"],shouldNotGroupWhenFull:!0}};var c=n.url.split("/"),d=c[c.length-1],p=localStorage.getItem("userId")||"";console.log(d),console.log(p),this.router.url.includes("/edit-note")&&(this.isLoading=!0,this.firebaseService.getNoteByNoteId(d).then(m=>{console.log(m);const y=m.data();this.color=y.color,this.data=y.data,this.noteTitle=y.title,this.id=d,this.isLoading=!1}))}onChange({editor:n}){this.data=n.data.get(),console.log(this.data)}save(){this.isLoading=!0;const n={id:this.id,color:this.color,createdAt:new Date,data:this.data||"",lastUpdate:new Date,title:this.noteTitle,userId:localStorage.getItem("userId")||"",enable:!0};this.router.url.includes("/edit-note")&&this.id?this.noteService.updateNote(n).then(i=>{this.router.navigate(["/notes"])}):this.noteService.addNote(n).then(i=>{this.router.navigate(["/notes"])})}deleteNote(){this.id&&(this.noteService.moveToTrash(this.id),this.router.navigate(["/notes"]))}handleModalShow(){this.showModal=!this.showModal,console.log("click removed")}}return t.\u0275fac=function(n){return new(n||t)(ie(Fr),ie(aC),ie(cC))},t.\u0275cmp=Wn({type:t,selectors:[["app-note-editor"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","note_editor full_width slideInRight",4,"ngIf"],[1,"note_editor","full_width","slideInRight"],[1,"note_editor_header","flex","align_items_center"],["icon","bi bi-arrow-return-left",3,"routerLink"],[1,"note_editor_container"],["placeholder","enter the title","label","Title","fontSize","18px",3,"id","inputValue","inputValueChange"],["placeholder","choose a color","label","Color","fontSize","18px","inputType","color",3,"id","inputValue","inputValueChange"],["data","<p>Hello, world!</p>",3,"editor","ngModel","config","ngModelChange","change","ready"],[1,"btn_container"],["text","save","icon","bi bi-sd-card-fill",3,"isLoading","id","btnType","btnClick"],["text","remove","icon","bi bi-trash-fill",3,"id","btnClick"],[3,"modalType","message","showModal","onYesClick","onNoClick"]],template:function(n,i){1&n&&(Qt(0,Zve,1,0,"app-full-screen-loading",0),Qt(1,e0e,13,17,"div",1)),2&n&&(Ve("ngIf",i.isLoading),Me(1),Ve("ngIf",!i.isLoading))},dependencies:[Xs,qc,jj,ZM,Gve,lC,JM,Yve,WZ],styles:[".note_editor_header[_ngcontent-%COMP%]{justify-content:space-between;padding:20px;font-size:1.5rem;font-weight:900}.note_editor_container[_ngcontent-%COMP%]{background-color:#fff}#note_title[_ngcontent-%COMP%]{font-size:20px}.tools[_ngcontent-%COMP%]{display:flex;font-size:18px}.tools[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-radius:2px;padding:3px;background-color:#ddd;margin:4px;text-align:center;color:var(--i);transition:all .2s ease}.tools[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-left:10px}.tools[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{box-shadow:0 0 1px 2px #ddd}textarea[_ngcontent-%COMP%]{background-color:#ddd;font-size:14px;padding:20px;height:300px}.btn_container[_ngcontent-%COMP%]{display:flex}"]}),t})();let i2=(()=>{class t{constructor(){this.isLoggedIn=null!=localStorage.getItem("accessToken")}setLoggedIn(n){this.isLoggedIn=n}getIsLoggedIn(){return this.isLoggedIn}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function t0e(t,e){if(1&t&&(_e(0,"label",11),qe(1),be()),2&t){const n=qt();Me(1),Oi(n.emailErrorMessage)}}function n0e(t,e){if(1&t&&(_e(0,"label",11),qe(1),be()),2&t){const n=qt();Me(1),Oi(n.passwordErrorMessage)}}const QZ=function(){return["full_width"]};let r0e=(()=>{class t{constructor(n,i,s){this.authService=n,this.router=i,this.firebaseService=s,this.email="",this.password="",this.value="",this.isLoading=!1,this.isLoadingGoogle=!1}printInputs(){console.log(this.password,this.email)}loginWithEmailAndPassword(){this.isLoading=!0,this.emailErrorMessage=this.passwordErrorMessage="",this.firebaseService.signInWithEmailAndPassword(this.email,this.password).then(n=>{localStorage.setItem("accessToken",n.user.refreshToken),localStorage.setItem("refreshToken",n.user.refreshToken),localStorage.setItem("userId",n.user.uid),this.firebaseService.getUserInfo(n.user.uid).then(i=>{const s=i.docs[0].data();localStorage.setItem("keepNotesUserName",s.name),localStorage.setItem("keepNotesLastName",s.lastName),this.router.navigate(["/"])}),this.authService.setLoggedIn(!0)}).catch(n=>{this.isLoading=!1;const i=(""+n.message).substring(n.message.indexOf("(")+1,n.message.indexOf(")"));console.log(n.message),i.includes("email")?this.emailErrorMessage=i:this.passwordErrorMessage=i})}loginWithGoogle(){this.isLoadingGoogle=!0,this.firebaseService.signInWithGoogle().then(n=>{console.log(n),this.isLoadingGoogle=!1,this.authService.setLoggedIn(!0),localStorage.setItem("keepNotesUserName",n.user.displayName),localStorage.setItem("userId",n.user.uid);const i={authGeneratedId:n.user.uid,email:n.user.email,imageUrl:n.user.photoURL,joinedDate:new Date,lastName:n.user.displayName,name:n.user.displayName,password:null};this.router.navigate(["/"]),this.firebaseService.addUserInfo(i)}).catch(n=>{this.isLoadingGoogle=!1,console.log(n)})}}return t.\u0275fac=function(n){return new(n||t)(ie(i2),ie(Fr),ie(aC))},t.\u0275cmp=Wn({type:t,selectors:[["app-login"]],decls:14,vars:12,consts:[[1,"login_container"],[1,"brand_image"],["src","./assets/header/keep-notes-logo.png","alt",""],["id","login_page_title"],[1,"loginform"],["id","email","inputType","text","placeholder","email","label","Email","color","#fff",3,"inputValue","inputValueChange"],["class","input_error_message",4,"ngIf"],["id","password","inputType","password","placeholder","password","label","Password","color","#fff",3,"inputValue","inputValueChange"],["text","Login",3,"id","btnType","isLoading","btnClick"],["text","Login with Google",3,"isLoading","id","btnType","btnClick"],["routerLink","/signup",1,"link_to_switch_page"],[1,"input_error_message"]],template:function(n,i){1&n&&(_e(0,"div",0)(1,"div",1),Ze(2,"img",2),be(),_e(3,"h2",3),qe(4,"Sign in"),be(),_e(5,"div",4)(6,"app-input",5),bt("inputValueChange",function(c){return i.email=c}),be(),Qt(7,t0e,2,1,"label",6),_e(8,"app-input",7),bt("inputValueChange",function(c){return i.password=c}),be(),Qt(9,n0e,2,1,"label",6),_e(10,"app-button",8),bt("btnClick",function(){return i.loginWithEmailAndPassword()}),be(),_e(11,"app-button",9),bt("btnClick",function(){return i.loginWithGoogle()}),be(),_e(12,"a",10),qe(13,"Don't you have account?"),be()()()),2&n&&(Me(6),Ve("inputValue",i.email),Me(1),Ve("ngIf",i.emailErrorMessage),Me(1),Ve("inputValue",i.password),Me(1),Ve("ngIf",i.passwordErrorMessage),Me(1),Ve("id","login_submit")("btnType",Va(10,QZ))("isLoading",i.isLoading),Me(1),Ve("isLoading",i.isLoadingGoogle)("id","login_submit")("btnType",Va(11,QZ)))},dependencies:[Xs,qc,lC,JM],styles:[".login_container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;position:fixed;inset:0;z-index:10000;background-image:url(rere.f6450be4c0ca6299.jpg);background-repeat:no-repeat;background-size:cover;background-color:#e485af}.brand_image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:-100px;width:140px}.loginform[_ngcontent-%COMP%]{width:300px}.link_to_switch_page[_ngcontent-%COMP%]{color:#fff;font-weight:400;text-align:center;margin-left:60px}#login_page_title[_ngcontent-%COMP%]{color:#fff;font-size:32px}"]}),t})();function i0e(t,e){if(1&t&&(_e(0,"label",12),qe(1),be()),2&t){const n=qt();Me(1),Oi(n.emailErrorMessage)}}function o0e(t,e){if(1&t&&(_e(0,"label",12),qe(1),be()),2&t){const n=qt();Me(1),Oi(n.passwordErrorMessage)}}const s0e=function(){return["full_width"]};let a0e=(()=>{class t{constructor(n,i,s){this.router=n,this.firebaseService=i,this.authService=s,this.name="",this.lastName="",this.email="",this.password="",this.value="",this.isLoading=!1}signUpWithEmailAndPassword(){this.isLoading=!0,this.emailErrorMessage=this.passwordErrorMessage="",this.firebaseService.signUpWithEmailAndPassword(this.email,this.password).then(n=>{console.log(n),localStorage.setItem("keepNotesUserName",this.name),localStorage.setItem("keepNotesLastName",this.lastName),localStorage.setItem("accessToken",n.user.refreshToken),localStorage.setItem("refreshToken",n.user.refreshToken),localStorage.setItem("userId",n.user.uid),this.firebaseService.addUserInfo({name:this.name,lastName:this.lastName,password:this.password,authGeneratedId:n.user.uid,email:this.email,imageUrl:"",joinedDate:new Date}).then(i=>{this.authService.setLoggedIn(!0),this.router.navigate(["/"])})}).catch(n=>{this.isLoading=!1;const i=(""+n.message).substring(n.message.indexOf("(")+1,n.message.indexOf(")"));console.log(n.message),i.includes("email")?this.emailErrorMessage=i:this.passwordErrorMessage=i})}}return t.\u0275fac=function(n){return new(n||t)(ie(Fr),ie(aC),ie(i2))},t.\u0275cmp=Wn({type:t,selectors:[["app-signup"]],decls:15,vars:10,consts:[[1,"login_container"],[1,"brand_image"],["src","./assets/header/keep-notes-logo.png","alt",""],["id","login_page_title"],[1,"loginform"],["id","name","inputType","text","placeholder","name","label","Name","color","#fff",3,"inputValue","inputValueChange"],["id","lastName","inputType","text","placeholder","last name","label","Last name","color","#fff",3,"inputValue","inputValueChange"],["id","email","inputType","text","placeholder","email","label","Email","color","#fff",3,"inputValue","inputValueChange"],["class","input_error_message",4,"ngIf"],["id","password","inputType","password","placeholder","password","label","Password","color","#fff",3,"inputValue","inputValueChange"],["text","Signup",3,"isLoading","id","btnType","btnClick"],["routerLink","/login",1,"link_to_switch_page"],[1,"input_error_message"]],template:function(n,i){1&n&&(_e(0,"div",0)(1,"div",1),Ze(2,"img",2),be(),_e(3,"h3",3),qe(4,"Sign up"),be(),_e(5,"div",4)(6,"app-input",5),bt("inputValueChange",function(c){return i.name=c}),be(),_e(7,"app-input",6),bt("inputValueChange",function(c){return i.lastName=c}),be(),_e(8,"app-input",7),bt("inputValueChange",function(c){return i.email=c}),be(),Qt(9,i0e,2,1,"label",8),_e(10,"app-input",9),bt("inputValueChange",function(c){return i.password=c}),be(),Qt(11,o0e,2,1,"label",8),_e(12,"app-button",10),bt("btnClick",function(){return i.signUpWithEmailAndPassword()}),be(),_e(13,"a",11),qe(14,"Already have account?"),be()()()),2&n&&(Me(6),Ve("inputValue",i.name),Me(1),Ve("inputValue",i.lastName),Me(1),Ve("inputValue",i.email),Me(1),Ve("ngIf",i.emailErrorMessage),Me(1),Ve("inputValue",i.password),Me(1),Ve("ngIf",i.passwordErrorMessage),Me(1),Ve("isLoading",i.isLoading)("id","login_submit")("btnType",Va(9,s0e)))},dependencies:[Xs,qc,lC,JM],styles:[".login_container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;position:fixed;inset:0;z-index:10000;background-image:url(rere.f6450be4c0ca6299.jpg);background-repeat:no-repeat;background-size:cover;background-color:#e485af}.brand_image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:-50px;width:140px}.loginform[_ngcontent-%COMP%]{width:300px}.link_to_switch_page[_ngcontent-%COMP%]{color:#fff;font-weight:400;text-align:center;margin-left:60px}#login_page_title[_ngcontent-%COMP%]{color:#fff;font-size:32px}"]}),t})();const yC=()=>{const t=me(i2),e=me(Fr);return!!t.isLoggedIn||"/signup"!=e.url&&"/login"!=e.url&&e.parseUrl("/login")};function c0e(t,e){1&t&&Ze(0,"app-full-screen-loading")}function l0e(t,e){if(1&t&&Ze(0,"app-note",5),2&t){const n=e.$implicit;Ve("color",n.color)("data",n.data)("title",n.title)("lastUpdate",n.lastUpdate)("createdAt",n.createdAt)("enable",n.enable)("userId",n.userId)("id",n.id)}}function u0e(t,e){if(1&t&&(_e(0,"h3"),qe(1),be()),2&t){const n=qt();Me(1),Oi(n.emptyMessage)}}let d0e=(()=>{class t{constructor(n,i){this.state=n,this.noteService=i,this.allNotes=[],this.isLoading=!0}ngOnInit(){this.state.select(Q8).subscribe(n=>{this.isLoading=this.noteService.isLoading,this.allNotes=n}),this.state.select(rie).subscribe(n=>{this.emptyMessage=n})}}return t.\u0275fac=function(n){return new(n||t)(ie(vu),ie(cC))},t.\u0275cmp=Wn({type:t,selectors:[["app-trash"]],decls:7,vars:3,consts:[["id","trash"],[1,"notes_title","notes_header"],[1,"notes_container","flex","justify_content_center","align_items_center"],[4,"ngIf"],[3,"color","data","title","lastUpdate","createdAt","enable","userId","id",4,"ngFor","ngForOf"],[3,"color","data","title","lastUpdate","createdAt","enable","userId","id"]],template:function(n,i){1&n&&(_e(0,"div",0)(1,"div",1),qe(2,"Trash:"),be(),_e(3,"div",2),Qt(4,c0e,1,0,"app-full-screen-loading",3),Qt(5,l0e,1,8,"app-note",4),Qt(6,u0e,2,1,"h3",3),be()()),2&n&&(Me(4),Ve("ngIf",i.isLoading),Me(1),Ve("ngForOf",i.allNotes),Me(1),Ve("ngIf",i.emptyMessage))},dependencies:[gx,Xs,i6,WZ],styles:["#trash[_ngcontent-%COMP%]{width:100%}.notes_container[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-flow:wrap}.notes_header[_ngcontent-%COMP%]{padding:20px;display:flex;font-size:1.5rem;font-weight:900;justify-content:space-between}"]}),t})();const h0e=[{path:"",component:Tme,title:"Keep Notes",pathMatch:"full",canActivate:[yC]},{path:"notes",component:vme,title:"Notes",pathMatch:"full",canActivate:[yC]},{path:"notes/add-note",title:"Add note",component:KZ,canActivate:[yC]},{path:"notes/edit-note/:id",title:"Edit note",component:KZ,pathMatch:"full",canActivate:[yC]},{path:"trash",title:"Trash",component:d0e,pathMatch:"full",canActivate:[yC]},{path:"login",title:"keep notes login page",component:r0e},{path:"signup",component:a0e},{path:"spinner",component:o6},{path:"**",component:Cme}];let f0e=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=xr({type:t}),t.\u0275inj=mr({imports:[UL.forRoot(h0e),UL]}),t})(),p0e=(()=>{class t{constructor(n,i){this.router=n,this.firebaseService=i;let s=window.location.pathname;console.log(s),s.includes("notes")||s.includes("notes/edit-note/:id")||s.includes("notes/add-note")?this.number=1:s.includes("/")&&(this.number=0)}ngOnInit(){this.router.events.subscribe(n=>{n instanceof yu&&(this.activePath=n.url)})}logout(){this.firebaseService.logOut()}}return t.\u0275fac=function(n){return new(n||t)(ie(Fr),ie(aC))},t.\u0275cmp=Wn({type:t,selectors:[["app-sidebar"]],decls:29,vars:13,consts:[[1,"sidebar_container"],[1,"navigation"],[1,"brand_name"],["routerLink","/","src","./assets/header/keep-notes-logo.png",1,"brand_img"],["routerLink","/"],[1,"bi","bi-house-fill"],["routerLink","/notes"],[1,"bi","bi-stickies-fill"],["routerLink","/notifications"],[1,"bi","bi-bell-fill"],["routerLink","/archives"],[1,"bi","bi-archive-fill"],["routerLink","/trash"],[1,"bi","bi-trash-fill"],["routerLink","/settings"],[1,"bi","bi-gear-fill"],[3,"text","btnClick"]],template:function(n,i){1&n&&(_e(0,"div",0)(1,"nav",1)(2,"div",2),Ze(3,"img",3),_e(4,"h1",4)(5,"strong"),qe(6,"Keep"),be(),_e(7,"strong"),qe(8," Notes"),be()()(),_e(9,"ul")(10,"li",4),Ze(11,"i",5),qe(12,"Home"),be(),_e(13,"li",6),Ze(14,"i",7),qe(15,"Notes "),be(),_e(16,"li",8),Ze(17,"i",9),qe(18,"Reminders"),be(),_e(19,"li",10),Ze(20,"i",11),qe(21,"Archives "),be(),_e(22,"li",12),Ze(23,"i",13),qe(24,"Trash"),be(),_e(25,"li",14),Ze(26,"i",15),qe(27,"Settings "),be()(),_e(28,"app-button",16),bt("btnClick",function(){return i.logout()}),be()()()),2&n&&(Me(10),zo("active","/"===i.activePath),Me(3),zo("active","/notes"===i.activePath),Me(3),zo("active","/notifications"===i.activePath),Me(3),zo("active","/archive"===i.activePath),Me(3),zo("active","/trash"===i.activePath),Me(3),zo("active","/settings"===i.activePath),Me(3),Ve("text","Logout"))},dependencies:[qc,lC],styles:[".sidebar_container[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-start;height:100vh;width:180px;background-color:var(--orange_dark);padding-top:20px;box-sizing:border-box;position:fixed;left:0;bottom:0}.sidebar_container[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   .brand_name[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;color:#fff}.sidebar_container[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   .brand_name[_ngcontent-%COMP%]   .brand_img[_ngcontent-%COMP%]{width:70px}.sidebar_container[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   .brand_name[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.2rem}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{width:100%;margin-top:30px}.sidebar_container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;display:flex;justify-content:flex-start;align-items:center;color:#fff;font-weight:200;font-size:.9rem;font-weight:400;padding:5px 0 5px 30px;border:1px solid transparent;transition:all .2s ease-in-out;-webkit-user-select:none;user-select:none}.sidebar_container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}.sidebar_container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#fff;color:var(--orange_dark);border-color:#fff}ul[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{border-left:5px solid #fdbb4f!important;color:#fdbb4f!important;background-color:#fff}"]}),t})(),g0e=(()=>{class t{constructor(n,i){this.router=n,this.authService=i,this.title="Keep Notes",this.isLoggedIn=!1,this.isLoggedIn=i.isLoggedIn}onInit(){console.log(this.isLoggedIn," inf app comp"),this.isLoggedIn||this.router.navigate(["/login"])}}return t.\u0275fac=function(n){return new(n||t)(ie(Fr),ie(i2))},t.\u0275cmp=Wn({type:t,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"main"],[1,"component_container"]],template:function(n,i){1&n&&(_e(0,"div",0),Ze(1,"app-sidebar"),_e(2,"div",1),Ze(3,"router-outlet"),be()())},dependencies:[RL,p0e],styles:[".component_container[_ngcontent-%COMP%]{position:fixed;inset:0 0 0 180px;background-color:#fff;display:flex;overflow-y:scroll;box-sizing:border-box;padding:0 20px}"]}),t})();class o2{}class C6{}class tc{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(n=>{const i=n.indexOf(":");if(i>0){const s=n.slice(0,i),c=s.toLowerCase(),d=n.slice(i+1).trim();this.maybeSetNormalizedName(s,c),this.headers.has(c)?this.headers.get(c).push(d):this.headers.set(c,[d])}})}:()=>{this.headers=new Map,Object.entries(e).forEach(([n,i])=>{let s;if(s="string"==typeof i?[i]:"number"==typeof i?[i.toString()]:i.map(c=>c.toString()),s.length>0){const c=n.toLowerCase();this.headers.set(c,s),this.maybeSetNormalizedName(n,c)}})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof tc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new tc;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof tc?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,n);const s=("a"===e.op?this.headers.get(n):void 0)||[];s.push(...i),this.headers.set(n,s);break;case"d":const c=e.value;if(c){let d=this.headers.get(n);if(!d)return;d=d.filter(p=>-1===c.indexOf(p)),0===d.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,d)}else this.headers.delete(n),this.normalizedNames.delete(n)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class m0e{encodeKey(e){return YZ(e)}encodeValue(e){return YZ(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const b0e=/%(\d[a-f0-9])/gi,y0e={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function YZ(t){return encodeURIComponent(t).replace(b0e,(e,n)=>y0e[n]??e)}function s2(t){return`${t}`}class Yu{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new m0e,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function _0e(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(s=>{const c=s.indexOf("="),[d,p]=-1==c?[e.decodeKey(s),""]:[e.decodeKey(s.slice(0,c)),e.decodeValue(s.slice(c+1))],m=n.get(d)||[];m.push(p),n.set(d,m)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const i=e.fromObject[n],s=Array.isArray(i)?i.map(s2):[s2(i)];this.map.set(n,s)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(i=>{const s=e[i];Array.isArray(s)?s.forEach(c=>{n.push({param:i,value:c,op:"a"})}):n.push({param:i,value:s,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new Yu({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(s2(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const s=i.indexOf(s2(e.value));-1!==s&&i.splice(s,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class w0e{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function ZZ(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function JZ(t){return typeof Blob<"u"&&t instanceof Blob}function XZ(t){return typeof FormData<"u"&&t instanceof FormData}class wC{constructor(e,n,i,s){let c;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function k0e(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==i?i:null,c=s):c=i,c&&(this.reportProgress=!!c.reportProgress,this.withCredentials=!!c.withCredentials,c.responseType&&(this.responseType=c.responseType),c.headers&&(this.headers=c.headers),c.context&&(this.context=c.context),c.params&&(this.params=c.params)),this.headers||(this.headers=new tc),this.context||(this.context=new w0e),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=n;else{const p=n.indexOf("?");this.urlWithParams=n+(-1===p?"?":p<n.length-1?"&":"")+d}}else this.params=new Yu,this.urlWithParams=n}serializeBody(){return null===this.body?null:ZZ(this.body)||JZ(this.body)||XZ(this.body)||function v0e(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Yu?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||XZ(this.body)?null:JZ(this.body)?this.body.type||null:ZZ(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Yu?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const n=e.method||this.method,i=e.url||this.url,s=e.responseType||this.responseType,c=void 0!==e.body?e.body:this.body,d=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,p=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let m=e.headers||this.headers,y=e.params||this.params;const k=e.context??this.context;return void 0!==e.setHeaders&&(m=Object.keys(e.setHeaders).reduce((C,I)=>C.set(I,e.setHeaders[I]),m)),e.setParams&&(y=Object.keys(e.setParams).reduce((C,I)=>C.set(I,e.setParams[I]),y)),new wC(n,i,c,{params:y,headers:m,context:k,reportProgress:p,responseType:s,withCredentials:d})}}var Dr=(()=>((Dr=Dr||{})[Dr.Sent=0]="Sent",Dr[Dr.UploadProgress=1]="UploadProgress",Dr[Dr.ResponseHeader=2]="ResponseHeader",Dr[Dr.DownloadProgress=3]="DownloadProgress",Dr[Dr.Response=4]="Response",Dr[Dr.User=5]="User",Dr))();class A6{constructor(e,n=200,i="OK"){this.headers=e.headers||new tc,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class E6 extends A6{constructor(e={}){super(e),this.type=Dr.ResponseHeader}clone(e={}){return new E6({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class L_ extends A6{constructor(e={}){super(e),this.type=Dr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new L_({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class eJ extends A6{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function I6(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let C0e=(()=>{class t{constructor(n){this.handler=n}request(n,i,s={}){let c;if(n instanceof wC)c=n;else{let m,y;m=s.headers instanceof tc?s.headers:new tc(s.headers),s.params&&(y=s.params instanceof Yu?s.params:new Yu({fromObject:s.params})),c=new wC(n,i,void 0!==s.body?s.body:null,{headers:m,context:s.context,params:y,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const d=tt(c).pipe(wm(m=>this.handler.handle(m)));if(n instanceof wC||"events"===s.observe)return d;const p=d.pipe(Gc(m=>m instanceof L_));switch(s.observe||"body"){case"body":switch(c.responseType){case"arraybuffer":return p.pipe(_t(m=>{if(null!==m.body&&!(m.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return m.body}));case"blob":return p.pipe(_t(m=>{if(null!==m.body&&!(m.body instanceof Blob))throw new Error("Response is not a Blob.");return m.body}));case"text":return p.pipe(_t(m=>{if(null!==m.body&&"string"!=typeof m.body)throw new Error("Response is not a string.");return m.body}));default:return p.pipe(_t(m=>m.body))}case"response":return p;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(n,i={}){return this.request("DELETE",n,i)}get(n,i={}){return this.request("GET",n,i)}head(n,i={}){return this.request("HEAD",n,i)}jsonp(n,i){return this.request("JSONP",n,{params:(new Yu).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,i={}){return this.request("OPTIONS",n,i)}patch(n,i,s={}){return this.request("PATCH",n,I6(s,i))}post(n,i,s={}){return this.request("POST",n,I6(s,i))}put(n,i,s={}){return this.request("PUT",n,I6(s,i))}}return t.\u0275fac=function(n){return new(n||t)(we(o2))},t.\u0275prov=Ne({token:t,factory:t.\u0275fac}),t})();function tJ(t,e){return e(t)}function A0e(t,e){return(n,i)=>e.intercept(n,{handle:s=>t(s,i)})}const I0e=new fe(""),kC=new fe(""),nJ=new fe("");function D0e(){let t=null;return(e,n)=>(null===t&&(t=(me(I0e,{optional:!0})??[]).reduceRight(A0e,tJ)),t(e,n))}let rJ=(()=>{class t extends o2{constructor(n,i){super(),this.backend=n,this.injector=i,this.chain=null}handle(n){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(kC),...this.injector.get(nJ,[])]));this.chain=i.reduceRight((s,c)=>function E0e(t,e,n){return(i,s)=>n.runInContext(()=>e(i,c=>t(c,s)))}(s,c,this.injector),tJ)}return this.chain(n,i=>this.backend.handle(i))}}return t.\u0275fac=function(n){return new(n||t)(we(C6),we(ms))},t.\u0275prov=Ne({token:t,factory:t.\u0275fac}),t})();const M0e=/^\)\]\}',?\n/;let oJ=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");const i=this.xhrFactory;return(i.\u0275loadImpl?or(i.\u0275loadImpl()):tt(null)).pipe(Ba(()=>new un(c=>{const d=i.build();if(d.open(n.method,n.urlWithParams),n.withCredentials&&(d.withCredentials=!0),n.headers.forEach((U,te)=>d.setRequestHeader(U,te.join(","))),n.headers.has("Accept")||d.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const U=n.detectContentTypeHeader();null!==U&&d.setRequestHeader("Content-Type",U)}if(n.responseType){const U=n.responseType.toLowerCase();d.responseType="json"!==U?U:"text"}const p=n.serializeBody();let m=null;const y=()=>{if(null!==m)return m;const U=d.statusText||"OK",te=new tc(d.getAllResponseHeaders()),pe=function P0e(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(d)||n.url;return m=new E6({headers:te,status:d.status,statusText:U,url:pe}),m},k=()=>{let{headers:U,status:te,statusText:pe,url:Se}=y(),Ce=null;204!==te&&(Ce=typeof d.response>"u"?d.responseText:d.response),0===te&&(te=Ce?200:0);let At=te>=200&&te<300;if("json"===n.responseType&&"string"==typeof Ce){const Tr=Ce;Ce=Ce.replace(M0e,"");try{Ce=""!==Ce?JSON.parse(Ce):null}catch(nc){Ce=Tr,At&&(At=!1,Ce={error:nc,text:Ce})}}At?(c.next(new L_({body:Ce,headers:U,status:te,statusText:pe,url:Se||void 0})),c.complete()):c.error(new eJ({error:Ce,headers:U,status:te,statusText:pe,url:Se||void 0}))},C=U=>{const{url:te}=y(),pe=new eJ({error:U,status:d.status||0,statusText:d.statusText||"Unknown Error",url:te||void 0});c.error(pe)};let I=!1;const M=U=>{I||(c.next(y()),I=!0);let te={type:Dr.DownloadProgress,loaded:U.loaded};U.lengthComputable&&(te.total=U.total),"text"===n.responseType&&d.responseText&&(te.partialText=d.responseText),c.next(te)},O=U=>{let te={type:Dr.UploadProgress,loaded:U.loaded};U.lengthComputable&&(te.total=U.total),c.next(te)};let B;d.addEventListener("load",k),d.addEventListener("error",C),d.addEventListener("timeout",C),d.addEventListener("abort",C),n.reportProgress&&(d.addEventListener("progress",M),null!==p&&d.upload&&d.upload.addEventListener("progress",O));const j=()=>{B??=function N0e(){const t=setTimeout(()=>{},R0e);return()=>clearTimeout(t)}()},Z=()=>{B?.()};return d.addEventListener("loadstart",j),d.addEventListener("loadend",Z),d.send(p),c.next({type:Dr.Sent}),()=>{d.removeEventListener("loadstart",j),d.removeEventListener("loadend",Z),d.removeEventListener("error",C),d.removeEventListener("abort",C),d.removeEventListener("load",k),d.removeEventListener("timeout",C),B?.(),n.reportProgress&&(d.removeEventListener("progress",M),null!==p&&d.upload&&d.upload.removeEventListener("progress",O)),d.readyState!==d.DONE&&d.abort()}})))}}return t.\u0275fac=function(n){return new(n||t)(we(D9))},t.\u0275prov=Ne({token:t,factory:t.\u0275fac}),t})();const R0e=2147483647,D6=new fe("XSRF_ENABLED"),sJ=new fe("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),aJ=new fe("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class cJ{}let V0e=(()=>{class t{constructor(n,i,s){this.doc=n,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=g9(n,this.cookieName),this.lastCookieString=n),this.lastToken}}return t.\u0275fac=function(n){return new(n||t)(we(eo),we(Ws),we(sJ))},t.\u0275prov=Ne({token:t,factory:t.\u0275fac}),t})();function F0e(t,e){const n=t.url.toLowerCase();if(!me(D6)||"GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e(t);const i=me(cJ).getToken(),s=me(aJ);return null!=i&&!t.headers.has(s)&&(t=t.clone({headers:t.headers.set(s,i)})),e(t)}var pr=(()=>((pr=pr||{})[pr.Interceptors=0]="Interceptors",pr[pr.LegacyInterceptors=1]="LegacyInterceptors",pr[pr.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",pr[pr.NoXsrfProtection=3]="NoXsrfProtection",pr[pr.JsonpSupport=4]="JsonpSupport",pr[pr.RequestsMadeViaParent=5]="RequestsMadeViaParent",pr))();function V_(t,e){return{\u0275kind:t,\u0275providers:e}}function B0e(...t){const e=[C0e,oJ,rJ,{provide:o2,useExisting:rJ},{provide:C6,useExisting:oJ},{provide:kC,useValue:F0e,multi:!0},{provide:D6,useValue:!0},{provide:cJ,useClass:V0e}];for(const n of t)e.push(...n.\u0275providers);return function yy(t){return{\u0275providers:t}}(e)}const lJ=new fe("LEGACY_INTERCEPTOR_FN");let j0e=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=xr({type:t}),t.\u0275inj=mr({providers:[B0e(V_(pr.LegacyInterceptors,[{provide:lJ,useFactory:D0e},{provide:kC,useExisting:lJ,multi:!0}]))]}),t})(),W0e=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=xr({type:t,bootstrap:[g0e]}),t.\u0275inj=mr({imports:[oee,f0e,QY,UL,qve,j0e,j8.forRoot({},{}),j8.forRoot({state:K8})]}),t})();ree().bootstrapModule(W0e).catch(t=>console.error(t))}},bi=>{bi(bi.s=886)}]);